var bI=Object.defineProperty;var kI=(t,e,r)=>e in t?bI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var c=(t,e,r)=>(kI(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const _p=0,oi=1,pp=2;function En(t,...e){console.log(...e)}function mc(t,...e){console.log(...e)}function TI(t,e,...r){e&&console.log(r)}function gt(...t){throw t.length&&console.error(...t),new Error("not reached")}function $e(...t){throw t.length&&console.error(...t),new Error("not implemented")}function wx(t){return typeof t>"u"}function rn(t){return wx(t)||t===null}const ki=t=>typeof t=="string",Sx=t=>typeof t=="number",nf=t=>typeof t=="function",Wp=t=>t!==null&&typeof t=="object",CI=Array.isArray;function tu(t){return wx(t)||t===null}function Os(t){if(tu(t))throw new Error("Assertion Failed: argument is undefined or null");return t}function zi(t){if(tu(t))throw new Error("Assertion Failed: argument is undefined or null")}function PI(t){if(!(t instanceof Error))throw t}function DI(t,e){let r=t.length;if(r===0)return-1;for(let n=0;n<r;n++)if(e(t[n]))return n;return-1}function aS(t){return t.filter(e=>!!e)}function RI(t,e){if(!e)return t.filter((n,s)=>t.indexOf(n)===s);const r=Object.create(null);return t.filter(n=>{const s=e(n);return r[s]?!1:(r[s]=!0,!0)})}function lS(t,e,r=(n,s)=>n===s){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0,s=t.length;n<s;n++)if(!r(t[n],e[n]))return!1;return!0}function io(t,e=0){return t[t.length-(1+e)]}function OI(t,e){return t.push(e),()=>BI(t,e)}function BI(t,e){const r=t.indexOf(e);if(r>-1)return t.splice(r,1),e}function NI(t,e){return lS(t,e,(r,n)=>r===n)}let $p;const eE="__$$diMap";if(Reflect.has(globalThis,eE))$p=Reflect.get(globalThis,eE);else{const t=new Map;$p=t,Reflect.set(globalThis,eE,t)}let gp;const tE="__$$idMap";if(Reflect.has(globalThis,tE))gp=Reflect.get(globalThis,tE);else{const t=new Map;gp=t,Reflect.set(globalThis,tE,t)}function fT(t){const e=t.name;return $p.get(e)||[]}const Po=Kn("instantiationService");function FI(t,e,r,n){const s=e.name,i=$p.get(s);rn(i)?$p.set(s,[{id:t,index:r,optional:n}]):DI(i,a=>a.id.toString()===t.toString())===-1&&i.push({id:t,index:r,optional:n})}function Kn(t){if(gp.has(t))return gp.get(t);const e=function(r,n,s){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");FI(e,r,s,!1)};return e.toString=function(){return t},Reflect.set(e,"__brand",t),gp.set(t,e),e}Kn("IGenericRegistry");class II{constructor(){c(this,"map",new Map);c(this,"aliases",new Map)}add(e){const r=e.id;this.map.has(r)&&(En(oi,"DUPLICATED"),$e()),this.map.set(r,e)}remove(e){this.map.delete(e)}has(e){let r=this.map.has(e);if(!r){let n=this.aliases.get(e);r=!!n&&this.map.has(n)}return r}value(e){let r=this.map.get(e);if(!r){let n=this.aliases.get(e);n&&(r=this.map.get(n))}return r}addAlias(e,r){this.map.has(e)&&$e(),this.aliases.set(e,r)}removeAlias(e){this.aliases.delete(e)}values(){return Array.from(this.map.values())}}const Dm="en";let bx=!1,kx=!1,Rm=!1,uS=!1,MR=!1,Wg,Om=Dm,MI,Yl;const Pn=typeof self=="object"?self:typeof global=="object"?global:{};let yn;typeof Pn.vscode<"u"&&typeof Pn.vscode.process<"u"?yn=Pn.vscode.process:typeof process<"u"&&(yn=process);var IR;const LI=typeof((IR=yn==null?void 0:yn.versions)==null?void 0:IR.electron)=="string",LR=LI&&(yn==null?void 0:yn.type)==="renderer";LR&&(yn==null||yn.sandboxed);if(typeof navigator=="object"&&!LR)Yl=navigator.userAgent,bx=Yl.indexOf("Windows")>=0,kx=Yl.indexOf("Macintosh")>=0,MR=(Yl.indexOf("Macintosh")>=0||Yl.indexOf("iPad")>=0||Yl.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Rm=Yl.indexOf("Linux")>=0,uS=!0,Wg=navigator.language,Om=Wg;else if(typeof yn=="object"){bx=yn.platform==="win32",kx=yn.platform==="darwin",Rm=yn.platform==="linux",Rm&&!!yn.env.SNAP&&yn.env.SNAP_REVISION,yn.env.CI||yn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Wg=Dm,Om=Dm;const t=yn.env.VSCODE_NLS_CONFIG;if(t)try{const e=JSON.parse(t),r=e.availableLanguages["*"];Wg=e.locale,Om=r||Dm,MI=e._translationsConfigFile}catch{}}else console.error("Unable to resolve platform.");const M0=bx,L0=kx,UI=Rm,UR=uS;uS&&Pn.importScripts;const ma=Yl,jl=Om;var _T;(t=>{function e(){return jl}t.value=e;function r(){return jl.length===2?jl==="en":jl.length>=3?jl[0]==="e"&&jl[1]==="n"&&jl[2]==="-":!1}t.isDefaultVariant=r;function n(){return jl==="en"}t.isDefault=n})(_T||(_T={}));(()=>{if(typeof Pn.postMessage=="function"&&!Pn.importScripts){const t=[];Pn.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,s=t.length;n<s;n++){const i=t[n];if(i.id===r.data.vscodeScheduleAsyncWork){t.splice(n,1),i.callback();return}}});let e=0;return r=>{const n=++e;t.push({id:n,callback:r}),Pn.postMessage({vscodeScheduleAsyncWork:n},"*")}}return t=>setTimeout(t)})();var iA=(t=>(t[t.Windows=1]="Windows",t[t.Macintosh=2]="Macintosh",t[t.Linux=3]="Linux",t))(iA||{});const GI=kx||MR?2:bx?1:3,GR=!!(ma&&ma.indexOf("Chrome")>=0),HI=!!(ma&&ma.indexOf("Firefox")>=0),jI=!!(!GR&&ma&&ma.indexOf("Safari")>=0),VI=!!(ma&&ma.indexOf("Edg/")>=0);ma&&ma.indexOf("Android")>=0;var kt=(t=>(t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.DoubleQuote=34]="DoubleQuote",t[t.Hash=35]="Hash",t[t.DollarSign=36]="DollarSign",t[t.PercentSign=37]="PercentSign",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Dash=45]="Dash",t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Colon=58]="Colon",t[t.Semicolon=59]="Semicolon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.QuestionMark=63]="QuestionMark",t[t.AtSign=64]="AtSign",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.OpenSquareBracket=91]="OpenSquareBracket",t[t.Backslash=92]="Backslash",t[t.CloseSquareBracket=93]="CloseSquareBracket",t[t.Caret=94]="Caret",t[t.Underline=95]="Underline",t[t.BackTick=96]="BackTick",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.OpenCurlyBrace=123]="OpenCurlyBrace",t[t.Pipe=124]="Pipe",t[t.CloseCurlyBrace=125]="CloseCurlyBrace",t[t.Tilde=126]="Tilde",t[t.U_Combining_Grave_Accent=768]="U_Combining_Grave_Accent",t[t.U_Combining_Acute_Accent=769]="U_Combining_Acute_Accent",t[t.U_Combining_Circumflex_Accent=770]="U_Combining_Circumflex_Accent",t[t.U_Combining_Tilde=771]="U_Combining_Tilde",t[t.U_Combining_Macron=772]="U_Combining_Macron",t[t.U_Combining_Overline=773]="U_Combining_Overline",t[t.U_Combining_Breve=774]="U_Combining_Breve",t[t.U_Combining_Dot_Above=775]="U_Combining_Dot_Above",t[t.U_Combining_Diaeresis=776]="U_Combining_Diaeresis",t[t.U_Combining_Hook_Above=777]="U_Combining_Hook_Above",t[t.U_Combining_Ring_Above=778]="U_Combining_Ring_Above",t[t.U_Combining_Double_Acute_Accent=779]="U_Combining_Double_Acute_Accent",t[t.U_Combining_Caron=780]="U_Combining_Caron",t[t.U_Combining_Vertical_Line_Above=781]="U_Combining_Vertical_Line_Above",t[t.U_Combining_Double_Vertical_Line_Above=782]="U_Combining_Double_Vertical_Line_Above",t[t.U_Combining_Double_Grave_Accent=783]="U_Combining_Double_Grave_Accent",t[t.U_Combining_Candrabindu=784]="U_Combining_Candrabindu",t[t.U_Combining_Inverted_Breve=785]="U_Combining_Inverted_Breve",t[t.U_Combining_Turned_Comma_Above=786]="U_Combining_Turned_Comma_Above",t[t.U_Combining_Comma_Above=787]="U_Combining_Comma_Above",t[t.U_Combining_Reversed_Comma_Above=788]="U_Combining_Reversed_Comma_Above",t[t.U_Combining_Comma_Above_Right=789]="U_Combining_Comma_Above_Right",t[t.U_Combining_Grave_Accent_Below=790]="U_Combining_Grave_Accent_Below",t[t.U_Combining_Acute_Accent_Below=791]="U_Combining_Acute_Accent_Below",t[t.U_Combining_Left_Tack_Below=792]="U_Combining_Left_Tack_Below",t[t.U_Combining_Right_Tack_Below=793]="U_Combining_Right_Tack_Below",t[t.U_Combining_Left_Angle_Above=794]="U_Combining_Left_Angle_Above",t[t.U_Combining_Horn=795]="U_Combining_Horn",t[t.U_Combining_Left_Half_Ring_Below=796]="U_Combining_Left_Half_Ring_Below",t[t.U_Combining_Up_Tack_Below=797]="U_Combining_Up_Tack_Below",t[t.U_Combining_Down_Tack_Below=798]="U_Combining_Down_Tack_Below",t[t.U_Combining_Plus_Sign_Below=799]="U_Combining_Plus_Sign_Below",t[t.U_Combining_Minus_Sign_Below=800]="U_Combining_Minus_Sign_Below",t[t.U_Combining_Palatalized_Hook_Below=801]="U_Combining_Palatalized_Hook_Below",t[t.U_Combining_Retroflex_Hook_Below=802]="U_Combining_Retroflex_Hook_Below",t[t.U_Combining_Dot_Below=803]="U_Combining_Dot_Below",t[t.U_Combining_Diaeresis_Below=804]="U_Combining_Diaeresis_Below",t[t.U_Combining_Ring_Below=805]="U_Combining_Ring_Below",t[t.U_Combining_Comma_Below=806]="U_Combining_Comma_Below",t[t.U_Combining_Cedilla=807]="U_Combining_Cedilla",t[t.U_Combining_Ogonek=808]="U_Combining_Ogonek",t[t.U_Combining_Vertical_Line_Below=809]="U_Combining_Vertical_Line_Below",t[t.U_Combining_Bridge_Below=810]="U_Combining_Bridge_Below",t[t.U_Combining_Inverted_Double_Arch_Below=811]="U_Combining_Inverted_Double_Arch_Below",t[t.U_Combining_Caron_Below=812]="U_Combining_Caron_Below",t[t.U_Combining_Circumflex_Accent_Below=813]="U_Combining_Circumflex_Accent_Below",t[t.U_Combining_Breve_Below=814]="U_Combining_Breve_Below",t[t.U_Combining_Inverted_Breve_Below=815]="U_Combining_Inverted_Breve_Below",t[t.U_Combining_Tilde_Below=816]="U_Combining_Tilde_Below",t[t.U_Combining_Macron_Below=817]="U_Combining_Macron_Below",t[t.U_Combining_Low_Line=818]="U_Combining_Low_Line",t[t.U_Combining_Double_Low_Line=819]="U_Combining_Double_Low_Line",t[t.U_Combining_Tilde_Overlay=820]="U_Combining_Tilde_Overlay",t[t.U_Combining_Short_Stroke_Overlay=821]="U_Combining_Short_Stroke_Overlay",t[t.U_Combining_Long_Stroke_Overlay=822]="U_Combining_Long_Stroke_Overlay",t[t.U_Combining_Short_Solidus_Overlay=823]="U_Combining_Short_Solidus_Overlay",t[t.U_Combining_Long_Solidus_Overlay=824]="U_Combining_Long_Solidus_Overlay",t[t.U_Combining_Right_Half_Ring_Below=825]="U_Combining_Right_Half_Ring_Below",t[t.U_Combining_Inverted_Bridge_Below=826]="U_Combining_Inverted_Bridge_Below",t[t.U_Combining_Square_Below=827]="U_Combining_Square_Below",t[t.U_Combining_Seagull_Below=828]="U_Combining_Seagull_Below",t[t.U_Combining_X_Above=829]="U_Combining_X_Above",t[t.U_Combining_Vertical_Tilde=830]="U_Combining_Vertical_Tilde",t[t.U_Combining_Double_Overline=831]="U_Combining_Double_Overline",t[t.U_Combining_Grave_Tone_Mark=832]="U_Combining_Grave_Tone_Mark",t[t.U_Combining_Acute_Tone_Mark=833]="U_Combining_Acute_Tone_Mark",t[t.U_Combining_Greek_Perispomeni=834]="U_Combining_Greek_Perispomeni",t[t.U_Combining_Greek_Koronis=835]="U_Combining_Greek_Koronis",t[t.U_Combining_Greek_Dialytika_Tonos=836]="U_Combining_Greek_Dialytika_Tonos",t[t.U_Combining_Greek_Ypogegrammeni=837]="U_Combining_Greek_Ypogegrammeni",t[t.U_Combining_Bridge_Above=838]="U_Combining_Bridge_Above",t[t.U_Combining_Equals_Sign_Below=839]="U_Combining_Equals_Sign_Below",t[t.U_Combining_Double_Vertical_Line_Below=840]="U_Combining_Double_Vertical_Line_Below",t[t.U_Combining_Left_Angle_Below=841]="U_Combining_Left_Angle_Below",t[t.U_Combining_Not_Tilde_Above=842]="U_Combining_Not_Tilde_Above",t[t.U_Combining_Homothetic_Above=843]="U_Combining_Homothetic_Above",t[t.U_Combining_Almost_Equal_To_Above=844]="U_Combining_Almost_Equal_To_Above",t[t.U_Combining_Left_Right_Arrow_Below=845]="U_Combining_Left_Right_Arrow_Below",t[t.U_Combining_Upwards_Arrow_Below=846]="U_Combining_Upwards_Arrow_Below",t[t.U_Combining_Grapheme_Joiner=847]="U_Combining_Grapheme_Joiner",t[t.U_Combining_Right_Arrowhead_Above=848]="U_Combining_Right_Arrowhead_Above",t[t.U_Combining_Left_Half_Ring_Above=849]="U_Combining_Left_Half_Ring_Above",t[t.U_Combining_Fermata=850]="U_Combining_Fermata",t[t.U_Combining_X_Below=851]="U_Combining_X_Below",t[t.U_Combining_Left_Arrowhead_Below=852]="U_Combining_Left_Arrowhead_Below",t[t.U_Combining_Right_Arrowhead_Below=853]="U_Combining_Right_Arrowhead_Below",t[t.U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below=854]="U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below",t[t.U_Combining_Right_Half_Ring_Above=855]="U_Combining_Right_Half_Ring_Above",t[t.U_Combining_Dot_Above_Right=856]="U_Combining_Dot_Above_Right",t[t.U_Combining_Asterisk_Below=857]="U_Combining_Asterisk_Below",t[t.U_Combining_Double_Ring_Below=858]="U_Combining_Double_Ring_Below",t[t.U_Combining_Zigzag_Above=859]="U_Combining_Zigzag_Above",t[t.U_Combining_Double_Breve_Below=860]="U_Combining_Double_Breve_Below",t[t.U_Combining_Double_Breve=861]="U_Combining_Double_Breve",t[t.U_Combining_Double_Macron=862]="U_Combining_Double_Macron",t[t.U_Combining_Double_Macron_Below=863]="U_Combining_Double_Macron_Below",t[t.U_Combining_Double_Tilde=864]="U_Combining_Double_Tilde",t[t.U_Combining_Double_Inverted_Breve=865]="U_Combining_Double_Inverted_Breve",t[t.U_Combining_Double_Rightwards_Arrow_Below=866]="U_Combining_Double_Rightwards_Arrow_Below",t[t.U_Combining_Latin_Small_Letter_A=867]="U_Combining_Latin_Small_Letter_A",t[t.U_Combining_Latin_Small_Letter_E=868]="U_Combining_Latin_Small_Letter_E",t[t.U_Combining_Latin_Small_Letter_I=869]="U_Combining_Latin_Small_Letter_I",t[t.U_Combining_Latin_Small_Letter_O=870]="U_Combining_Latin_Small_Letter_O",t[t.U_Combining_Latin_Small_Letter_U=871]="U_Combining_Latin_Small_Letter_U",t[t.U_Combining_Latin_Small_Letter_C=872]="U_Combining_Latin_Small_Letter_C",t[t.U_Combining_Latin_Small_Letter_D=873]="U_Combining_Latin_Small_Letter_D",t[t.U_Combining_Latin_Small_Letter_H=874]="U_Combining_Latin_Small_Letter_H",t[t.U_Combining_Latin_Small_Letter_M=875]="U_Combining_Latin_Small_Letter_M",t[t.U_Combining_Latin_Small_Letter_R=876]="U_Combining_Latin_Small_Letter_R",t[t.U_Combining_Latin_Small_Letter_T=877]="U_Combining_Latin_Small_Letter_T",t[t.U_Combining_Latin_Small_Letter_V=878]="U_Combining_Latin_Small_Letter_V",t[t.U_Combining_Latin_Small_Letter_X=879]="U_Combining_Latin_Small_Letter_X",t[t.LINE_SEPARATOR=8232]="LINE_SEPARATOR",t[t.PARAGRAPH_SEPARATOR=8233]="PARAGRAPH_SEPARATOR",t[t.NEXT_LINE=133]="NEXT_LINE",t[t.U_CIRCUMFLEX=94]="U_CIRCUMFLEX",t[t.U_GRAVE_ACCENT=96]="U_GRAVE_ACCENT",t[t.U_DIAERESIS=168]="U_DIAERESIS",t[t.U_MACRON=175]="U_MACRON",t[t.U_ACUTE_ACCENT=180]="U_ACUTE_ACCENT",t[t.U_CEDILLA=184]="U_CEDILLA",t[t.U_MODIFIER_LETTER_LEFT_ARROWHEAD=706]="U_MODIFIER_LETTER_LEFT_ARROWHEAD",t[t.U_MODIFIER_LETTER_RIGHT_ARROWHEAD=707]="U_MODIFIER_LETTER_RIGHT_ARROWHEAD",t[t.U_MODIFIER_LETTER_UP_ARROWHEAD=708]="U_MODIFIER_LETTER_UP_ARROWHEAD",t[t.U_MODIFIER_LETTER_DOWN_ARROWHEAD=709]="U_MODIFIER_LETTER_DOWN_ARROWHEAD",t[t.U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING=722]="U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING",t[t.U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING=723]="U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING",t[t.U_MODIFIER_LETTER_UP_TACK=724]="U_MODIFIER_LETTER_UP_TACK",t[t.U_MODIFIER_LETTER_DOWN_TACK=725]="U_MODIFIER_LETTER_DOWN_TACK",t[t.U_MODIFIER_LETTER_PLUS_SIGN=726]="U_MODIFIER_LETTER_PLUS_SIGN",t[t.U_MODIFIER_LETTER_MINUS_SIGN=727]="U_MODIFIER_LETTER_MINUS_SIGN",t[t.U_BREVE=728]="U_BREVE",t[t.U_DOT_ABOVE=729]="U_DOT_ABOVE",t[t.U_RING_ABOVE=730]="U_RING_ABOVE",t[t.U_OGONEK=731]="U_OGONEK",t[t.U_SMALL_TILDE=732]="U_SMALL_TILDE",t[t.U_DOUBLE_ACUTE_ACCENT=733]="U_DOUBLE_ACUTE_ACCENT",t[t.U_MODIFIER_LETTER_RHOTIC_HOOK=734]="U_MODIFIER_LETTER_RHOTIC_HOOK",t[t.U_MODIFIER_LETTER_CROSS_ACCENT=735]="U_MODIFIER_LETTER_CROSS_ACCENT",t[t.U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR=741]="U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR",t[t.U_MODIFIER_LETTER_HIGH_TONE_BAR=742]="U_MODIFIER_LETTER_HIGH_TONE_BAR",t[t.U_MODIFIER_LETTER_MID_TONE_BAR=743]="U_MODIFIER_LETTER_MID_TONE_BAR",t[t.U_MODIFIER_LETTER_LOW_TONE_BAR=744]="U_MODIFIER_LETTER_LOW_TONE_BAR",t[t.U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR=745]="U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR",t[t.U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK=746]="U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK",t[t.U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK=747]="U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK",t[t.U_MODIFIER_LETTER_UNASPIRATED=749]="U_MODIFIER_LETTER_UNASPIRATED",t[t.U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD=751]="U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_UP_ARROWHEAD=752]="U_MODIFIER_LETTER_LOW_UP_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD=753]="U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD=754]="U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_RING=755]="U_MODIFIER_LETTER_LOW_RING",t[t.U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT=756]="U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT",t[t.U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT=757]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT",t[t.U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT=758]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT",t[t.U_MODIFIER_LETTER_LOW_TILDE=759]="U_MODIFIER_LETTER_LOW_TILDE",t[t.U_MODIFIER_LETTER_RAISED_COLON=760]="U_MODIFIER_LETTER_RAISED_COLON",t[t.U_MODIFIER_LETTER_BEGIN_HIGH_TONE=761]="U_MODIFIER_LETTER_BEGIN_HIGH_TONE",t[t.U_MODIFIER_LETTER_END_HIGH_TONE=762]="U_MODIFIER_LETTER_END_HIGH_TONE",t[t.U_MODIFIER_LETTER_BEGIN_LOW_TONE=763]="U_MODIFIER_LETTER_BEGIN_LOW_TONE",t[t.U_MODIFIER_LETTER_END_LOW_TONE=764]="U_MODIFIER_LETTER_END_LOW_TONE",t[t.U_MODIFIER_LETTER_SHELF=765]="U_MODIFIER_LETTER_SHELF",t[t.U_MODIFIER_LETTER_OPEN_SHELF=766]="U_MODIFIER_LETTER_OPEN_SHELF",t[t.U_MODIFIER_LETTER_LOW_LEFT_ARROW=767]="U_MODIFIER_LETTER_LOW_LEFT_ARROW",t[t.U_GREEK_LOWER_NUMERAL_SIGN=885]="U_GREEK_LOWER_NUMERAL_SIGN",t[t.U_GREEK_TONOS=900]="U_GREEK_TONOS",t[t.U_GREEK_DIALYTIKA_TONOS=901]="U_GREEK_DIALYTIKA_TONOS",t[t.U_GREEK_KORONIS=8125]="U_GREEK_KORONIS",t[t.U_GREEK_PSILI=8127]="U_GREEK_PSILI",t[t.U_GREEK_PERISPOMENI=8128]="U_GREEK_PERISPOMENI",t[t.U_GREEK_DIALYTIKA_AND_PERISPOMENI=8129]="U_GREEK_DIALYTIKA_AND_PERISPOMENI",t[t.U_GREEK_PSILI_AND_VARIA=8141]="U_GREEK_PSILI_AND_VARIA",t[t.U_GREEK_PSILI_AND_OXIA=8142]="U_GREEK_PSILI_AND_OXIA",t[t.U_GREEK_PSILI_AND_PERISPOMENI=8143]="U_GREEK_PSILI_AND_PERISPOMENI",t[t.U_GREEK_DASIA_AND_VARIA=8157]="U_GREEK_DASIA_AND_VARIA",t[t.U_GREEK_DASIA_AND_OXIA=8158]="U_GREEK_DASIA_AND_OXIA",t[t.U_GREEK_DASIA_AND_PERISPOMENI=8159]="U_GREEK_DASIA_AND_PERISPOMENI",t[t.U_GREEK_DIALYTIKA_AND_VARIA=8173]="U_GREEK_DIALYTIKA_AND_VARIA",t[t.U_GREEK_DIALYTIKA_AND_OXIA=8174]="U_GREEK_DIALYTIKA_AND_OXIA",t[t.U_GREEK_VARIA=8175]="U_GREEK_VARIA",t[t.U_GREEK_OXIA=8189]="U_GREEK_OXIA",t[t.U_GREEK_DASIA=8190]="U_GREEK_DASIA",t[t.U_OVERLINE=8254]="U_OVERLINE",t[t.UTF8_BOM=65279]="UTF8_BOM",t))(kt||{});function zI(t){return!t||typeof t!="string"?!0:t.trim().length===0}function HR(t,e,r=0,n=t.length,s=0,i=e.length){for(;r<n&&s<i;r++,s++){const l=t.charCodeAt(r),u=e.charCodeAt(s);if(l<u)return-1;if(l>u)return 1}const o=n-r,a=i-s;return o<a?-1:o>a?1:0}function WI(t,e,r=0,n=t.length,s=0,i=e.length){for(;r<n&&s<i;r++,s++){const l=t.charCodeAt(r),u=e.charCodeAt(s);if(l===u)continue;const d=l-u;if(!(d===32&&gT(u))&&!(d===-32&&gT(l)))return pT(l)&&pT(u)?d:HR(t.toLowerCase(),e.toLowerCase(),r,n,s,i)}const o=n-r,a=i-s;return o<a?-1:o>a?1:0}function pT(t){return t>=kt.a&&t<=kt.z}function gT(t){return t>=kt.A&&t<=kt.Z}function $I(t){return t>=55296&&t<=56319}function ct(t,e){return t.toLowerCase()===e.toLowerCase()}function mT(t,e){let r,n=Math.min(t.length,e.length);for(r=0;r<n;r++)if(t.charCodeAt(r)!==e.charCodeAt(r))return r;return n}function xT(t,e){let r,n=Math.min(t.length,e.length);const s=t.length-1,i=e.length-1;for(r=0;r<n;r++)if(t.charCodeAt(s-r)!==e.charCodeAt(i-r))return r;return n}const Bn=new Map;Bn.set("false",!1);Bn.set("true",!0);Bn.set("isMac",L0);Bn.set("isLinux",UI);Bn.set("isWindows",M0);Bn.set("isWeb",UR);Bn.set("isMacNative",L0&&!UR);Bn.set("isEdge",VI);Bn.set("isFirefox",HI);Bn.set("isChrome",GR);Bn.set("isSafari",jI);const KI=Object.prototype.hasOwnProperty;var sA=(t=>(t[t.False=0]="False",t[t.True=1]="True",t[t.Defined=2]="Defined",t[t.Not=3]="Not",t[t.Equals=4]="Equals",t[t.NotEquals=5]="NotEquals",t[t.And=6]="And",t[t.Regex=7]="Regex",t[t.NotRegex=8]="NotRegex",t[t.Or=9]="Or",t[t.In=10]="In",t[t.NotIn=11]="NotIn",t[t.Greater=12]="Greater",t[t.GreaterEquals=13]="GreaterEquals",t[t.Smaller=14]="Smaller",t[t.SmallerEquals=15]="SmallerEquals",t))(sA||{});class XI{static false(){return Ci.INSTANCE}static true(){return Xi.INSTANCE}static has(e){return mu.create(e)}static equals(e,r){return Td.create(e,r)}static notEquals(e,r){return Cd.create(e,r)}static regex(e,r){return Px.create(e,r)}static in(e,r){return Tx.create(e,r)}static not(e){return Oc.create(e)}static and(...e){return Ya.create(e,null)}static or(...e){return ta.create(e,null,!0)}static greater(e,r){return Kp.create(e,r)}static greaterEquals(e,r){return Xp.create(e,r)}static smaller(e,r){return Yp.create(e,r)}static smallerEquals(e,r){return qp.create(e,r)}static deserialize(e,r=!1){if(!!e)return this._deserializeOrExpression(e,r)}static _deserializeOrExpression(e,r){const n=e.split("||");return ta.create(n.map(s=>this._deserializeAndExpression(s,r)),null,!0)}static _deserializeAndExpression(e,r){const n=e.split("&&");return Ya.create(n.map(s=>this._deserializeOne(s,r)),null)}static _deserializeOne(e,r){if(e=e.trim(),e.indexOf("!=")>=0){const n=e.split("!=");return Cd.create(n[0].trim(),this._deserializeValue(n[1],r))}if(e.indexOf("==")>=0){const n=e.split("==");return Td.create(n[0].trim(),this._deserializeValue(n[1],r))}if(e.indexOf("=~")>=0){const n=e.split("=~");return Px.create(n[0].trim(),this._deserializeRegexValue(n[1],r))}if(e.indexOf(" in ")>=0){const n=e.split(" in ");return Tx.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const n=e.split(">=");return Xp.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const n=e.split(">");return Kp.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const n=e.split("<=");return qp.create(n[0].trim(),n[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const n=e.split("<");return Yp.create(n[0].trim(),n[1].trim())}return/^\!\s*/.test(e)?Oc.create(e.substr(1).trim()):mu.create(e)}static _deserializeValue(e,r){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;const n=/^'([^']*)'$/.exec(e);return n?n[1].trim():e}static _deserializeRegexValue(e,r){if(zI(e)){if(r)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const n=e.indexOf("/"),s=e.lastIndexOf("/");if(n===s||n<0){if(r)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}const i=e.slice(n+1,s),o=e[s+1]==="i"?"i":"";try{return new RegExp(i,o)}catch(a){if(r)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}}function od(t,e){return t.cmp(e)}const jk=class{constructor(){c(this,"type",0)}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return Xi.INSTANCE}};let Ci=jk;c(Ci,"INSTANCE",new jk);const Vk=class{constructor(){c(this,"type",1)}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return Ci.INSTANCE}};let Xi=Vk;c(Xi,"INSTANCE",new Vk);class mu{constructor(e,r){c(this,"type",2);this.key=e,this.negated=r}static create(e,r=null){const n=Bn.get(e);return typeof n=="boolean"?n?Xi.INSTANCE:Ci.INSTANCE:new mu(e,r)}cmp(e){return e.type!==this.type?this.type-e.type:VR(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Bn.get(this.key);return typeof e=="boolean"?e?Xi.INSTANCE:Ci.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=Oc.create(this.key,this)),this.negated}}class Td{constructor(e,r,n){c(this,"type",4);this.key=e,this.value=r,this.negated=n}static create(e,r,n=null){if(typeof r=="boolean")return r?mu.create(e,n):Oc.create(e,n);const s=Bn.get(e);return typeof s=="boolean"?r===(s?"true":"false")?Xi.INSTANCE:Ci.INSTANCE:new Td(e,r,n)}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Bn.get(this.key);if(typeof e=="boolean"){const r=e?"true":"false";return this.value===r?Xi.INSTANCE:Ci.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Cd.create(this.key,this.value,this)),this.negated}}class Tx{constructor(e,r){c(this,"type",10);c(this,"negated",null);this.key=e,this.valueKey=r}static create(e,r){return new Tx(e,r)}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const r=e.getValue(this.valueKey),n=e.getValue(this.key);return Array.isArray(r)?r.indexOf(n)>=0:typeof n=="string"&&typeof r=="object"&&r!==null?KI.call(r,n):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=Cx.create(this)),this.negated}}class Cx{constructor(e){c(this,"type",11);this._actual=e}static create(e){return new Cx(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(e){return new Cx(this._actual.map(e))}negate(){return this._actual}}class Cd{constructor(e,r,n){c(this,"type",5);this.key=e,this.value=r,this.negated=n}static create(e,r,n=null){if(typeof r=="boolean")return r?Oc.create(e,n):mu.create(e,n);const s=Bn.get(e);return typeof s=="boolean"?r===(s?"true":"false")?Ci.INSTANCE:Xi.INSTANCE:new Cd(e,r,n)}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Bn.get(this.key);if(typeof e=="boolean"){const r=e?"true":"false";return this.value===r?Ci.INSTANCE:Xi.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Td.create(this.key,this.value,this)),this.negated}}class Oc{constructor(e,r){c(this,"type",3);this.key=e,this.negated=r}static create(e,r=null){const n=Bn.get(e);return typeof n=="boolean"?n?Ci.INSTANCE:Xi.INSTANCE:new Oc(e,r)}cmp(e){return e.type!==this.type?this.type-e.type:VR(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Bn.get(this.key);return typeof e=="boolean"?e?Ci.INSTANCE:Xi.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=mu.create(this.key,this)),this.negated}}function Vy(t,e){if(typeof t=="string"){const r=parseFloat(t);isNaN(r)||(t=r)}return typeof t=="string"||typeof t=="number"?e(t):Ci.INSTANCE}class Kp{constructor(e,r,n){c(this,"type",12);this.key=e,this.value=r,this.negated=n}static create(e,r,n=null){return Vy(r,s=>new Kp(e,s,n))}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=qp.create(this.key,this.value,this)),this.negated}}class Xp{constructor(e,r,n){c(this,"type",13);this.key=e,this.value=r,this.negated=n}static create(e,r,n=null){return Vy(r,s=>new Xp(e,s,n))}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Yp.create(this.key,this.value,this)),this.negated}}class Yp{constructor(e,r,n){c(this,"type",14);this.key=e,this.value=r,this.negated=n}static create(e,r,n=null){return Vy(r,s=>new Yp(e,s,n))}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=Xp.create(this.key,this.value,this)),this.negated}}class qp{constructor(e,r,n){c(this,"type",15);this.key=e,this.value=r,this.negated=n}static create(e,r,n=null){return Vy(r,s=>new qp(e,s,n))}cmp(e){return e.type!==this.type?this.type-e.type:sh(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=Kp.create(this.key,this.value,this)),this.negated}}class Px{constructor(e,r){c(this,"type",7);c(this,"negated",null);this.key=e,this.regexp=r}static create(e,r){return new Px(e,r)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const r=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return r<n?-1:r>n?1:0}equals(e){if(e.type===this.type){const r=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return this.key===e.key&&r===n}return!1}substituteConstants(){return this}evaluate(e){const r=e.getValue(this.key);return this.regexp?this.regexp.test(r):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Dx.create(this)),this.negated}}class Dx{constructor(e){c(this,"type",8);this._actual=e}static create(e){return new Dx(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(e){return new Dx(this._actual.map(e))}negate(){return this._actual}}function jR(t){let e=null;for(let r=0,n=t.length;r<n;r++){const s=t[r].substituteConstants();if(t[r]!==s&&e===null){e=[];for(let i=0;i<r;i++)e[i]=t[i]}e!==null&&(e[r]=s)}return e===null?t:e}class Ya{constructor(e,r){c(this,"type",6);this.expr=e,this.negated=r}static create(e,r){return Ya._normalizeArr(e,r)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let r=0,n=this.expr.length;r<n;r++){const s=od(this.expr[r],e.expr[r]);if(s!==0)return s}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let r=0,n=this.expr.length;r<n;r++)if(!this.expr[r].equals(e.expr[r]))return!1;return!0}return!1}substituteConstants(){const e=jR(this.expr);return e===this.expr?this:Ya.create(e,this.negated)}evaluate(e){for(let r=0,n=this.expr.length;r<n;r++)if(!this.expr[r].evaluate(e))return!1;return!0}static _normalizeArr(e,r){const n=[];let s=!1;for(const i of e)if(!!i){if(i.type===1){s=!0;continue}if(i.type===0)return Ci.INSTANCE;if(i.type===6){n.push(...i.expr);continue}n.push(i)}if(n.length===0&&s)return Xi.INSTANCE;if(n.length!==0){if(n.length===1)return n[0];n.sort(od);for(let i=1;i<n.length;i++)n[i-1].equals(n[i])&&(n.splice(i,1),i--);if(n.length===1)return n[0];for(;n.length>1;){const i=n[n.length-1];if(i.type!==9)break;n.pop();const o=n.pop(),a=n.length===0,l=ta.create(i.expr.map(u=>Ya.create([u,o],null)),null,a);l&&(n.push(l),n.sort(od))}return n.length===1?n[0]:new Ya(n,r)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const r of this.expr)e.push(...r.keys());return e}map(e){return new Ya(this.expr.map(r=>r.map(e)),null)}negate(){if(!this.negated){const e=[];for(const r of this.expr)e.push(r.negate());this.negated=ta.create(e,this,!0)}return this.negated}}class ta{constructor(e,r){c(this,"type",9);this.expr=e,this.negated=r}static create(e,r,n){return ta._normalizeArr(e,r,n)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let r=0,n=this.expr.length;r<n;r++){const s=od(this.expr[r],e.expr[r]);if(s!==0)return s}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let r=0,n=this.expr.length;r<n;r++)if(!this.expr[r].equals(e.expr[r]))return!1;return!0}return!1}substituteConstants(){const e=jR(this.expr);return e===this.expr?this:ta.create(e,this.negated,!1)}evaluate(e){for(let r=0,n=this.expr.length;r<n;r++)if(this.expr[r].evaluate(e))return!0;return!1}static _normalizeArr(e,r,n){let s=[],i=!1;if(e){for(let o=0,a=e.length;o<a;o++){const l=e[o];if(!!l){if(l.type===0){i=!0;continue}if(l.type===1)return Xi.INSTANCE;if(l.type===9){s=s.concat(l.expr);continue}s.push(l)}}if(s.length===0&&i)return Ci.INSTANCE;s.sort(od)}if(s.length!==0){if(s.length===1)return s[0];for(let o=1;o<s.length;o++)s[o-1].equals(s[o])&&(s.splice(o,1),o--);if(s.length===1)return s[0];if(n){for(let o=0;o<s.length;o++)for(let a=o+1;a<s.length;a++)qI(s[o],s[a])&&(s.splice(a,1),a--);if(s.length===1)return s[0]}return new ta(s,r)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const r of this.expr)e.push(...r.keys());return e}map(e){return new ta(this.expr.map(r=>r.map(e)),null)}negate(){if(!this.negated){const e=[];for(const r of this.expr)e.push(r.negate());for(;e.length>1;){const r=e.shift(),n=e.shift(),s=[];for(const o of Rx(r))for(const a of Rx(n))s.push(Ya.create([o,a],null));const i=e.length===0;e.unshift(ta.create(s,null,i))}this.negated=e[0]}return this.negated}}const jp=class extends mu{constructor(r,n,s){super(r,null);c(this,"_defaultValue");this._defaultValue=n,typeof s=="object"?jp._info.push({...s,key:r}):s!==!0&&jp._info.push({key:r,description:s,type:n!=null?typeof n:void 0})}static all(){return jp._info.values()}bindTo(r){return r.createKey(this.key,this._defaultValue)}getValue(r){return r.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(r){return Td.create(this.key,r)}notEqualsTo(r){return Cd.create(this.key,r)}};let ad=jp;c(ad,"_info",[]);const Ea=Kn("contextKeyService"),YI="setContext";function VR(t,e){return t<e?-1:t>e?1:0}function sh(t,e,r,n){return t<r?-1:t>r?1:e<n?-1:e>n?1:0}function qI(t,e){if(e.type===6&&t.type!==9&&t.type!==6){for(const s of e.expr)if(t.equals(s))return!0}const r=t.negate(),n=Rx(r).concat(Rx(e));n.sort(od);for(let s=0;s<n.length;s++){const o=n[s].negate();for(let a=s+1;a<n.length;a++){const l=n[a];if(o.equals(l))return!0}}return!1}function Rx(t){return t.type===9?t.expr:[t]}let yT=!1,Kf=null;function QI(t){if(!t.parent||t.parent===t)return null;try{let e=t.location,r=t.parent.location;if(e.origin!=="null"&&r.origin!=="null"&&(e.protocol!==r.protocol||e.hostname!==r.hostname||e.port!==r.port))return yT=!0,null}catch{return yT=!0,null}return t.parent}function JI(t=window){if(!Kf){Kf=[];let e=t,r;do r=QI(e),r?Kf.push({window:e,iframeElement:e.frameElement||null}):Kf.push({window:e,iframeElement:null}),e=r;while(e)}return Kf.slice(0)}function ZI(t,e){if(!e||t===e)return{top:0,left:0};let r=0,n=0,s=JI(t);for(const i of s){if(r+=i.window.scrollY,n+=i.window.scrollX,i.window===e||!i.iframeElement)break;let o=i.iframeElement.getBoundingClientRect();r+=o.top,n+=o.left}return{top:r,left:n}}class zR{constructor(e){c(this,"browserEvent");c(this,"leftButton");c(this,"middleButton");c(this,"rightButton");c(this,"buttons");c(this,"target");c(this,"detail");c(this,"posx");c(this,"posy");c(this,"ctrlKey");c(this,"shiftKey");c(this,"altKey");c(this,"metaKey");c(this,"timestamp");this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let r=ZI(self,e.view);this.posx-=r.left,this.posy-=r.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}const sf={no:0,Primary:1,Secondary:1<<1,Auxiliary:1<<2,Fourth:1<<3,Fifth:1<<4},eM=sf.Fifth;function tM(t){let e=new Set;for(let r=Math.log2(eM);r>=0;r--){let n=1<<r;t&n&&e.add(n)}return e}const Ox="workbench.contributions.tool";class cS{constructor(){c(this,"once",!1)}isMouseShortcut(){return!1}isCursorShortcut(){return!1}isDoubleClickShortcut(){return!1}}class U0 extends cS{constructor(r){super();c(this,"type",hS.MouseButtonType);c(this,"buttons");this.buttonsBit=r,this.buttons=tM(r)}isMouseShortcut(){return!0}matchBegin(r){return this.buttons.has(r)}}class rM extends cS{constructor(){super(...arguments);c(this,"type",hS.MouseCursorType)}isCursorShortcut(){return!0}match(){return!0}}const nM="tool.cancel",ku=Kn("IToolService");var Ju=(t=>(t[t.BEGIN=0]="BEGIN",t[t.CONTINUE=1]="CONTINUE",t[t.END=2]="END",t))(Ju||{}),Ys=(t=>(t[t.noop=0]="noop",t[t.activated=1]="activated",t[t.runningPrimaryAction=2]="runningPrimaryAction",t))(Ys||{}),oA;(t=>{t.currentToolState=new ad("ToolInvocationState",0)})(oA||(oA={}));var hS=(t=>(t[t.UnknownType=0]="UnknownType",t[t.KeyCombinationType=1]="KeyCombinationType",t[t.MouseCursorType=2]="MouseCursorType",t[t.MouseButtonType=3]="MouseButtonType",t[t.MouseWheelType=4]="MouseWheelType",t[t.GestureType=5]="GestureType",t))(hS||{});function vT(t,e){if(!t)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}class iM{constructor(){c(this,"data",new Map)}add(e,r){vT(ki(e)),vT(Wp(r)),!this.data.has(e)&&this.data.set(e,r)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}}const rE="Registry";let Bm;Reflect.has(Pn,rE)?Bm=Reflect.get(Pn,rE):(Bm=new iM,Reflect.set(Pn,rE,Bm));const Bc=Bm;class sM extends II{constructor(){super(...arguments);c(this,"_defaultToolID")}registerWithShortcut(r,n){this.add(r),n&&(this._defaultToolID=r.id)}getDefaultOne(){return this._defaultToolID}}Bc.add(Ox,new sM);function ET(){}function WR(t){const e=this;let r=!1,n;return function(){return r||(r=!0,n=t.apply(e,arguments)),n}}var Nc;(t=>{function e(P){return P&&typeof P=="object"&&typeof P[Symbol.iterator]=="function"}t.is=e;const r=Object.freeze([]);function n(){return r}t.empty=n;function*s(P){yield P}t.single=s;function i(P){return P||r}t.from=i;function o(P){return!P||P[Symbol.iterator]().next().done===!0}t.isEmpty=o;function a(P){return P[Symbol.iterator]().next().value}t.first=a;function l(P,O){for(const F of P)if(O(F))return!0;return!1}t.some=l;function u(P,O){for(const F of P)if(O(F))return F}t.find=u;function*d(P,O){for(const F of P)O(F)&&(yield F)}t.filter=d;function*f(P,O){let F=0;for(const U of P)yield O(U,F++)}t.map=f;function*g(...P){for(const O of P)for(const F of O)yield F}t.concat=g;function*x(P){for(const O of P)for(const F of O)yield F}t.concatNested=x;function E(P,O,F){let U=F;for(const B of P)U=O(U,B);return U}t.reduce=E;function*D(P,O,F=P.length){for(O<0&&(O+=P.length),F<0?F+=P.length:F>P.length&&(F=P.length);O<F;O++)yield P[O]}t.slice=D;function A(P,O=Number.POSITIVE_INFINITY){const F=[];if(O===0)return[F,P];const U=P[Symbol.iterator]();for(let B=0;B<O;B++){const N=U.next();if(N.done)return[F,t.empty()];F.push(N.value)}return[F,{[Symbol.iterator](){return U}}]}t.consume=A;function R(P,O,F=(U,B)=>U===B){const U=P[Symbol.iterator](),B=O[Symbol.iterator]();for(;;){const N=U.next(),T=B.next();if(N.done!==T.done)return!1;if(N.done)return!0;if(!F(N.value,T.value))return!1}}t.equals=R})(Nc||(Nc={}));function Q(t,...e){!Sx(t)&&!t&&console.warn("!",...e)}let so=null;function G0(t){return so==null||so.trackDisposable(t),t}function H0(t){so==null||so.markAsDisposed(t)}function Bx(t,e){so==null||so.setParent(t,e)}function oM(t){return so==null||so.markAsSingleton(t),t}class aM extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function zy(t){if(Nc.is(t)){const e=[];for(const r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new aM(e);return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}function lM(...t){return zn(()=>zy(t))}function zn(t){const e=G0({dispose:WR(()=>{H0(e),t()})});return e}const zk=class{constructor(){c(this,"_toDispose",new Set);c(this,"_isDisposed",!1);G0(this)}dispose(){this._isDisposed||(H0(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{zy(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return Bx(e,this),this._isDisposed?zk.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}};let ua=zk;c(ua,"DISABLE_DISPOSED_WARNING",!1);class Kt{constructor(){c(this,"$$disposed",!1);c(this,"_store",new ua);G0(this),Bx(this._store,this)}dispose(){this.$$disposed=!0,H0(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}c(Kt,"None",Object.freeze({dispose(){}}));class dS{constructor(){c(this,"_value");c(this,"_isDisposed",!1);G0(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){var r;this._isDisposed||e===this._value||((r=this._value)==null||r.dispose(),e&&Bx(e,this),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,H0(this),(e=this._value)==null||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e&&Bx(e,null),e}}class uM{constructor(){c(this,"dispose",()=>{});c(this,"unset",()=>{});c(this,"isset",()=>!1);G0(this)}set(e){let r=e;return this.unset=()=>r=void 0,this.isset=()=>r!==void 0,this.dispose=()=>{r&&(r(),r=void 0,H0(this))},this}}class cM{constructor(){c(this,"references",new Map)}acquire(e,...r){let n=this.references.get(e);n||(n={counter:0,object:this.createReferencedObject(e,...r)},this.references.set(e,n));const{object:s}=n,i=()=>WR(()=>{--n.counter===0&&(this.destroyReferencedObject(e,n.object),this.references.delete(e))});n.counter++;const o=()=>n.counter,a=()=>(Q(n),n.counter++,{object:s,dispose:i(),copy:a,count:o});return{object:s,dispose:i(),copy:a,count:o}}}const Vp=class{constructor(e){c(this,"element");c(this,"next");c(this,"prev");this.element=e,this.next=Vp.Undefined,this.prev=Vp.Undefined}};let tn=Vp;c(tn,"Undefined",new Vp(void 0));class Qp{constructor(){c(this,"_first",tn.Undefined);c(this,"_last",tn.Undefined);c(this,"_size",0)}get size(){return this._size}isEmpty(){return this._first===tn.Undefined}clear(){this._first=tn.Undefined,this._last=tn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){const n=new tn(e);if(this._first===tn.Undefined)this._first=n,this._last=n;else if(r){const i=this._last;this._last=n,n.prev=i,i.next=n}else{const i=this._first;this._first=n,n.next=i,i.prev=n}this._size+=1;let s=!1;return()=>{s||(s=!0,this._remove(n))}}shift(){if(this._first!==tn.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==tn.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==tn.Undefined&&e.next!==tn.Undefined){const r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===tn.Undefined&&e.next===tn.Undefined?(this._first=tn.Undefined,this._last=tn.Undefined):e.next===tn.Undefined?(this._last=this._last.prev,this._last.next=tn.Undefined):e.prev===tn.Undefined&&(this._first=this._first.next,this._first.prev=tn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==tn.Undefined;)yield e.element,e=e.next}}class hM{constructor(){c(this,"unexpectedErrorHandler");c(this,"listeners");this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const dM=new hM;function Nx(t){fM(t)||dM.onUnexpectedError(t)}const aA="Canceled";function fM(t){return t instanceof $R?!0:t instanceof Error&&t.name===aA&&t.message===aA}class $R extends Error{constructor(){super(aA),this.name=this.message}}function _M(t){return t?new Error(`Illegal state: ${t}`):new Error("Illegal state")}function pM(t){return t?t.message?t.message:t.stack?t.stack.split(`
`)[0]:String(t):"Error"}const gM=Pn.performance&&typeof Pn.performance.now=="function";class fS{constructor(e){c(this,"_highResolution");c(this,"_startTime");c(this,"_stopTime");this._highResolution=gM&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new fS(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Pn.performance.now():Date.now()}}const Wk=class{constructor(e){c(this,"_name");c(this,"_stopWatch");c(this,"_listenerCount",0);c(this,"_invocationCount",0);c(this,"_elapsedOverall",0);this._name=`${e}_${Wk._idPool++}`}start(e){this._stopWatch=new fS(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}};let Nm=Wk;c(Nm,"_idPool",0);let mp=-1;function mM(t){const e=mp;return mp=t,{dispose(){mp=e}}}var ra;(t=>{t.None=()=>Kt.None;function e(B,N){return d(B,()=>{},0,void 0,!0,void 0,N)}t.defer=e;function r(B){return(N,T=null,M)=>{let $=!1,J;return J=B(Z=>{if(!$)return J?J.dispose():$=!0,N.call(T,Z)},null,M),$&&J.dispose(),J}}t.once=r;function n(B,N,T){return u((M,$=null,J)=>B(Z=>M.call($,N(Z)),null,J),T)}t.map=n;function s(B,N,T){return u((M,$=null,J)=>B(Z=>{N(Z),M.call($,Z)},null,J),T)}t.forEach=s;function i(B,N,T){return u((M,$=null,J)=>B(Z=>N(Z)&&M.call($,Z),null,J),T)}t.filter=i;function o(B){return B}t.signal=o;function a(...B){return(N,T=null,M)=>lM(...B.map($=>$(J=>N.call(T,J),null,M)))}t.any=a;function l(B,N,T,M){let $=T;return n(B,J=>($=N($,J),$),M)}t.reduce=l;function u(B,N){let T;const M={onWillAddFirstListener(){T=B($.fire,$)},onDidRemoveLastListener(){T==null||T.dispose()}},$=new Mt(M);return N==null||N.add($),$.event}function d(B,N,T=100,M=!1,$=!1,J,Z){let re,ge,Fe,Ze=0,ze;const Le={leakWarningThreshold:J,onWillAddFirstListener(){re=B(_t=>{Ze++,ge=N(ge,_t),M&&!Fe&&(it.fire(ge),ge=void 0),ze=()=>{const st=ge;ge=void 0,Fe=void 0,(!M||Ze>1)&&it.fire(st),Ze=0},typeof T=="number"?(clearTimeout(Fe),Fe=setTimeout(ze,T)):Fe===void 0&&(Fe=0,queueMicrotask(ze))})},onWillRemoveListener(){$&&Ze>0&&(ze==null||ze())},onDidRemoveLastListener(){ze=void 0,re.dispose()}},it=new Mt(Le);return Z==null||Z.add(it),it.event}t.debounce=d;function f(B,N=0,T){return t.debounce(B,(M,$)=>M?(M.push($),M):[$],N,void 0,!0,void 0,T)}t.accumulate=f;function g(B,N=(M,$)=>M===$,T){let M=!0,$;return i(B,J=>{const Z=M||!N(J,$);return M=!1,$=J,Z},T)}t.latch=g;function x(B,N,T){return[t.filter(B,N,T),t.filter(B,M=>!N(M),T)]}t.split=x;function E(B,N=!1,T=[]){let M=T.slice(),$=B(re=>{M?M.push(re):Z.fire(re)});const J=()=>{M==null||M.forEach(re=>Z.fire(re)),M=null},Z=new Mt({onWillAddFirstListener(){$||($=B(re=>Z.fire(re)))},onDidAddFirstListener(){M&&(N?setTimeout(J):J())},onDidRemoveLastListener(){$&&$.dispose(),$=null}});return Z.event}t.buffer=E;class D{constructor(N){c(this,"disposables",new ua);this.event=N}map(N){return new D(n(this.event,N,this.disposables))}forEach(N){return new D(s(this.event,N,this.disposables))}filter(N){return new D(i(this.event,N,this.disposables))}reduce(N,T){return new D(l(this.event,N,T,this.disposables))}latch(){return new D(g(this.event,void 0,this.disposables))}debounce(N,T=100,M=!1,$=!1,J){return new D(d(this.event,N,T,M,$,J,this.disposables))}on(N,T,M){return this.event(N,T,M)}once(N,T,M){return r(this.event)(N,T,M)}dispose(){this.disposables.dispose()}}function A(B){return new D(B)}t.chain=A;function R(B,N,T=M=>M){const M=(...re)=>Z.fire(T(...re)),$=()=>B.on(N,M),J=()=>B.removeListener(N,M),Z=new Mt({onWillAddFirstListener:$,onDidRemoveLastListener:J});return Z.event}t.fromNodeEventEmitter=R;function P(B,N,T=M=>M){const M=(...re)=>Z.fire(T(...re)),$=()=>B.addEventListener(N,M),J=()=>B.removeEventListener(N,M),Z=new Mt({onWillAddFirstListener:$,onDidRemoveLastListener:J});return Z.event}t.fromDOMEventEmitter=P;function O(B){return new Promise(N=>r(B)(N))}t.toPromise=O;function F(B,N){return N(void 0),B(T=>N(T))}t.runAndSubscribe=F;function U(B,N){let T=null;function M(J){T==null||T.dispose(),T=new ua,N(J,T)}M(void 0);const $=B(J=>M(J));return zn(()=>{$.dispose(),T==null||T.dispose()})}t.runAndSubscribeWithStore=U})(ra||(ra={}));class xM{constructor(e,r=Math.random().toString(18).slice(2,5)){c(this,"_stacks");c(this,"_warnCountdown",0);this.threshold=e,this.name=r}dispose(){var e;(e=this._stacks)==null||e.clear()}check(e,r){const n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);const s=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,s+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let i,o=0;for(const[a,l]of this._stacks)(!i||o<l)&&(i=a,o=l);console.warn(`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${o}):`),console.warn(i)}return()=>{const i=this._stacks.get(e.value)||0;this._stacks.set(e.value,i-1)}}}class _S{constructor(e){this.value=e}static create(){var e;return new _S((e=new Error().stack)!=null?e:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class yM{constructor(e,r,n){c(this,"subscription",new uM);this.callback=e,this.callbackThis=r,this.stack=n}invoke(e){this.callback.call(this.callbackThis,e)}}class Mt{constructor(e){c(this,"_options");c(this,"_leakageMon");c(this,"_perfMon");c(this,"_disposed",!1);c(this,"_event");c(this,"_deliveryQueue");c(this,"_listeners");var r,n,s,i,o;this._options=e,this._leakageMon=mp>0||((r=this._options)==null?void 0:r.leakWarningThreshold)?new xM((s=(n=this._options)==null?void 0:n.leakWarningThreshold)!=null?s:mp):void 0,this._perfMon=(i=this._options)!=null&&i._profName?new Nm(this._options._profName):void 0,this._deliveryQueue=(o=this._options)==null?void 0:o.deliveryQueue}dispose(){var e,r,n,s;this._disposed||(this._disposed=!0,this._listeners&&this._listeners.clear(),(e=this._deliveryQueue)==null||e.clear(this),(n=(r=this._options)==null?void 0:r.onDidRemoveLastListener)==null||n.call(r),(s=this._leakageMon)==null||s.dispose())}get event(){return this._event||(this._event=(e,r,n)=>{var d,f,g;if(this._listeners||(this._listeners=new Qp),this._leakageMon&&this._listeners.size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),Kt.None;const s=this._listeners.isEmpty();s&&((d=this._options)==null?void 0:d.onWillAddFirstListener)&&this._options.onWillAddFirstListener(this);let i,o;this._leakageMon&&this._listeners.size>=Math.ceil(this._leakageMon.threshold*.2)&&(o=_S.create(),i=this._leakageMon.check(o,this._listeners.size+1));const a=new yM(e,r,o),l=this._listeners.push(a);s&&((f=this._options)==null?void 0:f.onDidAddFirstListener)&&this._options.onDidAddFirstListener(this),(g=this._options)!=null&&g.onDidAddListener&&this._options.onDidAddListener(this,e,r);const u=a.subscription.set(()=>{var x,E;i==null||i(),this._disposed||((E=(x=this._options)==null?void 0:x.onWillRemoveListener)==null||E.call(x,this),l(),this._options&&this._options.onDidRemoveLastListener&&(this._listeners&&!this._listeners.isEmpty()||this._options.onDidRemoveLastListener(this)))});return n instanceof ua?n.add(u):Array.isArray(n)&&n.push(u),u}),this._event}fire(e){var r,n,s;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new EM((r=this._options)==null?void 0:r.onListenerError));for(const i of this._listeners)this._deliveryQueue.push(this,i,e);(n=this._perfMon)==null||n.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(s=this._perfMon)==null||s.stop()}}hasListeners(){return this._listeners?!this._listeners.isEmpty():!1}}class vM{constructor(e=Nx){c(this,"_queue",new Qp);this._onListenerError=e}get size(){return this._queue.size}push(e,r,n){this._queue.push(new AM(e,r,n))}clear(e){const r=new Qp;for(const n of this._queue)n.emitter!==e&&r.push(n);this._queue=r}deliver(){for(;this._queue.size>0;){const e=this._queue.shift();try{e.listener.invoke(e.event)}catch(r){this._onListenerError(r)}}}}class EM extends vM{clear(e){this._queue.clear()}}class AM{constructor(e,r,n){this.emitter=e,this.listener=r,this.event=n}}class lA extends Mt{constructor(r){super(r);c(this,"_isPaused",0);c(this,"_eventQueue",new Qp);c(this,"_mergeFn");this._mergeFn=r==null?void 0:r.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const r=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(r))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(r){this._listeners&&(this._isPaused!==0?this._eventQueue.push(r):super.fire(r))}}class xu{constructor(e,r=[],n=!1){c(this,"ctor");c(this,"staticArguments");c(this,"supportsDelayedInstantiation");this.ctor=e,this.staticArguments=r,this.supportsDelayedInstantiation=n}}c(xu,"__SyncDescriptorBrand");const KR=[];function Aa(t,e,r){e instanceof xu||(e=new xu(e,[],r)),KR.push([t,e])}function wM(){return KR}const oh=Kn("ICanvasService"),qt={DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_MOVE:"mousemove",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",TOUCH_START:"touchstart",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",TOUCH_MOVE:"touchmove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_UP:"keyup",DRAG_START:"dragstart",DRAG:"drag",DROP:"drop",DRAG_END:"dragend",ShortcutOverride:"shortcutOverride"};class pS{constructor(e){c(this,"accepted",!1);this.type=e}accept(){this.accepted=!0}ignore(){this.accepted=!1}isAccepted(){return this.accepted}asMouseInputEvent(){}isMouseInputEvent(){return!1}asKeyboardInputEvent(){}isKeyboardInputEvent(){return!1}asWheelInputEvent(){}isWheelInputEvent(){return!1}}class SM extends pS{constructor(r,n){super(r);c(this,"targetPath");c(this,"clientX");c(this,"clientY");c(this,"pageX");c(this,"pageY");c(this,"buttons");this.targetPath=n.targetPath,this.clientX=n.clientX,this.clientY=n.clientY,this.pageX=n.pageX,this.pageY=n.pageY,this.buttons=n.buttons}asMouseInputEvent(){return this}isMouseInputEvent(){return!0}}class bM extends pS{constructor(r){super(qt.WHEEL);c(this,"deltaX");c(this,"deltaY");this.deltaX=r.deltaX,this.deltaY=r.deltaY}asWheelInputEvent(){return this}isWheelInputEvent(){return!0}}class kM extends pS{constructor(r,n){super(r);c(this,"ctrlKey");c(this,"shiftKey");c(this,"altKey");c(this,"metaKey");c(this,"keyCode");c(this,"code");c(this,"init");this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.keyCode=n.keyCode,this.code=n.code,this.init=n}asKeyboardInputEvent(){return this}isKeyboardInputEvent(){return!0}}class gS{constructor(e){this.node=e}static fromVirtualDOMNode(e){return new gS(e)}}function ls(t,e,r,n=0){return new SM(t,{buttons:n||e.buttons,clientX:e.relativePos.x,clientY:e.relativePos.y,pageX:e.pos.x,pageY:e.pos.y,targetPath:r.targetPath||[]})}function AT(...t){}class TM{constructor(e,r,n,s){c(this,"_activeTool");c(this,"_past",[]);c(this,"_recursiveCounter",0);c(this,"_brokenByRecursion",0);c(this,"_keys",new Set);c(this,"_buttons",new Set);this.canvas=e,this.toolFactories=r,this.onWillChangeTool=n,this.onDidChangeTool=s}createToolById(e){let r=this.toolFactories.find(n=>n.id===e);if(!!r)return r.createTool(this.canvas)}getShortcutById(e){return this.toolFactories.find(r=>r.id===e)}setActiveToolById(e){var n;if(((n=this._activeTool)==null?void 0:n.id)===e)return!1;const r=this.createToolById(e);return r?this.setActiveTool(r):!1}switchBack(){const e=this._past.pop();e?(this.setActiveToolById(e),this._past.pop()):this.setActiveTool(void 0)}get activeTool(){return this._activeTool}setActiveTool(e){var n;if((e==null?void 0:e.id)===((n=this._activeTool)==null?void 0:n.id))return!1;const r=this._activeTool;return this.onWillChangeTool(r,e),this._activeTool&&this._deactivateTool(this._activeTool),this._doSetActiveTool(e),e&&this._activateTool(e),this.onDidChangeTool(r,e),!!this._activeTool}_deactivateTool(e){e.phase!==Ys.noop&&e.deactivate(),e.phase=Ys.noop}_activateTool(e){e.activate(),e.phase=Ys.activated}_beginTool(e){this._forwardEvent(Ju.BEGIN,e),this._activeTool.phase=Ys.runningPrimaryAction}_continueTool(e){this._forwardEvent(Ju.CONTINUE,e)}_endTool(e){this._forwardEvent(Ju.END,e)}_doSetActiveTool(e=void 0){this._activeTool&&this._past.push(this._activeTool.id),this._activeTool=e}processEvent(e){return this._activeTool&&this._activeTool.processEvent(e),e.isAccepted()}_forwardEvent(e,r){let n=!0;const s=r.asMouseInputEvent();return s&&(s.accept(),this._forwardToTool(e,r)),n}_forwardToTool(e,r){if(!!this._activeTool)switch(this._activeTool.isStrokeTool()||gt(),e){case Ju.BEGIN:r.type==qt.DBLCLICK?$e():this._activeTool.beginPrimaryAction(r);break;case Ju.CONTINUE:this._activeTool.continuePrimaryAction(r);break;case Ju.END:this._activeTool.endPrimaryAction(r);break}}withRecursionNotifier(e){this._recursiveCounter++,this._brokenByRecursion++;try{return e()}finally{this._recursiveCounter--}}isInRecursion(){return this._recursiveCounter>1}withRecursionGuard(e){this._brokenByRecursion=0;try{return e()}finally{}}isBrokenByRecursion(){return this._brokenByRecursion>0}buttonPressed(e){return this.withRecursionNotifier(()=>{let r=!1;if(this._buttons.has(e.buttons)&&En(_p,"Peculiar, button was already pressed."),this._buttons.add(e.buttons),!this.activeTool)return!1;if(this.activeTool.phase!==Ys.runningPrimaryAction&&!this.isInRecursion()){const n=this.getShortcutById(this.activeTool.id);zi(n),n.shortcut.isMouseShortcut()&&this.withRecursionGuard(()=>{this._beginTool(e),r=!0,this.isBrokenByRecursion()&&($e(),this._forceDeactivateAllActions())})}return this.isInRecursion()&&(gt(),this._forceDeactivateAllActions()),r})}buttonReleased(e){return this.withRecursionNotifier(()=>{let r=!1;return this.activeTool&&(r=this._tryEndRunningTool(e)),this._buttons.has(e.buttons)?this._buttons.delete(e.buttons):(this.reset(),En(_p,"Peculiar, button released but we can't remember it was pressed")),this.isInRecursion()?this._forceDeactivateAllActions():this.activeTool,r})}dbClick(e){return this.withRecursionNotifier(()=>(this.isInRecursion()&&$e(),this.processEvent(e),e.isAccepted()?!0:(this.isInRecursion()&&$e(),this._tryRunDoubleClickTool(e))))}dropCanceled(e){return!1}wheelEvent(e){return!1}keyDown(e){return this.withRecursionNotifier(()=>{let r=!1;return this._keys.has(e.keyCode)&&En(_p,"Peculiar, records show key was already pressed"),r})}keyUp(e){return this.withRecursionNotifier(()=>(this._keys.has(e.keyCode)||En(oi,"Peculiar, key released but can't remember it was pressed"),this._keys.delete(e.keyCode),!1))}pointerMoved(e){return this.withRecursionNotifier(()=>(this.isInRecursion()&&$e(),this._activeTool?this._activeTool.isStrokeTool()&&this._activeTool.phase===Ys.runningPrimaryAction?(this._continueTool(e),!0):this.processEvent(e):this._tryRunCursorTool(e)))}_forceDeactivateAllActions(){this.activeTool&&this._deactivateTool(this.activeTool)}_tryEndRunningTool(e){this.activeTool||gt(),this.activeTool.phase===Ys.noop&&gt();let r=!1;const n=this.getShortcutById(this.activeTool.id);zi(n);const{shortcut:s}=n;if(e.isMouseInputEvent()?s.isMouseShortcut()?r=s.matchBegin(e.buttons):s.isCursorShortcut()&&(r=!e.buttons):e.isKeyboardInputEvent()&&(r=!0),r){const i=s.once;Q(this._activeTool),i?(this._activeTool.phase,Ys.noop,this.setActiveTool(void 0)):s.isMouseShortcut()&&(this._endTool(e),this._activeTool.phase=Ys.activated)}return!this.activeTool}_tryRunCursorTool(e){let r;return this.toolFactories.forEach(n=>{const{shortcut:s}=n;s.isCursorShortcut()&&(r=n)}),r&&(AT("activate",r.id),this.setActiveToolById(r.id),this.withRecursionGuard(()=>{zi(r),this.processEvent(e),this.isBrokenByRecursion()&&$e()})),!!r}_tryRunDoubleClickTool(e){const r=this.toolFactories.filter(s=>s.shortcut.isDoubleClickShortcut());if(!r.length)return!1;let n=r[0];return AT("activate double click",n.id),this.setActiveToolById(n.id),this.withRecursionGuard(()=>{zi(n),this.processEvent(e),this.isBrokenByRecursion()&&$e()}),!!n}reset(){this._keys.clear(),this._buttons.clear()}}var CM=Object.defineProperty,PM=Object.getOwnPropertyDescriptor,DM=(t,e,r,n)=>{for(var s=n>1?void 0:n?PM(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&CM(e,r,s),s},wT=(t,e)=>(r,n)=>e(r,n,t);let uA=class extends Kt{constructor(e,r){super();c(this,"_serviceBrand");c(this,"_onDidChangeTool",new Mt);c(this,"_onWillChangeTool",new Mt);c(this,"_controllers",new Map);c(this,"_currentController");this.instantiationService=e,this.canvasService=r,this._register(r.onDidActiveCanvasChange(n=>{Q(n),!this._controllers.has(n)&&this._attachCanvas(n)}))}get onDidChangeTool(){return this._onDidChangeTool.event}get onWillChangeTool(){return this._onWillChangeTool.event}switchBack(){var e;(e=this._currentController)==null||e.switchBack()}switchDefault(){var n,s;const r=Bc.as(Ox).getDefaultOne();((s=(n=this._currentController)==null?void 0:n.activeTool)==null?void 0:s.id)!==r&&this.switchTool(r)}_attachCanvas(e){Q(e);let r=new TM(e,Bc.as(Ox).values(),this._emitOnWillChangeToolEvent.bind(this),this._emitOnDidChangeToolEvent.bind(this));this._controllers.set(e,r),this._switchController(r)}_switchController(e){Q(e),this._currentController=e}_emitOnWillChangeToolEvent(e,r){this._onWillChangeTool.fire({prev:e,next:r})}_emitOnDidChangeToolEvent(e,r){this._onDidChangeTool.fire({prev:e,next:r})}switchTool(e){if(!this._currentController)return;const r=this._currentController.activeTool;if((r==null?void 0:r.id)===e)return;const n=e?this._currentController.createToolById(e):void 0;this._currentController.setActiveTool(n)}buttonPressed(e){var r;return!!((r=this._currentController)!=null&&r.buttonPressed(e))}buttonReleased(e){var r;return!!((r=this._currentController)!=null&&r.buttonReleased(e))}dbClick(e){var r;return!!((r=this._currentController)!=null&&r.dbClick(e))}dropCanceled(e){var r;return!!((r=this._currentController)!=null&&r.dropCanceled(e))}keyDown(e){var r;return!!((r=this._currentController)!=null&&r.keyDown(e))}keyUp(e){var r;return!!((r=this._currentController)!=null&&r.keyUp(e))}pointerMoved(e){var r;return!!((r=this._currentController)!=null&&r.pointerMoved(e))}wheelEvent(e){var r;return!!((r=this._currentController)!=null&&r.wheelEvent(e))}processEvent(e){var r;return!!((r=this._currentController)!=null&&r.processEvent(e))}};uA=DM([wT(0,Po),wT(1,oh)],uA);Aa(ku,new xu(uA));const XR=Kn("IInputManager"),Jp=Kn("keybindingService");var Pd=(t=>(t[t.None=0]="None",t[t.BlockBox=1]="BlockBox",t[t.InlineBox=2]="InlineBox",t[t.InlineContent=3]="InlineContent",t))(Pd||{}),Fc;(t=>{t.hitTestLevel=new ad("hitTestLevel",Pd.BlockBox),t.isEditingText=new ad("isEditingText",!1)})(Fc||(Fc={}));var RM=Object.defineProperty,OM=Object.getOwnPropertyDescriptor,BM=(t,e,r,n)=>{for(var s=n>1?void 0:n?OM(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&RM(e,r,s),s},nE=(t,e)=>(r,n)=>e(r,n,t);let cA=class extends Kt{constructor(e,r,n){super();c(this,"_serviceBrand");this.toolService=e,this.keybindingService=r,this.contextKeyService=n}addTrackedCanvas(e){e.installEventFilter(this)}removeTrackedCanvas(e){$e()}eventFilter(e){switch(e.type){case qt.MOUSE_DOWN:{let n=e.asMouseInputEvent();zi(n),this.toolService.buttonPressed(n)&&e.accept();break}case qt.MOUSE_UP:{let n=e.asMouseInputEvent();zi(n),this.toolService.buttonReleased(n)&&e.accept();break}case qt.DBLCLICK:{let n=e.asMouseInputEvent();zi(n),this.toolService.dbClick(n)&&e.accept();break}case qt.DRAG_END:{let n=e.asMouseInputEvent();zi(n),this.toolService.dropCanceled(n)&&e.accept();break}case qt.MOUSE_MOVE:if(this.toolService.pointerMoved(e.asMouseInputEvent()))return e.accept(),!0;break;case qt.WHEEL:{let n=e.asWheelInputEvent();zi(n),this.toolService.wheelEvent(n)&&e.accept();break}case qt.KEY_UP:!this.contextKeyService.getContextKeyValue(Fc.isEditingText.key)&&this.keybindingService.dispatchEvent(e.asKeyboardInputEvent().init,document.body)&&e.accept();break}return e.isAccepted()||this.toolService.processEvent(e),e.isAccepted()}};cA=BM([nE(0,ku),nE(1,Jp),nE(2,Ea)],cA);Aa(XR,new xu(cA));class NM extends Kt{constructor(){super(...arguments);c(this,"_onCanvasAdded",this._register(new Mt));c(this,"onCanvasAdded",this._onCanvasAdded.event);c(this,"_onCanvasRemoved",this._register(new Mt));c(this,"onCanvasRemoved",this._onCanvasRemoved.event);c(this,"_onDidActiveCanvasChange",this._register(new Mt));c(this,"onDidActiveCanvasChange",this._onDidActiveCanvasChange.event);c(this,"_editors",new Map);c(this,"_editor")}addCanvas(r){this._editors.set(r.id,r),this._editor=r,this._onCanvasAdded.fire(r),this._onDidActiveCanvasChange.fire(r)}removeCanvas(r){this._editors.delete(r.id)&&this._onCanvasRemoved.fire(r)}listCanvases(){return Array.from(this._editors.values())}getFocusedCanvas(){}getActiveCanvas(){return this._editor}}Aa(oh,NM);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function ST(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zs(t){var e,r;return ST(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(ST(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var FM=20,IM=1,Ic=1e6,bT=1e6,MM=-7,LM=21,UM=!1,j0="[big.js] ",ah=j0+"Invalid ",Wy=ah+"decimal places",GM=ah+"rounding mode",YR=j0+"Division by zero",kr={},ca=void 0,HM=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function qR(){function t(e){var r=this;if(!(r instanceof t))return e===ca?qR():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(ah+"value");e=e===0&&1/e<0?"-0":String(e)}jM(r,e)}r.constructor=t}return t.prototype=kr,t.DP=FM,t.RM=IM,t.NE=MM,t.PE=LM,t.strict=UM,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function jM(t,e){var r,n,s;if(!HM.test(e))throw Error(ah+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),s=e.length,n=0;n<s&&e.charAt(n)=="0";)++n;if(n==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=s;)t.c[r++]=+e.charAt(n++)}return t}function lh(t,e,r,n){var s=t.c;if(r===ca&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(GM);if(e<1)n=r===3&&(n||!!s[0])||e===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==ca))),s.length=1,n?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(n=r===1&&s[e]>=5||r===2&&(s[e]>5||s[e]===5&&(n||s[e+1]!==ca||s[e-1]&1))||r===3&&(n||!!s[0]),s.length=e,n){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function of(t,e,r){var n=t.e,s=t.c.join(""),i=s.length;if(e)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>i)for(n-=i;n--;)s+="0";else n<i&&(s=s.slice(0,n)+"."+s.slice(n));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&r?"-"+s:s}kr.abs=function(){var t=new this.constructor(this);return t.s=1,t};kr.cmp=function(t){var e,r=this,n=r.c,s=(t=new r.constructor(t)).c,i=r.s,o=t.s,a=r.e,l=t.e;if(!n[0]||!s[0])return n[0]?i:s[0]?-o:0;if(i!=o)return i;if(e=i<0,a!=l)return a>l^e?1:-1;for(o=(a=n.length)<(l=s.length)?a:l,i=-1;++i<o;)if(n[i]!=s[i])return n[i]>s[i]^e?1:-1;return a==l?0:a>l^e?1:-1};kr.div=function(t){var e=this,r=e.constructor,n=e.c,s=(t=new r(t)).c,i=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Ic)throw Error(Wy);if(!s[0])throw Error(YR);if(!n[0])return t.s=i,t.c=[t.e=0],t;var a,l,u,d,f,g=s.slice(),x=a=s.length,E=n.length,D=n.slice(0,a),A=D.length,R=t,P=R.c=[],O=0,F=o+(R.e=e.e-t.e)+1;for(R.s=i,i=F<0?0:F,g.unshift(0);A++<a;)D.push(0);do{for(u=0;u<10;u++){if(a!=(A=D.length))d=a>A?1:-1;else for(f=-1,d=0;++f<a;)if(s[f]!=D[f]){d=s[f]>D[f]?1:-1;break}if(d<0){for(l=A==a?s:g;A;){if(D[--A]<l[A]){for(f=A;f&&!D[--f];)D[f]=9;--D[f],D[A]+=10}D[A]-=l[A]}for(;!D[0];)D.shift()}else break}P[O++]=d?u:++u,D[0]&&d?D[A]=n[x]||0:D=[n[x]]}while((x++<E||D[0]!==ca)&&i--);return!P[0]&&O!=1&&(P.shift(),R.e--,F--),O>F&&lh(R,F,r.RM,D[0]!==ca),R};kr.eq=function(t){return this.cmp(t)===0};kr.gt=function(t){return this.cmp(t)>0};kr.gte=function(t){return this.cmp(t)>-1};kr.lt=function(t){return this.cmp(t)<0};kr.lte=function(t){return this.cmp(t)<1};kr.minus=kr.sub=function(t){var e,r,n,s,i=this,o=i.constructor,a=i.s,l=(t=new o(t)).s;if(a!=l)return t.s=-l,i.plus(t);var u=i.c.slice(),d=i.e,f=t.c,g=t.e;if(!u[0]||!f[0])return f[0]?t.s=-l:u[0]?t=new o(i):t.s=1,t;if(a=d-g){for((s=a<0)?(a=-a,n=u):(g=d,n=f),n.reverse(),l=a;l--;)n.push(0);n.reverse()}else for(r=((s=u.length<f.length)?u:f).length,a=l=0;l<r;l++)if(u[l]!=f[l]){s=u[l]<f[l];break}if(s&&(n=u,u=f,f=n,t.s=-t.s),(l=(r=f.length)-(e=u.length))>0)for(;l--;)u[e++]=0;for(l=e;r>a;){if(u[--r]<f[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=f[r]}for(;u[--l]===0;)u.pop();for(;u[0]===0;)u.shift(),--g;return u[0]||(t.s=1,u=[g=0]),t.c=u,t.e=g,t};kr.mod=function(t){var e,r=this,n=r.constructor,s=r.s,i=(t=new n(t)).s;if(!t.c[0])throw Error(YR);return r.s=t.s=1,e=t.cmp(r)==1,r.s=s,t.s=i,e?new n(r):(s=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=s,n.RM=i,this.minus(r.times(t)))};kr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};kr.plus=kr.add=function(t){var e,r,n,s=this,i=s.constructor;if(t=new i(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var o=s.e,a=s.c,l=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new i(s):t.s=s.s),t;if(a=a.slice(),e=o-l){for(e>0?(l=o,n=u):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-u.length<0&&(n=u,u=a,a=n),e=u.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+u[e]+r)/10|0;for(r&&(a.unshift(r),++l),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=l,t};kr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,s=t<0;if(t!==~~t||t<-bT||t>bT)throw Error(ah+"exponent");for(s&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return s?r.div(n):n};kr.prec=function(t,e){if(t!==~~t||t<1||t>Ic)throw Error(ah+"precision");return lh(new this.constructor(this),t,e)};kr.round=function(t,e){if(t===ca)t=0;else if(t!==~~t||t<-Ic||t>Ic)throw Error(Wy);return lh(new this.constructor(this),t+this.e+1,e)};kr.sqrt=function(){var t,e,r,n=this,s=n.constructor,i=n.s,o=n.e,a=new s("0.5");if(!n.c[0])return new s(n);if(i<0)throw Error(j0+"No square root");i=Math.sqrt(n+""),i===0||i===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),i=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):t=new s(i+""),o=t.e+(s.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return lh(t,(s.DP-=4)+t.e+1,s.RM)};kr.times=kr.mul=function(t){var e,r=this,n=r.constructor,s=r.c,i=(t=new n(t)).c,o=s.length,a=i.length,l=r.e,u=t.e;if(t.s=r.s==t.s?1:-1,!s[0]||!i[0])return t.c=[t.e=0],t;for(t.e=l+u,o<a&&(e=s,s=i,i=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(l=a;l--;){for(a=0,u=o+l;u>l;)a=e[u]+i[l]*s[u-l-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),l=e.length;!e[--l];)e.pop();return t.c=e,t};kr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==ca){if(t!==~~t||t<0||t>Ic)throw Error(Wy);for(r=lh(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return of(r,!0,!!n)};kr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==ca){if(t!==~~t||t<0||t>Ic)throw Error(Wy);for(r=lh(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return of(r,!1,!!n)};kr[Symbol.for("nodejs.util.inspect.custom")]=kr.toJSON=kr.toString=function(){var t=this,e=t.constructor;return of(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};kr.toNumber=function(){var t=Number(of(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(j0+"Imprecise conversion");return t};kr.toPrecision=function(t,e){var r=this,n=r.constructor,s=r.c[0];if(t!==ca){if(t!==~~t||t<1||t>Ic)throw Error(ah+"precision");for(r=lh(new n(r),t,e);r.c.length<t;)r.c.push(0)}return of(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};kr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(j0+"valueOf disallowed");return of(t,t.e<=e.NE||t.e>=e.PE,!0)};var Zp=qR();function V0(t,e){return new Zp(t).cmp(new Zp(e))}function nl(t,e){return new Zp(t).plus(new Zp(e)).toString()}function ro(t){return new Zp(t).div(2).toString()}const ha=()=>new Map,hA=t=>{const e=ha();return t.forEach((r,n)=>{e.set(n,r)}),e},af=(t,e,r)=>{let n=t.get(e);return n===void 0&&t.set(e,n=r()),n},VM=(t,e)=>{const r=[];for(const[n,s]of t)r.push(e(s,n));return r},zM=(t,e)=>{for(const[r,n]of t)if(e(n,r))return!0;return!1},Dd=()=>new Set,iE=t=>t[t.length-1],WM=(t,e)=>{for(let r=0;r<e.length;r++)t.push(e[r])},Rd=Array.from,$M=(t,e)=>{for(let r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1},dA=Array.isArray;class QR{constructor(){this._observers=ha()}on(e,r){af(this._observers,e,Dd).add(r)}once(e,r){const n=(...s)=>{this.off(e,n),r(...s)};this.on(e,n)}off(e,r){const n=this._observers.get(e);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(e))}emit(e,r){return Rd((this._observers.get(e)||ha()).values()).forEach(n=>n(...r))}destroy(){this._observers=ha()}}const Mc=Math.floor,Fm=Math.abs,JR=(t,e)=>t<e?t:e,lf=(t,e)=>t>e?t:e,KM=t=>t!==0?t<0:1/t<0,XM=t=>t.toLowerCase(),YM=/^\s*/g,qM=t=>t.replace(YM,""),QM=/([A-Z])/g,kT=(t,e)=>qM(t.replace(QM,r=>`${e}${XM(r)}`)),JM=t=>{const e=unescape(encodeURIComponent(t)),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.codePointAt(s);return n},e0=typeof TextEncoder<"u"?new TextEncoder:null,ZM=t=>e0.encode(t),eL=e0?ZM:JM;let sE=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});sE&&sE.decode(new Uint8Array).length===1&&(sE=null);const TT=t=>t===void 0?null:t;class tL{constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}}let ZR=new tL,rL=!0;try{typeof localStorage<"u"&&(ZR=localStorage,rL=!1)}catch{}const nL=ZR,iL=Object.assign,sL=Object.keys,oL=(t,e)=>{for(const r in t)e(t[r],r)},CT=t=>sL(t).length,aL=t=>{for(const e in t)return!1;return!0},lL=(t,e)=>{for(const r in t)if(!e(t[r],r))return!1;return!0},uL=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),cL=(t,e)=>t===e||CT(t)===CT(e)&&lL(t,(r,n)=>(r!==void 0||uL(e,n))&&e[n]===r),mS=(t,e,r=0)=>{try{for(;r<t.length;r++)t[r](...e)}finally{r<t.length&&mS(t,e,r+1)}},hL=(t,e)=>e.includes(t),t0=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name);typeof navigator<"u"&&/Mac/.test(navigator.platform);let Xo;const dL=()=>{if(Xo===void 0)if(t0){Xo=ha();const t=process.argv;let e=null;for(let r=0;r<t.length;r++){const n=t[r];n[0]==="-"?(e!==null&&Xo.set(e,""),e=n):e!==null&&(Xo.set(e,n),e=null)}e!==null&&Xo.set(e,"")}else typeof location=="object"?(Xo=ha(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,r]=t.split("=");Xo.set(`--${kT(e,"-")}`,r),Xo.set(`-${kT(e,"-")}`,r)}})):Xo=ha();return Xo},fA=t=>dL().has(t),_A=t=>TT(t0?process.env[t.toUpperCase()]:nL.getItem(t)),fL=t=>fA("--"+t)||_A(t)!==null;fL("production");const PT=t0&&hL(process.env.FORCE_COLOR,["true","1","2"]),_L=!fA("no-colors")&&(!t0||process.stdout.isTTY||PT)&&(!t0||fA("color")||PT||_A("COLORTERM")!==null||(_A("TERM")||"").includes("color")),DT=1,RT=2,oE=4,aE=8,pL=32,eO=64,Fx=128,gL=31,OT=63,xp=127,mL=2147483647,xL=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Mc(t)===t),$y=t=>new Error(t),da=()=>{throw $y("Method unimplemented")},Lc=()=>{throw $y("Unexpected case")},tO=(t,e,r)=>new Uint8Array(t,e,r);class z0{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const xS=()=>new z0,yL=t=>{let e=t.cpos;for(let r=0;r<t.bufs.length;r++)e+=t.bufs[r].length;return e},Ja=t=>{const e=new Uint8Array(yL(t));let r=0;for(let n=0;n<t.bufs.length;n++){const s=t.bufs[n];e.set(s,r),r+=s.length}return e.set(tO(t.cbuf.buffer,0,t.cpos),r),e},vL=(t,e)=>{const r=t.cbuf.length;r-t.cpos<e&&(t.bufs.push(tO(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(lf(r,e)*2),t.cpos=0)},Hn=(t,e)=>{const r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(r*2),t.cpos=0),t.cbuf[t.cpos++]=e},pA=Hn,Nr=(t,e)=>{for(;e>xp;)Hn(t,Fx|xp&e),e=Mc(e/128);Hn(t,xp&e)},yS=(t,e)=>{const r=KM(e);for(r&&(e=-e),Hn(t,(e>OT?Fx:0)|(r?eO:0)|OT&e),e=Mc(e/64);e>0;)Hn(t,(e>xp?Fx:0)|xp&e),e=Mc(e/128)},gA=new Uint8Array(3e4),EL=gA.length/3,AL=(t,e)=>{if(e.length<EL){const r=e0.encodeInto(e,gA).written||0;Nr(t,r);for(let n=0;n<r;n++)Hn(t,gA[n])}else Ss(t,eL(e))},wL=(t,e)=>{const r=unescape(encodeURIComponent(e)),n=r.length;Nr(t,n);for(let s=0;s<n;s++)Hn(t,r.codePointAt(s))},ld=e0&&e0.encodeInto?AL:wL,vS=(t,e)=>{const r=t.cbuf.length,n=t.cpos,s=JR(r-n,e.length),i=e.length-s;t.cbuf.set(e.subarray(0,s),n),t.cpos+=s,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(lf(r*2,i)),t.cbuf.set(e.subarray(s)),t.cpos=i)},Ss=(t,e)=>{Nr(t,e.byteLength),vS(t,e)},ES=(t,e)=>{vL(t,e);const r=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,r},SL=(t,e)=>ES(t,4).setFloat32(0,e,!1),bL=(t,e)=>ES(t,8).setFloat64(0,e,!1),kL=(t,e)=>ES(t,8).setBigInt64(0,e,!1),BT=new DataView(new ArrayBuffer(4)),TL=t=>(BT.setFloat32(0,t),BT.getFloat32(0)===t),r0=(t,e)=>{switch(typeof e){case"string":Hn(t,119),ld(t,e);break;case"number":xL(e)&&Fm(e)<=mL?(Hn(t,125),yS(t,e)):TL(e)?(Hn(t,124),SL(t,e)):(Hn(t,123),bL(t,e));break;case"bigint":Hn(t,122),kL(t,e);break;case"object":if(e===null)Hn(t,126);else if(dA(e)){Hn(t,117),Nr(t,e.length);for(let r=0;r<e.length;r++)r0(t,e[r])}else if(e instanceof Uint8Array)Hn(t,116),Ss(t,e);else{Hn(t,118);const r=Object.keys(e);Nr(t,r.length);for(let n=0;n<r.length;n++){const s=r[n];ld(t,s),r0(t,e[s])}}break;case"boolean":Hn(t,e?120:121);break;default:Hn(t,127)}};class NT extends z0{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Nr(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const FT=t=>{t.count>0&&(yS(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Nr(t.encoder,t.count-2))};class Im{constructor(){this.encoder=new z0,this.s=0,this.count=0}write(e){this.s===e?this.count++:(FT(this),this.count=1,this.s=e)}toUint8Array(){return FT(this),Ja(this.encoder)}}const IT=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);yS(t.encoder,e),t.count>1&&Nr(t.encoder,t.count-2)}};class lE{constructor(){this.encoder=new z0,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(IT(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return IT(this),Ja(this.encoder)}}class CL{constructor(){this.sarr=[],this.s="",this.lensE=new Im}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new z0;return this.sarr.push(this.s),this.s="",ld(e,this.sarr.join("")),vS(e,this.lensE.toUint8Array()),Ja(e)}}const PL=crypto.getRandomValues.bind(crypto),rO=()=>PL(new Uint32Array(1))[0],DL=[1e7]+-1e3+-4e3+-8e3+-1e11,RL=()=>DL.replace(/[018]/g,t=>(t^rO()&15>>t/4).toString(16)),OL=Date.now,MT=t=>new Promise(t);Promise.all.bind(Promise);class BL{constructor(e,r){this.left=e,this.right=r}}const Va=(t,e)=>new BL(t,e),uh=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const NL=t=>VM(t,(e,r)=>`${r}:${e};`).join("");uh.ELEMENT_NODE;uh.TEXT_NODE;uh.CDATA_SECTION_NODE;uh.COMMENT_NODE;uh.DOCUMENT_NODE;uh.DOCUMENT_TYPE_NODE;uh.DOCUMENT_FRAGMENT_NODE;const pl=Symbol,nO=pl(),iO=pl(),FL=pl(),IL=pl(),ML=pl(),sO=pl(),LL=pl(),oO=pl(),UL=pl(),GL=t=>{const e=[];let r=0;for(;r<t.length;r++){const n=t[r];n.constructor===String||n.constructor===Number||n.constructor===Object&&e.push(JSON.stringify(n))}return e},HL={[nO]:Va("font-weight","bold"),[iO]:Va("font-weight","normal"),[FL]:Va("color","blue"),[ML]:Va("color","green"),[IL]:Va("color","grey"),[sO]:Va("color","red"),[LL]:Va("color","purple"),[oO]:Va("color","orange"),[UL]:Va("color","black")},jL=t=>{const e=[],r=[],n=ha();let s=[],i=0;for(;i<t.length;i++){const o=t[i],a=HL[o];if(a!==void 0)n.set(a.left,a.right);else if(o.constructor===String||o.constructor===Number){const l=NL(n);i>0||l.length>0?(e.push("%c"+o),r.push(l)):e.push(o)}else break}for(i>0&&(s=r,s.unshift(e.join("")));i<t.length;i++){const o=t[i];o instanceof Symbol||s.push(o)}return s},VL=_L?jL:GL,zL=(...t)=>{console.log(...VL(t)),WL.forEach(e=>e.print(t))},WL=Dd(),aO=t=>({[Symbol.iterator](){return this},next:t}),$L=(t,e)=>aO(()=>{let r;do r=t.next();while(!r.done&&!e(r.value));return r}),uE=(t,e)=>aO(()=>{const{done:r,value:n}=t.next();return{done:r,value:r?void 0:e(n)}});class KL{constructor(e,r){this.clock=e,this.len=r}}class Ky{constructor(){this.clients=new Map}}const Od=(t,e,r)=>e.clients.forEach((n,s)=>{const i=t.doc.store.clients.get(s);for(let o=0;o<n.length;o++){const a=n[o];hO(t,i,a.clock,a.len,r)}}),XL=(t,e)=>{let r=0,n=t.length-1;for(;r<=n;){const s=Mc((r+n)/2),i=t[s],o=i.clock;if(o<=e){if(e<o+i.len)return s;r=s+1}else n=s-1}return null},W0=(t,e)=>{const r=t.clients.get(e.client);return r!==void 0&&XL(r,e.clock)!==null},AS=t=>{t.clients.forEach(e=>{e.sort((s,i)=>s.clock-i.clock);let r,n;for(r=1,n=1;r<e.length;r++){const s=e[n-1],i=e[r];s.clock+s.len>=i.clock?s.len=lf(s.len,i.clock+i.len-s.clock):(n<r&&(e[n]=i),n++)}e.length=n})},LT=t=>{const e=new Ky;for(let r=0;r<t.length;r++)t[r].clients.forEach((n,s)=>{if(!e.clients.has(s)){const i=n.slice();for(let o=r+1;o<t.length;o++)WM(i,t[o].clients.get(s)||[]);e.clients.set(s,i)}});return AS(e),e},wS=(t,e,r,n)=>{af(t.clients,e,()=>[]).push(new KL(r,n))},YL=()=>new Ky,qL=(t,e)=>{Nr(t.restEncoder,e.clients.size),Rd(e.clients.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{t.resetDsCurVal(),Nr(t.restEncoder,r);const s=n.length;Nr(t.restEncoder,s);for(let i=0;i<s;i++){const o=n[i];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},lO=rO;class uf extends QR{constructor({guid:e=RL(),collectionid:r=null,gc:n=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=n,this.gcFilter=s,this.clientID=lO(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new l4,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=MT(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});const l=()=>MT(u=>{const d=f=>{(f===void 0||f===!0)&&(this.off("sync",d),u())};this.on("sync",d)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=u===void 0||u===!0,this.isLoaded||this.emit("load",[])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Gr(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Rd(this.subdocs).map(e=>e.guid))}transact(e,r=null){return Gr(this,e,r)}get(e,r=si){const n=af(this.share,e,()=>{const i=new r;return i._integrate(this,null),i}),s=n.constructor;if(r!==si&&s!==r)if(s===si){const i=new r;i._map=n._map,n._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=i}),i._start=n._start;for(let o=i._start;o!==null;o=o.right)o.parent=i;return i._length=n._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,yp)}getText(e=""){return this.get(e,Ux)}getMap(e=""){return this.get(e,fa)}getXmlFragment(e=""){return this.get(e,Bd)}toJSON(){const e={};return this.share.forEach((r,n)=>{e[n]=r.toJSON()}),e}destroy(){Rd(this.subdocs).forEach(r=>r.destroy());const e=this._item;if(e!==null){this._item=null;const r=e.content;r.doc=new uf({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=e,Gr(e.parent.doc,n=>{const s=r.doc;e.deleted||n.subdocsAdded.add(s),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,r){super.on(e,r)}off(e,r){super.off(e,r)}}class QL{constructor(){this.restEncoder=xS()}toUint8Array(){return Ja(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Nr(this.restEncoder,e)}writeDsLen(e){Nr(this.restEncoder,e)}}class JL extends QL{writeLeftID(e){Nr(this.restEncoder,e.client),Nr(this.restEncoder,e.clock)}writeRightID(e){Nr(this.restEncoder,e.client),Nr(this.restEncoder,e.clock)}writeClient(e){Nr(this.restEncoder,e)}writeInfo(e){pA(this.restEncoder,e)}writeString(e){ld(this.restEncoder,e)}writeParentInfo(e){Nr(this.restEncoder,e?1:0)}writeTypeRef(e){Nr(this.restEncoder,e)}writeLen(e){Nr(this.restEncoder,e)}writeAny(e){r0(this.restEncoder,e)}writeBuf(e){Ss(this.restEncoder,e)}writeJSON(e){ld(this.restEncoder,JSON.stringify(e))}writeKey(e){ld(this.restEncoder,e)}}class ZL{constructor(){this.restEncoder=xS(),this.dsCurrVal=0}toUint8Array(){return Ja(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const r=e-this.dsCurrVal;this.dsCurrVal=e,Nr(this.restEncoder,r)}writeDsLen(e){e===0&&Lc(),Nr(this.restEncoder,e-1),this.dsCurrVal+=e}}class e4 extends ZL{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new lE,this.clientEncoder=new Im,this.leftClockEncoder=new lE,this.rightClockEncoder=new lE,this.infoEncoder=new NT(pA),this.stringEncoder=new CL,this.parentInfoEncoder=new NT(pA),this.typeRefEncoder=new Im,this.lenEncoder=new Im}toUint8Array(){const e=xS();return Nr(e,0),Ss(e,this.keyClockEncoder.toUint8Array()),Ss(e,this.clientEncoder.toUint8Array()),Ss(e,this.leftClockEncoder.toUint8Array()),Ss(e,this.rightClockEncoder.toUint8Array()),Ss(e,Ja(this.infoEncoder)),Ss(e,this.stringEncoder.toUint8Array()),Ss(e,Ja(this.parentInfoEncoder)),Ss(e,this.typeRefEncoder.toUint8Array()),Ss(e,this.lenEncoder.toUint8Array()),vS(e,Ja(this.restEncoder)),Ja(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){r0(this.restEncoder,e)}writeBuf(e){Ss(this.restEncoder,e)}writeJSON(e){r0(this.restEncoder,e)}writeKey(e){const r=this.keyMap.get(e);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(r)}}const t4=(t,e,r,n)=>{n=lf(n,e[0].id.clock);const s=al(e,n);Nr(t.restEncoder,e.length-s),t.writeClient(r),Nr(t.restEncoder,n);const i=e[s];i.write(t,n-i.id.clock);for(let o=s+1;o<e.length;o++)e[o].write(t,0)},r4=(t,e,r)=>{const n=new Map;r.forEach((s,i)=>{Ki(e,i)>s&&n.set(i,s)}),SS(e).forEach((s,i)=>{r.has(i)||n.set(i,0)}),Nr(t.restEncoder,n.size),Rd(n.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{t4(t,e.clients.get(s),s,i)})},n4=(t,e)=>r4(t,e.doc.store,e.beforeState);class i4{constructor(){this.l=[]}}const UT=()=>new i4,GT=(t,e)=>t.l.push(e),HT=(t,e)=>{const r=t.l,n=r.length;t.l=r.filter(s=>e!==s),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},uO=(t,e,r)=>mS(t.l,[e,r]);class Mm{constructor(e,r){this.client=e,this.clock=r}}const $g=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Yr=(t,e)=>new Mm(t,e),s4=t=>{for(const[e,r]of t.doc.share.entries())if(r===t)return e;throw Lc()},Ix=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class o4{constructor(e,r){this.ds=e,this.sv=r}}const a4=(t,e)=>new o4(t,e);a4(YL(),new Map);const Xf=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!W0(e.ds,t.id),mA=(t,e)=>{const r=af(t.meta,mA,Dd),n=t.doc.store;r.has(e)||(e.sv.forEach((s,i)=>{s<Ki(n,i)&&us(t,Yr(i,s))}),Od(t,e.ds,s=>{}),r.add(e))};class l4{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const SS=t=>{const e=new Map;return t.clients.forEach((r,n)=>{const s=r[r.length-1];e.set(n,s.id.clock+s.length)}),e},Ki=(t,e)=>{const r=t.clients.get(e);if(r===void 0)return 0;const n=r[r.length-1];return n.id.clock+n.length},cO=(t,e)=>{let r=t.clients.get(e.id.client);if(r===void 0)r=[],t.clients.set(e.id.client,r);else{const n=r[r.length-1];if(n.id.clock+n.length!==e.id.clock)throw Lc()}r.push(e)},al=(t,e)=>{let r=0,n=t.length-1,s=t[n],i=s.id.clock;if(i===e)return n;let o=Mc(e/(i+s.length-1)*n);for(;r<=n;){if(s=t[o],i=s.id.clock,i<=e){if(e<i+s.length)return o;r=o+1}else n=o-1;o=Mc((r+n)/2)}throw Lc()},u4=(t,e)=>{const r=t.clients.get(e.client);return r[al(r,e.clock)]},Lm=u4,xA=(t,e,r)=>{const n=al(e,r),s=e[n];return s.id.clock<r&&s instanceof ln?(e.splice(n+1,0,PO(t,s,r-s.id.clock)),n+1):n},us=(t,e)=>{const r=t.doc.store.clients.get(e.client);return r[xA(t,r,e.clock)]},jT=(t,e,r)=>{const n=e.clients.get(r.client),s=al(n,r.clock),i=n[s];return r.clock!==i.id.clock+i.length-1&&i.constructor!==ru&&n.splice(s+1,0,PO(t,i,r.clock-i.id.clock+1)),i},c4=(t,e,r)=>{const n=t.clients.get(e.id.client);n[al(n,e.id.clock)]=r},hO=(t,e,r,n,s)=>{if(n===0)return;const i=r+n;let o=xA(t,e,r),a;do a=e[o++],i<a.id.clock+a.length&&xA(t,e,i),s(a);while(o<e.length&&e[o].id.clock<i)};class h4{constructor(e,r,n){this.doc=e,this.deleteSet=new Ky,this.beforeState=SS(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const VT=(t,e)=>e.deleteSet.clients.size===0&&!zM(e.afterState,(r,n)=>e.beforeState.get(n)!==r)?!1:(AS(e.deleteSet),n4(t,e),qL(t,e.deleteSet),!0),zT=(t,e,r)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&af(t.changed,e,Dd).add(r)},Um=(t,e)=>{const r=t[e-1],n=t[e];r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)&&(t.splice(e,1),n instanceof ln&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r))},d4=(t,e,r)=>{for(const[n,s]of t.clients.entries()){const i=e.clients.get(n);for(let o=s.length-1;o>=0;o--){const a=s[o],l=a.clock+a.len;for(let u=al(i,a.clock),d=i[u];u<i.length&&d.id.clock<l;d=i[++u]){const f=i[u];if(a.clock+a.len<=f.id.clock)break;f instanceof ln&&f.deleted&&!f.keep&&r(f)&&f.gc(e,!1)}}}},f4=(t,e)=>{t.clients.forEach((r,n)=>{const s=e.clients.get(n);for(let i=r.length-1;i>=0;i--){const o=r[i],a=JR(s.length-1,1+al(s,o.clock+o.len-1));for(let l=a,u=s[l];l>0&&u.id.clock>=o.clock;u=s[--l])Um(s,l)}})},dO=(t,e)=>{if(e<t.length){const r=t[e],n=r.doc,s=n.store,i=r.deleteSet,o=r._mergeStructs;try{AS(i),r.afterState=SS(r.doc.store),n.emit("beforeObserverCalls",[r,n]);const a=[];r.changed.forEach((l,u)=>a.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(r,l)})),a.push(()=>{r.changedParentTypes.forEach((l,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(l=l.filter(d=>d.target._item===null||!d.target._item.deleted),l.forEach(d=>{d.currentTarget=u,d._path=null}),l.sort((d,f)=>d.path.length-f.path.length),uO(u._dEH,l,r))})}),a.push(()=>n.emit("afterTransaction",[r,n])),mS(a,[]),r._needFormattingCleanup&&k4(r)}finally{n.gc&&d4(i,s,n.gcFilter),f4(i,s),r.afterState.forEach((d,f)=>{const g=r.beforeState.get(f)||0;if(g!==d){const x=s.clients.get(f),E=lf(al(x,g),1);for(let D=x.length-1;D>=E;D--)Um(x,D)}});for(let d=0;d<o.length;d++){const{client:f,clock:g}=o[d].id,x=s.clients.get(f),E=al(x,g);E+1<x.length&&Um(x,E+1),E>0&&Um(x,E)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(zL(oO,nO,"[yjs] ",iO,sO,"Changed the client-id because another client seems to be using it."),n.clientID=lO()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){const d=new JL;VT(d,r)&&n.emit("update",[d.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){const d=new e4;VT(d,r)&&n.emit("updateV2",[d.toUint8Array(),r.origin,n,r])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:u}=r;(a.size>0||u.size>0||l.size>0)&&(a.forEach(d=>{d.clientID=n.clientID,d.collectionid==null&&(d.collectionid=n.collectionid),n.subdocs.add(d)}),u.forEach(d=>n.subdocs.delete(d)),n.emit("subdocs",[{loaded:l,added:a,removed:u},n,r]),u.forEach(d=>d.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):dO(t,e+1)}}},Gr=(t,e,r=null,n=!0)=>{const s=t._transactionCleanups;let i=!1,o=null;t._transaction===null&&(i=!0,t._transaction=new h4(t,r,n),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(i){const a=t._transaction===s[0];t._transaction=null,a&&dO(s,0)}}return o};class _4{constructor(e,r){this.insertions=r,this.deletions=e,this.meta=new Map}}const WT=(t,e,r)=>{Od(t,r.deletions,n=>{n instanceof ln&&e.scope.some(s=>Ix(s,n))&&CS(n,!1)})},$T=(t,e,r)=>{let n=null,s=null;const i=t.doc,o=t.scope;if(Gr(i,a=>{for(;e.length>0&&n===null;){const l=i.store,u=e.pop(),d=new Set,f=[];let g=!1;Od(a,u.insertions,x=>{if(x instanceof ln){if(x.redone!==null){let{item:E,diff:D}=I4(l,x.id);D>0&&(E=us(a,Yr(E.id.client,E.id.clock+D))),x=E}!x.deleted&&o.some(E=>Ix(E,x))&&f.push(x)}}),Od(a,u.deletions,x=>{x instanceof ln&&o.some(E=>Ix(E,x))&&!W0(u.insertions,x.id)&&d.add(x)}),d.forEach(x=>{g=DO(a,x,d,u.insertions,t.ignoreRemoteMapChanges,t)!==null||g});for(let x=f.length-1;x>=0;x--){const E=f[x];t.deleteFilter(E)&&(E.delete(a),g=!0)}n=g?u:null}a.changed.forEach((l,u)=>{l.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),s=a},t),n!=null){const a=s.changedParentTypes;t.emit("stack-item-popped",[{stackItem:n,type:r,changedParentTypes:a},t])}return n};class p4 extends QR{constructor(e,{captureTimeout:r=500,captureTransaction:n=l=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=dA(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=a,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=r,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(A=>l.changedParentTypes.has(A))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const u=this.undoing,d=this.redoing,f=u?this.redoStack:this.undoStack;u?this.stopCapturing():d||this.clear(!1,!0);const g=new Ky;l.afterState.forEach((A,R)=>{const P=l.beforeState.get(R)||0,O=A-P;O>0&&wS(g,R,P,O)});const x=OL();let E=!1;if(this.lastChange>0&&x-this.lastChange<this.captureTimeout&&f.length>0&&!u&&!d){const A=f[f.length-1];A.deletions=LT([A.deletions,l.deleteSet]),A.insertions=LT([A.insertions,g])}else f.push(new _4(l.deleteSet,g)),E=!0;!u&&!d&&(this.lastChange=x),Od(l,l.deleteSet,A=>{A instanceof ln&&this.scope.some(R=>Ix(R,A))&&CS(A,!0)});const D=[{stackItem:f[f.length-1],origin:l.origin,type:u?"redo":"undo",changedParentTypes:l.changedParentTypes},this];E?this.emit("stack-item-added",D):this.emit("stack-item-updated",D)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=dA(e)?e:[e],e.forEach(r=>{this.scope.every(n=>n!==r)&&this.scope.push(r)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,r=!0){(e&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(s=>WT(n,this,s)),this.undoStack=[]),r&&(this.redoStack.forEach(s=>WT(n,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=$T(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=$T(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class Xy{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=g4(this.currentTarget,this.target))}deletes(e){return W0(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,r=this.target;this.transaction.changed.get(r).forEach(s=>{if(s!==null){const i=r._map.get(s);let o,a;if(this.adds(i)){let l=i.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(i))if(l!==null&&this.deletes(l))o="delete",a=iE(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=iE(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(i))o="delete",a=iE(i.content.getContent());else return;e.set(s,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const r=this.target,n=Dd(),s=Dd(),i=[];if(e={added:n,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(r).has(null)){let a=null;const l=()=>{a&&i.push(a)};for(let u=r._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=u.length,s.add(u)):this.adds(u)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(u.content.getContent()),n.add(u)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=u.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const g4=(t,e)=>{const r=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let n=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)s.deleted||n++,s=s.right;r.unshift(n)}e=e._item.parent}return r},fO=80;let bS=0;class m4{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=bS++}}const x4=t=>{t.timestamp=bS++},_O=(t,e,r)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=r,t.timestamp=bS++},y4=(t,e,r)=>{if(t.length>=fO){const n=t.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return _O(n,e,r),n}else{const n=new m4(e,r);return t.push(n),n}},Yy=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const r=t._searchMarker.length===0?null:t._searchMarker.reduce((i,o)=>Fm(e-i.index)<Fm(e-o.index)?i:o);let n=t._start,s=0;for(r!==null&&(n=r.p,s=r.index,x4(r));n.right!==null&&s<e;){if(!n.deleted&&n.countable){if(e<s+n.length)break;s+=n.length}n=n.right}for(;n.left!==null&&s>e;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);return r!==null&&Fm(r.index-s)<n.parent.length/fO?(_O(r,n,s),r):y4(t._searchMarker,n,s)},n0=(t,e,r)=>{for(let n=t.length-1;n>=0;n--){const s=t[n];if(r>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){t.splice(n,1);continue}s.p=i,i.marker=!0}(e<s.index||r>0&&e===s.index)&&(s.index=lf(e,s.index+r))}},qy=(t,e,r)=>{const n=t,s=e.changedParentTypes;for(;af(s,t,()=>[]).push(r),t._item!==null;)t=t._item.parent;uO(n._eH,r,e)};class si{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=UT(),this._dEH=UT(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw da()}clone(){throw da()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){GT(this._eH,e)}observeDeep(e){GT(this._dEH,e)}unobserve(e){HT(this._eH,e)}unobserveDeep(e){HT(this._dEH,e)}toJSON(){}}const pO=(t,e,r)=>{e<0&&(e=t._length+e),r<0&&(r=t._length+r);let n=r-e;const s=[];let i=t._start;for(;i!==null&&n>0;){if(i.countable&&!i.deleted){const o=i.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&n>0;a++)s.push(o[a]),n--;e=0}}i=i.right}return s},gO=t=>{const e=[];let r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){const n=r.content.getContent();for(let s=0;s<n.length;s++)e.push(n[s])}r=r.right}return e},i0=(t,e)=>{let r=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const s=n.content.getContent();for(let i=0;i<s.length;i++)e(s[i],r++,t)}n=n.right}},mO=(t,e)=>{const r=[];return i0(t,(n,s)=>{r.push(e(n,s,t))}),r},v4=t=>{let e=t._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),n=0,e=e.right}const s=r[n++];return r.length<=n&&(r=null),{done:!1,value:s}}}},xO=(t,e)=>{const r=Yy(t,e);let n=t._start;for(r!==null&&(n=r.p,e-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},Mx=(t,e,r,n)=>{let s=r;const i=t.doc,o=i.clientID,a=i.store,l=r===null?e._start:r.right;let u=[];const d=()=>{u.length>0&&(s=new ln(Yr(o,Ki(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new Nd(u)),s.integrate(t,0),u=[])};n.forEach(f=>{if(f===null)u.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(f);break;default:switch(d(),f.constructor){case Uint8Array:case ArrayBuffer:s=new ln(Yr(o,Ki(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new Qy(new Uint8Array(f))),s.integrate(t,0);break;case uf:s=new ln(Yr(o,Ki(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new Jy(f)),s.integrate(t,0);break;default:if(f instanceof si)s=new ln(Yr(o,Ki(a,o)),s,s&&s.lastId,l,l&&l.id,e,null,new Tu(f)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),d()},yO=$y("Length exceeded!"),vO=(t,e,r,n)=>{if(r>e._length)throw yO;if(r===0)return e._searchMarker&&n0(e._searchMarker,r,n.length),Mx(t,e,null,n);const s=r,i=Yy(e,r);let o=e._start;for(i!==null&&(o=i.p,r-=i.index,r===0&&(o=o.prev,r+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(r<=o.length){r<o.length&&us(t,Yr(o.id.client,o.id.clock+r));break}r-=o.length}return e._searchMarker&&n0(e._searchMarker,s,n.length),Mx(t,e,o,n)},E4=(t,e,r)=>{let s=(e._searchMarker||[]).reduce((i,o)=>o.index>i.index?o:i,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return Mx(t,e,s,r)},EO=(t,e,r,n)=>{if(n===0)return;const s=r,i=n,o=Yy(e,r);let a=e._start;for(o!==null&&(a=o.p,r-=o.index);a!==null&&r>0;a=a.right)!a.deleted&&a.countable&&(r<a.length&&us(t,Yr(a.id.client,a.id.clock+r)),r-=a.length);for(;n>0&&a!==null;)a.deleted||(n<a.length&&us(t,Yr(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw yO;e._searchMarker&&n0(e._searchMarker,s,-i+n)},Lx=(t,e,r)=>{const n=e._map.get(r);n!==void 0&&n.delete(t)},kS=(t,e,r,n)=>{const s=e._map.get(r)||null,i=t.doc,o=i.clientID;let a;if(n==null)a=new Nd([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Nd([n]);break;case Uint8Array:a=new Qy(n);break;case uf:a=new Jy(n);break;default:if(n instanceof si)a=new Tu(n);else throw new Error("Unexpected content type")}new ln(Yr(o,Ki(i.store,o)),s,s&&s.lastId,null,null,e,r,a).integrate(t,0)},TS=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},AO=t=>{const e={};return t._map.forEach((r,n)=>{r.deleted||(e[n]=r.content.getContent()[r.length-1])}),e},wO=(t,e)=>{const r=t._map.get(e);return r!==void 0&&!r.deleted},Kg=t=>$L(t.entries(),e=>!e[1].deleted);class A4 extends Xy{constructor(e,r){super(e,r),this._transaction=r}}class yp extends si{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const r=new yp;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new yp}clone(){const e=new yp;return e.insert(0,this.toArray().map(r=>r instanceof si?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,r){super._callObserver(e,r),qy(this,e,new A4(this,e))}insert(e,r){this.doc!==null?Gr(this.doc,n=>{vO(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.doc!==null?Gr(this.doc,r=>{E4(r,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?Gr(this.doc,n=>{EO(n,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return xO(this,e)}toArray(){return gO(this)}slice(e=0,r=this.length){return pO(this,e,r)}toJSON(){return this.map(e=>e instanceof si?e.toJSON():e)}map(e){return mO(this,e)}forEach(e){i0(this,e)}[Symbol.iterator](){return v4(this)}_write(e){e.writeTypeRef(R4)}}class w4 extends Xy{constructor(e,r,n){super(e,r),this.keysChanged=n}}class fa extends si{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((n,s)=>{this.set(s,n)}),this._prelimContent=null}_copy(){return new fa}clone(){const e=new fa;return this.forEach((r,n)=>{e.set(n,r instanceof si?r.clone():r)}),e}_callObserver(e,r){qy(this,e,new w4(this,e,r))}toJSON(){const e={};return this._map.forEach((r,n)=>{if(!r.deleted){const s=r.content.getContent()[r.length-1];e[n]=s instanceof si?s.toJSON():s}}),e}get size(){return[...Kg(this._map)].length}keys(){return uE(Kg(this._map),e=>e[0])}values(){return uE(Kg(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return uE(Kg(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((r,n)=>{r.deleted||e(r.content.getContent()[r.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Gr(this.doc,r=>{Lx(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?Gr(this.doc,n=>{kS(n,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return TS(this,e)}has(e){return wO(this,e)}clear(){this.doc!==null?Gr(this.doc,e=>{this.forEach(function(r,n,s){Lx(e,s,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(O4)}}const su=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&cL(t,e);class yA{constructor(e,r,n,s){this.left=e,this.right=r,this.index=n,this.currentAttributes=s}forward(){switch(this.right===null&&Lc(),this.right.content.constructor){case Wn:this.right.deleted||cf(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const KT=(t,e,r)=>{for(;e.right!==null&&r>0;){switch(e.right.content.constructor){case Wn:e.right.deleted||cf(e.currentAttributes,e.right.content);break;default:e.right.deleted||(r<e.right.length&&us(t,Yr(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},Xg=(t,e,r)=>{const n=new Map,s=Yy(e,r);if(s){const i=new yA(s.p.left,s.p,s.index,n);return KT(t,i,r-s.index)}else{const i=new yA(null,e._start,0,n);return KT(t,i,r)}},SO=(t,e,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===Wn&&su(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();const s=t.doc,i=s.clientID;n.forEach((o,a)=>{const l=r.left,u=r.right,d=new ln(Yr(i,Ki(s.store,i)),l,l&&l.lastId,u,u&&u.id,e,null,new Wn(a,o));d.integrate(t,0),r.right=d,r.forward()})},cf=(t,e)=>{const{key:r,value:n}=e;n===null?t.delete(r):t.set(r,n)},bO=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Wn&&su(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},kO=(t,e,r,n)=>{const s=t.doc,i=s.clientID,o=new Map;for(const a in n){const l=n[a],u=r.currentAttributes.get(a)||null;if(!su(u,l)){o.set(a,u);const{left:d,right:f}=r;r.right=new ln(Yr(i,Ki(s.store,i)),d,d&&d.lastId,f,f&&f.id,e,null,new Wn(a,l)),r.right.integrate(t,0),r.forward()}}return o},cE=(t,e,r,n,s)=>{r.currentAttributes.forEach((g,x)=>{s[x]===void 0&&(s[x]=null)});const i=t.doc,o=i.clientID;bO(r,s);const a=kO(t,e,r,s),l=n.constructor===String?new ll(n):n instanceof si?new Tu(n):new hf(n);let{left:u,right:d,index:f}=r;e._searchMarker&&n0(e._searchMarker,r.index,l.getLength()),d=new ln(Yr(o,Ki(i.store,o)),u,u&&u.lastId,d,d&&d.id,e,null,l),d.integrate(t,0),r.right=d,r.index=f,r.forward(),SO(t,e,r,a)},XT=(t,e,r,n,s)=>{const i=t.doc,o=i.clientID;bO(r,s);const a=kO(t,e,r,s);e:for(;r.right!==null&&(n>0||a.size>0&&(r.right.deleted||r.right.content.constructor===Wn));){if(!r.right.deleted)switch(r.right.content.constructor){case Wn:{const{key:l,value:u}=r.right.content,d=s[l];if(d!==void 0){if(su(d,u))a.delete(l);else{if(n===0)break e;a.set(l,u)}r.right.delete(t)}else r.currentAttributes.set(l,u);break}default:n<r.right.length&&us(t,Yr(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let l="";for(;n>0;n--)l+=`
`;r.right=new ln(Yr(o,Ki(i.store,o)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new ll(l)),r.right.integrate(t,0),r.forward()}SO(t,e,r,a)},TO=(t,e,r,n,s)=>{let i=e;const o=ha();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===Wn){const u=i.content;o.set(u.key,u)}i=i.right}let a=0,l=!1;for(;e!==i;){if(r===e&&(l=!0),!e.deleted){const u=e.content;switch(u.constructor){case Wn:{const{key:d,value:f}=u,g=n.get(d)||null;(o.get(d)!==u||g===f)&&(e.delete(t),a++,!l&&(s.get(d)||null)===f&&g!==f&&(g===null?s.delete(d):s.set(d,g))),!l&&!e.deleted&&cf(s,u);break}}}e=e.right}return a},S4=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Wn){const n=e.content.key;r.has(n)?e.delete(t):r.add(n)}e=e.left}},b4=t=>{let e=0;return Gr(t.doc,r=>{let n=t._start,s=t._start,i=ha();const o=hA(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case Wn:cf(o,s.content);break;default:e+=TO(r,n,s,i,o),i=hA(o),n=s;break}s=s.right}}),e},k4=t=>{const e=new Set,r=t.doc;for(const[n,s]of t.afterState.entries()){const i=t.beforeState.get(n)||0;s!==i&&hO(t,r.store.clients.get(n),i,s,o=>{!o.deleted&&o.content.constructor===Wn&&o.constructor!==ru&&e.add(o.parent)})}Gr(r,n=>{Od(t,t.deleteSet,s=>{if(s instanceof ru||!s.parent._hasFormatting||e.has(s.parent))return;const i=s.parent;s.content.constructor===Wn?e.add(i):S4(n,s)});for(const s of e)b4(s)})},YT=(t,e,r)=>{const n=r,s=hA(e.currentAttributes),i=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Tu:case hf:case ll:r<e.right.length&&us(t,Yr(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(t);break}e.forward()}i&&TO(t,i,e.right,s,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&n0(o._searchMarker,e.index,-n+r),e};class T4 extends Xy{constructor(e,r,n){super(e,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,r=[];Gr(e,n=>{const s=new Map,i=new Map;let o=this.target._start,a=null;const l={};let u="",d=0,f=0;const g=()=>{if(a!==null){let x=null;switch(a){case"delete":f>0&&(x={delete:f}),f=0;break;case"insert":(typeof u=="object"||u.length>0)&&(x={insert:u},s.size>0&&(x.attributes={},s.forEach((E,D)=>{E!==null&&(x.attributes[D]=E)}))),u="";break;case"retain":d>0&&(x={retain:d},aL(l)||(x.attributes=iL({},l))),d=0;break}x&&r.push(x),a=null}};for(;o!==null;){switch(o.content.constructor){case Tu:case hf:this.adds(o)?this.deletes(o)||(g(),a="insert",u=o.content.getContent()[0],g()):this.deletes(o)?(a!=="delete"&&(g(),a="delete"),f+=1):o.deleted||(a!=="retain"&&(g(),a="retain"),d+=1);break;case ll:this.adds(o)?this.deletes(o)||(a!=="insert"&&(g(),a="insert"),u+=o.content.str):this.deletes(o)?(a!=="delete"&&(g(),a="delete"),f+=o.length):o.deleted||(a!=="retain"&&(g(),a="retain"),d+=o.length);break;case Wn:{const{key:x,value:E}=o.content;if(this.adds(o)){if(!this.deletes(o)){const D=s.get(x)||null;su(D,E)?E!==null&&o.delete(n):(a==="retain"&&g(),su(E,i.get(x)||null)?delete l[x]:l[x]=E)}}else if(this.deletes(o)){i.set(x,E);const D=s.get(x)||null;su(D,E)||(a==="retain"&&g(),l[x]=D)}else if(!o.deleted){i.set(x,E);const D=l[x];D!==void 0&&(su(D,E)?D!==null&&o.delete(n):(a==="retain"&&g(),E===null?delete l[x]:l[x]=E))}o.deleted||(a==="insert"&&g(),cf(s,o.content));break}}o=o.right}for(g();r.length>0;){const x=r[r.length-1];if(x.retain!==void 0&&x.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}}class Ux extends si{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new Ux}clone(){const e=new Ux;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);const n=new T4(this,e,r);qy(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===ll&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?Gr(this.doc,n=>{const s=new yA(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const o=e[i];if(o.insert!==void 0){const a=!r&&typeof o.insert=="string"&&i===e.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&cE(n,this,s,a,o.attributes||{})}else o.retain!==void 0?XT(n,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&YT(n,s,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,n){const s=[],i=new Map,o=this.doc;let a="",l=this._start;function u(){if(a.length>0){const f={};let g=!1;i.forEach((E,D)=>{g=!0,f[D]=E});const x={insert:a};g&&(x.attributes=f),s.push(x),a=""}}const d=()=>{for(;l!==null;){if(Xf(l,e)||r!==void 0&&Xf(l,r))switch(l.content.constructor){case ll:{const f=i.get("ychange");e!==void 0&&!Xf(l,e)?(f===void 0||f.user!==l.id.client||f.type!=="removed")&&(u(),i.set("ychange",n?n("removed",l.id):{type:"removed"})):r!==void 0&&!Xf(l,r)?(f===void 0||f.user!==l.id.client||f.type!=="added")&&(u(),i.set("ychange",n?n("added",l.id):{type:"added"})):f!==void 0&&(u(),i.delete("ychange")),a+=l.content.str;break}case Tu:case hf:{u();const f={insert:l.content.getContent()[0]};if(i.size>0){const g={};f.attributes=g,i.forEach((x,E)=>{g[E]=x})}s.push(f);break}case Wn:Xf(l,e)&&(u(),cf(i,l.content));break}l=l.right}u()};return e||r?Gr(o,f=>{e&&mA(f,e),r&&mA(f,r),d()},"cleanup"):d(),s}insert(e,r,n){if(r.length<=0)return;const s=this.doc;s!==null?Gr(s,i=>{const o=Xg(i,this,e);n||(n={},o.currentAttributes.forEach((a,l)=>{n[l]=a})),cE(i,this,o,r,n)}):this._pending.push(()=>this.insert(e,r,n))}insertEmbed(e,r,n={}){const s=this.doc;s!==null?Gr(s,i=>{const o=Xg(i,this,e);cE(i,this,o,r,n)}):this._pending.push(()=>this.insertEmbed(e,r,n))}delete(e,r){if(r===0)return;const n=this.doc;n!==null?Gr(n,s=>{YT(s,Xg(s,this,e),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,n){if(r===0)return;const s=this.doc;s!==null?Gr(s,i=>{const o=Xg(i,this,e);o.right!==null&&XT(i,this,o,r,n)}):this._pending.push(()=>this.format(e,r,n))}removeAttribute(e){this.doc!==null?Gr(this.doc,r=>{Lx(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?Gr(this.doc,n=>{kS(n,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return TS(this,e)}getAttributes(){return AO(this)}_write(e){e.writeTypeRef(B4)}}class hE{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===Gx||r.constructor===Bd)&&r._start!==null)e=r._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Bd extends si{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Bd}clone(){const e=new Bd;return e.insert(0,this.toArray().map(r=>r instanceof si?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new hE(this,e)}querySelector(e){e=e.toUpperCase();const n=new hE(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Rd(new hE(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){qy(this,e,new C4(this,r,e))}toString(){return mO(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},n){const s=e.createDocumentFragment();return n!==void 0&&n._createAssociation(s,this),i0(this,i=>{s.insertBefore(i.toDOM(e,r,n),null)}),s}insert(e,r){this.doc!==null?Gr(this.doc,n=>{vO(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)Gr(this.doc,n=>{const s=e&&e instanceof si?e._item:e;Mx(n,this,s,r)});else{const n=this._prelimContent,s=e===null?0:n.findIndex(i=>i===e)+1;if(s===0&&e!==null)throw $y("Reference item not found");n.splice(s,0,...r)}}delete(e,r=1){this.doc!==null?Gr(this.doc,n=>{EO(n,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return gO(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return xO(this,e)}slice(e=0,r=this.length){return pO(this,e,r)}forEach(e){i0(this,e)}_write(e){e.writeTypeRef(F4)}}class Gx extends Bd{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((n,s)=>{this.setAttribute(s,n)}),this._prelimAttrs=null}_copy(){return new Gx(this.nodeName)}clone(){const e=new Gx(this.nodeName),r=this.getAttributes();return oL(r,(n,s)=>{typeof n=="string"&&e.setAttribute(s,n)}),e.insert(0,this.toArray().map(n=>n instanceof si?n.clone():n)),e}toString(){const e=this.getAttributes(),r=[],n=[];for(const a in e)n.push(a);n.sort();const s=n.length;for(let a=0;a<s;a++){const l=n[a];r.push(l+'="'+e[l]+'"')}const i=this.nodeName.toLocaleLowerCase(),o=r.length>0?" "+r.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?Gr(this.doc,r=>{Lx(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?Gr(this.doc,n=>{kS(n,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return TS(this,e)}hasAttribute(e){return wO(this,e)}getAttributes(){return AO(this)}toDOM(e=document,r={},n){const s=e.createElement(this.nodeName),i=this.getAttributes();for(const o in i){const a=i[o];typeof a=="string"&&s.setAttribute(o,a)}return i0(this,o=>{s.appendChild(o.toDOM(e,r,n))}),n!==void 0&&n._createAssociation(s,this),s}_write(e){e.writeTypeRef(N4),e.writeKey(this.nodeName)}}class C4 extends Xy{constructor(e,r,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class CO{constructor(e,r){this.id=e,this.length=r}get deleted(){throw da()}mergeWith(e){return!1}write(e,r,n){throw da()}integrate(e,r){throw da()}}const P4=0;class ru extends CO{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),cO(e.doc.store,this)}write(e,r){e.writeInfo(P4),e.writeLen(this.length-r)}getMissing(e,r){return null}}class Qy{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Qy(this.content)}splice(e){throw da()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}}class Hx{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Hx(this.len)}splice(e){const r=new Hx(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){wS(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}}const D4=(t,e)=>new uf({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Jy{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Jy(D4(this.doc.guid,this.opts))}splice(e){throw da()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class hf{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new hf(this.embed)}splice(e){throw da()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}}class Wn{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Wn(this.key,this.value)}splice(e){throw da()}mergeWith(e){return!1}integrate(e,r){const n=r.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class Nd{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Nd(this.arr)}splice(e){const r=new Nd(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){const n=this.arr.length;e.writeLen(n-r);for(let s=r;s<n;s++){const i=this.arr[s];e.writeAny(i)}}getRef(){return 8}}class ll{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ll(this.str)}splice(e){const r=new ll(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}}const R4=0,O4=1,B4=2,N4=3,F4=4;class Tu{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Tu(this.type._copy())}splice(e){throw da()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(n=>{n.deleted?e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}}const I4=(t,e)=>{let r=e,n=0,s;do n>0&&(r=Yr(r.client,r.clock+n)),s=Lm(t,r),n=r.clock-s.id.clock,r=s.redone;while(r!==null&&s instanceof ln);return{item:s,diff:n}},CS=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},PO=(t,e,r)=>{const{client:n,clock:s}=e.id,i=new ln(Yr(n,s+r),e,Yr(n,s+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=Yr(e.redone.client,e.redone.clock+r)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=r,i},qT=(t,e)=>$M(t,r=>W0(r.deletions,e)),DO=(t,e,r,n,s,i)=>{const o=t.doc,a=o.store,l=o.clientID,u=e.redone;if(u!==null)return us(t,u);let d=e.parent._item,f=null,g;if(d!==null&&d.deleted===!0){if(d.redone===null&&(!r.has(d)||DO(t,d,r,n,s,i)===null))return null;for(;d.redone!==null;)d=us(t,d.redone)}const x=d===null?e.parent:d.content.type;if(e.parentSub===null){for(f=e.left,g=e;f!==null;){let R=f;for(;R!==null&&R.parent._item!==d;)R=R.redone===null?null:us(t,R.redone);if(R!==null&&R.parent._item===d){f=R;break}f=f.left}for(;g!==null;){let R=g;for(;R!==null&&R.parent._item!==d;)R=R.redone===null?null:us(t,R.redone);if(R!==null&&R.parent._item===d){g=R;break}g=g.right}}else if(g=null,e.right&&!s){for(f=e;f!==null&&f.right!==null&&(f.right.redone||W0(n,f.right.id)||qT(i.undoStack,f.right.id)||qT(i.redoStack,f.right.id));)for(f=f.right;f.redone;)f=us(t,f.redone);if(f&&f.right!==null)return null}else f=x._map.get(e.parentSub)||null;const E=Ki(a,l),D=Yr(l,E),A=new ln(D,f,f&&f.lastId,g,g&&g.id,x,e.parentSub,e.content.copy());return e.redone=D,CS(A,!0),A.integrate(t,0),A};class ln extends CO{constructor(e,r,n,s,i,o,a,l){super(e,l.getLength()),this.origin=n,this.left=r,this.right=s,this.rightOrigin=i,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?RT:0}set marker(e){(this.info&aE)>0!==e&&(this.info^=aE)}get marker(){return(this.info&aE)>0}get keep(){return(this.info&DT)>0}set keep(e){this.keep!==e&&(this.info^=DT)}get countable(){return(this.info&RT)>0}get deleted(){return(this.info&oE)>0}set deleted(e){this.deleted!==e&&(this.info^=oE)}markDeleted(){this.info|=oE}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ki(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ki(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Mm&&this.id.client!==this.parent.client&&this.parent.clock>=Ki(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=jT(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=us(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===ru||this.right&&this.right.constructor===ru)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===ln&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===ln&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Mm){const n=Lm(r,this.parent);n.constructor===ru?this.parent=null:this.parent=n.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=jT(e,e.doc.store,Yr(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,s;if(n!==null)s=n.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const i=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),i.add(s),$g(this.origin,s.origin)){if(s.id.client<this.id.client)n=s,i.clear();else if($g(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(Lm(e.doc.store,s.origin)))i.has(Lm(e.doc.store,s.origin))||(n=s,i.clear());else break;s=s.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),cO(e.doc.store,this),this.content.integrate(e,this),zT(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new ru(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Yr(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&$g(e.origin,this.lastId)&&this.right===e&&$g(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),wS(e.deleteSet,this.id.client,this.id.clock,this.length),zT(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw Lc();this.content.gc(e),r?c4(e,this,new ru(this.id,this.length)):this.content=new Hx(this.length)}write(e,r){const n=r>0?Yr(this.id.client,this.id.clock+r-1):this.origin,s=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&gL|(n===null?0:Fx)|(s===null?0:eO)|(i===null?0:pL);if(e.writeInfo(o),n!==null&&e.writeLeftID(n),s!==null&&e.writeRightID(s),n===null&&s===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const u=s4(a);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Mm?(e.writeParentInfo(!1),e.writeLeftID(a)):Lc();i!==null&&e.writeString(i)}this.content.write(e,r)}}const RO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},OO="__ $YJS$ __";RO[OO]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");RO[OO]=!0;var ar=(t=>(t.Root="root",t.Image="image",t.Text="text",t.Block="block",t.Fragment="fragment",t))(ar||{});function Vi(t){return t.get("id")}function ud(t){return t.get("from")}function vA(t){return t.get("order")}function Uc(t){return t.get("type")}function jx(t){return t.get("content")}function Vx(t){return t.get("style")}function BO(t){return t.get("id")&&t.get("type")}function M4(t){return!!t.parent&&t.parent instanceof fa&&BO(t.parent)}var _n=(t=>(t[t.backward=0]="backward",t[t.forward=1]="forward",t[t.inward=2]="inward",t[t.self=3]="self",t[t.ancestors=4]="ancestors",t[t.descendants=5]="descendants",t))(_n||{});const df=Kn("modelService"),cd="root";var Kh=(t=>(t[t.None=0]="None",t[t.Transform=1]="Transform",t))(Kh||{});const NO={get(t,e){return ki(e)||$e(),e==="toJSON"?()=>t.toJSON():t.get(e)},set(t,e,r){return ki(e)||$e(),t.set(e,r),!0},has(t,e){return ki(e)||$e(),t.has(e)},deleteProperty(t,e){return ki(e)||$e(),t.delete(e),!0},ownKeys(t){return Array.from(t.keys())}};class L4{constructor(e,r){c(this,"_newOnlyBrand");c(this,"id");this.y=e,this.model=r,this.id=Vi(e)}isRoot(){return!1}isBlock(){return!1}isText(){return!1}}class PS extends L4{get from(){return ud(this.y)}set from(e){this.y.set("from",e)}get order(){return vA(this.y)}set order(e){this.y.set("order",e)}}class U4 extends PS{constructor(r,n){super(r,n);c(this,"type",ar.Root);const s=Uc(r);Q(s===ar.Root)}}class FO extends PS{constructor(r,n){super(r,n);c(this,"style");c(this,"type",ar.Block);c(this,"_blockBrand");const s=Uc(r);Q(s===ar.Block),this.style=new Proxy(Vx(r),NO)}isBlock(){return!0}get children(){return this.model.getChildrenNodesOfId(this.id)}removeChildAt(r){const s=this.children[r];s||gt(),this.model.removeNode({ref:s.id,direction:_n.self})}insertChildAt(r,n){if(Zs(n)){const s=this.children[r];let i=Object.create(null);i.style=n.style?{...n.style}:Object.create(null);const o=Reflect.get(n,"content");rn(o)?i.type=ar.Block:(i.type=ar.Text,i.content=o);let a;s?a=this.model.addNode({ref:s.id,direction:_n.forward},i):(Q(r===this.children.length),a=this.model.addNode({ref:this.id,direction:_n.inward},i));const l=Reflect.get(n,"children");Array.isArray(l)&&(Q(IO(a)),a.setChildren(...l))}else $e()}appendChildren(...r){var s;let n=((s=io(this.children))==null?void 0:s.order)||"0";r.forEach((i,o)=>{i.from=this.id,n=ro(nl(n,"1")),i.order=n})}setChildren(...r){const n=this.children.slice(),s=new Set;let i="0";r.forEach((o,a)=>{o.from=this.id,i=ro(nl(i,"1")),o.order=i;const l=n.findIndex(u=>u.id===o.id);l!==-1&&n.splice(l,1)}),n.forEach(o=>{o.from="undefined",s.add(o)}),setTimeout(()=>{s.forEach(o=>{o.from||console.log("detached",o)})})}insertAfter(r,n){debugger;$e()}}function IO(t){return t instanceof FO}class MO extends PS{constructor(r,n){super(r,n);c(this,"style");c(this,"type",ar.Text);const s=Uc(r);if(Q(s===ar.Text),s!==ar.Text)debugger;this.style=new Proxy(Vx(r),NO)}get content(){return jx(this.y)}set content(r){this.y.set("content",r)}isText(){return!0}setContent(r){this.content=r}getParent(){return this.model.getParentNodeOfId(this.id)}remove(){this.model.removeNode({ref:this.id,direction:_n.self})}}function G4(t){return t instanceof MO}function Gm(t,e){const r=Uc(t);if(r===ar.Root)return new U4(t,e);if(r===ar.Block)return new FO(t,e);if(r===ar.Text)return new MO(t,e);$e()}function Yg(t,e){if(!!t)return Gm(t,e)}class H4 extends Kt{constructor(){super();c(this,"saveParticipants",[])}addSaveParticipant(r){const n=OI(this.saveParticipants,r);return zn(()=>n())}participate(r,n){for(const s of this.saveParticipants)try{s.participate(r,n)}catch{$e()}}dispose(){this.saveParticipants.splice(0,this.saveParticipants.length)}}function to(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;if(t instanceof Map){let n=new Map;for(let[s,i]of t)n.set(s,to(i));return n}let e=Reflect.get(t,"CLONE");if(nf(e))return e.call(t);const r=Array.isArray(t)?[]:{};return Object.keys(t).forEach(n=>{t[n]&&typeof t[n]=="object"?r[n]=to(t[n]):r[n]=t[n]}),r}function vp(t,e){if(t===e)return!0;if(t==null||e===null||e===void 0||typeof t!=typeof e||typeof t!="object"||Array.isArray(t)!==Array.isArray(e))return!1;let r,n;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(!vp(t[r],e[r]))return!1}else{const s=[];for(n in t)s.push(n);s.sort();const i=[];for(n in e)i.push(n);if(i.sort(),!vp(s,i))return!1;for(r=0;r<s.length;r++)if(!vp(t[s[r]],e[s[r]]))return!1}return!0}function Ep(t){return Object.keys(t)}const j4=Object.prototype.hasOwnProperty;function V4(t){if(!t||typeof t!="object")return t;const e=[t];for(;e.length>0;){const r=e.shift();Object.freeze(r);for(const n in r)if(j4.call(r,n)){const s=r[n];typeof s=="object"&&!Object.isFrozen(s)&&e.push(s)}}return t}function QT(t,e){const r=Object.create(null);return!t||!e||Object.keys(e).forEach(s=>{const i=t[s],o=e[s];vp(i,o)||(r[s]=o)}),r}var LO=(t=>(t[t.Uri=1]="Uri",t[t.Regexp=2]="Regexp",t[t.ScmResource=3]="ScmResource",t[t.ScmResourceGroup=4]="ScmResourceGroup",t[t.ScmProvider=5]="ScmProvider",t[t.CommentController=6]="CommentController",t[t.CommentThread=7]="CommentThread",t[t.CommentThreadReply=8]="CommentThreadReply",t[t.CommentNode=9]="CommentNode",t[t.CommentThreadNode=10]="CommentThreadNode",t[t.TimelineActionContext=11]="TimelineActionContext",t[t.NotebookCellActionContext=12]="NotebookCellActionContext",t[t.TestItemContext=13]="TestItemContext",t[t.Date=14]="Date",t))(LO||{});const z4=/^\w[\w\d+.-]*$/,W4=/^\//,$4=/^\/\//;function JT(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!z4.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!W4.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if($4.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function K4(t,e){return!t&&!e?"file":t}function X4(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==xo&&(e=xo+e):e=xo;break}return e}const Or="",xo="/",Y4=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class s0{constructor(e,r,n,s,i,o=!1){c(this,"scheme");c(this,"authority");c(this,"path");c(this,"query");c(this,"fragment");typeof e=="object"?(this.scheme=e.scheme||Or,this.authority=e.authority||Or,this.path=e.path||Or,this.query=e.query||Or,this.fragment=e.fragment||Or):(this.scheme=K4(e,o),this.authority=r||Or,this.path=X4(this.scheme,n||Or),this.query=s||Or,this.fragment=i||Or,JT(this,o))}static isUri(e){return e instanceof s0?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return HO(this,!1)}with(e){if(!e)return this;let{scheme:r,authority:n,path:s,query:i,fragment:o}=e;return r===void 0?r=this.scheme:r===null&&(r=Or),n===void 0?n=this.authority:n===null&&(n=Or),s===void 0?s=this.path:s===null&&(s=Or),i===void 0?i=this.query:i===null&&(i=Or),o===void 0?o=this.fragment:o===null&&(o=Or),r===this.scheme&&n===this.authority&&s===this.path&&i===this.query&&o===this.fragment?this:new Hh(r,n,s,i,o)}static parse(e,r=!1){const n=Y4.exec(e);return n?new Hh(n[2]||Or,qg(n[4]||Or),qg(n[5]||Or),qg(n[7]||Or),qg(n[9]||Or),r):new Hh(Or,Or,Or,Or,Or)}static file(e){let r=Or;if(M0&&(e=e.replace(/\\/g,xo)),e[0]===xo&&e[1]===xo){const n=e.indexOf(xo,2);n===-1?(r=e.substring(2),e=xo):(r=e.substring(2,n),e=e.substring(n)||xo)}return new Hh("file",r,e,Or,Or)}static from(e){const r=new Hh(e.scheme,e.authority,e.path,e.query,e.fragment);return JT(r,!0),r}static joinPath(e,...r){$e()}toString(e=!1){return EA(this,e)}toJSON(){return this}static revive(e){if(rn(e))return e;if(e instanceof s0)return e;{const r=new Hh(e);return r._formatted=e.external,r._fsPath=e._sep===UO?e.fsPath:null,r}}}const UO=M0?1:void 0;class Hh extends s0{constructor(){super(...arguments);c(this,"_formatted",null);c(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=HO(this,!1)),this._fsPath}toString(r=!1){return r?EA(this,!0):(this._formatted||(this._formatted=EA(this,!1)),this._formatted)}toJSON(){const r={$mid:LO.Uri};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=UO),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}}const GO={[kt.Colon]:"%3A",[kt.Slash]:"%2F",[kt.QuestionMark]:"%3F",[kt.Hash]:"%23",[kt.OpenSquareBracket]:"%5B",[kt.CloseSquareBracket]:"%5D",[kt.AtSign]:"%40",[kt.ExclamationMark]:"%21",[kt.DollarSign]:"%24",[kt.Ampersand]:"%26",[kt.SingleQuote]:"%27",[kt.OpenParen]:"%28",[kt.CloseParen]:"%29",[kt.Asterisk]:"%2A",[kt.Plus]:"%2B",[kt.Comma]:"%2C",[kt.Semicolon]:"%3B",[kt.Equals]:"%3D",[kt.Space]:"%20"};function ZT(t,e){let r,n=-1;for(let s=0;s<t.length;s++){const i=t.charCodeAt(s);if(i>=kt.a&&i<=kt.z||i>=kt.A&&i<=kt.Z||i>=kt.Digit0&&i<=kt.Digit9||i===kt.Dash||i===kt.Period||i===kt.Underline||i===kt.Tilde||e&&i===kt.Slash)n!==-1&&(r+=encodeURIComponent(t.substring(n,s)),n=-1),r!==void 0&&(r+=t.charAt(s));else{r===void 0&&(r=t.substr(0,s));const o=GO[i];o!==void 0?(n!==-1&&(r+=encodeURIComponent(t.substring(n,s)),n=-1),r+=o):n===-1&&(n=s)}}return n!==-1&&(r+=encodeURIComponent(t.substring(n))),r!==void 0?r:t}function q4(t){let e;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n===kt.Hash||n===kt.QuestionMark?(e===void 0&&(e=t.substr(0,r)),e+=GO[n]):e!==void 0&&(e+=t[r])}return e!==void 0?e:t}function HO(t,e){let r;return t.authority&&t.path.length>1&&t.scheme==="file"?r=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===kt.Slash&&(t.path.charCodeAt(1)>=kt.A&&t.path.charCodeAt(1)<=kt.Z||t.path.charCodeAt(1)>=kt.a&&t.path.charCodeAt(1)<=kt.z)&&t.path.charCodeAt(2)===kt.Colon?e?r=t.path.substr(1):r=t.path[1].toLowerCase()+t.path.substr(2):r=t.path,M0&&(r=r.replace(/\//g,"\\")),r}function EA(t,e){const r=e?q4:ZT;let n="",{scheme:s,authority:i,path:o,query:a,fragment:l}=t;if(s&&(n+=s,n+=":"),(i||s==="file")&&(n+=xo,n+=xo),i){let u=i.indexOf("@");if(u!==-1){const d=i.substr(0,u);i=i.substr(u+1),u=d.indexOf(":"),u===-1?n+=r(d,!1):(n+=r(d.substr(0,u),!1),n+=":",n+=r(d.substr(u+1),!1)),n+="@"}i=i.toLowerCase(),u=i.indexOf(":"),u===-1?n+=r(i,!1):(n+=r(i.substr(0,u),!1),n+=i.substr(u))}if(o){if(o.length>=3&&o.charCodeAt(0)===kt.Slash&&o.charCodeAt(2)===kt.Colon){const u=o.charCodeAt(1);u>=kt.A&&u<=kt.Z&&(o=`/${String.fromCharCode(u+32)}:${o.substr(3)}`)}else if(o.length>=2&&o.charCodeAt(1)===kt.Colon){const u=o.charCodeAt(0);u>=kt.A&&u<=kt.Z&&(o=`${String.fromCharCode(u+32)}:${o.substr(2)}`)}n+=r(o,!0)}return a&&(n+="?",n+=r(a,!1)),l&&(n+="#",n+=e?l:ZT(l,!1)),n}function jO(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+jO(t.substr(3)):t}}const eC=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function qg(t){return t.match(eC)?t.replace(eC,e=>jO(e)):t}function o0(t){return t.get("nodes")}class zx{constructor(e,r,n){c(this,"versionId");c(this,"isUndoing");c(this,"isRedoing");c(this,"resultingSelection");this.versionId=e,this.isUndoing=r,this.isRedoing=n}merge(e){const r=e.versionId,n=this.isUndoing||e.isUndoing,s=this.isRedoing||e.isRedoing;return new zx(r,n,s)}}const dn=new Uint8Array(16),Jn=[];for(let t=0;t<256;t++)Jn.push(t.toString(16).padStart(2,"0"));let AA;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?AA=crypto.getRandomValues.bind(crypto):AA=function(t){for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return t};function Q4(){AA(dn),dn[6]=dn[6]&15|64,dn[8]=dn[8]&63|128;let t=0,e="";return e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+="-",e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+="-",e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+="-",e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+="-",e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+=Jn[dn[t++]],e+=Jn[dn[t++]],e}function J4(t,e){return r=>{const{ref:n,direction:s}=t,i=Q4(),o=new fa;if(o.set("id",i),Ep(e).forEach(a=>{const l=e[a];if(ki(l))o.set(a,l);else if(Wp(l)){Q(a==="style");const u=new fa;Ep(l).forEach(d=>{u.set(d,l[d])}),o.set(a,u)}else $e()}),s===_n.inward){const a=r._internal_getChildrenNodesOfId(n);if(o.set("from",n),a.length){const l=a.sort((u,d)=>V0(d.get("order"),u.get("order")));o.set("order",ro(nl("1",l[0].get("order"))))}else o.set("order","0.5")}else if(s===_n.backward||s===_n.forward){const a=r._internal_getParentNodeOfId(n);Q(a),o.set("from",a.get("id"));const l=r._internal_getNodeById(n);Q(l);const u=l.get("order");if(Q(u),s===_n.backward){const d=r._internal_getNextSiblingNodeOfId(n),f=d?d.get("order"):"1";o.set("order",ro(nl(u,f)))}else{const d=r._internal_getPreviousSiblingNodeOfId(n),f=d?d.get("order"):"0";f==="0"?o.set("order",ro(u)):o.set("order",ro(nl(u,f)))}}else $e();return r.yModel.get("nodes").set(i,o),o}}function tC(t){return e=>{const{ref:r,direction:n=_n.self}=t;switch(n){case _n.forward:case _n.backward:Z4(e,r,n);break;case _n.inward:VO(e,r);break;case _n.self:Wx(e,r);break;default:$e()}}}function Z4(t,e,r){const n=t._internal_getNodeById(e);Q(n);const s=n.get("from");Q(s);const i=t._internal_getChildrenNodesOfId(s).sort((a,l)=>V0(a.get("order"),l.get("order"))),o=i.indexOf(n);if(r===_n.forward){const a=o-1;Q(a>=0&&a<i.length),Wx(t,i[o-1].get("id"))}else if(r===_n.backward){const a=o+1;Q(a>=0&&a<i.length),Wx(t,i[o+1].get("id"))}else gt()}function VO(t,e){const r=t._internal_getChildrenNodesOfId(e);for(let n=0,s=r.length;n<s;n++)Wx(t,r[n].get("id"))}function Wx(t,e){VO(t,e),o0(t.yModel).delete(e)}function e8(t,e,r){return n=>{const s=n._internal_getChildrenNodesOfId(e).sort((o,a)=>V0(o.get("order"),a.get("order"))),i=n._internal_getNodeById(t);if(Q(i),i.set("from",e),rn(r))s.length?i.set("order",ro(nl(s[s.length-1].get("order"),"1"))):i.set("order","0.5");else{const o=n._internal_getNodeById(r);o||gt();const a=s.indexOf(o);if(a===0)i.set("order",ro(o.get("order")));else{const l=s[a-1];i.set("order",ro(nl(l.get("order"),o.get("order"))))}}}}function t8(t,e){return r=>{const n=r._internal_getParentNodeOfId(t),s=r._internal_getChildrenNodesOfId(n.get("id")).sort((o,a)=>V0(o.get("order"),a.get("order"))),i=r._internal_getNodeById(t);if(Q(i),Q(i.get("from")===n.get("id")),rn(e))s.length?i.set("order",ro(nl(s[s.length-1].get("order"),"1"))):i.set("order","0.5");else{const o=r._internal_getNodeById(e),a=s.indexOf(o);if(a===0)i.set("order",ro(o.get("order")));else{const l=s[a-1];l.get("id")!==t&&i.set("order",ro(nl(l.get("order"),o.get("order"))))}}}}const $k=class extends Kt{constructor(r,n,s,i){super();c(this,"id",$k.MODEL_ID++);c(this,"_yModel");c(this,"_undoManager");c(this,"ctx");c(this,"_isDisposed",!1);c(this,"_isDisposing",!1);c(this,"_versionId",1);c(this,"_alternativeVersionId",1);c(this,"_isUndoing");c(this,"_isRedoing");c(this,"_associatedResource");c(this,"_eventEmitter",this._register(new r8));c(this,"_onWillDispose",this._register(new Mt));this.doc=n,this.modelService=i,this.ctx=i,this._isUndoing=!1,this._isRedoing=!1,typeof s>"u"||s===null?this._associatedResource=s0.parse(`inmemory://model/${this.id}.json`):this._associatedResource=s,this._yModel=this._processInput(r),this._undoManager=new p4(this._yModel),this._registerUndoRedoListeners(),Reflect.set(window,"model",this)}onDidChangeContent(r){return this._eventEmitter.slowEvent(n=>r(n))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._isDisposed=!0,super.dispose(),this._isDisposing=!1}_registerUndoRedoListeners(){const r="version",n="versionBefore",s=o=>{const{meta:a}=o.stackItem;if(o.type==="redo"&&(a.set(r,this._versionId),a.set(n,this._versionId-1)),o.type==="undo"&&o.origin!==this._undoManager){const l=this.getVersionId();this._increaseVersionId(),a.set(r,this.getVersionId()),a.set(n,l),this._emitContentChangedEvent(new zx(this._alternativeVersionId,!1,!1))}},i=o=>{const{meta:a}=o.stackItem;let l=a.get(n),u=a.get(r);const d=o.type==="undo",f=o.type==="redo";this._overwriteAlternativeVersionId(d?l:u),this._emitContentChangedEvent(new zx(this._alternativeVersionId,d,f))};this._undoManager.on("stack-item-added",s),this._undoManager.on("stack-item-popped",i),this._register(zn(()=>this._undoManager.off("stack-item-added",s))),this._register(zn(()=>this._undoManager.off("stack-item-popped",i)))}get onWillDispose(){return this._onWillDispose.event}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getVersionId(){return this._assertNotDisposed(),this._versionId}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteAlternativeVersionId(r){this._alternativeVersionId=r}_emitContentChangedEvent(r){this._isDisposing||this._eventEmitter.fire(r)}get undoManager(){return this._undoManager}undo(){this.undoManager.undo()}redo(){this.undoManager.redo()}canUndo(){return this.undoManager.canUndo()}canRedo(){return this.undoManager.canRedo()}get yModel(){return this._yModel}_processInput(r){const n=this.doc.getMap(this._associatedResource.toString()),s=new fa;return n.set("nodes",s),Ep(r.nodes).forEach(i=>{const o=r.nodes[i],a=new fa;s.set(i,a),Ep(o).forEach(l=>{const u=o[l];if(Wp(u)){Q(l==="style");const d=new fa;Ep(u).forEach(f=>{d.set(f,u[f])}),a.set(l,d)}else ki(u)?a.set(l,u):gt()})}),n}getValue(){return this._yModel.toJSON()}get uri(){return this._associatedResource}_updateContextGuard(){if(!this.ctx.isUpdating())throw new Error("method should not be called outside transform()")}_internal_addNode(r,n){return this._updateContextGuard(),J4(to(r),n)(this)}addNode(r,n){return Gm(this._internal_addNode(r,n),this)}removeNode(r){this._updateContextGuard(),tC(r)(this)}removeEmptyTextNodes(){this._updateContextGuard();const r=o0(this._yModel);for(let n of r.values())Uc(n)===ar.Text&&!jx(n)&&this.removeNode({ref:Vi(n),direction:_n.self})}removeNodes(r){this._updateContextGuard();for(const n of r)tC({ref:n,direction:_n.self})(this)}reparentNode(r,n,s=void 0){this._updateContextGuard(),e8(r,n,s)(this)}reorderNode(r,n=void 0){this._updateContextGuard(),t8(r,n)(this)}_internal_getNodeById(r){return o0(this._yModel).get(r)}getNodeById(r){return Yg(this._internal_getNodeById(r),this)}_internal_getParentNodeOfId(r){const n=this._internal_getNodeById(r);if(!n)return;const s=ud(n);return s?this._internal_getNodeById(s):void 0}getParentNodeOfId(r){return Yg(this._internal_getParentNodeOfId(r),this)}_internal_getPreviousSiblingNodeOfId(r){const n=this._internal_getParentNodeOfId(r);if(!n)throw new Error("404");const s=this._internal_getChildrenNodesOfId(Vi(n));if(s.length<=1)return;const i=s.findIndex(a=>a.get("id")===r);return s[i-1]||null}_internal_getNextSiblingNodeOfId(r){const n=this._internal_getParentNodeOfId(r);if(!n)throw new Error("404");const s=this._internal_getChildrenNodesOfId(Vi(n));if(s.length<=1)return;const i=s.findIndex(o=>Vi(o)===r);return s[i+1]}_internal_getAncestorNodesOfId(r){const n=[];let s=this._internal_getParentNodeOfId(r);for(;s;)n.unshift(s),s=this._internal_getParentNodeOfId(Vi(s));return n}isAncestorNodeOfId(r,n){return this._internal_getAncestorNodesOfId(n).some(i=>Vi(i)===r)}_internal_getChildrenNodesOfId(r){return Array.from(this._yModel.get("nodes").values()).filter(s=>ud(s)===r).sort((s,i)=>V0(vA(s),vA(i)))}getAncestorNodesOfId(r){return this._internal_getAncestorNodesOfId(r).map(n=>Gm(n,this))}getChildrenNodesOfId(r){return this._internal_getChildrenNodesOfId(r).map(n=>Gm(n,this))}getNextSiblingNodeOfId(r){return Yg(this._internal_getNextSiblingNodeOfId(r),this)}getPreviousSiblingNodeOfId(r){return Yg(this._internal_getPreviousSiblingNodeOfId(r),this)}};let Hm=$k;c(Hm,"MODEL_ID",0);class r8 extends Kt{constructor(){super();c(this,"_fastEmitter",this._register(new Mt));c(this,"fastEvent",this._fastEmitter.event);c(this,"_slowEmitter",this._register(new Mt));c(this,"slowEvent",this._slowEmitter.event);c(this,"_deferredCnt");c(this,"_deferredEvent");this._deferredCnt=0,this._deferredEvent=null}hasListeners(){return this._fastEmitter.hasListeners()||this._slowEmitter.hasListeners()}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(r){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.resultingSelection=r;const n=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(n),this._slowEmitter.fire(n)}}fire(r){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(r):this._deferredEvent=r;return}this._fastEmitter.fire(r),this._slowEmitter.fire(r)}}var n8=Object.defineProperty,i8=Object.getOwnPropertyDescriptor,s8=(t,e,r,n)=>{for(var s=n>1?void 0:n?i8(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&n8(e,r,s),s},o8=(t,e)=>(r,n)=>e(r,n,t);let wA=class extends Hm{constructor(t,e,r,n){super(t,e,r,n)}replaceModel(t){$e()}};wA=s8([o8(3,df)],wA);var a8=Object.defineProperty,l8=Object.getOwnPropertyDescriptor,u8=(t,e,r,n)=>{for(var s=n>1?void 0:n?l8(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&a8(e,r,s),s},c8=(t,e)=>(r,n)=>e(r,n,t);function Yf(t){return t.toString()}let SA=class extends Kt{constructor(e){super();c(this,"_serviceBrand");c(this,"id",performance.now());c(this,"doc",new uf);c(this,"_onModelAdded",this._register(new Mt));c(this,"onModelAdded",this._onModelAdded.event);c(this,"_onModelRemoved",this._register(new Mt));c(this,"onModelRemoved",this._onModelRemoved.event);c(this,"_models",new Map);c(this,"_disposedModels");c(this,"_disposedModelsHeapSize");c(this,"modelChangeParticipant");c(this,"updateStackDepth",0);c(this,"updateMode",Kh.None);c(this,"modelVersionBeforeChange",new Map);this.instantiationService=e,this._disposedModels=new Map,this._disposedModelsHeapSize=0,this.modelChangeParticipant=new H4}updateModel(e,r){this.instantiationService.invokeFunction(n=>{!n.get(oh).listCanvases().find(a=>a.model===e)||($e(),this.reset())})}createModel(e,r){const n=this._doCreateModel(e,r);return this._onModelAdded.fire(n),n}_doCreateModel(e,r){const n=this.instantiationService.createInstance(wA,e,this.doc,r);r&&this._disposedModels.has(Yf(r))&&$e();const s=Yf(n.uri);if(this._models.has(s))throw new Error("ModelService: Cannot add model because it already exists!");return n.onWillDispose(()=>this._onWillDispose(n)),this._models.set(s,n),n}destroyModel(e){const r=this._models.get(Yf(e));!r||r.dispose()}getModel(e){const r=Yf(e);return this._models.get(r)}_onWillDispose(e){const r=Yf(e.uri);this._models.delete(r),this._onModelRemoved.fire(e)}addChangeParticipant(e){return this.modelChangeParticipant.addSaveParticipant(e)}runChangeParticipants(e,r){this.modelChangeParticipant.participate(e,r)}getModelUniversally(e){return this._models.get(e)}getAllModels(){return Array.from(this._models.values())}beginUpdate(){this.updateStackDepth++}endUpdate(){this.updateStackDepth--}isUpdating(){return this.updateStackDepth>0}reset(){this.updateStackDepth=0,this.updateMode=Kh.None}transform(e,r,n,s){this.updateMode===Kh.None&&(this.updateMode=Kh.Transform);const i=this.doUpdate(r);return this.updateMode=Kh.None,i}doUpdate(e){this.beginUpdate();let r=this.doc.transact(()=>{try{return e()}catch(n){console.error(n),gt()}});return this.endUpdate(),r}};SA=u8([c8(0,Po)],SA);Aa(df,SA);class zO extends Kt{constructor(r,n){super();c(this,"_serviceBrand");this._contextKeyService=r,this._commandService=n}dispose(){super.dispose()}getDefaultKeybindingsContent(){return""}getDefaultKeybindings(){return this._getResolver().getDefaultKeybindings()}getKeybindings(){return this._getResolver().getKeybindings()}customKeybindingsCount(){return 0}lookupKeybindings(r){return aS(this._getResolver().lookupKeybindings(r).map(n=>n.resolvedKeybinding))}lookupKeybinding(r){const n=this._getResolver().lookupPrimaryKeybinding(r);if(!!n)return n.resolvedKeybinding}dispatchEvent(r,n){return this._dispatch(r,n)}_dispatch(r,n){return this._doDispatch(this.resolveKeyboardEvent(r),n)}_doDispatch(r,n){let s=!1;const[i]=r.getDispatchParts();if(i===null)return s;const o=this._contextKeyService.getContext(n),a=this._getResolver().resolve(o,i);return a&&a.commandId&&(a.bubble||(s=!0),typeof a.commandArgs>"u"?this._commandService.executeCommand(a.commandId).then(void 0,l=>console.warn(l)):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,l=>console.warn(l))),s}}class hd{constructor(e,r){c(this,"_defaultKeybindings");c(this,"_keybindings");c(this,"_defaultBoundCommands");c(this,"_map");c(this,"_lookupMap");this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n=0,s=e.length;n<s;n++){const i=e[n].command;i&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=hd.combine(e,r);for(let n=0,s=this._keybindings.length;n<s;n++){const i=this._keybindings[n];i.keypressParts.length!==0&&(i.when&&i.when.type===sA.False||this._addKeyPress(i.keypressParts[0],i))}}static _isTargetedForRemoval(e,r,n,s,i){return!(e.command!==s||r&&e.keypressParts[0]!==r||n&&e.keypressParts[1]!==n||i&&(!e.when||!i.equals(e.when)))}static combine(e,r){e=e.slice(0);const n=[];for(const s of r){if(!s.command||s.command.length===0||s.command.charAt(0)!=="-"){n.push(s);continue}const i=s.command.substr(1),o=s.keypressParts[0],a=s.keypressParts[1],l=s.when;for(let u=e.length-1;u>=0;u--)this._isTargetedForRemoval(e[u],o,a,i,l)&&e.splice(u,1)}return e.concat(n)}_addKeyPress(e,r){const n=this._map.get(e);if(typeof n>"u"){this._map.set(e,[r]),this._addToLookupMap(r);return}for(let s=n.length-1;s>=0;s--){const i=n[s];if(i.command===r.command)continue;const o=i.keypressParts.length>1,a=r.keypressParts.length>1;o&&a&&i.keypressParts[1]!==r.keypressParts[1]||hd.whenIsEntirelyIncluded(i.when,r.when)&&this._removeFromLookupMap(i)}n.push(r),this._addToLookupMap(r)}_addToLookupMap(e){if(!e.command)return;let r=this._lookupMap.get(e.command);typeof r>"u"?(r=[e],this._lookupMap.set(e.command,r)):r.push(e)}_removeFromLookupMap(e){if(!e.command)return;const r=this._lookupMap.get(e.command);if(!(typeof r>"u")){for(let n=0,s=r.length;n<s;n++)if(r[n]===e){r.splice(n,1);return}}}static whenIsEntirelyIncluded(e,r){return r?e?this._implies(e,r):!1:!0}static _implies(e,r){const n=e.negate(),s=o=>o.type===sA.Or?o.expr:[o],i=s(n).concat(s(r));for(let o=0;o<i.length;o++){const l=i[o].negate();for(let u=o+1;u<i.length;u++){const d=i[u];if(l.equals(d))return!0}}return!1}getDefaultBoundCommands(){return this._defaultBoundCommands}getDefaultKeybindings(){return this._defaultKeybindings}getKeybindings(){return this._keybindings}lookupKeybindings(e){const r=this._lookupMap.get(e);if(typeof r>"u"||r.length===0)return[];const n=[];let s=0;for(let i=r.length-1;i>=0;i--)n[s++]=r[i];return n}lookupPrimaryKeybinding(e){const r=this._lookupMap.get(e);return typeof r>"u"||r.length===0?null:r[r.length-1]}resolve(e,r){this._log(`| Resolving ${r}`);let n=null;const s=this._map.get(r);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;n=s;const i=this._findCommand(e,n);return i?(this._log(`\\ From ${n.length} keybinding entries, matched ${i.command}, when: ${h8(i.when)}, source: ${d8(i)}.`),{leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,r){for(let n=r.length-1;n>=0;n--){const s=r[n];if(!!hd.contextMatchesRules(e,s.when))return s}return null}static contextMatchesRules(e,r){return r?r.evaluate(e):!0}_log(...e){}}function h8(t){return t?`${t.serialize()}`:"no when condition"}function d8(t){return t.extensionId?t.isBuiltinExtension?`built-in extension ${t.extensionId}`:`user extension ${t.extensionId}`:t.isDefault?"built-in":"user"}const lo=navigator.userAgent,f8=lo.indexOf("Windows")>=0,bA=lo.indexOf("Macintosh")>=0;lo.indexOf("Linux")>=0;const _8=lo.indexOf("Firefox")>=0,p8=lo.indexOf("AppleWebKit")>=0,g8=lo.indexOf("Chrome")>=0,m8=!g8&&lo.indexOf("Safari")>=0;lo.indexOf("iPad")>=0||m8&&navigator.maxTouchPoints>0;lo.indexOf("Edge/")>=0&&lo.indexOf("WebView/")>=0;lo.indexOf("Electron/")>=0;lo.indexOf("Android")>=0;var _a=(t=>(t[t.Windows=1]="Windows",t[t.Macintosh=2]="Macintosh",t[t.Linux=3]="Linux",t))(_a||{});const na=bA?2:f8?1:3;var Pe=(t=>(t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.KEY_0=21]="KEY_0",t[t.KEY_1=22]="KEY_1",t[t.KEY_2=23]="KEY_2",t[t.KEY_3=24]="KEY_3",t[t.KEY_4=25]="KEY_4",t[t.KEY_5=26]="KEY_5",t[t.KEY_6=27]="KEY_6",t[t.KEY_7=28]="KEY_7",t[t.KEY_8=29]="KEY_8",t[t.KEY_9=30]="KEY_9",t[t.KEY_A=31]="KEY_A",t[t.KEY_B=32]="KEY_B",t[t.KEY_C=33]="KEY_C",t[t.KEY_D=34]="KEY_D",t[t.KEY_E=35]="KEY_E",t[t.KEY_F=36]="KEY_F",t[t.KEY_G=37]="KEY_G",t[t.KEY_H=38]="KEY_H",t[t.KEY_I=39]="KEY_I",t[t.KEY_J=40]="KEY_J",t[t.KEY_K=41]="KEY_K",t[t.KEY_L=42]="KEY_L",t[t.KEY_M=43]="KEY_M",t[t.KEY_N=44]="KEY_N",t[t.KEY_O=45]="KEY_O",t[t.KEY_P=46]="KEY_P",t[t.KEY_Q=47]="KEY_Q",t[t.KEY_R=48]="KEY_R",t[t.KEY_S=49]="KEY_S",t[t.KEY_T=50]="KEY_T",t[t.KEY_U=51]="KEY_U",t[t.KEY_V=52]="KEY_V",t[t.KEY_W=53]="KEY_W",t[t.KEY_X=54]="KEY_X",t[t.KEY_Y=55]="KEY_Y",t[t.KEY_Z=56]="KEY_Z",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.NumLock=78]="NumLock",t[t.ScrollLock=79]="ScrollLock",t[t.US_SEMICOLON=80]="US_SEMICOLON",t[t.US_EQUAL=81]="US_EQUAL",t[t.US_COMMA=82]="US_COMMA",t[t.US_MINUS=83]="US_MINUS",t[t.US_DOT=84]="US_DOT",t[t.US_SLASH=85]="US_SLASH",t[t.US_BACKTICK=86]="US_BACKTICK",t[t.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",t[t.US_BACKSLASH=88]="US_BACKSLASH",t[t.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",t[t.US_QUOTE=90]="US_QUOTE",t[t.OEM_8=91]="OEM_8",t[t.OEM_102=92]="OEM_102",t[t.NUMPAD_0=93]="NUMPAD_0",t[t.NUMPAD_1=94]="NUMPAD_1",t[t.NUMPAD_2=95]="NUMPAD_2",t[t.NUMPAD_3=96]="NUMPAD_3",t[t.NUMPAD_4=97]="NUMPAD_4",t[t.NUMPAD_5=98]="NUMPAD_5",t[t.NUMPAD_6=99]="NUMPAD_6",t[t.NUMPAD_7=100]="NUMPAD_7",t[t.NUMPAD_8=101]="NUMPAD_8",t[t.NUMPAD_9=102]="NUMPAD_9",t[t.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",t[t.NUMPAD_ADD=104]="NUMPAD_ADD",t[t.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",t[t.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",t[t.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",t[t.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",t[t.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",t[t.ABNT_C1=110]="ABNT_C1",t[t.ABNT_C2=111]="ABNT_C2",t[t.MAX_VALUE=112]="MAX_VALUE",t[t.Any=113]="Any",t[t.None=114]="None",t))(Pe||{});class DS{constructor(){c(this,"_keyCodeToStr");c(this,"_strToKeyCode");this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,r){this._keyCodeToStr[e]=r,this._strToKeyCode[r.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const kA=new DS,TA=new DS,CA=new DS;(function(){function t(e,r,n=r,s=n){kA.define(e,r),TA.define(e,n),CA.define(e,s)}t(0,"unknown"),t(1,"Backspace"),t(2,"Tab"),t(3,"Enter"),t(4,"Shift"),t(5,"Ctrl"),t(6,"Alt"),t(7,"PauseBreak"),t(8,"CapsLock"),t(9,"Escape"),t(10,"Space"),t(11,"PageUp"),t(12,"PageDown"),t(13,"End"),t(14,"Home"),t(15,"LeftArrow","Left"),t(16,"UpArrow","Up"),t(17,"RightArrow","Right"),t(18,"DownArrow","Down"),t(19,"Insert"),t(20,"Delete"),t(21,"0"),t(22,"1"),t(23,"2"),t(24,"3"),t(25,"4"),t(26,"5"),t(27,"6"),t(28,"7"),t(29,"8"),t(30,"9"),t(31,"A"),t(32,"B"),t(33,"C"),t(34,"D"),t(35,"E"),t(36,"F"),t(37,"G"),t(38,"H"),t(39,"I"),t(40,"J"),t(41,"K"),t(42,"L"),t(43,"M"),t(44,"N"),t(45,"O"),t(46,"P"),t(47,"Q"),t(48,"R"),t(49,"S"),t(50,"T"),t(51,"U"),t(52,"V"),t(53,"W"),t(54,"X"),t(55,"Y"),t(56,"Z"),t(57,"Meta"),t(58,"ContextMenu"),t(59,"F1"),t(60,"F2"),t(61,"F3"),t(62,"F4"),t(63,"F5"),t(64,"F6"),t(65,"F7"),t(66,"F8"),t(67,"F9"),t(68,"F10"),t(69,"F11"),t(70,"F12"),t(71,"F13"),t(72,"F14"),t(73,"F15"),t(74,"F16"),t(75,"F17"),t(76,"F18"),t(77,"F19"),t(78,"NumLock"),t(79,"ScrollLock"),t(80,";",";","OEM_1"),t(81,"=","=","OEM_PLUS"),t(82,",",",","OEM_COMMA"),t(83,"-","-","OEM_MINUS"),t(84,".",".","OEM_PERIOD"),t(85,"/","/","OEM_2"),t(86,"`","`","OEM_3"),t(110,"ABNT_C1"),t(111,"ABNT_C2"),t(87,"[","[","OEM_4"),t(88,"\\","\\","OEM_5"),t(89,"]","]","OEM_6"),t(90,"'","'","OEM_7"),t(91,"OEM_8"),t(92,"OEM_102"),t(93,"NumPad0"),t(94,"NumPad1"),t(95,"NumPad2"),t(96,"NumPad3"),t(97,"NumPad4"),t(98,"NumPad5"),t(99,"NumPad6"),t(100,"NumPad7"),t(101,"NumPad8"),t(102,"NumPad9"),t(103,"NumPad_Multiply"),t(104,"NumPad_Add"),t(105,"NumPad_Separator"),t(106,"NumPad_Subtract"),t(107,"NumPad_Decimal"),t(108,"NumPad_Divide")})();var a0;(t=>{function e(o){return kA.keyCodeToStr(o)}t.toString=e;function r(o){return kA.strToKeyCode(o)}t.fromString=r;function n(o){return TA.keyCodeToStr(o)}t.toUserSettingsUS=n;function s(o){return CA.keyCodeToStr(o)}t.toUserSettingsGeneral=s;function i(o){return TA.strToKeyCode(o)||CA.strToKeyCode(o)}t.fromUserSettings=i})(a0||(a0={}));var xa=(t=>(t[t.CtrlCmd=2048]="CtrlCmd",t[t.Shift=1024]="Shift",t[t.Alt=512]="Alt",t[t.WinCtrl=256]="WinCtrl",t))(xa||{});class Zy{constructor(e,r,n,s,i){c(this,"ctrlKey");c(this,"shiftKey");c(this,"altKey");c(this,"metaKey");c(this,"keyCode");this.ctrlKey=e,this.shiftKey=r,this.altKey=n,this.metaKey=s,this.keyCode=i}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){const e=this.ctrlKey?"1":"0",r=this.shiftKey?"1":"0",n=this.altKey?"1":"0",s=this.metaKey?"1":"0";return`${e}${r}${n}${s}${this.keyCode}`}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}modifierCount(){return Number(this.ctrlKey)+Number(this.shiftKey)+Number(this.altKey)+Number(this.metaKey)}codeCount(){return this.isDuplicateModifierCase()?this.modifierCount():this.modifierCount()+this.keyCode===114?0:1}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}function WO(t,e){const r=!!(t&2048),n=!!(t&256),s=e===_a.Macintosh?n:r,i=!!(t&1024),o=!!(t&512),a=e===_a.Macintosh?r:n,l=t&255;return new Zy(s,i,o,a,l)}function rC(t,e){if(t===0)return null;const r=(t&65535)>>>0;if((t&4294901760)>>>16!==0)throw new Error("chordkeybinding is not su");return WO(r,e)}class x8{constructor(e,r,n,s,i){c(this,"ctrlKey");c(this,"shiftKey");c(this,"altKey");c(this,"metaKey");c(this,"keyLabel");this.ctrlKey=e,this.shiftKey=r,this.altKey=n,this.metaKey=s,this.keyLabel=i}}class y8{}const e1=Kn("commandService");class $O{constructor(){c(this,"_commands",new Map);c(this,"_onDidRegisterCommand",new Mt);c(this,"onDidRegisterCommand",this._onDidRegisterCommand.event)}registerCommand(e,r){if(!e)throw new Error("invalid command");if(typeof e=="string"){if(!r)throw new Error("invalid command");return this.registerCommand({id:e,handler:r})}const{id:n}=e;let s=this._commands.get(n);s||(s=new Qp,this._commands.set(n,s));let i=s.unshift(e),o=zn(()=>{i();const a=this._commands.get(n);a!=null&&a.isEmpty()&&this._commands.delete(n)});return this._onDidRegisterCommand.fire(n),o}getCommand(e){const r=this._commands.get(e);if(!(!r||r.isEmpty()))return Nc.first(r)}getCommands(){const e=new Map;for(const r of this._commands.keys()){const n=this.getCommand(r);n&&e.set(r,n)}return e}}const RS=new $O;var OS=(t=>(t[t.EditorCore=0]="EditorCore",t[t.EditorContrib=100]="EditorContrib",t[t.WorkbenchContrib=200]="WorkbenchContrib",t[t.BuiltinExtension=300]="BuiltinExtension",t[t.ExternalExtension=400]="ExternalExtension",t))(OS||{});class l0{constructor(){c(this,"_coreKeybindings");c(this,"_extensionKeybindings");c(this,"_cachedMergedKeybindings");this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(na===_a.Windows){if(e&&e.win)return e.win}else if(na===_a.Macintosh){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const r=l0.bindToCurrentPlatform(e);if(r&&r.primary){const n=rC(r.primary,na);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when)}if(r&&Array.isArray(r.secondary))for(let n=0,s=r.secondary.length;n<s;n++){const i=r.secondary[n],o=rC(i,na);o&&this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-n-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),RS.registerCommand(e)}static _mightProduceChar(e){return e>=Pe.KEY_0&&e<=Pe.KEY_9||e>=Pe.KEY_A&&e<=Pe.KEY_Z?!0:e===Pe.US_SEMICOLON||e===Pe.US_EQUAL||e===Pe.US_COMMA||e===Pe.US_MINUS||e===Pe.US_DOT||e===Pe.US_SLASH||e===Pe.US_BACKTICK||e===Pe.ABNT_C1||e===Pe.ABNT_C2||e===Pe.US_OPEN_SQUARE_BRACKET||e===Pe.US_BACKSLASH||e===Pe.US_CLOSE_SQUARE_BRACKET||e===Pe.US_QUOTE||e===Pe.OEM_8||e===Pe.OEM_102}_assertNoCtrlAlt(e,r){e.ctrlKey&&e.altKey&&!e.metaKey&&l0._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",r)}_registerDefaultKeybinding(e,r,n,s,i,o){na===_a.Windows&&this._assertNoCtrlAlt(e,r),this._coreKeybindings.push({keybinding:e,command:r,commandArgs:n,when:o,weight1:s,weight2:i}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(E8)),this._cachedMergedKeybindings.slice(0)}}const t1=new l0,v8="platform.keybindingsRegistry";Bc.add(v8,t1);function E8(t,e){return t.weight1!==e.weight1?t.weight1-e.weight1:t.command<e.command?-1:t.command>e.command?1:t.weight2-e.weight2}class $x{constructor(e,r,n,s,i,o,a){c(this,"resolvedKeybinding");c(this,"keypressParts");c(this,"bubble");c(this,"command");c(this,"commandArgs");c(this,"when");c(this,"isDefault");c(this,"extensionId");c(this,"isBuiltinExtension");this.resolvedKeybinding=e,this.keypressParts=e?nC(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=nC(e.getSingleModifierDispatchParts())),this.bubble=r?r.charCodeAt(0)===kt.Caret:!1,this.command=this.bubble?r.substr(1):r,this.commandArgs=n,this.when=s,this.isDefault=i,this.extensionId=o,this.isBuiltinExtension=a}}function nC(t){const e=[];for(let r=0,n=t.length;r<n;r++){const s=t[r];if(!s)return e;e.push(s)}return e}class A8{constructor(e,r,n=r){c(this,"modifierLabels");this.modifierLabels=[null],this.modifierLabels[_a.Macintosh]=e,this.modifierLabels[_a.Windows]=r,this.modifierLabels[_a.Linux]=n}toLabel(e,r,n){if(r.length===0)return null;const s=[];for(let i=0,o=r.length;i<o;i++){const a=r[i],l=n(a);if(l===null)return null;s[i]=S8(a,l,this.modifierLabels[e])}return s.join(" ")}}const w8=new A8({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Windows",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});function S8(t,e,r){if(e===null)return"";const n=[];return t.ctrlKey&&n.push(r.ctrlKey),t.shiftKey&&n.push(r.shiftKey),t.altKey&&n.push(r.altKey),t.metaKey&&n.push(r.metaKey),e!==""&&n.push(e),n.join(r.separator)}class b8 extends y8{constructor(r,n){super();c(this,"_os");c(this,"_parts");if(n.length===0)throw new Error("400");this._os=r,this._parts=n}getLabel(){return w8.toLabel(this._os,this._parts,r=>this._getLabel(r))}getParts(){return this._parts.map(r=>this._getPart(r))}_getPart(r){return new x8(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,this._getLabel(r))}getDispatchParts(){return this._parts.map(r=>this._getDispatchPart(r))}getSingleModifierDispatchParts(){return this._parts.map(r=>this._getSingleModifierDispatchPart(r))}}class Fd extends b8{constructor(e,r){super(r,[e])}_keyCodeToUILabel(e){if(this._os===_a.Macintosh)switch(e){case Pe.LeftArrow:return"\u2190";case Pe.UpArrow:return"\u2191";case Pe.RightArrow:return"\u2192";case Pe.DownArrow:return"\u2193"}return a0.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getDispatchPart(e){return Fd.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let r="";return e.ctrlKey&&(r+="ctrl+"),e.shiftKey&&(r+="shift+"),e.altKey&&(r+="alt+"),e.metaKey&&(r+="meta+"),r+=a0.toString(e.keyCode),r}_getSingleModifierDispatchPart(e){return e.keyCode===Pe.Ctrl&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===Pe.Shift&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===Pe.Alt&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===Pe.Meta&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}}var k8=Object.defineProperty,T8=Object.getOwnPropertyDescriptor,C8=(t,e,r,n)=>{for(var s=n>1?void 0:n?T8(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&k8(e,r,s),s},iC=(t,e)=>(r,n)=>e(r,n,t);let PA=class extends zO{constructor(e,r){super(e,r);c(this,"_cachedResolver");c(this,"_dynamicKeybindings");this._cachedResolver=null,this._dynamicKeybindings=[]}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(t1.getDefaultKeybindings(),!0),r=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new hd(e,r)}return this._cachedResolver}_toNormalizedKeybindingItems(e,r){const n=[];let s=0;for(const i of e){const o=i.when||void 0,a=i.keybinding;if(!a)n[s++]=new $x(void 0,i.command,i.commandArgs,o,r,null,!1);else{const l=this.resolveKeybinding(a);for(const u of l)n[s++]=new $x(u,i.command,i.commandArgs,o,r,null,!1)}}return n}resolveKeybinding(e){return[new Fd(e,na)]}resolveKeyboardEvent(e){const r=new Zy(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new Fd(r,na)}};PA=C8([iC(0,Ea),iC(1,e1)],PA);Aa(Jp,PA);class Qg{constructor(){c(this,"segment");c(this,"value");c(this,"key");c(this,"left");c(this,"mid");c(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class P8{constructor(e=!0){c(this,"_value");c(this,"_from");c(this,"_to");this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===kt.Period)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?HR(e,this._value,0,e.length,this._from,this._to):WI(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class BS{constructor(e){c(this,"_iter");c(this,"_root");this._iter=e}static forConfigKeys(){return new BS(new P8)}clear(){this._root=void 0}set(e,r){const n=this._iter.reset(e);let s;for(this._root||(this._root=new Qg,this._root.segment=n.value()),s=this._root;;){const o=n.cmp(s.segment);if(o>0)s.left||(s.left=new Qg,s.left.segment=n.value()),s=s.left;else if(o<0)s.right||(s.right=new Qg,s.right.segment=n.value()),s=s.right;else if(n.hasNext())n.next(),s.mid||(s.mid=new Qg,s.mid.segment=n.value()),s=s.mid;else break}const i=s.value;return s.value=r,s.key=e,i}get(e){var r;return(r=this._getNode(e))==null?void 0:r.value}_getNode(e){const r=this._iter.reset(e);let n=this._root;for(;n;){const s=r.cmp(n.segment);if(s>0)n=n.left;else if(s<0)n=n.right;else if(r.hasNext())r.next(),n=n.mid;else break}return n}has(e){const r=this._getNode(e);return!((r==null?void 0:r.value)===void 0&&(r==null?void 0:r.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,r){const n=this._iter.reset(e),s=[];let i=this._root;for(;i;){const o=n.cmp(i.segment);if(o>0)s.push([1,i]),i=i.left;else if(o<0)s.push([-1,i]),i=i.right;else if(n.hasNext())n.next(),s.push([0,i]),i=i.mid;else{for(r?(i.left=void 0,i.mid=void 0,i.right=void 0):i.value=void 0;s.length>0&&i.isEmpty();){let[a,l]=s.pop();switch(a){case 1:l.left=void 0;break;case 0:l.mid=void 0;break;case-1:l.right=void 0;break}i=l}break}}}findSubstr(e){const r=this._iter.reset(e);let n=this._root,s;for(;n;){const i=r.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else if(r.hasNext())r.next(),s=n.value||s,n=n.mid;else break}return n&&n.value||s}findSuperstr(e){const r=this._iter.reset(e);let n=this._root;for(;n;){const s=r.cmp(n.segment);if(s>0)n=n.left;else if(s<0)n=n.right;else if(r.hasNext())r.next(),n=n.mid;else return n.mid?this._entries(n.mid):void 0}}forEach(e){for(const[r,n]of this)e(n,r)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}class D8{constructor(){c(this,"defaultValues");c(this,"configurationProperties");c(this,"excludedConfigurationProperties");this.defaultValues={},this.configurationProperties={},this.excludedConfigurationProperties={}}getConfigurationProperties(){return this.configurationProperties}registerConfiguration(e,r=!0){this.registerConfigurations([e],r)}registerConfigurations(e,r=!0){const n=[];e.forEach(s=>{n.push(...this.validateAndRegisterProperties(s,r)),this.registerJSONConfiguration(s)})}validateAndRegisterProperties(e,r=!0,n=1){n=rn(e.scope)?n:e.scope;const s=[],i=e.properties;if(i)for(const a in i){if(r&&R8(a)){delete i[a];continue}const l=i[a];if(this.updatePropertyDefaultValue(a,l),IS.test(a)?l.scope=void 0:l.scope=rn(l.scope)?n:l.scope,i[a].hasOwnProperty("included")&&!i[a].included){this.excludedConfigurationProperties[a]=i[a],delete i[a];continue}else this.configurationProperties[a]=i[a];!i[a].deprecationMessage&&i[a].markdownDeprecationMessage&&(i[a].deprecationMessage=i[a].markdownDeprecationMessage),s.push(a)}const o=e.allOf;if(o)for(const a of o)s.push(...this.validateAndRegisterProperties(a,r,n));return s}updatePropertyDefaultValue(e,r){let n=this.defaultValues[e];wx(n)&&(n=r.default),wx(n)&&(n=O8(r.type)),r.default=n}registerJSONConfiguration(e){const r=n=>{const s=n.properties;if(s)for(const o in s)this.updateSchema(o,s[o]);const i=n.allOf;i&&i.forEach(r)};r(e)}updateSchema(e,r){switch(r.scope){}}}const KO="configurationRegistry";let jm=Reflect.get(Pn,KO);jm||(jm=new D8,Reflect.set(Pn,KO,jm));const NS=jm;function R8(t){return t.trim()?IS.test(t)?`Cannot register '${t}. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.`:NS.getConfigurationProperties()[t]!==void 0?`Cannot register '${t}'. This property is already registered.`:null:"Cannot register an empty property"}function O8(t){switch(Array.isArray(t)?t[0]:t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const XO=Kn("configurationService");var Ap=(t=>(t[t.USER=1]="USER",t[t.WORKSPACE=2]="WORKSPACE",t[t.DEFAULT=3]="DEFAULT",t[t.MEMORY=4]="MEMORY",t))(Ap||{});function sC(t,e,r){function n(o,a){let l=o;for(const u of a){if(typeof l!="object"||l===null)return;l=l[u]}return l}const s=e.split("."),i=n(t,s);return typeof i>"u"?r:i}function B8(t,e){const r=Object.create(null);for(const n in t)FS(r,n,t[n],e);return r}function FS(t,e,r,n){const s=e.split("."),i=s.pop();let o=t;for(let a=0;a<s.length;a++){const l=s[a];let u=o[l];switch(typeof u){case"undefined":u=o[l]=Object.create(null);break;case"object":break;default:n(`Ignoring ${e} as ${s.slice(0,a+1).join(".")} is ${JSON.stringify(u)}`);return}o=u}if(typeof o=="object"&&o!==null)try{o[i]=r}catch{n(`Ignoring ${e} as ${s.join(".")} is ${JSON.stringify(o)}`)}else n(`Ignoring ${e} as ${s.join(".")} is ${JSON.stringify(o)}`)}function N8(t,e){const r=e.split(".");YO(t,r)}function YO(t,e){const r=e.shift();if(e.length===0){delete t[r];return}if(Object.keys(t).indexOf(r)!==-1){const n=t[r];typeof n=="object"&&!Array.isArray(n)&&(YO(n,e),Object.keys(n).length===0&&delete t[r])}}function F8(){const t=NS.getConfigurationProperties();return Object.keys(t)}function I8(){const t=Object.create(null),e=NS.getConfigurationProperties();for(const r in e){const n=e[r].default;FS(t,r,n,s=>console.error(`Conflict in default settings: ${s}`))}return t}const M8="\\[.*\\]$",IS=new RegExp(M8);function L8(t){return t.substring(1,t.length-1)}var U8=Object.defineProperty,G8=Object.getOwnPropertyDescriptor,H8=(t,e,r,n)=>{for(var s=n>1?void 0:n?G8(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&U8(e,r,s),s},j8=(t,e)=>(r,n)=>e(r,n,t);const wp="data-keybinding-context";class MS{constructor(e,r){c(this,"_parent");c(this,"_value");c(this,"_id");this._id=e,this._parent=r,this._value=Object.create(null),this._value._contextId=e}setValue(e,r){return this._value[e]!==r?(this._value[e]=r,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const r=this._value[e];return typeof r>"u"&&this._parent?this._parent.getValue(e):r}updateParent(e){this._parent=e}collectAllValues(){let e=this._parent?this._parent.collectAllValues():Object.create(null);return e={...e,...this._value},delete e._contextId,e}}const Kk=class extends MS{constructor(){super(-1,null)}setValue(e,r){return!1}removeValue(e){return!1}getValue(e){}collectAllValues(){return Object.create(null)}};let xc=Kk;c(xc,"INSTANCE",new Kk);const Fy=class extends MS{constructor(r,n,s){super(r,null);c(this,"_values",BS.forConfigKeys());c(this,"_listener");this._configurationService=n,this._listener=this._configurationService.onDidChangeConfiguration(i=>{if(i.source===Ap.DEFAULT){const o=Array.from(Nc.map(this._values,([a])=>a));this._values.clear(),s.fire(new DA(o))}else{const o=[];for(const a of i.affectedKeys){const l=`config.${a}`,u=this._values.findSuperstr(l);u!==void 0&&(o.push(...Nc.map(u,([d])=>d)),this._values.deleteSuperstr(l)),this._values.has(l)&&(o.push(l),this._values.delete(l))}s.fire(new DA(o))}})}dispose(){this._listener.dispose()}getValue(r){if(r.indexOf(Fy._keyPrefix)!==0)return super.getValue(r);if(this._values.has(r))return this._values.get(r);const n=r.substr(Fy._keyPrefix.length),s=this._configurationService.getValue(n);let i;switch(typeof s){case"number":case"boolean":case"string":i=s;break;default:Array.isArray(s)?i=JSON.stringify(s):i=s}return this._values.set(r,i),i}setValue(r,n){return super.setValue(r,n)}removeValue(r){return super.removeValue(r)}collectAllValues(){const r=Object.create(null);return this._values.forEach((n,s)=>r[s]=n),{...r,...super.collectAllValues()}}};let Vm=Fy;c(Vm,"_keyPrefix","config.");class V8{constructor(e,r,n){c(this,"_service");c(this,"_key");c(this,"_defaultValue");this._service=e,this._key=r,this._defaultValue=n,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class oC{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class DA{constructor(e){this.keys=e}affectsSome(e){for(const r of this.keys)if(e.has(r))return!0;return!1}}class z8{constructor(e){this.events=e}affectsSome(e){for(const r of this.events)if(r.affectsSome(e))return!0;return!1}}class qO{constructor(e){c(this,"_isDisposed");c(this,"_myContextId");c(this,"_onDidChangeContext",new lA({merge:e=>new z8(e)}));c(this,"onDidChangeContext",this._onDidChangeContext.event);this._isDisposed=!1,this._myContextId=e}get contextId(){return this._myContextId}createKey(e,r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new V8(this,e,r)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new W8(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const r=this.getContextValuesContainer(this._myContextId);return e?e.evaluate(r):!0}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,r){if(this._isDisposed)return;const n=this.getContextValuesContainer(this._myContextId);!n||n.setValue(e,r)&&this._onDidChangeContext.fire(new oC(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new oC(e))}getContext(e){return this._isDisposed?xc.INSTANCE:this.getContextValuesContainer($8(e))}}let RA=class extends qO{constructor(e){super(0);c(this,"_lastContextId");c(this,"_contexts",new Map);c(this,"_toDispose",new ua);this._lastContextId=0;const r=new Vm(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,r),this._toDispose.add(r)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?xc.INSTANCE:this._contexts.get(e)||xc.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const r=++this._lastContextId;return this._contexts.set(r,new MS(r,this.getContextValuesContainer(e))),r}disposeContext(e){this._isDisposed||this._contexts.delete(e)}updateParent(e){throw new Error("Cannot update parent of root ContextKeyService")}};RA=H8([j8(0,XO)],RA);class W8 extends qO{constructor(r,n){super(r.createChildContext());c(this,"_parent");c(this,"_domNode");c(this,"_parentChangeListener",new dS);if(this._parent=r,this._updateParentChangeListener(),this._domNode=n,this._domNode.hasAttribute(wp)){let s="";this._domNode.classList&&(s=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${s?": "+s:""}`)}this._domNode.setAttribute(wp,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(wp),this._isDisposed=!0)}getContextValuesContainer(r){return this._isDisposed?xc.INSTANCE:this._parent.getContextValuesContainer(r)}createChildContext(r=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(r)}disposeContext(r){this._isDisposed||this._parent.disposeContext(r)}updateParent(r){const n=this._parent.getContextValuesContainer(this._myContextId),s=n.collectAllValues();this._parent=r,this._updateParentChangeListener();const i=this._parent.getContextValuesContainer(this._parent.contextId);n.updateParent(i);const o=n.collectAllValues(),a={...QT(s,o),...QT(o,s)},l=Object.keys(a);this._onDidChangeContext.fire(new DA(l))}}function $8(t){for(;t;){if(t.hasAttribute(wp)){const e=t.getAttribute(wp);return e?parseInt(e,10):NaN}t=t.parentElement}return 0}RS.registerCommand(YI,function(t,e,r){t.get(Ea).createKey(String(e),r)});Aa(Ea,RA);const K8=Kn("undoRedoService"),Iy=class{constructor(){c(this,"__classBland__","UndoRedoSource");c(this,"id");c(this,"order");this.id=Iy._ID++,this.order=1}static isInstance(e){return Reflect.get(e,"__classBland__")==="UndoRedoSource"}nextOrder(){return this.id===0?0:this.order++}};let Za=Iy;c(Za,"_ID",0),c(Za,"None",new Iy);var X8=Object.defineProperty,Y8=Object.getOwnPropertyDescriptor,q8=(t,e,r,n)=>{for(var s=n>1?void 0:n?Y8(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&X8(e,r,s),s},Q8=(t,e)=>(r,n)=>e(r,n,t);let OA=class{constructor(t){this.modelService=t}canUndo(t){Za.isInstance(t)&&$e();const e=this.modelService.getModel(t);return Q(e),e.canRedo()}undo(t){Za.isInstance(t)&&$e();const e=this.modelService.getModel(t);return Q(e),e.undo()}canRedo(t){Za.isInstance(t)&&$e();const e=this.modelService.getModel(t);return Q(e),e.canRedo()}redo(t){Za.isInstance(t)&&$e();const e=this.modelService.getModel(t);return Q(e),e.redo()}};OA=q8([Q8(0,df)],OA);Aa(K8,OA);const u0=Kn("lifecycleService");var c0=(t=>(t[t.CLOSE=1]="CLOSE",t[t.QUIT=2]="QUIT",t[t.RELOAD=3]="RELOAD",t[t.LOAD=4]="LOAD",t))(c0||{}),zm=(t=>(t[t.NewWindow=1]="NewWindow",t[t.ReloadedWindow=3]="ReloadedWindow",t[t.ReopenedWindow=4]="ReopenedWindow",t))(zm||{}),Ps=(t=>(t[t.Starting=1]="Starting",t[t.Ready=2]="Ready",t[t.Restored=3]="Restored",t[t.ExtensionActivated=4]="ExtensionActivated",t[t.Eventually=5]="Eventually",t))(Ps||{});function J8(t){switch(t){case 1:return"Starting";case 2:return"Ready";case 3:return"Restored";case 4:return"ExtensionActivated";case 5:return"Eventually"}}ra.None,ra.None,ra.None,ra.None,ra.None;function Z8(t,e){let r;return e.length===0?r=t:r=t.replace(/\{(\d+)\}/g,(n,s)=>{const i=s[0];return typeof e[i]<"u"?e[i]:n}),r}function QO(t,e,...r){return Z8(e,r)}const dd={localize:QO};function dE(t,e){return e&&(t.stack||t.stacktrace)?dd.localize("stackTrace.format","{0}: {1}",lC(t),aC(t.stack)||aC(t.stacktrace)):lC(t)}function aC(t){return Array.isArray(t)?t.join(`
`):t}function lC(t){return typeof t.code=="string"&&typeof t.errno=="number"&&typeof t.syscall=="string"?dd.localize("nodeExceptionMessage","A system error occurred ({0})",t.message):t.message||dd.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function Kx(t=null,e=!1){if(!t)return dd.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(t)){const r=aS(t),n=Kx(r[0],e);return r.length>1?dd.localize("error.moreErrors","{0} ({1} errors in total)",n,r.length):n}if(ki(t))return t;if(t.detail){const r=t.detail;if(r.error)return dE(r.error,e);if(r.exception)return dE(r.exception,e)}return t.stack?dE(t,e):t.message?t.message:dd.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}const $0=Kn("logService");Kn("loggerService");var Ds=(t=>(t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.Off=6]="Off",t))(Ds||{});const LS=2;class e5 extends Kt{constructor(){super(...arguments);c(this,"level",LS);c(this,"_onDidChangeLogLevel",this._register(new Mt));c(this,"onDidChangeLogLevel",this._onDidChangeLogLevel.event)}setLevel(r){this.level!==r&&(this.level=r,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}const JO=Object.freeze(function(t,e){const r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}});var BA;(t=>{function e(r){return r===t.None||r===t.Cancelled||r instanceof t5?!0:!r||typeof r!="object"?!1:typeof r.isCancellationRequested=="boolean"&&typeof r.onCancellationRequested=="function"}t.isCancellationToken=e,t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ra.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:JO})})(BA||(BA={}));class t5{constructor(){c(this,"_isCancelled",!1);c(this,"_emitter",null)}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?JO:(this._emitter||(this._emitter=new Mt),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}let yu;(function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const t=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});yu=e=>{const r=setTimeout(()=>e(t));let n=!1;return{dispose(){n||(n=!0,clearTimeout(r))}}}}else yu=(t,e)=>{const r=requestIdleCallback(t,typeof e=="number"?{timeout:e}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(r))}}}})();class r5{constructor(e){c(this,"_executor");c(this,"_handle");c(this,"_didRun",!1);c(this,"_value");c(this,"_error");this._executor=()=>{try{this._value=e()}catch(r){this._error=r}finally{this._didRun=!0}},this._handle=yu(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}class n5{constructor(){c(this,"activePromise");c(this,"queuedPromise");c(this,"queuedPromiseFactory");this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const r=()=>{this.queuedPromise=null;const n=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,n};this.queuedPromise=new Promise(n=>{this.activePromise.then(r,r).then(n)})}return new Promise((r,n)=>{this.queuedPromise.then(r,n)})}return this.activePromise=e(),new Promise((r,n)=>{this.activePromise.then(s=>{this.activePromise=null,r(s)},s=>{this.activePromise=null,n(s)})})}}class i5{constructor(e){c(this,"delayer");c(this,"throttler");this.delayer=new a5(e),this.throttler=new n5}trigger(e,r){return this.delayer.trigger(()=>this.throttler.queue(e),r)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}class Xx{constructor(){c(this,"_isOpen");c(this,"_promise");c(this,"_completePromise");this._isOpen=!1,this._promise=new Promise((e,r)=>{this._completePromise=e})}isOpen(){return this._isOpen}open(e){this._isOpen=!0,this._completePromise(e)}wait(){return this._promise}}class s5{constructor(e,r){c(this,"_token");this._token=-1,typeof e=="function"&&typeof r=="number"&&this.setIfNotSet(e,r)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,r){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},r)}setIfNotSet(e,r){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},r))}}class o5{constructor(){c(this,"_token");this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,r){this.cancel(),this._token=setInterval(()=>{e()},r)}}class Yx{constructor(e,r){c(this,"runner");c(this,"timeoutToken");c(this,"timeout");c(this,"timeoutHandler");this.timeoutToken=-1,this.runner=e,this.timeout=r,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}class a5{constructor(e){c(this,"timeout");c(this,"completionPromise");c(this,"doResolve");c(this,"doReject");c(this,"task");this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,r=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,s)=>{this.doResolve=n,this.doReject=s}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const n=this.task;return this.task=null,n()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},r),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new Error("canceled")),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}class fd{constructor(){c(this,"completeCallback");c(this,"errorCallback");c(this,"rejected",!1);c(this,"resolved",!1);c(this,"p");this.p=new Promise((e,r)=>{this.completeCallback=e,this.errorCallback=r})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(e){return new Promise(r=>{this.completeCallback(e),this.resolved=!0,r()})}error(e){return new Promise(r=>{this.errorCallback(e),this.rejected=!0,r()})}cancel(){new Promise(e=>{this.errorCallback(new $R),this.rejected=!0,e()})}}var il;(t=>{async function e(n){let s;const i=await Promise.all(n.map(o=>o.then(a=>a,a=>{s||(s=a)})));if(typeof s<"u")throw s;return i}t.settled=e;function r(n){return new Promise(async(s,i)=>{try{await n(s,i)}catch(o){i(o)}})}t.withAsyncBody=r})(il||(il={}));function uC(t){const e=[];typeof t=="number"&&e.push("code/timeOrigin",t);function r(s){e.push(s,Date.now())}function n(){const s=[];for(let i=0;i<e.length;i+=2)s.push({name:e[i],startTime:e[i+1]});return s}return{mark:r,getMarks:n}}const l5=function(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!Reflect.has(performance,"nodeTiming"))return typeof performance.timeOrigin!="number"&&!performance.timing?uC():{mark(t){performance.mark(t)},getMarks(){let t=performance.timeOrigin;typeof t!="number"&&(t=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const e=[{name:"code/timeOrigin",startTime:Math.round(t)}];for(const r of performance.getEntriesByType("mark"))e.push({name:r.name,startTime:Math.round(t+r.startTime)});return e}};if(typeof process!="object")return console.trace("perf-util loaded in UNKNOWN environment"),uC()}(),Id=l5.mark;function u5(t){const e=t;return(e==null?void 0:e.changed)instanceof Map||(e==null?void 0:e.deleted)instanceof Set}const Xk=class extends Kt{constructor(r,n=Object.create(null)){super();c(this,"_onDidChangeStorage",this._register(new Mt));c(this,"onDidChangeStorage",this._onDidChangeStorage.event);c(this,"state",0);c(this,"cache",new Map);c(this,"flushDelayer",new i5(Xk.DEFAULT_FLUSH_DELAY));c(this,"pendingDeletes",new Set);c(this,"pendingInserts",new Map);c(this,"pendingClose");c(this,"whenFlushedCallbacks",[]);this.database=r,this.options=n,this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(r=>this.onDidChangeItemsExternal(r)))}onDidChangeItemsExternal(r){var n,s;(n=r.changed)==null||n.forEach((i,o)=>this.accept(o,i)),(s=r.deleted)==null||s.forEach(i=>this.accept(i,void 0))}accept(r,n){if(this.state===2)return;let s=!1;tu(n)?s=this.cache.delete(r):this.cache.get(r)!==n&&(this.cache.set(r,n),s=!0),s&&this._onDidChangeStorage.fire(r)}get items(){return this.cache}get size(){return this.cache.size}async init(){this.state===0&&(this.state=1,this.options.hint!==0&&(this.cache=await this.database.getItems()))}get(r,n){const s=this.cache.get(r);return tu(s)?n:s}getBoolean(r,n){const s=this.get(r);return tu(s)?n:s==="true"}getNumber(r,n){const s=this.get(r);return tu(s)?n:parseInt(s,10)}async set(r,n){if(this.state===2)return;if(tu(n))return this.delete(r);const s=String(n);if(this.cache.get(r)!==s)return this.cache.set(r,s),this.pendingInserts.set(r,s),this.pendingDeletes.delete(r),this._onDidChangeStorage.fire(r),this.doFlush()}async delete(r){if(!(this.state===2||!this.cache.delete(r)))return this.pendingDeletes.has(r)||this.pendingDeletes.add(r),this.pendingInserts.delete(r),this._onDidChangeStorage.fire(r),this.doFlush()}async close(){return this.pendingClose||(this.pendingClose=this.doClose()),this.pendingClose}async doClose(){this.state=2;try{await this.doFlush(0)}catch{}await this.database.close(()=>this.cache)}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const r={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(r).finally(()=>{var n;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(n=this.whenFlushedCallbacks.pop())==null||n()})}async flush(r){if(!!this.hasPending)return this.doFlush(r)}async doFlush(r){return this.flushDelayer.trigger(()=>this.flushPending(),r)}async whenFlushed(){if(!!this.hasPending)return new Promise(r=>this.whenFlushedCallbacks.push(r))}dispose(){this.flushDelayer.dispose(),super.dispose()}};let Sp=Xk;c(Sp,"DEFAULT_FLUSH_DELAY",100);class c5{constructor(){c(this,"onDidChangeItemsExternal",ra.None);c(this,"items",new Map)}async getItems(){return this.items}async updateItems(e){e.insert&&e.insert.forEach((r,n)=>this.items.set(n,r)),e.delete&&e.delete.forEach(r=>this.items.delete(r))}async close(){}}const Zu="__$__isNewStorageMarker",Jg="__$__targetStorageMarker",US=Kn("storageService");var bp=(t=>(t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN",t))(bp||{}),Js=(t=>(t[t.GLOBAL=0]="GLOBAL",t[t.WORKSPACE=1]="WORKSPACE",t))(Js||{}),qx=(t=>(t[t.USER=0]="USER",t[t.MACHINE=1]="MACHINE",t))(qx||{});const Yk=class extends Kt{constructor(r={flushInterval:Yk.DEFAULT_FLUSH_INTERVAL}){super();c(this,"_onDidChangeValue",this._register(new lA));c(this,"onDidChangeValue",this._onDidChangeValue.event);c(this,"_onDidChangeTarget",this._register(new lA));c(this,"onDidChangeTarget",this._onDidChangeTarget.event);c(this,"_onWillSaveState",this._register(new Mt));c(this,"onWillSaveState",this._onWillSaveState.event);c(this,"initializationPromise");c(this,"flushWhenIdleScheduler");c(this,"runFlushWhenIdle",this._register(new dS));c(this,"_workspaceKeyTargets");c(this,"_globalKeyTargets");this.options=r,this.flushWhenIdleScheduler=this._register(new Yx(()=>this.doFlushWhenIdle(),this.options.flushInterval))}doFlushWhenIdle(){this.runFlushWhenIdle.value=yu(()=>{this.shouldFlushWhenIdle()&&this.flush(),this.flushWhenIdleScheduler.schedule()})}shouldFlushWhenIdle(){return!0}stopFlushWhenIdle(){zy([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}initialize(){return this.initializationPromise||(this.initializationPromise=(async()=>{try{await this.doInitialize()}finally{}this.flushWhenIdleScheduler.schedule()})()),this.initializationPromise}emitDidChangeValue(r,n){n===Jg?(r===0?this._globalKeyTargets=void 0:r===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:r})):this._onDidChangeValue.fire({scope:r,key:n,target:this.getKeyTargets(r)[n]})}emitWillSaveState(r){this._onWillSaveState.fire({reason:r})}get(r,n,s){var i;return(i=this.getStorage(n))==null?void 0:i.get(r,s)}getBoolean(r,n,s){var i;return(i=this.getStorage(n))==null?void 0:i.getBoolean(r,s)}getNumber(r,n,s){var i;return(i=this.getStorage(n))==null?void 0:i.getNumber(r,s)}store(r,n,s,i){if(tu(n)){this.remove(r,s);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(r,s,i),(o=this.getStorage(s))==null||o.set(r,n)})}remove(r,n){this.withPausedEmitters(()=>{var s;this.updateKeyTarget(r,n,void 0),(s=this.getStorage(n))==null||s.delete(r)})}withPausedEmitters(r){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{r()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}keys(r,n){const s=[],i=this.getKeyTargets(r);for(const o of Object.keys(i))i[o]===n&&s.push(o);return s}updateKeyTarget(r,n,s){var o,a;const i=this.getKeyTargets(n);typeof s=="number"?i[r]!==s&&(i[r]=s,(o=this.getStorage(n))==null||o.set(Jg,JSON.stringify(i))):typeof i[r]=="number"&&(delete i[r],(a=this.getStorage(n))==null||a.set(Jg,JSON.stringify(i)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(r){return r===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(r){const n=this.get(Jg,r);if(n)try{return JSON.parse(n)}catch{}return Object.create(null)}isNew(r){return this.getBoolean(Zu,r)===!0}async flush(r=0){var i,o,a,l;this._onWillSaveState.fire({reason:r});const n=this.getStorage(0),s=this.getStorage(1);switch(r){case 0:await il.settled([(i=n==null?void 0:n.whenFlushed())!=null?i:Promise.resolve(),(o=s==null?void 0:s.whenFlushed())!=null?o:Promise.resolve()]);break;case 1:await il.settled([(a=n==null?void 0:n.flush(0))!=null?a:Promise.resolve(),(l=s==null?void 0:s.flush(0))!=null?l:Promise.resolve()]);break}}async logStorage(){var s,i,o,a,l,u;const r=(i=(s=this.getStorage(0))==null?void 0:s.items)!=null?i:new Map,n=(a=(o=this.getStorage(1))==null?void 0:o.items)!=null?a:new Map;return h5(r,n,(l=this.getLogDetails(0))!=null?l:"",(u=this.getLogDetails(1))!=null?u:"")}};let Wm=Yk;c(Wm,"DEFAULT_FLUSH_INTERVAL",60*1e3);async function h5(t,e,r,n){const s=f=>{try{return JSON.parse(f)}catch{return f}},i=new Map,o=new Map;t.forEach((f,g)=>{i.set(g,f),o.set(g,s(f))});const a=new Map,l=new Map;e.forEach((f,g)=>{a.set(g,f),l.set(g,s(f))}),console.group(`Storage: Global (path: ${r})`);const u=[];i.forEach((f,g)=>{u.push({key:g,value:f})}),console.table(u),console.groupEnd(),console.log(o),console.group(`Storage: Workspace (path: ${n})`);const d=[];a.forEach((f,g)=>{d.push({key:g,value:f})}),console.table(d),console.groupEnd(),console.log(l)}var d5=Object.defineProperty,f5=Object.getOwnPropertyDescriptor,_5=(t,e,r,n)=>{for(var s=n>1?void 0:n?f5(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&d5(e,r,s),s},cC=(t,e)=>(r,n)=>e(r,n,t),tA;let _d=(tA=class extends Kt{constructor(e,r){super();c(this,"_onBeforeShutdown",this._register(new Mt));c(this,"onBeforeShutdown",this._onBeforeShutdown.event);c(this,"_onWillShutdown",this._register(new Mt));c(this,"onWillShutdown",this._onWillShutdown.event);c(this,"_onDidShutdown",this._register(new Mt));c(this,"onDidShutdown",this._onDidShutdown.event);c(this,"_onBeforeShutdownError",this._register(new Mt));c(this,"onBeforeShutdownError",this._onBeforeShutdownError.event);c(this,"_onShutdownVeto",this._register(new Mt));c(this,"onShutdownVeto",this._onShutdownVeto.event);c(this,"_startupKind");c(this,"_phase",Ps.Starting);c(this,"phaseWhen",new Map);c(this,"shutdownReason");this.logService=e,this.storageService=r,this._startupKind=this.resolveStartupKind(),this.storageService.onWillSaveState(n=>{n.reason===bp.SHUTDOWN&&this.storageService.store(_d.LAST_SHUTDOWN_REASON_KEY,this.shutdownReason,Js.WORKSPACE,qx.MACHINE)})}get startupKind(){return this._startupKind}get phase(){return this._phase}resolveStartupKind(){const e=this.storageService.getNumber(_d.LAST_SHUTDOWN_REASON_KEY,Js.WORKSPACE);this.storageService.remove(_d.LAST_SHUTDOWN_REASON_KEY,Js.WORKSPACE);let r;switch(e){case c0.RELOAD:r=zm.ReloadedWindow;break;case c0.LOAD:r=zm.ReopenedWindow;break;default:r=zm.NewWindow}return this.logService.trace(`[lifecycle] starting up (startup kind: ${r})`),r}set phase(e){if(e<this.phase)throw new Error("Lifecycle cannot go backwards");if(this._phase===e)return;this.logService.trace(`lifecycle: phase changed (value: ${e})`),this._phase=e,Id(`code/LifecyclePhase/${J8(e)}`);const r=this.phaseWhen.get(this._phase);r&&(r.open(),this.phaseWhen.delete(this._phase))}async when(e){if(e<=this._phase)return;let r=this.phaseWhen.get(e);r||(r=new Xx,this.phaseWhen.set(e,r)),await r.wait()}},c(tA,"LAST_SHUTDOWN_REASON_KEY","lifecyle.lastShutdownReason"),tA);_d=_5([cC(0,$0),cC(1,US)],_d);const p5=L0?xa.WinCtrl:xa.CtrlCmd,g5=xa.Alt,m5=xa.Shift,x5=L0?xa.CtrlCmd:xa.WinCtrl;class NA{constructor(e){c(this,"_standardKeyboardEventBrand",!0);c(this,"browserEvent");c(this,"target");c(this,"ctrlKey");c(this,"shiftKey");c(this,"altKey");c(this,"metaKey");c(this,"keyCode");c(this,"code");c(this,"_asKeybinding");c(this,"_asRuntimeKeybinding");let r=e;this.browserEvent=r,this.target=r.target,this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.altKey=r.altKey,this.metaKey=r.metaKey,this.keyCode=y5(r),this.code=r.code,this.ctrlKey=this.ctrlKey||this.keyCode===Pe.Ctrl,this.altKey=this.altKey||this.keyCode===Pe.Alt,this.shiftKey=this.shiftKey||this.keyCode===Pe.Shift,this.metaKey=this.metaKey||this.keyCode===Pe.Meta,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=Pe.Unknown;this.keyCode!==Pe.Ctrl&&this.keyCode!==Pe.Shift&&this.keyCode!==Pe.Alt&&this.keyCode!==Pe.Meta&&(e=this.keyCode);let r=0;return this.ctrlKey&&(r|=p5),this.altKey&&(r|=g5),this.shiftKey&&(r|=m5),this.metaKey&&(r|=x5),r|=e,r}_computeRuntimeKeybinding(){let e=Pe.Unknown;return this.keyCode!==Pe.Ctrl&&this.keyCode!==Pe.Shift&&this.keyCode!==Pe.Alt&&this.keyCode!==Pe.Meta&&(e=this.keyCode),new Zy(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let ZO=new Array(230);(function(){function t(e,r){ZO[e]=r}t(3,Pe.PauseBreak),t(8,Pe.Backspace),t(9,Pe.Tab),t(13,Pe.Enter),t(16,Pe.Shift),t(17,Pe.Ctrl),t(18,Pe.Alt),t(19,Pe.PauseBreak),t(20,Pe.CapsLock),t(27,Pe.Escape),t(32,Pe.Space),t(33,Pe.PageUp),t(34,Pe.PageDown),t(35,Pe.End),t(36,Pe.Home),t(37,Pe.LeftArrow),t(38,Pe.UpArrow),t(39,Pe.RightArrow),t(40,Pe.DownArrow),t(45,Pe.Insert),t(46,Pe.Delete),t(48,Pe.KEY_0),t(49,Pe.KEY_1),t(50,Pe.KEY_2),t(51,Pe.KEY_3),t(52,Pe.KEY_4),t(53,Pe.KEY_5),t(54,Pe.KEY_6),t(55,Pe.KEY_7),t(56,Pe.KEY_8),t(57,Pe.KEY_9),t(65,Pe.KEY_A),t(66,Pe.KEY_B),t(67,Pe.KEY_C),t(68,Pe.KEY_D),t(69,Pe.KEY_E),t(70,Pe.KEY_F),t(71,Pe.KEY_G),t(72,Pe.KEY_H),t(73,Pe.KEY_I),t(74,Pe.KEY_J),t(75,Pe.KEY_K),t(76,Pe.KEY_L),t(77,Pe.KEY_M),t(78,Pe.KEY_N),t(79,Pe.KEY_O),t(80,Pe.KEY_P),t(81,Pe.KEY_Q),t(82,Pe.KEY_R),t(83,Pe.KEY_S),t(84,Pe.KEY_T),t(85,Pe.KEY_U),t(86,Pe.KEY_V),t(87,Pe.KEY_W),t(88,Pe.KEY_X),t(89,Pe.KEY_Y),t(90,Pe.KEY_Z),t(93,Pe.ContextMenu),t(96,Pe.NUMPAD_0),t(97,Pe.NUMPAD_1),t(98,Pe.NUMPAD_2),t(99,Pe.NUMPAD_3),t(100,Pe.NUMPAD_4),t(101,Pe.NUMPAD_5),t(102,Pe.NUMPAD_6),t(103,Pe.NUMPAD_7),t(104,Pe.NUMPAD_8),t(105,Pe.NUMPAD_9),t(106,Pe.NUMPAD_MULTIPLY),t(107,Pe.NUMPAD_ADD),t(108,Pe.NUMPAD_SEPARATOR),t(109,Pe.NUMPAD_SUBTRACT),t(110,Pe.NUMPAD_DECIMAL),t(111,Pe.NUMPAD_DIVIDE),t(112,Pe.F1),t(113,Pe.F2),t(114,Pe.F3),t(115,Pe.F4),t(116,Pe.F5),t(117,Pe.F6),t(118,Pe.F7),t(119,Pe.F8),t(120,Pe.F9),t(121,Pe.F10),t(122,Pe.F11),t(123,Pe.F12),t(124,Pe.F13),t(125,Pe.F14),t(126,Pe.F15),t(127,Pe.F16),t(128,Pe.F17),t(129,Pe.F18),t(130,Pe.F19),t(144,Pe.NumLock),t(145,Pe.ScrollLock),t(186,Pe.US_SEMICOLON),t(187,Pe.US_EQUAL),t(188,Pe.US_COMMA),t(189,Pe.US_MINUS),t(190,Pe.US_DOT),t(191,Pe.US_SLASH),t(192,Pe.US_BACKTICK),t(193,Pe.ABNT_C1),t(194,Pe.ABNT_C2),t(219,Pe.US_OPEN_SQUARE_BRACKET),t(220,Pe.US_BACKSLASH),t(221,Pe.US_CLOSE_SQUARE_BRACKET),t(222,Pe.US_QUOTE),t(223,Pe.OEM_8),t(226,Pe.OEM_102),t(229,Pe.KEY_IN_COMPOSITION),_8?(t(59,Pe.US_SEMICOLON),t(107,Pe.US_EQUAL),t(109,Pe.US_MINUS),bA&&t(224,Pe.Meta)):p8&&(t(91,Pe.Meta),t(bA?93:92,Pe.Meta))})();function y5(t){if(t.charCode){let e=String.fromCharCode(t.charCode).toUpperCase();return a0.fromString(e)}return ZO[t.keyCode]||Pe.Unknown}const Bs={PASTE:"paste",CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",VISIBILITY_CHANGE:"visibilitychange"};class v5{constructor(e,r,n,s){c(this,"_handler");c(this,"_node");c(this,"_type");c(this,"_options");this._node=e,this._type=r,this._handler=n,this._options=s||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function Wi(t,e,r,n){return new v5(t,e,r,n)}const E5=8,A5=function(t,e){return e};class w5 extends Kt{constructor(e,r,n,s=A5,i=E5){super();let o=null,a=0;const l=this._register(new s5),u=()=>{a=new Date().getTime(),n(o),o=null};this._register(Wi(e,r,d=>{o=s(o,d);const f=new Date().getTime()-a;f>=i?(l.cancel(),u()):l.setIfNotSet(u,i-f)}))}}function S5(t,e,r,n,s){return new w5(t,e,r,n,s)}function b5(t,e){return Wi(t,Bs.MOUSE_OUT,r=>{let n=r.relatedTarget;for(;n&&n!==t;)n=n.parentNode;n!==t&&e(r)})}function k5(t){return t&&!!t.host&&!!t.mode}function hC(t){for(;t.parentNode;){if(t===document.body)return null;t=t.parentNode}return k5(t)?t:null}const id=class{constructor(e,r){this.width=e,this.height=r}with(e=this.width,r=this.height){return e!==this.width||r!==this.height?new id(e,r):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof id?e:new id(e.width,e.height)}static equals(e,r){return e===r?!0:!e||!r?!1:e.width===r.width&&e.height===r.height}};let fE=id;c(fE,"None",new id(0,0));function T5(){return new Promise(t=>{document.readyState==="complete"||document&&document.body!==null?t(void 0):window.addEventListener("DOMContentLoaded",t,!1)})}function C5(t){return function(e){return t(new zR(e))}}function P5(t){return function(e){return t(new NA(e))}}let FA=function(e,r,n,s){let i=n;return r==="click"||r==="mousedown"?i=C5(n):(r==="keydown"||r==="keypress"||r==="keyup")&&(i=P5(n)),Wi(e,r,i,s)};const dC=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function D5(t){let e=t.getBoundingClientRect();return{left:e.left+dC.scrollX,top:e.top+dC.scrollY,width:e.width,height:e.height}}function R5(t){let e=[];for(let r=0;t&&t.nodeType===t.ELEMENT_NODE;r++)e[r]=t.scrollTop,t=t.parentNode;return e}function O5(t,e){for(let r=0;t&&t.nodeType===t.ELEMENT_NODE;r++)t.scrollTop!==e[r]&&(t.scrollTop=e[r]),t=t.parentNode}function B5(t){for(;t;){if(t===document.body)return!0;t=t.parentNode||t.host}return!1}var N5=Object.defineProperty,F5=Object.getOwnPropertyDescriptor,I5=(t,e,r,n)=>{for(var s=n>1?void 0:n?F5(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&N5(e,r,s),s},fC=(t,e)=>(r,n)=>e(r,n,t);let IA=class extends _d{constructor(e,r){super(e,r);c(this,"beforeUnloadListener");c(this,"unloadListener");c(this,"ignoreBeforeUnload",!1);c(this,"didUnload",!1);this.registerListeners()}registerListeners(){this.beforeUnloadListener=Wi(window,Bs.BEFORE_UNLOAD,e=>this.onBeforeUnload(e)),this.unloadListener=Wi(window,Bs.PAGE_HIDE,()=>this.onUnload())}onBeforeUnload(e){this.ignoreBeforeUnload?(this.logService.info("[lifecycle] onBeforeUnload triggered but ignored once"),this.ignoreBeforeUnload=!1):(this.logService.info("[lifecycle] onBeforeUnload triggered and handled with veto support"),this.doShutdown(()=>this.vetoBeforeUnload(e)))}vetoBeforeUnload(e){e.preventDefault(),e.returnValue=QO("lifecycleVeto","Changes that you made may not be saved. Please check press 'Cancel' and try again.")}withExpectedShutdown(e,r){if(typeof e=="number")return this.shutdownReason=e,this.storageService.flush(bp.SHUTDOWN);this.ignoreBeforeUnload=!0;try{r==null||r()}finally{this.ignoreBeforeUnload=!1}}async shutdown(){var e,r;this.logService.info("[lifecycle] shutdown triggered"),(e=this.beforeUnloadListener)==null||e.dispose(),(r=this.unloadListener)==null||r.dispose(),await this.storageService.flush(bp.SHUTDOWN),this.doShutdown()}doShutdown(e){const r=this.logService;this.storageService.flush(bp.SHUTDOWN);let n=!1;function s(i,o){typeof e=="function"&&(i instanceof Promise&&(r.error(`[lifecycle] Long running operations before shutdown are unsupported in the web (id: ${o})`),n=!0),i===!0&&(r.info(`[lifecycle]: Unload was prevented (id: ${o})`),n=!0))}return this._onBeforeShutdown.fire({reason:c0.QUIT,veto(i,o){s(i,o)},finalVeto(i,o){s(i(),o)}}),n&&typeof e=="function"?e():this.onUnload()}onUnload(){if(this.didUnload)return;this.didUnload=!0,this._register(Wi(window,Bs.PAGE_SHOW,r=>this.onLoadAfterUnload(r)));const e=this.logService;this._onWillShutdown.fire({reason:c0.QUIT,token:BA.None,join(r,n){e.error(`[lifecycle] Long running operations during shutdown are unsupported in the web (id: ${n})`)},force:()=>{}}),this._onDidShutdown.fire()}onLoadAfterUnload(e){!e.persisted||this.withExpectedShutdown({disableShutdownHandling:!0},()=>window.location.reload())}};IA=I5([fC(0,$0),fC(1,US)],IA);Aa(u0,IA);var M5=Object.defineProperty,L5=Object.getOwnPropertyDescriptor,U5=(t,e,r,n)=>{for(var s=n>1?void 0:n?L5(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&M5(e,r,s),s},_C=(t,e)=>(r,n)=>e(r,n,t);let Qx=class extends Kt{constructor(e,r){super();c(this,"_onWillExecuteCommand",this._register(new Mt));c(this,"onWillExecuteCommand",this._onWillExecuteCommand.event);c(this,"_onDidExecuteCommand",new Mt);c(this,"onDidExecuteCommand",this._onDidExecuteCommand.event);this._instantiationService=e,this._logService=r}executeCommand(e,...r){return this._logService.trace("CommandService#executeCommand",e),this._tryExecuteCommand(e,r)}_tryExecuteCommand(e,r){const n=RS.getCommand(e);if(!n)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:r});const s=this._instantiationService.invokeFunction(n.handler,...r);return this._onDidExecuteCommand.fire({commandId:e,args:r}),Promise.resolve(s)}catch(s){return Promise.reject(s)}}};Qx=U5([_C(0,Po),_C(1,$0)],Qx);Aa(e1,Qx,!0);var K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GS(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var e3={exports:{}};const kp={},G5=Object.freeze(Object.defineProperty({__proto__:null,default:kp},Symbol.toStringTag,{value:"Module"})),hc=GS(G5);(function(t,e){var r=function(){var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(i){i=i||{};/**
 * @license
 * Copyright 2010 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */var i=typeof i<"u"?i:{},o;i.ready=new Promise(function(p,y){o=p}),Object.getOwnPropertyDescriptor(i.ready,"_malloc")||(Object.defineProperty(i.ready,"_malloc",{configurable:!0,get:function(){ie("You are getting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_malloc",{configurable:!0,set:function(){ie("You are setting _malloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_free")||(Object.defineProperty(i.ready,"_free",{configurable:!0,get:function(){ie("You are getting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_free",{configurable:!0,set:function(){ie("You are setting _free on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_stackSave")||(Object.defineProperty(i.ready,"_stackSave",{configurable:!0,get:function(){ie("You are getting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_stackSave",{configurable:!0,set:function(){ie("You are setting _stackSave on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_stackRestore")||(Object.defineProperty(i.ready,"_stackRestore",{configurable:!0,get:function(){ie("You are getting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_stackRestore",{configurable:!0,set:function(){ie("You are setting _stackRestore on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_stackAlloc")||(Object.defineProperty(i.ready,"_stackAlloc",{configurable:!0,get:function(){ie("You are getting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_stackAlloc",{configurable:!0,set:function(){ie("You are setting _stackAlloc on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"___data_end")||(Object.defineProperty(i.ready,"___data_end",{configurable:!0,get:function(){ie("You are getting ___data_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"___data_end",{configurable:!0,set:function(){ie("You are setting ___data_end on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"___wasm_call_ctors")||(Object.defineProperty(i.ready,"___wasm_call_ctors",{configurable:!0,get:function(){ie("You are getting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"___wasm_call_ctors",{configurable:!0,set:function(){ie("You are setting ___wasm_call_ctors on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_fflush")||(Object.defineProperty(i.ready,"_fflush",{configurable:!0,get:function(){ie("You are getting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_fflush",{configurable:!0,set:function(){ie("You are setting _fflush on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"___errno_location")||(Object.defineProperty(i.ready,"___errno_location",{configurable:!0,get:function(){ie("You are getting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"___errno_location",{configurable:!0,set:function(){ie("You are setting ___errno_location on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_memalign")||(Object.defineProperty(i.ready,"_memalign",{configurable:!0,get:function(){ie("You are getting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_memalign",{configurable:!0,set:function(){ie("You are setting _memalign on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"_memset")||(Object.defineProperty(i.ready,"_memset",{configurable:!0,get:function(){ie("You are getting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"_memset",{configurable:!0,set:function(){ie("You are setting _memset on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"__get_tzname")||(Object.defineProperty(i.ready,"__get_tzname",{configurable:!0,get:function(){ie("You are getting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"__get_tzname",{configurable:!0,set:function(){ie("You are setting __get_tzname on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"__get_daylight")||(Object.defineProperty(i.ready,"__get_daylight",{configurable:!0,get:function(){ie("You are getting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"__get_daylight",{configurable:!0,set:function(){ie("You are setting __get_daylight on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"__get_timezone")||(Object.defineProperty(i.ready,"__get_timezone",{configurable:!0,get:function(){ie("You are getting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"__get_timezone",{configurable:!0,set:function(){ie("You are setting __get_timezone on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}})),Object.getOwnPropertyDescriptor(i.ready,"onRuntimeInitialized")||(Object.defineProperty(i.ready,"onRuntimeInitialized",{configurable:!0,get:function(){ie("You are getting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}),Object.defineProperty(i.ready,"onRuntimeInitialized",{configurable:!0,set:function(){ie("You are setting onRuntimeInitialized on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")}}));var a={},l;for(l in i)i.hasOwnProperty(l)&&(a[l]=i[l]);var u="./this.program",d=!1,f=!1,g=!1,x=!1;if(d=typeof window=="object",f=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x=!d&&!g&&!f,i.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var E="";function D(p){return i.locateFile?i.locateFile(p,E):E+p}var A,R,P,O;if(g){f?E=hc.dirname(E)+"/":E=__dirname+"/";/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */A=function(y,S){return P||(P=hc),O||(O=hc),y=O.normalize(y),P.readFileSync(y,S?null:"utf8")},R=function(y){var S=A(y,!0);return S.buffer||(S=new Uint8Array(S)),re(S.buffer),S},process.argv.length>1&&(u=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(p){if(!(p instanceof $f))throw p}),process.on("unhandledRejection",ie),i.inspect=function(){return"[Emscripten Module object]"}}else if(x)typeof read<"u"&&(A=function(y){return read(y)}),R=function(y){var S;return typeof readbuffer=="function"?new Uint8Array(readbuffer(y)):(S=read(y,"binary"),re(typeof S=="object"),S)},typeof scriptArgs<"u"&&scriptArgs,typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print);else if(d||f){f?E=self.location.href:document.currentScript&&(E=document.currentScript.src),n&&(E=n),E.indexOf("blob:")!==0?E=E.substr(0,E.lastIndexOf("/")+1):E="";{/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */A=function(y){var S=new XMLHttpRequest;return S.open("GET",y,!1),S.send(null),S.responseText},f&&(R=function(y){var S=new XMLHttpRequest;return S.open("GET",y,!1),S.responseType="arraybuffer",S.send(null),new Uint8Array(S.response)})}}else throw new Error("environment detection error");var F=i.print||console.log.bind(console),U=i.printErr||console.warn.bind(console);for(l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);a=null,i.arguments&&i.arguments,Object.getOwnPropertyDescriptor(i,"arguments")||Object.defineProperty(i,"arguments",{configurable:!0,get:function(){ie("Module.arguments has been replaced with plain arguments_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.thisProgram&&(u=i.thisProgram),Object.getOwnPropertyDescriptor(i,"thisProgram")||Object.defineProperty(i,"thisProgram",{configurable:!0,get:function(){ie("Module.thisProgram has been replaced with plain thisProgram (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.quit&&i.quit,Object.getOwnPropertyDescriptor(i,"quit")||Object.defineProperty(i,"quit",{configurable:!0,get:function(){ie("Module.quit has been replaced with plain quit_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),re(typeof i.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),re(typeof i.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),re(typeof i.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),re(typeof i.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),re(typeof i.read>"u","Module.read option was removed (modify read_ in JS)"),re(typeof i.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),re(typeof i.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),re(typeof i.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),re(typeof i.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),Object.getOwnPropertyDescriptor(i,"read")||Object.defineProperty(i,"read",{configurable:!0,get:function(){ie("Module.read has been replaced with plain read_ (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"readAsync")||Object.defineProperty(i,"readAsync",{configurable:!0,get:function(){ie("Module.readAsync has been replaced with plain readAsync (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"readBinary")||Object.defineProperty(i,"readBinary",{configurable:!0,get:function(){ie("Module.readBinary has been replaced with plain readBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),Object.getOwnPropertyDescriptor(i,"setWindowTitle")||Object.defineProperty(i,"setWindowTitle",{configurable:!0,get:function(){ie("Module.setWindowTitle has been replaced with plain setWindowTitle (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}});function B(p){B.shown||(B.shown={}),B.shown[p]||(B.shown[p]=1,U(p))}/**
 * @license
 * Copyright 2010 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */var N;i.wasmBinary&&(N=i.wasmBinary),Object.getOwnPropertyDescriptor(i,"wasmBinary")||Object.defineProperty(i,"wasmBinary",{configurable:!0,get:function(){ie("Module.wasmBinary has been replaced with plain wasmBinary (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),i.noExitRuntime&&i.noExitRuntime,Object.getOwnPropertyDescriptor(i,"noExitRuntime")||Object.defineProperty(i,"noExitRuntime",{configurable:!0,get:function(){ie("Module.noExitRuntime has been replaced with plain noExitRuntime (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),typeof WebAssembly!="object"&&ie("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead.");/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */function T(p,y,S,V){switch(S=S||"i8",S.charAt(S.length-1)==="*"&&(S="i32"),S){case"i1":ee[p>>0]=y;break;case"i8":ee[p>>0]=y;break;case"i16":I[p>>1]=y;break;case"i32":W[p>>2]=y;break;case"i64":ts=[y>>>0,(Pr=y,+Sr(Pr)>=1?Pr>0?(ci(+ps(Pr/4294967296),4294967295)|0)>>>0:~~+bn((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],W[p>>2]=ts[0],W[p+4>>2]=ts[1];break;case"float":fe[p>>2]=y;break;case"double":Ee[p>>3]=y;break;default:ie("invalid type for setValue: "+S)}}function M(p,y,S){switch(y=y||"i8",y.charAt(y.length-1)==="*"&&(y="i32"),y){case"i1":return ee[p>>0];case"i8":return ee[p>>0];case"i16":return I[p>>1];case"i32":return W[p>>2];case"i64":return W[p>>2];case"float":return fe[p>>2];case"double":return Ee[p>>3];default:ie("invalid type for getValue: "+y)}return null}var $,J=new WebAssembly.Table({initial:648,maximum:648+0,element:"anyfunc"}),Z=!1;function re(p,y){p||ie("Assertion failed: "+y)}/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */var ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Fe(p,y,S){for(var V=y+S,X=y;p[X]&&!(X>=V);)++X;if(X-y>16&&p.subarray&&ge)return ge.decode(p.subarray(y,X));for(var se="";y<X;){var me=p[y++];if(!(me&128)){se+=String.fromCharCode(me);continue}var ve=p[y++]&63;if((me&224)==192){se+=String.fromCharCode((me&31)<<6|ve);continue}var Oe=p[y++]&63;if((me&240)==224?me=(me&15)<<12|ve<<6|Oe:((me&248)!=240&&B("Invalid UTF-8 leading byte 0x"+me.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),me=(me&7)<<18|ve<<12|Oe<<6|p[y++]&63),me<65536)se+=String.fromCharCode(me);else{var Je=me-65536;se+=String.fromCharCode(55296|Je>>10,56320|Je&1023)}}return se}function Ze(p,y){return p?Fe(He,p,y):""}function ze(p,y,S,V){if(!(V>0))return 0;for(var X=S,se=S+V-1,me=0;me<p.length;++me){var ve=p.charCodeAt(me);if(ve>=55296&&ve<=57343){var Oe=p.charCodeAt(++me);ve=65536+((ve&1023)<<10)|Oe&1023}if(ve<=127){if(S>=se)break;y[S++]=ve}else if(ve<=2047){if(S+1>=se)break;y[S++]=192|ve>>6,y[S++]=128|ve&63}else if(ve<=65535){if(S+2>=se)break;y[S++]=224|ve>>12,y[S++]=128|ve>>6&63,y[S++]=128|ve&63}else{if(S+3>=se)break;ve>=2097152&&B("Invalid Unicode code point 0x"+ve.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),y[S++]=240|ve>>18,y[S++]=128|ve>>12&63,y[S++]=128|ve>>6&63,y[S++]=128|ve&63}}return y[S]=0,S-X}function Le(p,y,S){return re(typeof S=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),ze(p,He,y,S)}function it(p){for(var y=0,S=0;S<p.length;++S){var V=p.charCodeAt(S);V>=55296&&V<=57343&&(V=65536+((V&1023)<<10)|p.charCodeAt(++S)&1023),V<=127?++y:V<=2047?y+=2:V<=65535?y+=3:y+=4}return y}var _t=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function st(p,y){re(p%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");for(var S=p,V=S>>1,X=V+y/2;!(V>=X)&&j[V];)++V;if(S=V<<1,S-p>32&&_t)return _t.decode(He.subarray(p,S));for(var se=0,me="";;){var ve=I[p+se*2>>1];if(ve==0||se==y/2)return me;++se,me+=String.fromCharCode(ve)}}function Rt(p,y,S){if(re(y%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!"),re(typeof S=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),S===void 0&&(S=2147483647),S<2)return 0;S-=2;for(var V=y,X=S<p.length*2?S/2:p.length,se=0;se<X;++se){var me=p.charCodeAt(se);I[y>>1]=me,y+=2}return I[y>>1]=0,y-V}function te(p){return p.length*2}function oe(p,y){re(p%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");for(var S=0,V="";!(S>=y/4);){var X=W[p+S*4>>2];if(X==0)break;if(++S,X>=65536){var se=X-65536;V+=String.fromCharCode(55296|se>>10,56320|se&1023)}else V+=String.fromCharCode(X)}return V}function ae(p,y,S){if(re(y%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!"),re(typeof S=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),S===void 0&&(S=2147483647),S<4)return 0;for(var V=y,X=V+S-4,se=0;se<p.length;++se){var me=p.charCodeAt(se);if(me>=55296&&me<=57343){var ve=p.charCodeAt(++se);me=65536+((me&1023)<<10)|ve&1023}if(W[y>>2]=me,y+=4,y+4>X)break}return W[y>>2]=0,y-V}function we(p){for(var y=0,S=0;S<p.length;++S){var V=p.charCodeAt(S);V>=55296&&V<=57343&&++S,y+=4}return y}function Se(p){var y=it(p)+1,S=Wo(y);return S&&ze(p,ee,S,y),S}function _e(p,y,S){for(var V=0;V<p.length;++V)re(p.charCodeAt(V)===p.charCodeAt(V)&255),ee[y++>>0]=p.charCodeAt(V);S||(ee[y>>0]=0)}var De=65536,Ve,ee,He,I,j,W,ne,fe,Ee;function le(p){Ve=p,i.HEAP8=ee=new Int8Array(p),i.HEAP16=I=new Int16Array(p),i.HEAP32=W=new Int32Array(p),i.HEAPU8=He=new Uint8Array(p),i.HEAPU16=j=new Uint16Array(p),i.HEAPU32=ne=new Uint32Array(p),i.HEAPF32=fe=new Float32Array(p),i.HEAPF64=Ee=new Float64Array(p)}var ue=5892496,be=649616,Re=5892496,Qe=649456;re(ue%16===0,"stack must start aligned"),re(Re%16===0,"heap must start aligned");var Xe=5242880;i.TOTAL_STACK&&re(Xe===i.TOTAL_STACK,"the stack size can no longer be determined at runtime");var et=i.INITIAL_MEMORY||16777216;Object.getOwnPropertyDescriptor(i,"INITIAL_MEMORY")||Object.defineProperty(i,"INITIAL_MEMORY",{configurable:!0,get:function(){ie("Module.INITIAL_MEMORY has been replaced with plain INITIAL_INITIAL_MEMORY (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}}),re(et>=Xe,"INITIAL_MEMORY should be larger than TOTAL_STACK, was "+et+"! (TOTAL_STACK="+Xe+")"),re(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!==void 0&&Int32Array.prototype.set!==void 0,"JS engine does not provide full typed array support");/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 *//**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */i.wasmMemory?$=i.wasmMemory:$=new WebAssembly.Memory({initial:et/De,maximum:et/De}),$&&(Ve=$.buffer),et=Ve.byteLength,re(et%De===0),le(Ve),W[Qe>>2]=Re;/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */function Ye(){re((be&3)==0),ne[(be>>2)+1]=34821223,ne[(be>>2)+2]=2310721022,W[0]=1668509029}function nt(){var p=ne[(be>>2)+1],y=ne[(be>>2)+2];(p!=34821223||y!=2310721022)&&ie("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x2135467, but received 0x"+y.toString(16)+" "+p.toString(16)),W[0]!==1668509029&&ie("Runtime error: The application has corrupted its heap memory area (address zero)!")}/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */(function(){var p=new Int16Array(1),y=new Int8Array(p.buffer);if(p[0]=25459,y[0]!==115||y[1]!==99)throw"Runtime error: expected the system to be little-endian!"})();function mt(p){for(;p.length>0;){var y=p.shift();if(typeof y=="function"){y(i);continue}var S=y.func;typeof S=="number"?y.arg===void 0?i.dynCall_v(S):i.dynCall_vi(S,y.arg):S(y.arg===void 0?null:y.arg)}}var ot=[],bt=[],Lt=[],Ft=[],Vt=!1,Me=!1;function yt(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)gn(i.preRun.shift());mt(ot)}function vt(){nt(),re(!Vt),Vt=!0,!i.noFSInit&&!G.init.initialized&&G.init(),mt(bt)}function St(){nt(),G.ignorePermissions=!1,mt(Lt)}function $t(){if(nt(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Tr(i.postRun.shift());mt(Ft)}function gn(p){ot.unshift(p)}function Tr(p){Ft.unshift(p)}/**
 * @license
 * Copyright 2019 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */re(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),re(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),re(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),re(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var Sr=Math.abs,bn=Math.ceil,ps=Math.floor,ci=Math.min,Vr=0,Nn=null,es=null,vr={};function co(p){for(var y=p;;){if(!vr[p])return p;p=y+Math.random()}}function tr(p){Vr++,i.monitorRunDependencies&&i.monitorRunDependencies(Vr),p?(re(!vr[p]),vr[p]=1,Nn===null&&typeof setInterval<"u"&&(Nn=setInterval(function(){if(Z){clearInterval(Nn),Nn=null;return}var y=!1;for(var S in vr)y||(y=!0,U("still waiting on run dependencies:")),U("dependency: "+S);y&&U("(end of list)")},1e4))):U("warning: run dependency added without ID")}function Yn(p){if(Vr--,i.monitorRunDependencies&&i.monitorRunDependencies(Vr),p?(re(vr[p]),delete vr[p]):U("warning: run dependency removed without ID"),Vr==0&&(Nn!==null&&(clearInterval(Nn),Nn=null),es)){var y=es;es=null,y()}}i.preloadedImages={},i.preloadedAudios={};function ie(p){i.onAbort&&i.onAbort(p),p+="",F(p),U(p),Z=!0;var y="abort("+p+") at "+Gu();throw p=y,new WebAssembly.RuntimeError(p)}/**
 * @license
 * Copyright 2015 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 *//**
 * @license
 * Copyright 2017 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */function Lo(p,y){return String.prototype.startsWith?p.startsWith(y):p.indexOf(y)===0}var Lu="data:application/octet-stream;base64,";function kl(p){return Lo(p,Lu)}var Uo="file://";function ho(p){return Lo(p,Uo)}function zt(p,y){return function(){var S=p,V=y;return y||(V=i.asm),re(Vt,"native function `"+S+"` called before runtime initialization"),re(!Me,"native function `"+S+"` called after runtime exit (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),V[p]||re(V[p],"exported native function `"+S+"` not found"),V[p].apply(null,arguments)}}var hi="icu-binding.wasm";kl(hi)||(hi=D(hi));function qn(){try{if(N)return new Uint8Array(N);if(R)return R(hi);throw"both async and sync fetching of the wasm failed"}catch(p){ie(p)}}function Tl(){return!N&&(d||f)&&typeof fetch=="function"&&!ho(hi)?fetch(hi,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+hi+"'";return p.arrayBuffer()}).catch(function(){return qn()}):new Promise(function(p,y){p(qn())})}function Go(){var p={env:Ln,wasi_snapshot_preview1:Ln};function y(ve,Oe){var Je=ve.exports;i.asm=Je,Yn("wasm-instantiate")}tr("wasm-instantiate");var S=i;function V(ve){re(i===S,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),S=null,y(ve.instance)}function X(ve){return Tl().then(function(Oe){return WebAssembly.instantiate(Oe,p)}).then(ve,function(Oe){U("failed to asynchronously prepare wasm: "+Oe),ie(Oe)})}function se(){if(!N&&typeof WebAssembly.instantiateStreaming=="function"&&!kl(hi)&&!ho(hi)&&typeof fetch=="function")fetch(hi,{credentials:"same-origin"}).then(function(ve){var Oe=WebAssembly.instantiateStreaming(ve,p);return Oe.then(V,function(Je){return U("wasm streaming compile failed: "+Je),U("falling back to ArrayBuffer instantiation"),X(V)})});else return X(V)}if(i.instantiateWasm)try{var me=i.instantiateWasm(p,y);return me}catch(ve){return U("Module.instantiateWasm callback failed with error: "+ve),!1}return se(),{}}var Pr,ts;bt.push({func:function(){Xu()}});function Cl(p){return B("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),p}function Uu(p){var y=/\b_Z[\w\d_]+/g;return p.replace(y,function(S){var V=Cl(S);return S===V?S:V+" ["+S+"]"})}function Dh(){var p=new Error;if(!p.stack){try{throw new Error}catch(y){p=y}if(!p.stack)return"(no stack trace available)"}return p.stack.toString()}function Gu(){var p=Dh();return i.extraStackTrace&&(p+=`
`+i.extraStackTrace()),Uu(p)}function Hu(){ie("stack overflow")}function gs(p){return W[$o()>>2]=p,p}function Pl(p,y){return gs(63),-1}var rr={splitPath:function(p){var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(p).slice(1)},normalizeArray:function(p,y){for(var S=0,V=p.length-1;V>=0;V--){var X=p[V];X==="."?p.splice(V,1):X===".."?(p.splice(V,1),S++):S&&(p.splice(V,1),S--)}if(y)for(;S;S--)p.unshift("..");return p},normalize:function(p){var y=p.charAt(0)==="/",S=p.substr(-1)==="/";return p=rr.normalizeArray(p.split("/").filter(function(V){return!!V}),!y).join("/"),!p&&!y&&(p="."),p&&S&&(p+="/"),(y?"/":"")+p},dirname:function(p){var y=rr.splitPath(p),S=y[0],V=y[1];return!S&&!V?".":(V&&(V=V.substr(0,V.length-1)),S+V)},basename:function(p){if(p==="/")return"/";var y=p.lastIndexOf("/");return y===-1?p:p.substr(y+1)},extname:function(p){return rr.splitPath(p)[3]},join:function(){var p=Array.prototype.slice.call(arguments,0);return rr.normalize(p.join("/"))},join2:function(p,y){return rr.normalize(p+"/"+y)}},cn={resolve:function(){for(var p="",y=!1,S=arguments.length-1;S>=-1&&!y;S--){var V=S>=0?arguments[S]:G.cwd();if(typeof V!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!V)return"";p=V+"/"+p,y=V.charAt(0)==="/"}return p=rr.normalizeArray(p.split("/").filter(function(X){return!!X}),!y).join("/"),(y?"/":"")+p||"."},relative:function(p,y){p=cn.resolve(p).substr(1),y=cn.resolve(y).substr(1);function S(Je){for(var dt=0;dt<Je.length&&Je[dt]==="";dt++);for(var Et=Je.length-1;Et>=0&&Je[Et]==="";Et--);return dt>Et?[]:Je.slice(dt,Et-dt+1)}for(var V=S(p.split("/")),X=S(y.split("/")),se=Math.min(V.length,X.length),me=se,ve=0;ve<se;ve++)if(V[ve]!==X[ve]){me=ve;break}for(var Oe=[],ve=me;ve<V.length;ve++)Oe.push("..");return Oe=Oe.concat(X.slice(me)),Oe.join("/")}},Ho={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Ho.ttys[p]={input:[],output:[],ops:y},G.registerDevice(p,Ho.stream_ops)},stream_ops:{open:function(p){var y=Ho.ttys[p.node.rdev];if(!y)throw new G.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.flush(p.tty)},flush:function(p){p.tty.ops.flush(p.tty)},read:function(p,y,S,V,X){if(!p.tty||!p.tty.ops.get_char)throw new G.ErrnoError(60);for(var se=0,me=0;me<V;me++){var ve;try{ve=p.tty.ops.get_char(p.tty)}catch{throw new G.ErrnoError(29)}if(ve===void 0&&se===0)throw new G.ErrnoError(6);if(ve==null)break;se++,y[S+me]=ve}return se&&(p.node.timestamp=Date.now()),se},write:function(p,y,S,V,X){if(!p.tty||!p.tty.ops.put_char)throw new G.ErrnoError(60);try{for(var se=0;se<V;se++)p.tty.ops.put_char(p.tty,y[S+se])}catch{throw new G.ErrnoError(29)}return V&&(p.node.timestamp=Date.now()),se}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(g){var S=256,V=Buffer.alloc?Buffer.alloc(S):new Buffer(S),X=0;try{X=P.readSync(process.stdin.fd,V,0,S,null)}catch(se){if(se.toString().indexOf("EOF")!=-1)X=0;else throw se}X>0?y=V.slice(0,X).toString("utf-8"):y=null}else typeof window<"u"&&typeof window.prompt=="function"?(y=window.prompt("Input: "),y!==null&&(y+=`
`)):typeof readline=="function"&&(y=readline(),y!==null&&(y+=`
`));if(!y)return null;p.input=Er(y,!0)}return p.input.shift()},put_char:function(p,y){y===null||y===10?(F(Fe(p.output,0)),p.output=[]):y!=0&&p.output.push(y)},flush:function(p){p.output&&p.output.length>0&&(F(Fe(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){y===null||y===10?(U(Fe(p.output,0)),p.output=[]):y!=0&&p.output.push(y)},flush:function(p){p.output&&p.output.length>0&&(U(Fe(p.output,0)),p.output=[])}}},Xt={ops_table:null,mount:function(p){return Xt.createNode(null,"/",16895,0)},createNode:function(p,y,S,V){if(G.isBlkdev(S)||G.isFIFO(S))throw new G.ErrnoError(63);Xt.ops_table||(Xt.ops_table={dir:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr,lookup:Xt.node_ops.lookup,mknod:Xt.node_ops.mknod,rename:Xt.node_ops.rename,unlink:Xt.node_ops.unlink,rmdir:Xt.node_ops.rmdir,readdir:Xt.node_ops.readdir,symlink:Xt.node_ops.symlink},stream:{llseek:Xt.stream_ops.llseek}},file:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr},stream:{llseek:Xt.stream_ops.llseek,read:Xt.stream_ops.read,write:Xt.stream_ops.write,allocate:Xt.stream_ops.allocate,mmap:Xt.stream_ops.mmap,msync:Xt.stream_ops.msync}},link:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr,readlink:Xt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr},stream:G.chrdev_stream_ops}});var X=G.createNode(p,y,S,V);return G.isDir(X.mode)?(X.node_ops=Xt.ops_table.dir.node,X.stream_ops=Xt.ops_table.dir.stream,X.contents={}):G.isFile(X.mode)?(X.node_ops=Xt.ops_table.file.node,X.stream_ops=Xt.ops_table.file.stream,X.usedBytes=0,X.contents=null):G.isLink(X.mode)?(X.node_ops=Xt.ops_table.link.node,X.stream_ops=Xt.ops_table.link.stream):G.isChrdev(X.mode)&&(X.node_ops=Xt.ops_table.chrdev.node,X.stream_ops=Xt.ops_table.chrdev.stream),X.timestamp=Date.now(),p&&(p.contents[y]=X),X},getFileDataAsRegularArray:function(p){if(p.contents&&p.contents.subarray){for(var y=[],S=0;S<p.usedBytes;++S)y.push(p.contents[S]);return y}return p.contents},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var S=p.contents?p.contents.length:0;if(!(S>=y)){var V=1024*1024;y=Math.max(y,S*(S<V?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var X=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(X.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y){if(y==0){p.contents=null,p.usedBytes=0;return}if(!p.contents||p.contents.subarray){var S=p.contents;p.contents=new Uint8Array(y),S&&p.contents.set(S.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y;return}if(p.contents||(p.contents=[]),p.contents.length>y)p.contents.length=y;else for(;p.contents.length<y;)p.contents.push(0);p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=G.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,G.isDir(p.mode)?y.size=4096:G.isFile(p.mode)?y.size=p.usedBytes:G.isLink(p.mode)?y.size=p.link.length:y.size=0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){y.mode!==void 0&&(p.mode=y.mode),y.timestamp!==void 0&&(p.timestamp=y.timestamp),y.size!==void 0&&Xt.resizeFileStorage(p,y.size)},lookup:function(p,y){throw G.genericErrors[44]},mknod:function(p,y,S,V){return Xt.createNode(p,y,S,V)},rename:function(p,y,S){if(G.isDir(p.mode)){var V;try{V=G.lookupNode(y,S)}catch{}if(V)for(var X in V.contents)throw new G.ErrnoError(55)}delete p.parent.contents[p.name],p.name=S,y.contents[S]=p,p.parent=y},unlink:function(p,y){delete p.contents[y]},rmdir:function(p,y){var S=G.lookupNode(p,y);for(var V in S.contents)throw new G.ErrnoError(55);delete p.contents[y]},readdir:function(p){var y=[".",".."];for(var S in p.contents)!p.contents.hasOwnProperty(S)||y.push(S);return y},symlink:function(p,y,S){var V=Xt.createNode(p,y,41471,0);return V.link=S,V},readlink:function(p){if(!G.isLink(p.mode))throw new G.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,S,V,X){var se=p.node.contents;if(X>=p.node.usedBytes)return 0;var me=Math.min(p.node.usedBytes-X,V);if(re(me>=0),me>8&&se.subarray)y.set(se.subarray(X,X+me),S);else for(var ve=0;ve<me;ve++)y[S+ve]=se[X+ve];return me},write:function(p,y,S,V,X,se){if(re(!(y instanceof ArrayBuffer)),!V)return 0;var me=p.node;if(me.timestamp=Date.now(),y.subarray&&(!me.contents||me.contents.subarray)){if(se)return re(X===0,"canOwn must imply no weird position inside the file"),me.contents=y.subarray(S,S+V),me.usedBytes=V,V;if(me.usedBytes===0&&X===0)return me.contents=y.slice(S,S+V),me.usedBytes=V,V;if(X+V<=me.usedBytes)return me.contents.set(y.subarray(S,S+V),X),V}if(Xt.expandFileStorage(me,X+V),me.contents.subarray&&y.subarray)me.contents.set(y.subarray(S,S+V),X);else for(var ve=0;ve<V;ve++)me.contents[X+ve]=y[S+ve];return me.usedBytes=Math.max(me.usedBytes,X+V),V},llseek:function(p,y,S){var V=y;if(S===1?V+=p.position:S===2&&G.isFile(p.node.mode)&&(V+=p.node.usedBytes),V<0)throw new G.ErrnoError(28);return V},allocate:function(p,y,S){Xt.expandFileStorage(p.node,y+S),p.node.usedBytes=Math.max(p.node.usedBytes,y+S)},mmap:function(p,y,S,V,X,se){if(re(y===0),!G.isFile(p.node.mode))throw new G.ErrnoError(43);var me,ve,Oe=p.node.contents;if(!(se&2)&&Oe.buffer===Ve)ve=!1,me=Oe.byteOffset;else{if((V>0||V+S<Oe.length)&&(Oe.subarray?Oe=Oe.subarray(V,V+S):Oe=Array.prototype.slice.call(Oe,V,V+S)),ve=!0,me=Wo(S),!me)throw new G.ErrnoError(48);ee.set(Oe,me)}return{ptr:me,allocated:ve}},msync:function(p,y,S,V,X){if(!G.isFile(p.node.mode))throw new G.ErrnoError(43);return X&2||Xt.stream_ops.write(p,y,0,V,S,!1),0}}},Fn={0:"Success",1:"Arg list too long",2:"Permission denied",3:"Address already in use",4:"Address not available",5:"Address family not supported by protocol family",6:"No more processes",7:"Socket already connected",8:"Bad file number",9:"Trying to read unreadable message",10:"Mount device busy",11:"Operation canceled",12:"No children",13:"Connection aborted",14:"Connection refused",15:"Connection reset by peer",16:"File locking deadlock error",17:"Destination address required",18:"Math arg out of domain of func",19:"Quota exceeded",20:"File exists",21:"Bad address",22:"File too large",23:"Host is unreachable",24:"Identifier removed",25:"Illegal byte sequence",26:"Connection already in progress",27:"Interrupted system call",28:"Invalid argument",29:"I/O error",30:"Socket is already connected",31:"Is a directory",32:"Too many symbolic links",33:"Too many open files",34:"Too many links",35:"Message too long",36:"Multihop attempted",37:"File or path name too long",38:"Network interface is not configured",39:"Connection reset by network",40:"Network is unreachable",41:"Too many open files in system",42:"No buffer space available",43:"No such device",44:"No such file or directory",45:"Exec format error",46:"No record locks available",47:"The link has been severed",48:"Not enough core",49:"No message of desired type",50:"Protocol not available",51:"No space left on device",52:"Function not implemented",53:"Socket is not connected",54:"Not a directory",55:"Directory not empty",56:"State not recoverable",57:"Socket operation on non-socket",59:"Not a typewriter",60:"No such device or address",61:"Value too large for defined data type",62:"Previous owner died",63:"Not super-user",64:"Broken pipe",65:"Protocol error",66:"Unknown protocol",67:"Protocol wrong type for socket",68:"Math result not representable",69:"Read only file system",70:"Illegal seek",71:"No such process",72:"Stale file handle",73:"Connection timed out",74:"Text file busy",75:"Cross-device link",100:"Device not a stream",101:"Bad font file fmt",102:"Invalid slot",103:"Invalid request code",104:"No anode",105:"Block device required",106:"Channel number out of range",107:"Level 3 halted",108:"Level 3 reset",109:"Link number out of range",110:"Protocol driver not attached",111:"No CSI structure available",112:"Level 2 halted",113:"Invalid exchange",114:"Invalid request descriptor",115:"Exchange full",116:"No data (for no delay io)",117:"Timer expired",118:"Out of streams resources",119:"Machine is not on the network",120:"Package not installed",121:"The object is remote",122:"Advertise error",123:"Srmount error",124:"Communication error on send",125:"Cross mount point (not really error)",126:"Given log. name not unique",127:"f.d. invalid for this operation",128:"Remote address changed",129:"Can   access a needed shared lib",130:"Accessing a corrupted shared lib",131:".lib section in a.out corrupted",132:"Attempting to link in too many libs",133:"Attempting to exec a shared library",135:"Streams pipe error",136:"Too many users",137:"Socket type not supported",138:"Not supported",139:"Protocol family not supported",140:"Can't send after socket shutdown",141:"Too many references",142:"Host is down",148:"No medium (in tape drive)",156:"Level 2 not synchronized"},Ff={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},G={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(p){if(!(p instanceof G.ErrnoError))throw p+" : "+Gu();return gs(p.errno)},lookupPath:function(p,y){if(p=cn.resolve(G.cwd(),p),y=y||{},!p)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};for(var V in S)y[V]===void 0&&(y[V]=S[V]);if(y.recurse_count>8)throw new G.ErrnoError(32);for(var X=rr.normalizeArray(p.split("/").filter(function(At){return!!At}),!1),se=G.root,me="/",ve=0;ve<X.length;ve++){var Oe=ve===X.length-1;if(Oe&&y.parent)break;if(se=G.lookupNode(se,X[ve]),me=rr.join2(me,X[ve]),G.isMountpoint(se)&&(!Oe||Oe&&y.follow_mount)&&(se=se.mounted.root),!Oe||y.follow)for(var Je=0;G.isLink(se.mode);){var dt=G.readlink(me);me=cn.resolve(rr.dirname(me),dt);var Et=G.lookupPath(me,{recurse_count:y.recurse_count});if(se=Et.node,Je++>40)throw new G.ErrnoError(32)}}return{path:me,node:se}},getPath:function(p){for(var y;;){if(G.isRoot(p)){var S=p.mount.mountpoint;return y?S[S.length-1]!=="/"?S+"/"+y:S+y:S}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:function(p,y){for(var S=0,V=0;V<y.length;V++)S=(S<<5)-S+y.charCodeAt(V)|0;return(p+S>>>0)%G.nameTable.length},hashAddNode:function(p){var y=G.hashName(p.parent.id,p.name);p.name_next=G.nameTable[y],G.nameTable[y]=p},hashRemoveNode:function(p){var y=G.hashName(p.parent.id,p.name);if(G.nameTable[y]===p)G.nameTable[y]=p.name_next;else for(var S=G.nameTable[y];S;){if(S.name_next===p){S.name_next=p.name_next;break}S=S.name_next}},lookupNode:function(p,y){var S=G.mayLookup(p);if(S)throw new G.ErrnoError(S,p);for(var V=G.hashName(p.id,y),X=G.nameTable[V];X;X=X.name_next){var se=X.name;if(X.parent.id===p.id&&se===y)return X}return G.lookup(p,y)},createNode:function(p,y,S,V){var X=new G.FSNode(p,y,S,V);return G.hashAddNode(X),X},destroyNode:function(p){G.hashRemoveNode(p)},isRoot:function(p){return p===p.parent},isMountpoint:function(p){return!!p.mounted},isFile:function(p){return(p&61440)===32768},isDir:function(p){return(p&61440)===16384},isLink:function(p){return(p&61440)===40960},isChrdev:function(p){return(p&61440)===8192},isBlkdev:function(p){return(p&61440)===24576},isFIFO:function(p){return(p&61440)===4096},isSocket:function(p){return(p&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(p){var y=G.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:function(p){var y=["r","w","rw"][p&3];return p&512&&(y+="w"),y},nodePermissions:function(p,y){return G.ignorePermissions?0:y.indexOf("r")!==-1&&!(p.mode&292)||y.indexOf("w")!==-1&&!(p.mode&146)||y.indexOf("x")!==-1&&!(p.mode&73)?2:0},mayLookup:function(p){var y=G.nodePermissions(p,"x");return y||(p.node_ops.lookup?0:2)},mayCreate:function(p,y){try{var S=G.lookupNode(p,y);return 20}catch{}return G.nodePermissions(p,"wx")},mayDelete:function(p,y,S){var V;try{V=G.lookupNode(p,y)}catch(se){return se.errno}var X=G.nodePermissions(p,"wx");if(X)return X;if(S){if(!G.isDir(V.mode))return 54;if(G.isRoot(V)||G.getPath(V)===G.cwd())return 10}else if(G.isDir(V.mode))return 31;return 0},mayOpen:function(p,y){return p?G.isLink(p.mode)?32:G.isDir(p.mode)&&(G.flagsToPermissionString(y)!=="r"||y&512)?31:G.nodePermissions(p,G.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd:function(p,y){p=p||0,y=y||G.MAX_OPEN_FDS;for(var S=p;S<=y;S++)if(!G.streams[S])return S;throw new G.ErrnoError(33)},getStream:function(p){return G.streams[p]},createStream:function(p,y,S){G.FSStream||(G.FSStream=function(){},G.FSStream.prototype={object:{get:function(){return this.node},set:function(me){this.node=me}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}});var V=new G.FSStream;for(var X in p)V[X]=p[X];p=V;var se=G.nextfd(y,S);return p.fd=se,G.streams[se]=p,p},closeStream:function(p){G.streams[p]=null},chrdev_stream_ops:{open:function(p){var y=G.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:function(){throw new G.ErrnoError(70)}},major:function(p){return p>>8},minor:function(p){return p&255},makedev:function(p,y){return p<<8|y},registerDevice:function(p,y){G.devices[p]={stream_ops:y}},getDevice:function(p){return G.devices[p]},getMounts:function(p){for(var y=[],S=[p];S.length;){var V=S.pop();y.push(V),S.push.apply(S,V.mounts)}return y},syncfs:function(p,y){typeof p=="function"&&(y=p,p=!1),G.syncFSRequests++,G.syncFSRequests>1&&U("warning: "+G.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var S=G.getMounts(G.root.mount),V=0;function X(me){return re(G.syncFSRequests>0),G.syncFSRequests--,y(me)}function se(me){if(me)return se.errored?void 0:(se.errored=!0,X(me));++V>=S.length&&X(null)}S.forEach(function(me){if(!me.type.syncfs)return se(null);me.type.syncfs(me,p,se)})},mount:function(p,y,S){if(typeof p=="string")throw p;var V=S==="/",X=!S,se;if(V&&G.root)throw new G.ErrnoError(10);if(!V&&!X){var me=G.lookupPath(S,{follow_mount:!1});if(S=me.path,se=me.node,G.isMountpoint(se))throw new G.ErrnoError(10);if(!G.isDir(se.mode))throw new G.ErrnoError(54)}var ve={type:p,opts:y,mountpoint:S,mounts:[]},Oe=p.mount(ve);return Oe.mount=ve,ve.root=Oe,V?G.root=Oe:se&&(se.mounted=ve,se.mount&&se.mount.mounts.push(ve)),Oe},unmount:function(p){var y=G.lookupPath(p,{follow_mount:!1});if(!G.isMountpoint(y.node))throw new G.ErrnoError(28);var S=y.node,V=S.mounted,X=G.getMounts(V);Object.keys(G.nameTable).forEach(function(me){for(var ve=G.nameTable[me];ve;){var Oe=ve.name_next;X.indexOf(ve.mount)!==-1&&G.destroyNode(ve),ve=Oe}}),S.mounted=null;var se=S.mount.mounts.indexOf(V);re(se!==-1),S.mount.mounts.splice(se,1)},lookup:function(p,y){return p.node_ops.lookup(p,y)},mknod:function(p,y,S){var V=G.lookupPath(p,{parent:!0}),X=V.node,se=rr.basename(p);if(!se||se==="."||se==="..")throw new G.ErrnoError(28);var me=G.mayCreate(X,se);if(me)throw new G.ErrnoError(me);if(!X.node_ops.mknod)throw new G.ErrnoError(63);return X.node_ops.mknod(X,se,y,S)},create:function(p,y){return y=y!==void 0?y:438,y&=4095,y|=32768,G.mknod(p,y,0)},mkdir:function(p,y){return y=y!==void 0?y:511,y&=1023,y|=16384,G.mknod(p,y,0)},mkdirTree:function(p,y){for(var S=p.split("/"),V="",X=0;X<S.length;++X)if(!!S[X]){V+="/"+S[X];try{G.mkdir(V,y)}catch(se){if(se.errno!=20)throw se}}},mkdev:function(p,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,G.mknod(p,y,S)},symlink:function(p,y){if(!cn.resolve(p))throw new G.ErrnoError(44);var S=G.lookupPath(y,{parent:!0}),V=S.node;if(!V)throw new G.ErrnoError(44);var X=rr.basename(y),se=G.mayCreate(V,X);if(se)throw new G.ErrnoError(se);if(!V.node_ops.symlink)throw new G.ErrnoError(63);return V.node_ops.symlink(V,X,p)},rename:function(p,y){var S=rr.dirname(p),V=rr.dirname(y),X=rr.basename(p),se=rr.basename(y),me,ve,Oe;try{me=G.lookupPath(p,{parent:!0}),ve=me.node,me=G.lookupPath(y,{parent:!0}),Oe=me.node}catch{throw new G.ErrnoError(10)}if(!ve||!Oe)throw new G.ErrnoError(44);if(ve.mount!==Oe.mount)throw new G.ErrnoError(75);var Je=G.lookupNode(ve,X),dt=cn.relative(p,V);if(dt.charAt(0)!==".")throw new G.ErrnoError(28);if(dt=cn.relative(y,S),dt.charAt(0)!==".")throw new G.ErrnoError(55);var Et;try{Et=G.lookupNode(Oe,se)}catch{}if(Je!==Et){var At=G.isDir(Je.mode),Pt=G.mayDelete(ve,X,At);if(Pt)throw new G.ErrnoError(Pt);if(Pt=Et?G.mayDelete(Oe,se,At):G.mayCreate(Oe,se),Pt)throw new G.ErrnoError(Pt);if(!ve.node_ops.rename)throw new G.ErrnoError(63);if(G.isMountpoint(Je)||Et&&G.isMountpoint(Et))throw new G.ErrnoError(10);if(Oe!==ve&&(Pt=G.nodePermissions(ve,"w"),Pt))throw new G.ErrnoError(Pt);try{G.trackingDelegate.willMovePath&&G.trackingDelegate.willMovePath(p,y)}catch(xt){U("FS.trackingDelegate['willMovePath']('"+p+"', '"+y+"') threw an exception: "+xt.message)}G.hashRemoveNode(Je);try{ve.node_ops.rename(Je,Oe,se)}catch(xt){throw xt}finally{G.hashAddNode(Je)}try{G.trackingDelegate.onMovePath&&G.trackingDelegate.onMovePath(p,y)}catch(xt){U("FS.trackingDelegate['onMovePath']('"+p+"', '"+y+"') threw an exception: "+xt.message)}}},rmdir:function(p){var y=G.lookupPath(p,{parent:!0}),S=y.node,V=rr.basename(p),X=G.lookupNode(S,V),se=G.mayDelete(S,V,!0);if(se)throw new G.ErrnoError(se);if(!S.node_ops.rmdir)throw new G.ErrnoError(63);if(G.isMountpoint(X))throw new G.ErrnoError(10);try{G.trackingDelegate.willDeletePath&&G.trackingDelegate.willDeletePath(p)}catch(me){U("FS.trackingDelegate['willDeletePath']('"+p+"') threw an exception: "+me.message)}S.node_ops.rmdir(S,V),G.destroyNode(X);try{G.trackingDelegate.onDeletePath&&G.trackingDelegate.onDeletePath(p)}catch(me){U("FS.trackingDelegate['onDeletePath']('"+p+"') threw an exception: "+me.message)}},readdir:function(p){var y=G.lookupPath(p,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new G.ErrnoError(54);return S.node_ops.readdir(S)},unlink:function(p){var y=G.lookupPath(p,{parent:!0}),S=y.node,V=rr.basename(p),X=G.lookupNode(S,V),se=G.mayDelete(S,V,!1);if(se)throw new G.ErrnoError(se);if(!S.node_ops.unlink)throw new G.ErrnoError(63);if(G.isMountpoint(X))throw new G.ErrnoError(10);try{G.trackingDelegate.willDeletePath&&G.trackingDelegate.willDeletePath(p)}catch(me){U("FS.trackingDelegate['willDeletePath']('"+p+"') threw an exception: "+me.message)}S.node_ops.unlink(S,V),G.destroyNode(X);try{G.trackingDelegate.onDeletePath&&G.trackingDelegate.onDeletePath(p)}catch(me){U("FS.trackingDelegate['onDeletePath']('"+p+"') threw an exception: "+me.message)}},readlink:function(p){var y=G.lookupPath(p),S=y.node;if(!S)throw new G.ErrnoError(44);if(!S.node_ops.readlink)throw new G.ErrnoError(28);return cn.resolve(G.getPath(S.parent),S.node_ops.readlink(S))},stat:function(p,y){var S=G.lookupPath(p,{follow:!y}),V=S.node;if(!V)throw new G.ErrnoError(44);if(!V.node_ops.getattr)throw new G.ErrnoError(63);return V.node_ops.getattr(V)},lstat:function(p){return G.stat(p,!0)},chmod:function(p,y,S){var V;if(typeof p=="string"){var X=G.lookupPath(p,{follow:!S});V=X.node}else V=p;if(!V.node_ops.setattr)throw new G.ErrnoError(63);V.node_ops.setattr(V,{mode:y&4095|V.mode&-4096,timestamp:Date.now()})},lchmod:function(p,y){G.chmod(p,y,!0)},fchmod:function(p,y){var S=G.getStream(p);if(!S)throw new G.ErrnoError(8);G.chmod(S.node,y)},chown:function(p,y,S,V){var X;if(typeof p=="string"){var se=G.lookupPath(p,{follow:!V});X=se.node}else X=p;if(!X.node_ops.setattr)throw new G.ErrnoError(63);X.node_ops.setattr(X,{timestamp:Date.now()})},lchown:function(p,y,S){G.chown(p,y,S,!0)},fchown:function(p,y,S){var V=G.getStream(p);if(!V)throw new G.ErrnoError(8);G.chown(V.node,y,S)},truncate:function(p,y){if(y<0)throw new G.ErrnoError(28);var S;if(typeof p=="string"){var V=G.lookupPath(p,{follow:!0});S=V.node}else S=p;if(!S.node_ops.setattr)throw new G.ErrnoError(63);if(G.isDir(S.mode))throw new G.ErrnoError(31);if(!G.isFile(S.mode))throw new G.ErrnoError(28);var X=G.nodePermissions(S,"w");if(X)throw new G.ErrnoError(X);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate:function(p,y){var S=G.getStream(p);if(!S)throw new G.ErrnoError(8);if((S.flags&2097155)===0)throw new G.ErrnoError(28);G.truncate(S.node,y)},utime:function(p,y,S){var V=G.lookupPath(p,{follow:!0}),X=V.node;X.node_ops.setattr(X,{timestamp:Math.max(y,S)})},open:function(p,y,S,V,X){if(p==="")throw new G.ErrnoError(44);y=typeof y=="string"?G.modeStringToFlags(y):y,S=typeof S>"u"?438:S,y&64?S=S&4095|32768:S=0;var se;if(typeof p=="object")se=p;else{p=rr.normalize(p);try{var me=G.lookupPath(p,{follow:!(y&131072)});se=me.node}catch{}}var ve=!1;if(y&64)if(se){if(y&128)throw new G.ErrnoError(20)}else se=G.mknod(p,S,0),ve=!0;if(!se)throw new G.ErrnoError(44);if(G.isChrdev(se.mode)&&(y&=-513),y&65536&&!G.isDir(se.mode))throw new G.ErrnoError(54);if(!ve){var Oe=G.mayOpen(se,y);if(Oe)throw new G.ErrnoError(Oe)}y&512&&G.truncate(se,0),y&=-131713;var Je=G.createStream({node:se,path:G.getPath(se),flags:y,seekable:!0,position:0,stream_ops:se.stream_ops,ungotten:[],error:!1},V,X);Je.stream_ops.open&&Je.stream_ops.open(Je),i.logReadFiles&&!(y&1)&&(G.readFiles||(G.readFiles={}),p in G.readFiles||(G.readFiles[p]=1,U("FS.trackingDelegate error on read file: "+p)));try{if(G.trackingDelegate.onOpenFile){var dt=0;(y&2097155)!==1&&(dt|=G.tracking.openFlags.READ),(y&2097155)!==0&&(dt|=G.tracking.openFlags.WRITE),G.trackingDelegate.onOpenFile(p,dt)}}catch(Et){U("FS.trackingDelegate['onOpenFile']('"+p+"', flags) threw an exception: "+Et.message)}return Je},close:function(p){if(G.isClosed(p))throw new G.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{G.closeStream(p.fd)}p.fd=null},isClosed:function(p){return p.fd===null},llseek:function(p,y,S){if(G.isClosed(p))throw new G.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new G.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new G.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,S),p.ungotten=[],p.position},read:function(p,y,S,V,X){if(V<0||X<0)throw new G.ErrnoError(28);if(G.isClosed(p))throw new G.ErrnoError(8);if((p.flags&2097155)===1)throw new G.ErrnoError(8);if(G.isDir(p.node.mode))throw new G.ErrnoError(31);if(!p.stream_ops.read)throw new G.ErrnoError(28);var se=typeof X<"u";if(!se)X=p.position;else if(!p.seekable)throw new G.ErrnoError(70);var me=p.stream_ops.read(p,y,S,V,X);return se||(p.position+=me),me},write:function(p,y,S,V,X,se){if(V<0||X<0)throw new G.ErrnoError(28);if(G.isClosed(p))throw new G.ErrnoError(8);if((p.flags&2097155)===0)throw new G.ErrnoError(8);if(G.isDir(p.node.mode))throw new G.ErrnoError(31);if(!p.stream_ops.write)throw new G.ErrnoError(28);p.seekable&&p.flags&1024&&G.llseek(p,0,2);var me=typeof X<"u";if(!me)X=p.position;else if(!p.seekable)throw new G.ErrnoError(70);var ve=p.stream_ops.write(p,y,S,V,X,se);me||(p.position+=ve);try{p.path&&G.trackingDelegate.onWriteToFile&&G.trackingDelegate.onWriteToFile(p.path)}catch(Oe){U("FS.trackingDelegate['onWriteToFile']('"+p.path+"') threw an exception: "+Oe.message)}return ve},allocate:function(p,y,S){if(G.isClosed(p))throw new G.ErrnoError(8);if(y<0||S<=0)throw new G.ErrnoError(28);if((p.flags&2097155)===0)throw new G.ErrnoError(8);if(!G.isFile(p.node.mode)&&!G.isDir(p.node.mode))throw new G.ErrnoError(43);if(!p.stream_ops.allocate)throw new G.ErrnoError(138);p.stream_ops.allocate(p,y,S)},mmap:function(p,y,S,V,X,se){if((X&2)!==0&&(se&2)===0&&(p.flags&2097155)!==2)throw new G.ErrnoError(2);if((p.flags&2097155)===1)throw new G.ErrnoError(2);if(!p.stream_ops.mmap)throw new G.ErrnoError(43);return p.stream_ops.mmap(p,y,S,V,X,se)},msync:function(p,y,S,V,X){return!p||!p.stream_ops.msync?0:p.stream_ops.msync(p,y,S,V,X)},munmap:function(p){return 0},ioctl:function(p,y,S){if(!p.stream_ops.ioctl)throw new G.ErrnoError(59);return p.stream_ops.ioctl(p,y,S)},readFile:function(p,y){if(y=y||{},y.flags=y.flags||"r",y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error('Invalid encoding type "'+y.encoding+'"');var S,V=G.open(p,y.flags),X=G.stat(p),se=X.size,me=new Uint8Array(se);return G.read(V,me,0,se,0),y.encoding==="utf8"?S=Fe(me,0):y.encoding==="binary"&&(S=me),G.close(V),S},writeFile:function(p,y,S){S=S||{},S.flags=S.flags||"w";var V=G.open(p,S.flags,S.mode);if(typeof y=="string"){var X=new Uint8Array(it(y)+1),se=ze(y,X,0,X.length);G.write(V,X,0,se,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))G.write(V,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");G.close(V)},cwd:function(){return G.currentPath},chdir:function(p){var y=G.lookupPath(p,{follow:!0});if(y.node===null)throw new G.ErrnoError(44);if(!G.isDir(y.node.mode))throw new G.ErrnoError(54);var S=G.nodePermissions(y.node,"x");if(S)throw new G.ErrnoError(S);G.currentPath=y.path},createDefaultDirectories:function(){G.mkdir("/tmp"),G.mkdir("/home"),G.mkdir("/home/web_user")},createDefaultDevices:function(){G.mkdir("/dev"),G.registerDevice(G.makedev(1,3),{read:function(){return 0},write:function(V,X,se,me,ve){return me}}),G.mkdev("/dev/null",G.makedev(1,3)),Ho.register(G.makedev(5,0),Ho.default_tty_ops),Ho.register(G.makedev(6,0),Ho.default_tty1_ops),G.mkdev("/dev/tty",G.makedev(5,0)),G.mkdev("/dev/tty1",G.makedev(6,0));var p;if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var y=new Uint8Array(1);p=function(){return crypto.getRandomValues(y),y[0]}}else if(g)try{var S=hc;p=function(){return S.randomBytes(1)[0]}}catch{}p||(p=function(){ie("no cryptographic support found for random_device. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}),G.createDevice("/dev","random",p),G.createDevice("/dev","urandom",p),G.mkdir("/dev/shm"),G.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){G.mkdir("/proc"),G.mkdir("/proc/self"),G.mkdir("/proc/self/fd"),G.mount({mount:function(){var p=G.createNode("/proc/self","fd",16895,73);return p.node_ops={lookup:function(y,S){var V=+S,X=G.getStream(V);if(!X)throw new G.ErrnoError(8);var se={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return X.path}}};return se.parent=se,se}},p}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?G.createDevice("/dev","stdin",i.stdin):G.symlink("/dev/tty","/dev/stdin"),i.stdout?G.createDevice("/dev","stdout",null,i.stdout):G.symlink("/dev/tty","/dev/stdout"),i.stderr?G.createDevice("/dev","stderr",null,i.stderr):G.symlink("/dev/tty1","/dev/stderr");var p=G.open("/dev/stdin","r"),y=G.open("/dev/stdout","w"),S=G.open("/dev/stderr","w");re(p.fd===0,"invalid handle for stdin ("+p.fd+")"),re(y.fd===1,"invalid handle for stdout ("+y.fd+")"),re(S.fd===2,"invalid handle for stderr ("+S.fd+")")},ensureErrnoError:function(){G.ErrnoError||(G.ErrnoError=function(y,S){this.node=S,this.setErrno=function(V){this.errno=V;for(var X in Ff)if(Ff[X]===V){this.code=X;break}},this.setErrno(y),this.message=Fn[y],this.stack&&(Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0}),this.stack=Uu(this.stack))},G.ErrnoError.prototype=new Error,G.ErrnoError.prototype.constructor=G.ErrnoError,[44].forEach(function(p){G.genericErrors[p]=new G.ErrnoError(p),G.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:function(){G.ensureErrnoError(),G.nameTable=new Array(4096),G.mount(Xt,{},"/"),G.createDefaultDirectories(),G.createDefaultDevices(),G.createSpecialDirectories(),G.filesystems={MEMFS:Xt}},init:function(p,y,S){re(!G.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),G.init.initialized=!0,G.ensureErrnoError(),i.stdin=p||i.stdin,i.stdout=y||i.stdout,i.stderr=S||i.stderr,G.createStandardStreams()},quit:function(){G.init.initialized=!1;var p=i._fflush;p&&p(0);for(var y=0;y<G.streams.length;y++){var S=G.streams[y];!S||G.close(S)}},getMode:function(p,y){var S=0;return p&&(S|=365),y&&(S|=146),S},joinPath:function(p,y){var S=rr.join.apply(null,p);return y&&S[0]=="/"&&(S=S.substr(1)),S},absolutePath:function(p,y){return cn.resolve(y,p)},standardizePath:function(p){return rr.normalize(p)},findObject:function(p,y){var S=G.analyzePath(p,y);return S.exists?S.object:(gs(S.error),null)},analyzePath:function(p,y){try{var S=G.lookupPath(p,{follow:!y});p=S.path}catch{}var V={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=G.lookupPath(p,{parent:!0});V.parentExists=!0,V.parentPath=S.path,V.parentObject=S.node,V.name=rr.basename(p),S=G.lookupPath(p,{follow:!y}),V.exists=!0,V.path=S.path,V.object=S.node,V.name=S.node.name,V.isRoot=S.path==="/"}catch(X){V.error=X.errno}return V},createFolder:function(p,y,S,V){var X=rr.join2(typeof p=="string"?p:G.getPath(p),y),se=G.getMode(S,V);return G.mkdir(X,se)},createPath:function(p,y,S,V){p=typeof p=="string"?p:G.getPath(p);for(var X=y.split("/").reverse();X.length;){var se=X.pop();if(!!se){var me=rr.join2(p,se);try{G.mkdir(me)}catch{}p=me}}return me},createFile:function(p,y,S,V,X){var se=rr.join2(typeof p=="string"?p:G.getPath(p),y),me=G.getMode(V,X);return G.create(se,me)},createDataFile:function(p,y,S,V,X,se){var me=y?rr.join2(typeof p=="string"?p:G.getPath(p),y):p,ve=G.getMode(V,X),Oe=G.create(me,ve);if(S){if(typeof S=="string"){for(var Je=new Array(S.length),dt=0,Et=S.length;dt<Et;++dt)Je[dt]=S.charCodeAt(dt);S=Je}G.chmod(Oe,ve|146);var At=G.open(Oe,"w");G.write(At,S,0,S.length,0,se),G.close(At),G.chmod(Oe,ve)}return Oe},createDevice:function(p,y,S,V){var X=rr.join2(typeof p=="string"?p:G.getPath(p),y),se=G.getMode(!!S,!!V);G.createDevice.major||(G.createDevice.major=64);var me=G.makedev(G.createDevice.major++,0);return G.registerDevice(me,{open:function(ve){ve.seekable=!1},close:function(ve){V&&V.buffer&&V.buffer.length&&V(10)},read:function(ve,Oe,Je,dt,Et){for(var At=0,Pt=0;Pt<dt;Pt++){var xt;try{xt=S()}catch{throw new G.ErrnoError(29)}if(xt===void 0&&At===0)throw new G.ErrnoError(6);if(xt==null)break;At++,Oe[Je+Pt]=xt}return At&&(ve.node.timestamp=Date.now()),At},write:function(ve,Oe,Je,dt,Et){for(var At=0;At<dt;At++)try{V(Oe[Je+At])}catch{throw new G.ErrnoError(29)}return dt&&(ve.node.timestamp=Date.now()),At}}),G.mkdev(X,se,me)},createLink:function(p,y,S,V,X){var se=rr.join2(typeof p=="string"?p:G.getPath(p),y);return G.symlink(S,se)},forceLoadFile:function(p){if(p.isDevice||p.isFolder||p.link||p.contents)return!0;var y=!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(A)try{p.contents=Er(A(p.url),!0),p.usedBytes=p.contents.length}catch{y=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return y||gs(29),y},createLazyFile:function(p,y,S,V,X){function se(){this.lengthKnown=!1,this.chunks=[]}if(se.prototype.get=function(At){if(!(At>this.length-1||At<0)){var Pt=At%this.chunkSize,xt=At/this.chunkSize|0;return this.getter(xt)[Pt]}},se.prototype.setDataGetter=function(At){this.getter=At},se.prototype.cacheLength=function(){var At=new XMLHttpRequest;if(At.open("HEAD",S,!1),At.send(null),!(At.status>=200&&At.status<300||At.status===304))throw new Error("Couldn't load "+S+". Status: "+At.status);var Pt=Number(At.getResponseHeader("Content-length")),xt,xr=(xt=At.getResponseHeader("Accept-Ranges"))&&xt==="bytes",Qr=(xt=At.getResponseHeader("Content-Encoding"))&&xt==="gzip",b=1024*1024;xr||(b=Pt);var w=function(q,xe){if(q>xe)throw new Error("invalid range ("+q+", "+xe+") or no bytes requested!");if(xe>Pt-1)throw new Error("only "+Pt+" bytes available! programmer error!");var Be=new XMLHttpRequest;if(Be.open("GET",S,!1),Pt!==b&&Be.setRequestHeader("Range","bytes="+q+"-"+xe),typeof Uint8Array<"u"&&(Be.responseType="arraybuffer"),Be.overrideMimeType&&Be.overrideMimeType("text/plain; charset=x-user-defined"),Be.send(null),!(Be.status>=200&&Be.status<300||Be.status===304))throw new Error("Couldn't load "+S+". Status: "+Be.status);return Be.response!==void 0?new Uint8Array(Be.response||[]):Er(Be.responseText||"",!0)},L=this;L.setDataGetter(function(q){var xe=q*b,Be=(q+1)*b-1;if(Be=Math.min(Be,Pt-1),typeof L.chunks[q]>"u"&&(L.chunks[q]=w(xe,Be)),typeof L.chunks[q]>"u")throw new Error("doXHR failed!");return L.chunks[q]}),(Qr||!Pt)&&(b=Pt=1,Pt=this.getter(0).length,b=Pt,F("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Pt,this._chunkSize=b,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var me=new se;Object.defineProperties(me,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ve={isDevice:!1,contents:me}}else var ve={isDevice:!1,url:S};var Oe=G.createFile(p,y,ve,V,X);ve.contents?Oe.contents=ve.contents:ve.url&&(Oe.contents=null,Oe.url=ve.url),Object.defineProperties(Oe,{usedBytes:{get:function(){return this.contents.length}}});var Je={},dt=Object.keys(Oe.stream_ops);return dt.forEach(function(Et){var At=Oe.stream_ops[Et];Je[Et]=function(){if(!G.forceLoadFile(Oe))throw new G.ErrnoError(29);return At.apply(null,arguments)}}),Je.read=function(At,Pt,xt,xr,Qr){if(!G.forceLoadFile(Oe))throw new G.ErrnoError(29);var b=At.node.contents;if(Qr>=b.length)return 0;var w=Math.min(b.length-Qr,xr);if(re(w>=0),b.slice)for(var L=0;L<w;L++)Pt[xt+L]=b[Qr+L];else for(var L=0;L<w;L++)Pt[xt+L]=b.get(Qr+L);return w},Oe.stream_ops=Je,Oe},createPreloadedFile:function(p,y,S,V,X,se,me,ve,Oe,Je){Browser.init();var dt=y?cn.resolve(rr.join2(p,y)):p,Et=co("cp "+dt);function At(Pt){function xt(Qr){Je&&Je(),ve||G.createDataFile(p,y,Qr,V,X,Oe),se&&se(),Yn(Et)}var xr=!1;i.preloadPlugins.forEach(function(Qr){xr||Qr.canHandle(dt)&&(Qr.handle(Pt,dt,xt,function(){me&&me(),Yn(Et)}),xr=!0)}),xr||xt(Pt)}tr(Et),typeof S=="string"?Browser.asyncLoad(S,function(Pt){At(Pt)},me):At(S)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(p,y,S){y=y||function(){},S=S||function(){};var V=G.indexedDB();try{var X=V.open(G.DB_NAME(),G.DB_VERSION)}catch(se){return S(se)}X.onupgradeneeded=function(){F("creating db");var me=X.result;me.createObjectStore(G.DB_STORE_NAME)},X.onsuccess=function(){var me=X.result,ve=me.transaction([G.DB_STORE_NAME],"readwrite"),Oe=ve.objectStore(G.DB_STORE_NAME),Je=0,dt=0,Et=p.length;function At(){dt==0?y():S()}p.forEach(function(Pt){var xt=Oe.put(G.analyzePath(Pt).object.contents,Pt);xt.onsuccess=function(){Je++,Je+dt==Et&&At()},xt.onerror=function(){dt++,Je+dt==Et&&At()}}),ve.onerror=S},X.onerror=S},loadFilesFromDB:function(p,y,S){y=y||function(){},S=S||function(){};var V=G.indexedDB();try{var X=V.open(G.DB_NAME(),G.DB_VERSION)}catch(se){return S(se)}X.onupgradeneeded=S,X.onsuccess=function(){var me=X.result;try{var ve=me.transaction([G.DB_STORE_NAME],"readonly")}catch(Pt){S(Pt);return}var Oe=ve.objectStore(G.DB_STORE_NAME),Je=0,dt=0,Et=p.length;function At(){dt==0?y():S()}p.forEach(function(Pt){var xt=Oe.get(Pt);xt.onsuccess=function(){G.analyzePath(Pt).exists&&G.unlink(Pt),G.createDataFile(rr.dirname(Pt),rr.basename(Pt),xt.result,!0,!0,!0),Je++,Je+dt==Et&&At()},xt.onerror=function(){dt++,Je+dt==Et&&At()}}),ve.onerror=S},X.onerror=S}},kn={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(p,y){if(y[0]!=="/"){var S;if(p===-100)S=G.cwd();else{var V=G.getStream(p);if(!V)throw new G.ErrnoError(8);S=V.path}y=rr.join2(S,y)}return y},doStat:function(p,y,S){try{var V=p(y)}catch(X){if(X&&X.node&&rr.normalize(y)!==rr.normalize(G.getPath(X.node)))return-54;throw X}return W[S>>2]=V.dev,W[S+4>>2]=0,W[S+8>>2]=V.ino,W[S+12>>2]=V.mode,W[S+16>>2]=V.nlink,W[S+20>>2]=V.uid,W[S+24>>2]=V.gid,W[S+28>>2]=V.rdev,W[S+32>>2]=0,ts=[V.size>>>0,(Pr=V.size,+Sr(Pr)>=1?Pr>0?(ci(+ps(Pr/4294967296),4294967295)|0)>>>0:~~+bn((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],W[S+40>>2]=ts[0],W[S+44>>2]=ts[1],W[S+48>>2]=4096,W[S+52>>2]=V.blocks,W[S+56>>2]=V.atime.getTime()/1e3|0,W[S+60>>2]=0,W[S+64>>2]=V.mtime.getTime()/1e3|0,W[S+68>>2]=0,W[S+72>>2]=V.ctime.getTime()/1e3|0,W[S+76>>2]=0,ts=[V.ino>>>0,(Pr=V.ino,+Sr(Pr)>=1?Pr>0?(ci(+ps(Pr/4294967296),4294967295)|0)>>>0:~~+bn((Pr-+(~~Pr>>>0))/4294967296)>>>0:0)],W[S+80>>2]=ts[0],W[S+84>>2]=ts[1],0},doMsync:function(p,y,S,V,X){var se=He.slice(p,p+S);G.msync(y,se,X,S,V)},doMkdir:function(p,y){return p=rr.normalize(p),p[p.length-1]==="/"&&(p=p.substr(0,p.length-1)),G.mkdir(p,y,0),0},doMknod:function(p,y,S){switch(y&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return G.mknod(p,y,S),0},doReadlink:function(p,y,S){if(S<=0)return-28;var V=G.readlink(p),X=Math.min(S,it(V)),se=ee[y+X];return Le(V,y,S+1),ee[y+X]=se,X},doAccess:function(p,y){if(y&-8)return-28;var S,V=G.lookupPath(p,{follow:!0});if(S=V.node,!S)return-44;var X="";return y&4&&(X+="r"),y&2&&(X+="w"),y&1&&(X+="x"),X&&G.nodePermissions(S,X)?-2:0},doDup:function(p,y,S){var V=G.getStream(S);return V&&G.close(V),G.open(p,y,0,S,S).fd},doReadv:function(p,y,S,V){for(var X=0,se=0;se<S;se++){var me=W[y+se*8>>2],ve=W[y+(se*8+4)>>2],Oe=G.read(p,ee,me,ve,V);if(Oe<0)return-1;if(X+=Oe,Oe<ve)break}return X},doWritev:function(p,y,S,V){for(var X=0,se=0;se<S;se++){var me=W[y+se*8>>2],ve=W[y+(se*8+4)>>2],Oe=G.write(p,ee,me,ve,V);if(Oe<0)return-1;X+=Oe}return X},varargs:void 0,get:function(){re(kn.varargs!=null),kn.varargs+=4;var p=W[kn.varargs-4>>2];return p},getStr:function(p){var y=Ze(p);return y},getStreamFromFD:function(p){var y=G.getStream(p);if(!y)throw new G.ErrnoError(8);return y},get64:function(p,y){return p>=0?re(y===0):re(y===-1),p}};function Og(p,y,S,V,X,se){se<<=12;var me,ve=!1;if((V&16)!==0&&p%16384!==0)return-28;if((V&32)!==0){if(me=Wf(16384,y),!me)return-48;zg(me,0,y),ve=!0}else{var Oe=G.getStream(X);if(!Oe)return-8;var Je=G.mmap(Oe,p,y,se,S,V);me=Je.ptr,ve=Je.allocated}return kn.mappings[me]={malloc:me,len:y,allocated:ve,fd:X,prot:S,flags:V,offset:se},me}function If(p,y,S,V,X,se){try{return Og(p,y,S,V,X,se)}catch(me){return(typeof G>"u"||!(me instanceof G.ErrnoError))&&ie(me),-me.errno}}function Rh(p,y){if((p|0)===-1||y===0)return-28;var S=kn.mappings[p];if(!S)return 0;if(y===S.len){var V=G.getStream(S.fd);S.prot&2&&kn.doMsync(p,V,y,S.flags,S.offset),kn.mappings[p]=null,S.allocated&&Un(S.malloc)}return 0}function Mf(p,y){try{return Rh(p,y)}catch(S){return(typeof G>"u"||!(S instanceof G.ErrnoError))&&ie(S),-S.errno}}function Fi(p,y,S){kn.varargs=S;try{var V=kn.getStr(p),X=kn.get(),se=G.open(V,y,X);return se.fd}catch(me){return(typeof G>"u"||!(me instanceof G.ErrnoError))&&ie(me),-me.errno}}function Lf(p,y){try{return p=kn.getStr(p),kn.doStat(G.stat,p,y)}catch(S){return(typeof G>"u"||!(S instanceof G.ErrnoError))&&ie(S),-S.errno}}function Qn(p){switch(p){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+p)}}function Fv(){for(var p=new Array(256),y=0;y<256;++y)p[y]=String.fromCharCode(y);Dl=p}var Dl=void 0;function en(p){for(var y="",S=p;He[S];)y+=Dl[He[S++]];return y}var Rl={},Fa={},Ii={},Iv=48,Oh=57;function Ol(p){if(p===void 0)return"_unknown";p=p.replace(/[^a-zA-Z0-9_]/g,"$");var y=p.charCodeAt(0);return y>=Iv&&y<=Oh?"_"+p:p}function ju(p,y){return p=Ol(p),new Function("body","return function "+p+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(y)}function Uf(p,y){var S=ju(y,function(V){this.name=y,this.message=V;var X=new Error(V).stack;X!==void 0&&(this.stack=this.toString()+`
`+X.replace(/^Error(:[^\n]*)?\n/,""))});return S.prototype=Object.create(p.prototype),S.prototype.constructor=S,S.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},S}var Bl=void 0;function ur(p){throw new Bl(p)}var Vu=void 0;function Bh(p){throw new Vu(p)}function jo(p,y,S){p.forEach(function(ve){Ii[ve]=y});function V(ve){var Oe=S(ve);Oe.length!==p.length&&Bh("Mismatched type converter count");for(var Je=0;Je<p.length;++Je)zs(p[Je],Oe[Je])}var X=new Array(y.length),se=[],me=0;y.forEach(function(ve,Oe){Fa.hasOwnProperty(ve)?X[Oe]=Fa[ve]:(se.push(ve),Rl.hasOwnProperty(ve)||(Rl[ve]=[]),Rl[ve].push(function(){X[Oe]=Fa[ve],++me,me===se.length&&V(X)}))}),se.length===0&&V(X)}function zs(p,y,S){if(S=S||{},!("argPackAdvance"in y))throw new TypeError("registerType registeredInstance requires argPackAdvance");var V=y.name;if(p||ur('type "'+V+'" must have a positive integer typeid pointer'),Fa.hasOwnProperty(p)){if(S.ignoreDuplicateRegistrations)return;ur("Cannot register type '"+V+"' twice")}if(Fa[p]=y,delete Ii[p],Rl.hasOwnProperty(p)){var X=Rl[p];delete Rl[p],X.forEach(function(se){se()})}}function Bg(p,y,S,V,X){var se=Qn(S);y=en(y),zs(p,{name:y,fromWireType:function(me){return!!me},toWireType:function(me,ve){return ve?V:X},argPackAdvance:8,readValueFromPointer:function(me){var ve;if(S===1)ve=ee;else if(S===2)ve=I;else if(S===4)ve=W;else throw new TypeError("Unknown boolean type size: "+y);return this.fromWireType(ve[me>>se])},destructorFunction:null})}function Nh(p){if(!(this instanceof Vo)||!(p instanceof Vo))return!1;for(var y=this.$$.ptrType.registeredClass,S=this.$$.ptr,V=p.$$.ptrType.registeredClass,X=p.$$.ptr;y.baseClass;)S=y.upcast(S),y=y.baseClass;for(;V.baseClass;)X=V.upcast(X),V=V.baseClass;return y===V&&S===X}function ms(p){return{count:p.count,deleteScheduled:p.deleteScheduled,preservePointerOnDelete:p.preservePointerOnDelete,ptr:p.ptr,ptrType:p.ptrType,smartPtr:p.smartPtr,smartPtrType:p.smartPtrType}}function Nl(p){function y(S){return S.$$.ptrType.registeredClass.name}ur(y(p)+" instance already deleted")}var Ia=!1;function rs(p){}function xs(p){p.smartPtr?p.smartPtrType.rawDestructor(p.smartPtr):p.ptrType.registeredClass.rawDestructor(p.ptr)}function fo(p){p.count.value-=1;var y=p.count.value===0;y&&xs(p)}function di(p){return typeof FinalizationGroup>"u"?(di=function(y){return y},p):(Ia=new FinalizationGroup(function(y){for(var S=y.next();!S.done;S=y.next()){var V=S.value;V.ptr?fo(V):console.warn("object already deleted: "+V.ptr)}}),di=function(y){return Ia.register(y,y.$$,y.$$),y},rs=function(y){Ia.unregister(y.$$)},di(p))}function Fl(){if(this.$$.ptr||Nl(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var p=di(Object.create(Object.getPrototypeOf(this),{$$:{value:ms(this.$$)}}));return p.$$.count.value+=1,p.$$.deleteScheduled=!1,p}function Ma(){this.$$.ptr||Nl(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ur("Object already scheduled for deletion"),rs(this),fo(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Ng(){return!this.$$.ptr}var Il=void 0,Ml=[];function Dr(){for(;Ml.length;){var p=Ml.pop();p.$$.deleteScheduled=!1,p.delete()}}function zu(){return this.$$.ptr||Nl(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ur("Object already scheduled for deletion"),Ml.push(this),Ml.length===1&&Il&&Il(Dr),this.$$.deleteScheduled=!0,this}function Mv(){Vo.prototype.isAliasOf=Nh,Vo.prototype.clone=Fl,Vo.prototype.delete=Ma,Vo.prototype.isDeleted=Ng,Vo.prototype.deleteLater=zu}function Vo(){}var Gf={};function Hf(p,y,S){if(p[y].overloadTable===void 0){var V=p[y];p[y]=function(){return p[y].overloadTable.hasOwnProperty(arguments.length)||ur("Function '"+S+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+p[y].overloadTable+")!"),p[y].overloadTable[arguments.length].apply(this,arguments)},p[y].overloadTable=[],p[y].overloadTable[V.argCount]=V}}function cr(p,y,S){i.hasOwnProperty(p)?((S===void 0||i[p].overloadTable!==void 0&&i[p].overloadTable[S]!==void 0)&&ur("Cannot register public name '"+p+"' twice"),Hf(i,p,p),i.hasOwnProperty(S)&&ur("Cannot register multiple overloads of a function with the same number of arguments ("+S+")!"),i[p].overloadTable[S]=y):(i[p]=y,S!==void 0&&(i[p].numArguments=S))}function Fh(p,y,S,V,X,se,me,ve){this.name=p,this.constructor=y,this.instancePrototype=S,this.rawDestructor=V,this.baseClass=X,this.getActualType=se,this.upcast=me,this.downcast=ve,this.pureVirtualFunctions=[]}function Ll(p,y,S){for(;y!==S;)y.upcast||ur("Expected null or instance of "+S.name+", got an instance of "+y.name),p=y.upcast(p),y=y.baseClass;return p}function La(p,y){if(y===null)return this.isReference&&ur("null is not a valid "+this.name),0;y.$$||ur('Cannot pass "'+Hl(y)+'" as a '+this.name),y.$$.ptr||ur("Cannot pass deleted object as a pointer of type "+this.name);var S=y.$$.ptrType.registeredClass,V=Ll(y.$$.ptr,S,this.registeredClass);return V}function Lv(p,y){var S;if(y===null)return this.isReference&&ur("null is not a valid "+this.name),this.isSmartPointer?(S=this.rawConstructor(),p!==null&&p.push(this.rawDestructor,S),S):0;y.$$||ur('Cannot pass "'+Hl(y)+'" as a '+this.name),y.$$.ptr||ur("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&y.$$.ptrType.isConst&&ur("Cannot convert argument of type "+(y.$$.smartPtrType?y.$$.smartPtrType.name:y.$$.ptrType.name)+" to parameter type "+this.name);var V=y.$$.ptrType.registeredClass;if(S=Ll(y.$$.ptr,V,this.registeredClass),this.isSmartPointer)switch(y.$$.smartPtr===void 0&&ur("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:y.$$.smartPtrType===this?S=y.$$.smartPtr:ur("Cannot convert argument of type "+(y.$$.smartPtrType?y.$$.smartPtrType.name:y.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:S=y.$$.smartPtr;break;case 2:if(y.$$.smartPtrType===this)S=y.$$.smartPtr;else{var X=y.clone();S=this.rawShare(S,jg(function(){X.delete()})),p!==null&&p.push(this.rawDestructor,S)}break;default:ur("Unsupporting sharing policy")}return S}function Wu(p,y){if(y===null)return this.isReference&&ur("null is not a valid "+this.name),0;y.$$||ur('Cannot pass "'+Hl(y)+'" as a '+this.name),y.$$.ptr||ur("Cannot pass deleted object as a pointer of type "+this.name),y.$$.ptrType.isConst&&ur("Cannot convert argument of type "+y.$$.ptrType.name+" to parameter type "+this.name);var S=y.$$.ptrType.registeredClass,V=Ll(y.$$.ptr,S,this.registeredClass);return V}function Ua(p){return this.fromWireType(ne[p>>2])}function jf(p){return this.rawGetPointee&&(p=this.rawGetPointee(p)),p}function mr(p){this.rawDestructor&&this.rawDestructor(p)}function zo(p){p!==null&&p.delete()}function Ul(p,y,S){if(y===S)return p;if(S.baseClass===void 0)return null;var V=Ul(p,y,S.baseClass);return V===null?null:S.downcast(V)}function Fg(){return Object.keys(Ga).length}function Ig(){var p=[];for(var y in Ga)Ga.hasOwnProperty(y)&&p.push(Ga[y]);return p}function Vf(p){Il=p,Ml.length&&Il&&Il(Dr)}function Ih(){i.getInheritedInstanceCount=Fg,i.getLiveInheritedInstances=Ig,i.flushPendingDeletes=Dr,i.setDelayFunction=Vf}var Ga={};function Mh(p,y){for(y===void 0&&ur("ptr should not be undefined");p.baseClass;)y=p.upcast(y),p=p.baseClass;return y}function Lh(p,y){return y=Mh(p,y),Ga[y]}function Ha(p,y){(!y.ptrType||!y.ptr)&&Bh("makeClassHandle requires ptr and ptrType");var S=!!y.smartPtrType,V=!!y.smartPtr;return S!==V&&Bh("Both smartPtrType and smartPtr must be specified"),y.count={value:1},di(Object.create(p,{$$:{value:y}}))}function Uv(p){var y=this.getPointee(p);if(!y)return this.destructor(p),null;var S=Lh(this.registeredClass,y);if(S!==void 0){if(S.$$.count.value===0)return S.$$.ptr=y,S.$$.smartPtr=p,S.clone();var V=S.clone();return this.destructor(p),V}function X(){return this.isSmartPointer?Ha(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:y,smartPtrType:this,smartPtr:p}):Ha(this.registeredClass.instancePrototype,{ptrType:this,ptr:p})}var se=this.registeredClass.getActualType(y),me=Gf[se];if(!me)return X.call(this);var ve;this.isConst?ve=me.constPointerType:ve=me.pointerType;var Oe=Ul(y,this.registeredClass,ve.registeredClass);return Oe===null?X.call(this):this.isSmartPointer?Ha(ve.registeredClass.instancePrototype,{ptrType:ve,ptr:Oe,smartPtrType:this,smartPtr:p}):Ha(ve.registeredClass.instancePrototype,{ptrType:ve,ptr:Oe})}function Mg(){ns.prototype.getPointee=jf,ns.prototype.destructor=mr,ns.prototype.argPackAdvance=8,ns.prototype.readValueFromPointer=Ua,ns.prototype.deleteObject=zo,ns.prototype.fromWireType=Uv}function ns(p,y,S,V,X,se,me,ve,Oe,Je,dt){this.name=p,this.registeredClass=y,this.isReference=S,this.isConst=V,this.isSmartPointer=X,this.pointeeType=se,this.sharingPolicy=me,this.rawGetPointee=ve,this.rawConstructor=Oe,this.rawShare=Je,this.rawDestructor=dt,!X&&y.baseClass===void 0?V?(this.toWireType=La,this.destructorFunction=null):(this.toWireType=Wu,this.destructorFunction=null):this.toWireType=Lv}function Ce(p,y,S){i.hasOwnProperty(p)||Bh("Replacing nonexistant public symbol"),i[p].overloadTable!==void 0&&S!==void 0?i[p].overloadTable[S]=y:(i[p]=y,i[p].argCount=S)}function sn(p,y){p=en(p);function S(se){for(var me=[],ve=1;ve<p.length;++ve)me.push("a"+ve);var Oe="dynCall_"+p+"_"+y,Je="return function "+Oe+"("+me.join(", ")+`) {
`;return Je+="    return dynCall(rawFunction"+(me.length?", ":"")+me.join(", ")+`);
`,Je+=`};
`,new Function("dynCall","rawFunction",Je)(se,y)}var V=i["dynCall_"+p],X=S(V);return typeof X!="function"&&ur("unknown function pointer with signature "+p+": "+y),X}var Lg=void 0;function Ug(p){var y=Gh(p),S=en(y);return Un(y),S}function $u(p,y){var S=[],V={};function X(se){if(!V[se]&&!Fa[se]){if(Ii[se]){Ii[se].forEach(X);return}S.push(se),V[se]=!0}}throw y.forEach(X),new Lg(p+": "+S.map(Ug).join([", "]))}function Gv(p,y,S,V,X,se,me,ve,Oe,Je,dt,Et,At){dt=en(dt),se=sn(X,se),ve&&(ve=sn(me,ve)),Je&&(Je=sn(Oe,Je)),At=sn(Et,At);var Pt=Ol(dt);cr(Pt,function(){$u("Cannot construct "+dt+" due to unbound types",[V])}),jo([p,y,S],V?[V]:[],function(xt){xt=xt[0];var xr,Qr;V?(xr=xt.registeredClass,Qr=xr.instancePrototype):Qr=Vo.prototype;var b=ju(Pt,function(){if(Object.getPrototypeOf(this)!==w)throw new Bl("Use 'new' to construct "+dt);if(L.constructor_body===void 0)throw new Bl(dt+" has no accessible constructor");var tt=L.constructor_body[arguments.length];if(tt===void 0)throw new Bl("Tried to invoke ctor of "+dt+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(L.constructor_body).toString()+") parameters instead!");return tt.apply(this,arguments)}),w=Object.create(Qr,{constructor:{value:b}});b.prototype=w;var L=new Fh(dt,b,w,At,xr,se,ve,Je),q=new ns(dt,L,!0,!1,!1),xe=new ns(dt+"*",L,!1,!1,!1),Be=new ns(dt+" const*",L,!1,!0,!1);return Gf[p]={pointerType:xe,constPointerType:Be},Ce(Pt,b),[q,xe,Be]})}function Gg(p,y){if(!(p instanceof Function))throw new TypeError("new_ called with constructor type "+typeof p+" which is not a function");var S=ju(p.name||"unknownFunctionName",function(){});S.prototype=p.prototype;var V=new S,X=p.apply(V,y);return X instanceof Object?X:V}function Gl(p){for(;p.length;){var y=p.pop(),S=p.pop();S(y)}}function is(p,y,S,V,X){var se=y.length;se<2&&ur("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var me=y[1]!==null&&S!==null,ve=!1,Oe=1;Oe<y.length;++Oe)if(y[Oe]!==null&&y[Oe].destructorFunction===void 0){ve=!0;break}for(var Je=y[0].name!=="void",dt="",Et="",Oe=0;Oe<se-2;++Oe)dt+=(Oe!==0?", ":"")+"arg"+Oe,Et+=(Oe!==0?", ":"")+"arg"+Oe+"Wired";var At="return function "+Ol(p)+"("+dt+`) {
if (arguments.length !== `+(se-2)+`) {
throwBindingError('function `+p+" called with ' + arguments.length + ' arguments, expected "+(se-2)+` args!');
}
`;ve&&(At+=`var destructors = [];
`);var Pt=ve?"destructors":"null",xt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],xr=[ur,V,X,Gl,y[0],y[1]];me&&(At+="var thisWired = classParam.toWireType("+Pt+`, this);
`);for(var Oe=0;Oe<se-2;++Oe)At+="var arg"+Oe+"Wired = argType"+Oe+".toWireType("+Pt+", arg"+Oe+"); // "+y[Oe+2].name+`
`,xt.push("argType"+Oe),xr.push(y[Oe+2]);if(me&&(Et="thisWired"+(Et.length>0?", ":"")+Et),At+=(Je?"var rv = ":"")+"invoker(fn"+(Et.length>0?", ":"")+Et+`);
`,ve)At+=`runDestructors(destructors);
`;else for(var Oe=me?1:2;Oe<y.length;++Oe){var Qr=Oe===1?"thisWired":"arg"+(Oe-2)+"Wired";y[Oe].destructorFunction!==null&&(At+=Qr+"_dtor("+Qr+"); // "+y[Oe].name+`
`,xt.push(Qr+"_dtor"),xr.push(y[Oe].destructorFunction))}Je&&(At+=`var ret = retType.fromWireType(rv);
return ret;
`),At+=`}
`,xt.push(At);var b=Gg(Function,xt).apply(null,xr);return b}function Ku(p,y){for(var S=[],V=0;V<p;V++)S.push(W[(y>>2)+V]);return S}function Hg(p,y,S,V,X,se,me){var ve=Ku(S,V);y=en(y),se=sn(X,se),jo([],[p],function(Oe){Oe=Oe[0];var Je=Oe.name+"."+y;function dt(){$u("Cannot call "+Je+" due to unbound types",ve)}var Et=Oe.registeredClass.constructor;return Et[y]===void 0?(dt.argCount=S-1,Et[y]=dt):(Hf(Et,y,Je),Et[y].overloadTable[S-1]=dt),jo([],ve,function(At){var Pt=[At[0],null].concat(At.slice(1)),xt=is(Je,Pt,null,se,me);return Et[y].overloadTable===void 0?(xt.argCount=S-1,Et[y]=xt):Et[y].overloadTable[S-1]=xt,[]}),[]})}function In(p,y,S,V,X,se){re(y>0);var me=Ku(y,S);X=sn(V,X);var ve=[se],Oe=[];jo([],[p],function(Je){Je=Je[0];var dt="constructor "+Je.name;if(Je.registeredClass.constructor_body===void 0&&(Je.registeredClass.constructor_body=[]),Je.registeredClass.constructor_body[y-1]!==void 0)throw new Bl("Cannot register multiple constructors with identical number of parameters ("+(y-1)+") for class '"+Je.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return Je.registeredClass.constructor_body[y-1]=function(){$u("Cannot construct "+Je.name+" due to unbound types",me)},jo([],me,function(Et){return Je.registeredClass.constructor_body[y-1]=function(){arguments.length!==y-1&&ur(dt+" called with "+arguments.length+" arguments, expected "+(y-1)),Oe.length=0,ve.length=y;for(var Pt=1;Pt<y;++Pt)ve[Pt]=Et[Pt].toWireType(Oe,arguments[Pt-1]);var xt=X.apply(null,ve);return Gl(Oe),Et[0].fromWireType(xt)},[]}),[]})}function Mn(p,y,S,V,X,se,me,ve){var Oe=Ku(S,V);y=en(y),se=sn(X,se),jo([],[p],function(Je){Je=Je[0];var dt=Je.name+"."+y;ve&&Je.registeredClass.pureVirtualFunctions.push(y);function Et(){$u("Cannot call "+dt+" due to unbound types",Oe)}var At=Je.registeredClass.instancePrototype,Pt=At[y];return Pt===void 0||Pt.overloadTable===void 0&&Pt.className!==Je.name&&Pt.argCount===S-2?(Et.argCount=S-2,Et.className=Je.name,At[y]=Et):(Hf(At,y,dt),At[y].overloadTable[S-2]=Et),jo([],Oe,function(xt){var xr=is(dt,xt,Je,se,me);return At[y].overloadTable===void 0?(xr.argCount=S-2,At[y]=xr):At[y].overloadTable[S-2]=xr,[]}),[]})}var hn=[],ys=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Hv(p){p>4&&--ys[p].refcount===0&&(ys[p]=void 0,hn.push(p))}function jv(){for(var p=0,y=5;y<ys.length;++y)ys[y]!==void 0&&++p;return p}function Vv(){for(var p=5;p<ys.length;++p)if(ys[p]!==void 0)return ys[p];return null}function zv(){i.count_emval_handles=jv,i.get_first_emval=Vv}function jg(p){switch(p){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var y=hn.length?hn.pop():ys.length;return ys[y]={refcount:1,value:p},y}}}function Wv(p,y){y=en(y),zs(p,{name:y,fromWireType:function(S){var V=ys[S].value;return Hv(S),V},toWireType:function(S,V){return jg(V)},argPackAdvance:8,readValueFromPointer:Ua,destructorFunction:null})}function $v(p,y,S){switch(y){case 0:return function(V){var X=S?ee:He;return this.fromWireType(X[V])};case 1:return function(V){var X=S?I:j;return this.fromWireType(X[V>>1])};case 2:return function(V){var X=S?W:ne;return this.fromWireType(X[V>>2])};default:throw new TypeError("Unknown integer type: "+p)}}function Kv(p,y,S,V){var X=Qn(S);y=en(y);function se(){}se.values={},zs(p,{name:y,constructor:se,fromWireType:function(me){return this.constructor.values[me]},toWireType:function(me,ve){return ve.value},argPackAdvance:8,readValueFromPointer:$v(y,X,V),destructorFunction:null}),cr(y,se)}function Xv(p,y){var S=Fa[p];return S===void 0&&ur(y+" has unknown type "+Ug(p)),S}function Yv(p,y,S){var V=Xv(p,"enum");y=en(y);var X=V.constructor,se=Object.create(V.constructor.prototype,{value:{value:S},constructor:{value:ju(V.name+"_"+y,function(){})}});X.values[S]=se,X[y]=se}function Hl(p){if(p===null)return"null";var y=typeof p;return y==="object"||y==="array"||y==="function"?p.toString():""+p}function qv(p,y){switch(y){case 2:return function(S){return this.fromWireType(fe[S>>2])};case 3:return function(S){return this.fromWireType(Ee[S>>3])};default:throw new TypeError("Unknown float type: "+p)}}function Qv(p,y,S){var V=Qn(S);y=en(y),zs(p,{name:y,fromWireType:function(X){return X},toWireType:function(X,se){if(typeof se!="number"&&typeof se!="boolean")throw new TypeError('Cannot convert "'+Hl(se)+'" to '+this.name);return se},argPackAdvance:8,readValueFromPointer:qv(y,V),destructorFunction:null})}function Jv(p,y,S,V,X,se){var me=Ku(y,S);p=en(p),X=sn(V,X),cr(p,function(){$u("Cannot call "+p+" due to unbound types",me)},y-1),jo([],me,function(ve){var Oe=[ve[0],null].concat(ve.slice(1));return Ce(p,is(p,Oe,null,X,se),y-1),[]})}function Zv(p,y,S){switch(y){case 0:return S?function(X){return ee[X]}:function(X){return He[X]};case 1:return S?function(X){return I[X>>1]}:function(X){return j[X>>1]};case 2:return S?function(X){return W[X>>2]}:function(X){return ne[X>>2]};default:throw new TypeError("Unknown integer type: "+p)}}function Uh(p,y,S,V,X){y=en(y),X===-1&&(X=4294967295);var se=Qn(S),me=function(Je){return Je};if(V===0){var ve=32-8*S;me=function(Je){return Je<<ve>>>ve}}var Oe=y.indexOf("unsigned")!=-1;zs(p,{name:y,fromWireType:me,toWireType:function(Je,dt){if(typeof dt!="number"&&typeof dt!="boolean")throw new TypeError('Cannot convert "'+Hl(dt)+'" to '+this.name);if(dt<V||dt>X)throw new TypeError('Passing a number "'+Hl(dt)+'" from JS side to C/C++ side to an argument of type "'+y+'", which is outside the valid range ['+V+", "+X+"]!");return Oe?dt>>>0:dt|0},argPackAdvance:8,readValueFromPointer:Zv(y,se,V!==0),destructorFunction:null})}function Vg(p,y,S){var V=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],X=V[y];function se(me){me=me>>2;var ve=ne,Oe=ve[me],Je=ve[me+1];return new X(Ve,Je,Oe)}S=en(S),zs(p,{name:S,fromWireType:se,argPackAdvance:8,readValueFromPointer:se},{ignoreDuplicateRegistrations:!0})}function zf(p,y){y=en(y);var S=y==="std::string";zs(p,{name:y,fromWireType:function(V){var X=ne[V>>2],se;if(S)for(var me=V+4,ve=0;ve<=X;++ve){var Oe=V+4+ve;if(He[Oe]==0||ve==X){var Je=Oe-me,dt=Ze(me,Je);se===void 0?se=dt:(se+=String.fromCharCode(0),se+=dt),me=Oe+1}}else{for(var Et=new Array(X),ve=0;ve<X;++ve)Et[ve]=String.fromCharCode(He[V+4+ve]);se=Et.join("")}return Un(V),se},toWireType:function(V,X){X instanceof ArrayBuffer&&(X=new Uint8Array(X));var se,me=typeof X=="string";me||X instanceof Uint8Array||X instanceof Uint8ClampedArray||X instanceof Int8Array||ur("Cannot pass non-string to std::string"),S&&me?se=function(){return it(X)}:se=function(){return X.length};var ve=se(),Oe=Wo(4+ve+1);if(ne[Oe>>2]=ve,S&&me)Le(X,Oe+4,ve+1);else if(me)for(var Je=0;Je<ve;++Je){var dt=X.charCodeAt(Je);dt>255&&(Un(Oe),ur("String has UTF-16 code units that do not fit in 8 bits")),He[Oe+4+Je]=dt}else for(var Je=0;Je<ve;++Je)He[Oe+4+Je]=X[Je];return V!==null&&V.push(Un,Oe),Oe},argPackAdvance:8,readValueFromPointer:Ua,destructorFunction:function(V){Un(V)}})}function h(p,y,S){S=en(S);var V,X,se,me,ve;y===2?(V=st,X=Rt,me=te,se=function(){return j},ve=1):y===4&&(V=oe,X=ae,me=we,se=function(){return ne},ve=2),zs(p,{name:S,fromWireType:function(Oe){for(var Je=ne[Oe>>2],dt=se(),Et,At=Oe+4,Pt=0;Pt<=Je;++Pt){var xt=Oe+4+Pt*y;if(dt[xt>>ve]==0||Pt==Je){var xr=xt-At,Qr=V(At,xr);Et===void 0?Et=Qr:(Et+=String.fromCharCode(0),Et+=Qr),At=xt+y}}return Un(Oe),Et},toWireType:function(Oe,Je){typeof Je!="string"&&ur("Cannot pass non-string to C++ string type "+S);var dt=me(Je),Et=Wo(4+dt+y);return ne[Et>>2]=dt>>ve,X(Je,Et+4,dt+y),Oe!==null&&Oe.push(Un,Et),Et},argPackAdvance:8,readValueFromPointer:Ua,destructorFunction:function(Oe){Un(Oe)}})}function m(p,y){y=en(y),zs(p,{isVoid:!0,name:y,argPackAdvance:0,fromWireType:function(){},toWireType:function(S,V){}})}function v(){ie()}function k(){return 649456}function H(p,y,S){He.copyWithin(p,y,y+S)}function Y(p){ie("Cannot enlarge memory arrays to size "+p+" bytes (OOM). Either (1) compile with  -s INITIAL_MEMORY=X  with X higher than the current value "+ee.length+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function Ae(p){p=p>>>0,Y(p)}var Te={};function Ue(){return u||"./this.program"}function Ie(){if(!Ie.strings){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ue()};for(var y in Te)p[y]=Te[y];var S=[];for(var y in p)S.push(y+"="+p[y]);Ie.strings=S}return Ie.strings}function ht(p,y){var S=0;return Ie().forEach(function(V,X){var se=y+S;W[p+X*4>>2]=se,_e(V,se),S+=V.length+1}),0}function Dt(p,y){var S=Ie();W[p>>2]=S.length;var V=0;return S.forEach(function(X){V+=X.length+1}),W[y>>2]=V,0}function Ut(p){try{var y=kn.getStreamFromFD(p);return G.close(y),0}catch(S){return(typeof G>"u"||!(S instanceof G.ErrnoError))&&ie(S),S.errno}}function je(p){}var Bt=function(p,y,S,V){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=G.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=V},hr=365,Mr=146;Object.defineProperties(Bt.prototype,{read:{get:function(){return(this.mode&hr)===hr},set:function(p){p?this.mode|=hr:this.mode&=~hr}},write:{get:function(){return(this.mode&Mr)===Mr},set:function(p){p?this.mode|=Mr:this.mode&=~Mr}},isFolder:{get:function(){return G.isDir(this.mode)}},isDevice:{get:function(){return G.isChrdev(this.mode)}}}),G.FSNode=Bt,G.staticInit(),Fv(),Bl=i.BindingError=Uf(Error,"BindingError"),Vu=i.InternalError=Uf(Error,"InternalError"),Mv(),Mg(),Ih(),Lg=i.UnboundTypeError=Uf(Error,"UnboundTypeError"),zv();/**
 * @license
 * Copyright 2017 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */function Er(p,y,S){var V=S>0?S:it(p)+1,X=new Array(V),se=ze(p,X,0,X.length);return y&&(X.length=se),X}var Ln={__handle_stack_overflow:Hu,__map_file:Pl,__sys_mmap2:If,__sys_munmap:Mf,__sys_open:Fi,__sys_stat64:Lf,_embind_register_bool:Bg,_embind_register_class:Gv,_embind_register_class_class_function:Hg,_embind_register_class_constructor:In,_embind_register_class_function:Mn,_embind_register_emval:Wv,_embind_register_enum:Kv,_embind_register_enum_value:Yv,_embind_register_float:Qv,_embind_register_function:Jv,_embind_register_integer:Uh,_embind_register_memory_view:Vg,_embind_register_std_string:zf,_embind_register_std_wstring:h,_embind_register_void:m,abort:v,emscripten_get_sbrk_ptr:k,emscripten_memcpy_big:H,emscripten_resize_heap:Ae,environ_get:ht,environ_sizes_get:Dt,fd_close:Ut,memory:$,setTempRet0:je,table:J};Go();var Xu=i.___wasm_call_ctors=zt("__wasm_call_ctors"),Wo=i._malloc=zt("malloc"),zg=i._memset=zt("memset"),Un=i._free=zt("free"),Gh=i.___getTypeName=zt("__getTypeName");i.___embind_register_native_and_builtin_types=zt("__embind_register_native_and_builtin_types"),i._fflush=zt("fflush");var $o=i.___errno_location=zt("__errno_location");i.__get_tzname=zt("_get_tzname"),i.__get_daylight=zt("_get_daylight"),i.__get_timezone=zt("_get_timezone"),i.stackSave=zt("stackSave"),i.stackRestore=zt("stackRestore"),i.stackAlloc=zt("stackAlloc");var Wf=i._memalign=zt("memalign");i.___set_stack_limit=zt("__set_stack_limit"),i.__growWasmMemory=zt("__growWasmMemory"),i.dynCall_ii=zt("dynCall_ii"),i.dynCall_vi=zt("dynCall_vi"),i.dynCall_iii=zt("dynCall_iii"),i.dynCall_vii=zt("dynCall_vii"),i.dynCall_viiii=zt("dynCall_viiii"),i.dynCall_viii=zt("dynCall_viii"),i.dynCall_iiii=zt("dynCall_iiii"),i.dynCall_iiiii=zt("dynCall_iiiii"),i.dynCall_viiiii=zt("dynCall_viiiii"),i.dynCall_i=zt("dynCall_i"),i.dynCall_iiiiiii=zt("dynCall_iiiiiii"),i.dynCall_v=zt("dynCall_v"),i.dynCall_ji=zt("dynCall_ji"),i.dynCall_iiji=zt("dynCall_iiji"),i.dynCall_iijjiii=zt("dynCall_iijjiii"),i.dynCall_vijjjii=zt("dynCall_vijjjii"),i.dynCall_iiiiii=zt("dynCall_iiiiii"),i.dynCall_iiiiiiiiii=zt("dynCall_iiiiiiiiii"),i.dynCall_viiiiii=zt("dynCall_viiiiii"),i.dynCall_viiiiiii=zt("dynCall_viiiiiii"),i.dynCall_iiiiiiiii=zt("dynCall_iiiiiiiii");/**
 * @license
 * Copyright 2010 The Emscripten Authors
 * SPDX-License-Identifier: MIT
 */i.intArrayFromString=Er,Object.getOwnPropertyDescriptor(i,"intArrayToString")||(i.intArrayToString=function(){ie("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ccall")||(i.ccall=function(){ie("'ccall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"cwrap")||(i.cwrap=function(){ie("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.setValue=T,i.getValue=M,Object.getOwnPropertyDescriptor(i,"allocate")||(i.allocate=function(){ie("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getMemory")||(i.getMemory=function(){ie("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"UTF8ArrayToString")||(i.UTF8ArrayToString=function(){ie("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF8ToString")||(i.UTF8ToString=function(){ie("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF8Array")||(i.stringToUTF8Array=function(){ie("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF8")||(i.stringToUTF8=function(){ie("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF8")||(i.lengthBytesUTF8=function(){ie("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackTrace")||(i.stackTrace=function(){ie("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPreRun")||(i.addOnPreRun=function(){ie("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnInit")||(i.addOnInit=function(){ie("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPreMain")||(i.addOnPreMain=function(){ie("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnExit")||(i.addOnExit=function(){ie("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addOnPostRun")||(i.addOnPostRun=function(){ie("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeStringToMemory")||(i.writeStringToMemory=function(){ie("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeArrayToMemory")||(i.writeArrayToMemory=function(){ie("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeAsciiToMemory")||(i.writeAsciiToMemory=function(){ie("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addRunDependency")||(i.addRunDependency=function(){ie("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"removeRunDependency")||(i.removeRunDependency=function(){ie("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createFolder")||(i.FS_createFolder=function(){ie("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createPath")||(i.FS_createPath=function(){ie("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createDataFile")||(i.FS_createDataFile=function(){ie("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createPreloadedFile")||(i.FS_createPreloadedFile=function(){ie("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createLazyFile")||(i.FS_createLazyFile=function(){ie("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createLink")||(i.FS_createLink=function(){ie("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_createDevice")||(i.FS_createDevice=function(){ie("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"FS_unlink")||(i.FS_unlink=function(){ie("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(i,"dynamicAlloc")||(i.dynamicAlloc=function(){ie("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"loadDynamicLibrary")||(i.loadDynamicLibrary=function(){ie("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"loadWebAssemblyModule")||(i.loadWebAssemblyModule=function(){ie("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getLEB")||(i.getLEB=function(){ie("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getFunctionTables")||(i.getFunctionTables=function(){ie("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"alignFunctionTables")||(i.alignFunctionTables=function(){ie("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registerFunctions")||(i.registerFunctions=function(){ie("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"addFunction")||(i.addFunction=function(){ie("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"removeFunction")||(i.removeFunction=function(){ie("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getFuncWrapper")||(i.getFuncWrapper=function(){ie("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"prettyPrint")||(i.prettyPrint=function(){ie("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"makeBigInt")||(i.makeBigInt=function(){ie("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"dynCall")||(i.dynCall=function(){ie("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getCompilerSetting")||(i.getCompilerSetting=function(){ie("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"print")||(i.print=function(){ie("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"printErr")||(i.printErr=function(){ie("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getTempRet0")||(i.getTempRet0=function(){ie("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setTempRet0")||(i.setTempRet0=function(){ie("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"callMain")||(i.callMain=function(){ie("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abort")||(i.abort=function(){ie("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToNewUTF8")||(i.stringToNewUTF8=function(){ie("'stringToNewUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abortOnCannotGrowMemory")||(i.abortOnCannotGrowMemory=function(){ie("'abortOnCannotGrowMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscripten_realloc_buffer")||(i.emscripten_realloc_buffer=function(){ie("'emscripten_realloc_buffer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ENV")||(i.ENV=function(){ie("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ERRNO_CODES")||(i.ERRNO_CODES=function(){ie("'ERRNO_CODES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ERRNO_MESSAGES")||(i.ERRNO_MESSAGES=function(){ie("'ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setErrNo")||(i.setErrNo=function(){ie("'setErrNo' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"DNS")||(i.DNS=function(){ie("'DNS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GAI_ERRNO_MESSAGES")||(i.GAI_ERRNO_MESSAGES=function(){ie("'GAI_ERRNO_MESSAGES' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Protocols")||(i.Protocols=function(){ie("'Protocols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Sockets")||(i.Sockets=function(){ie("'Sockets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UNWIND_CACHE")||(i.UNWIND_CACHE=function(){ie("'UNWIND_CACHE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readAsmConstArgs")||(i.readAsmConstArgs=function(){ie("'readAsmConstArgs' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jstoi_q")||(i.jstoi_q=function(){ie("'jstoi_q' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jstoi_s")||(i.jstoi_s=function(){ie("'jstoi_s' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"abortStackOverflow")||(i.abortStackOverflow=function(){ie("'abortStackOverflow' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"reallyNegative")||(i.reallyNegative=function(){ie("'reallyNegative' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"formatString")||(i.formatString=function(){ie("'formatString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PATH")||(i.PATH=function(){ie("'PATH' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PATH_FS")||(i.PATH_FS=function(){ie("'PATH_FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SYSCALLS")||(i.SYSCALLS=function(){ie("'SYSCALLS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"syscallMmap2")||(i.syscallMmap2=function(){ie("'syscallMmap2' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"syscallMunmap")||(i.syscallMunmap=function(){ie("'syscallMunmap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"JSEvents")||(i.JSEvents=function(){ie("'JSEvents' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"specialHTMLTargets")||(i.specialHTMLTargets=function(){ie("'specialHTMLTargets' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"demangle")||(i.demangle=function(){ie("'demangle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"demangleAll")||(i.demangleAll=function(){ie("'demangleAll' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"jsStackTrace")||(i.jsStackTrace=function(){ie("'jsStackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackTrace")||(i.stackTrace=function(){ie("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getEnvStrings")||(i.getEnvStrings=function(){ie("'getEnvStrings' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"checkWasiClock")||(i.checkWasiClock=function(){ie("'checkWasiClock' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64")||(i.writeI53ToI64=function(){ie("'writeI53ToI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64Clamped")||(i.writeI53ToI64Clamped=function(){ie("'writeI53ToI64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToI64Signaling")||(i.writeI53ToI64Signaling=function(){ie("'writeI53ToI64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToU64Clamped")||(i.writeI53ToU64Clamped=function(){ie("'writeI53ToU64Clamped' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"writeI53ToU64Signaling")||(i.writeI53ToU64Signaling=function(){ie("'writeI53ToU64Signaling' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readI53FromI64")||(i.readI53FromI64=function(){ie("'readI53FromI64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readI53FromU64")||(i.readI53FromU64=function(){ie("'readI53FromU64' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"convertI32PairToI53")||(i.convertI32PairToI53=function(){ie("'convertI32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"convertU32PairToI53")||(i.convertU32PairToI53=function(){ie("'convertU32PairToI53' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"Browser")||(i.Browser=function(){ie("'Browser' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"FS")||(i.FS=function(){ie("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"MEMFS")||(i.MEMFS=function(){ie("'MEMFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"TTY")||(i.TTY=function(){ie("'TTY' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PIPEFS")||(i.PIPEFS=function(){ie("'PIPEFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SOCKFS")||(i.SOCKFS=function(){ie("'SOCKFS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GL")||(i.GL=function(){ie("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGet")||(i.emscriptenWebGLGet=function(){ie("'emscriptenWebGLGet' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetTexPixelData")||(i.emscriptenWebGLGetTexPixelData=function(){ie("'emscriptenWebGLGetTexPixelData' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetUniform")||(i.emscriptenWebGLGetUniform=function(){ie("'emscriptenWebGLGetUniform' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emscriptenWebGLGetVertexAttrib")||(i.emscriptenWebGLGetVertexAttrib=function(){ie("'emscriptenWebGLGetVertexAttrib' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"AL")||(i.AL=function(){ie("'AL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_unicode")||(i.SDL_unicode=function(){ie("'SDL_unicode' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_ttfContext")||(i.SDL_ttfContext=function(){ie("'SDL_ttfContext' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_audio")||(i.SDL_audio=function(){ie("'SDL_audio' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL")||(i.SDL=function(){ie("'SDL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"SDL_gfx")||(i.SDL_gfx=function(){ie("'SDL_gfx' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLUT")||(i.GLUT=function(){ie("'GLUT' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"EGL")||(i.EGL=function(){ie("'EGL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLFW_Window")||(i.GLFW_Window=function(){ie("'GLFW_Window' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLFW")||(i.GLFW=function(){ie("'GLFW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"GLEW")||(i.GLEW=function(){ie("'GLEW' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"IDBStore")||(i.IDBStore=function(){ie("'IDBStore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"runAndAbortIfError")||(i.runAndAbortIfError=function(){ie("'runAndAbortIfError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emval_handle_array")||(i.emval_handle_array=function(){ie("'emval_handle_array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emval_free_list")||(i.emval_free_list=function(){ie("'emval_free_list' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emval_symbols")||(i.emval_symbols=function(){ie("'emval_symbols' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"init_emval")||(i.init_emval=function(){ie("'init_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"count_emval_handles")||(i.count_emval_handles=function(){ie("'count_emval_handles' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"get_first_emval")||(i.get_first_emval=function(){ie("'get_first_emval' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getStringOrSymbol")||(i.getStringOrSymbol=function(){ie("'getStringOrSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"requireHandle")||(i.requireHandle=function(){ie("'requireHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emval_newers")||(i.emval_newers=function(){ie("'emval_newers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"craftEmvalAllocator")||(i.craftEmvalAllocator=function(){ie("'craftEmvalAllocator' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emval_get_global")||(i.emval_get_global=function(){ie("'emval_get_global' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"emval_methodCallers")||(i.emval_methodCallers=function(){ie("'emval_methodCallers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"InternalError")||(i.InternalError=function(){ie("'InternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"BindingError")||(i.BindingError=function(){ie("'BindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UnboundTypeError")||(i.UnboundTypeError=function(){ie("'UnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"PureVirtualError")||(i.PureVirtualError=function(){ie("'PureVirtualError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"init_embind")||(i.init_embind=function(){ie("'init_embind' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"throwInternalError")||(i.throwInternalError=function(){ie("'throwInternalError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"throwBindingError")||(i.throwBindingError=function(){ie("'throwBindingError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"throwUnboundTypeError")||(i.throwUnboundTypeError=function(){ie("'throwUnboundTypeError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ensureOverloadTable")||(i.ensureOverloadTable=function(){ie("'ensureOverloadTable' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"exposePublicSymbol")||(i.exposePublicSymbol=function(){ie("'exposePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"replacePublicSymbol")||(i.replacePublicSymbol=function(){ie("'replacePublicSymbol' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"extendError")||(i.extendError=function(){ie("'extendError' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"createNamedFunction")||(i.createNamedFunction=function(){ie("'createNamedFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registeredInstances")||(i.registeredInstances=function(){ie("'registeredInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getBasestPointer")||(i.getBasestPointer=function(){ie("'getBasestPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registerInheritedInstance")||(i.registerInheritedInstance=function(){ie("'registerInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"unregisterInheritedInstance")||(i.unregisterInheritedInstance=function(){ie("'unregisterInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getInheritedInstance")||(i.getInheritedInstance=function(){ie("'getInheritedInstance' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getInheritedInstanceCount")||(i.getInheritedInstanceCount=function(){ie("'getInheritedInstanceCount' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getLiveInheritedInstances")||(i.getLiveInheritedInstances=function(){ie("'getLiveInheritedInstances' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registeredTypes")||(i.registeredTypes=function(){ie("'registeredTypes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"awaitingDependencies")||(i.awaitingDependencies=function(){ie("'awaitingDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"typeDependencies")||(i.typeDependencies=function(){ie("'typeDependencies' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registeredPointers")||(i.registeredPointers=function(){ie("'registeredPointers' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"registerType")||(i.registerType=function(){ie("'registerType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"whenDependentTypesAreResolved")||(i.whenDependentTypesAreResolved=function(){ie("'whenDependentTypesAreResolved' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"embind_charCodes")||(i.embind_charCodes=function(){ie("'embind_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"embind_init_charCodes")||(i.embind_init_charCodes=function(){ie("'embind_init_charCodes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"readLatin1String")||(i.readLatin1String=function(){ie("'readLatin1String' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getTypeName")||(i.getTypeName=function(){ie("'getTypeName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"heap32VectorToArray")||(i.heap32VectorToArray=function(){ie("'heap32VectorToArray' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"requireRegisteredType")||(i.requireRegisteredType=function(){ie("'requireRegisteredType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"getShiftFromSize")||(i.getShiftFromSize=function(){ie("'getShiftFromSize' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"integerReadValueFromPointer")||(i.integerReadValueFromPointer=function(){ie("'integerReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"enumReadValueFromPointer")||(i.enumReadValueFromPointer=function(){ie("'enumReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"floatReadValueFromPointer")||(i.floatReadValueFromPointer=function(){ie("'floatReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"simpleReadValueFromPointer")||(i.simpleReadValueFromPointer=function(){ie("'simpleReadValueFromPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"runDestructors")||(i.runDestructors=function(){ie("'runDestructors' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"new_")||(i.new_=function(){ie("'new_' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"craftInvokerFunction")||(i.craftInvokerFunction=function(){ie("'craftInvokerFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"embind__requireFunction")||(i.embind__requireFunction=function(){ie("'embind__requireFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"tupleRegistrations")||(i.tupleRegistrations=function(){ie("'tupleRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"structRegistrations")||(i.structRegistrations=function(){ie("'structRegistrations' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"genericPointerToWireType")||(i.genericPointerToWireType=function(){ie("'genericPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"constNoSmartPtrRawPointerToWireType")||(i.constNoSmartPtrRawPointerToWireType=function(){ie("'constNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"nonConstNoSmartPtrRawPointerToWireType")||(i.nonConstNoSmartPtrRawPointerToWireType=function(){ie("'nonConstNoSmartPtrRawPointerToWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"init_RegisteredPointer")||(i.init_RegisteredPointer=function(){ie("'init_RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"RegisteredPointer")||(i.RegisteredPointer=function(){ie("'RegisteredPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"RegisteredPointer_getPointee")||(i.RegisteredPointer_getPointee=function(){ie("'RegisteredPointer_getPointee' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"RegisteredPointer_destructor")||(i.RegisteredPointer_destructor=function(){ie("'RegisteredPointer_destructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"RegisteredPointer_deleteObject")||(i.RegisteredPointer_deleteObject=function(){ie("'RegisteredPointer_deleteObject' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"RegisteredPointer_fromWireType")||(i.RegisteredPointer_fromWireType=function(){ie("'RegisteredPointer_fromWireType' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"runDestructor")||(i.runDestructor=function(){ie("'runDestructor' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"releaseClassHandle")||(i.releaseClassHandle=function(){ie("'releaseClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"finalizationGroup")||(i.finalizationGroup=function(){ie("'finalizationGroup' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"detachFinalizer_deps")||(i.detachFinalizer_deps=function(){ie("'detachFinalizer_deps' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"detachFinalizer")||(i.detachFinalizer=function(){ie("'detachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"attachFinalizer")||(i.attachFinalizer=function(){ie("'attachFinalizer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"makeClassHandle")||(i.makeClassHandle=function(){ie("'makeClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"init_ClassHandle")||(i.init_ClassHandle=function(){ie("'init_ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ClassHandle")||(i.ClassHandle=function(){ie("'ClassHandle' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ClassHandle_isAliasOf")||(i.ClassHandle_isAliasOf=function(){ie("'ClassHandle_isAliasOf' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"throwInstanceAlreadyDeleted")||(i.throwInstanceAlreadyDeleted=function(){ie("'throwInstanceAlreadyDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ClassHandle_clone")||(i.ClassHandle_clone=function(){ie("'ClassHandle_clone' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ClassHandle_delete")||(i.ClassHandle_delete=function(){ie("'ClassHandle_delete' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"deletionQueue")||(i.deletionQueue=function(){ie("'deletionQueue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ClassHandle_isDeleted")||(i.ClassHandle_isDeleted=function(){ie("'ClassHandle_isDeleted' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"ClassHandle_deleteLater")||(i.ClassHandle_deleteLater=function(){ie("'ClassHandle_deleteLater' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"flushPendingDeletes")||(i.flushPendingDeletes=function(){ie("'flushPendingDeletes' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"delayFunction")||(i.delayFunction=function(){ie("'delayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"setDelayFunction")||(i.setDelayFunction=function(){ie("'setDelayFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"RegisteredClass")||(i.RegisteredClass=function(){ie("'RegisteredClass' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"shallowCopyInternalPointer")||(i.shallowCopyInternalPointer=function(){ie("'shallowCopyInternalPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"downcastPointer")||(i.downcastPointer=function(){ie("'downcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"upcastPointer")||(i.upcastPointer=function(){ie("'upcastPointer' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"validateThis")||(i.validateThis=function(){ie("'validateThis' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"char_0")||(i.char_0=function(){ie("'char_0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"char_9")||(i.char_9=function(){ie("'char_9' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"makeLegalFunctionName")||(i.makeLegalFunctionName=function(){ie("'makeLegalFunctionName' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"warnOnce")||(i.warnOnce=function(){ie("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackSave")||(i.stackSave=function(){ie("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackRestore")||(i.stackRestore=function(){ie("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stackAlloc")||(i.stackAlloc=function(){ie("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"AsciiToString")||(i.AsciiToString=function(){ie("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToAscii")||(i.stringToAscii=function(){ie("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF16ToString")||(i.UTF16ToString=function(){ie("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF16")||(i.stringToUTF16=function(){ie("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF16")||(i.lengthBytesUTF16=function(){ie("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"UTF32ToString")||(i.UTF32ToString=function(){ie("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"stringToUTF32")||(i.stringToUTF32=function(){ie("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(i,"lengthBytesUTF32")||(i.lengthBytesUTF32=function(){ie("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.allocateUTF8=Se,Object.getOwnPropertyDescriptor(i,"allocateUTF8OnStack")||(i.allocateUTF8OnStack=function(){ie("'allocateUTF8OnStack' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),i.writeStackCookie=Ye,i.checkStackCookie=nt,Object.getOwnPropertyDescriptor(i,"ALLOC_NORMAL")||Object.defineProperty(i,"ALLOC_NORMAL",{configurable:!0,get:function(){ie("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_STACK")||Object.defineProperty(i,"ALLOC_STACK",{configurable:!0,get:function(){ie("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_DYNAMIC")||Object.defineProperty(i,"ALLOC_DYNAMIC",{configurable:!0,get:function(){ie("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(i,"ALLOC_NONE")||Object.defineProperty(i,"ALLOC_NONE",{configurable:!0,get:function(){ie("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}});var Ko;function $f(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}es=function p(){Ko||ss(),Ko||(es=p)};function ss(p){if(Vr>0||(Ye(),yt(),Vr>0))return;function y(){Ko||(Ko=!0,i.calledRun=!0,!Z&&(vt(),St(),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),re(!i._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),$t()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),y()},1)):y(),nt()}if(i.run=ss,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return ss(),i.ready}}();t.exports=r})(e3);const H5=e3.exports,j5=""+new URL("icu-binding.a29db31a.wasm",import.meta.url).href;var t3=(t=>(t[t.U_USING_FALLBACK_WARNING=-128]="U_USING_FALLBACK_WARNING",t[t.U_ERROR_WARNING_START=-128]="U_ERROR_WARNING_START",t[t.U_USING_DEFAULT_WARNING=-127]="U_USING_DEFAULT_WARNING",t[t.U_SAFECLONE_ALLOCATED_WARNING=-126]="U_SAFECLONE_ALLOCATED_WARNING",t[t.U_STATE_OLD_WARNING=-125]="U_STATE_OLD_WARNING",t[t.U_STRING_NOT_TERMINATED_WARNING=-124]="U_STRING_NOT_TERMINATED_WARNING",t[t.U_SORT_KEY_TOO_SHORT_WARNING=-123]="U_SORT_KEY_TOO_SHORT_WARNING",t[t.U_AMBIGUOUS_ALIAS_WARNING=-122]="U_AMBIGUOUS_ALIAS_WARNING",t[t.U_DIFFERENT_UCA_VERSION=-121]="U_DIFFERENT_UCA_VERSION",t[t.U_PLUGIN_CHANGED_LEVEL_WARNING=-120]="U_PLUGIN_CHANGED_LEVEL_WARNING",t[t.U_ZERO_ERROR=0]="U_ZERO_ERROR",t[t.U_ILLEGAL_ARGUMENT_ERROR=1]="U_ILLEGAL_ARGUMENT_ERROR",t[t.U_MISSING_RESOURCE_ERROR=2]="U_MISSING_RESOURCE_ERROR",t[t.U_INVALID_FORMAT_ERROR=3]="U_INVALID_FORMAT_ERROR",t[t.U_FILE_ACCESS_ERROR=4]="U_FILE_ACCESS_ERROR",t[t.U_INTERNAL_PROGRAM_ERROR=5]="U_INTERNAL_PROGRAM_ERROR",t[t.U_MESSAGE_PARSE_ERROR=6]="U_MESSAGE_PARSE_ERROR",t[t.U_MEMORY_ALLOCATION_ERROR=7]="U_MEMORY_ALLOCATION_ERROR",t[t.U_INDEX_OUTOFBOUNDS_ERROR=8]="U_INDEX_OUTOFBOUNDS_ERROR",t[t.U_PARSE_ERROR=9]="U_PARSE_ERROR",t[t.U_INVALID_CHAR_FOUND=10]="U_INVALID_CHAR_FOUND",t[t.U_TRUNCATED_CHAR_FOUND=11]="U_TRUNCATED_CHAR_FOUND",t[t.U_ILLEGAL_CHAR_FOUND=12]="U_ILLEGAL_CHAR_FOUND",t[t.U_INVALID_TABLE_FORMAT=13]="U_INVALID_TABLE_FORMAT",t[t.U_INVALID_TABLE_FILE=14]="U_INVALID_TABLE_FILE",t[t.U_BUFFER_OVERFLOW_ERROR=15]="U_BUFFER_OVERFLOW_ERROR",t[t.U_UNSUPPORTED_ERROR=16]="U_UNSUPPORTED_ERROR",t[t.U_RESOURCE_TYPE_MISMATCH=17]="U_RESOURCE_TYPE_MISMATCH",t[t.U_ILLEGAL_ESCAPE_SEQUENCE=18]="U_ILLEGAL_ESCAPE_SEQUENCE",t[t.U_UNSUPPORTED_ESCAPE_SEQUENCE=19]="U_UNSUPPORTED_ESCAPE_SEQUENCE",t[t.U_NO_SPACE_AVAILABLE=20]="U_NO_SPACE_AVAILABLE",t[t.U_CE_NOT_FOUND_ERROR=21]="U_CE_NOT_FOUND_ERROR",t[t.U_PRIMARY_TOO_LONG_ERROR=22]="U_PRIMARY_TOO_LONG_ERROR",t[t.U_STATE_TOO_OLD_ERROR=23]="U_STATE_TOO_OLD_ERROR",t[t.U_TOO_MANY_ALIASES_ERROR=24]="U_TOO_MANY_ALIASES_ERROR",t[t.U_ENUM_OUT_OF_SYNC_ERROR=25]="U_ENUM_OUT_OF_SYNC_ERROR",t[t.U_INVARIANT_CONVERSION_ERROR=26]="U_INVARIANT_CONVERSION_ERROR",t[t.U_INVALID_STATE_ERROR=27]="U_INVALID_STATE_ERROR",t[t.U_COLLATOR_VERSION_MISMATCH=28]="U_COLLATOR_VERSION_MISMATCH",t[t.U_USELESS_COLLATOR_ERROR=29]="U_USELESS_COLLATOR_ERROR",t[t.U_NO_WRITE_PERMISSION=30]="U_NO_WRITE_PERMISSION",t[t.U_INPUT_TOO_LONG_ERROR=31]="U_INPUT_TOO_LONG_ERROR",t[t.U_BAD_VARIABLE_DEFINITION=65536]="U_BAD_VARIABLE_DEFINITION",t[t.U_PARSE_ERROR_START=65536]="U_PARSE_ERROR_START",t[t.U_MALFORMED_RULE=65537]="U_MALFORMED_RULE",t[t.U_MALFORMED_SET=65538]="U_MALFORMED_SET",t[t.U_MALFORMED_SYMBOL_REFERENCE=65539]="U_MALFORMED_SYMBOL_REFERENCE",t[t.U_MALFORMED_UNICODE_ESCAPE=65540]="U_MALFORMED_UNICODE_ESCAPE",t[t.U_MALFORMED_VARIABLE_DEFINITION=65541]="U_MALFORMED_VARIABLE_DEFINITION",t[t.U_MALFORMED_VARIABLE_REFERENCE=65542]="U_MALFORMED_VARIABLE_REFERENCE",t[t.U_MISMATCHED_SEGMENT_DELIMITERS=65543]="U_MISMATCHED_SEGMENT_DELIMITERS",t[t.U_MISPLACED_ANCHOR_START=65544]="U_MISPLACED_ANCHOR_START",t[t.U_MISPLACED_CURSOR_OFFSET=65545]="U_MISPLACED_CURSOR_OFFSET",t[t.U_MISPLACED_QUANTIFIER=65546]="U_MISPLACED_QUANTIFIER",t[t.U_MISSING_OPERATOR=65547]="U_MISSING_OPERATOR",t[t.U_MISSING_SEGMENT_CLOSE=65548]="U_MISSING_SEGMENT_CLOSE",t[t.U_MULTIPLE_ANTE_CONTEXTS=65549]="U_MULTIPLE_ANTE_CONTEXTS",t[t.U_MULTIPLE_CURSORS=65550]="U_MULTIPLE_CURSORS",t[t.U_MULTIPLE_POST_CONTEXTS=65551]="U_MULTIPLE_POST_CONTEXTS",t[t.U_TRAILING_BACKSLASH=65552]="U_TRAILING_BACKSLASH",t[t.U_UNDEFINED_SEGMENT_REFERENCE=65553]="U_UNDEFINED_SEGMENT_REFERENCE",t[t.U_UNDEFINED_VARIABLE=65554]="U_UNDEFINED_VARIABLE",t[t.U_UNQUOTED_SPECIAL=65555]="U_UNQUOTED_SPECIAL",t[t.U_UNTERMINATED_QUOTE=65556]="U_UNTERMINATED_QUOTE",t[t.U_RULE_MASK_ERROR=65557]="U_RULE_MASK_ERROR",t[t.U_MISPLACED_COMPOUND_FILTER=65558]="U_MISPLACED_COMPOUND_FILTER",t[t.U_MULTIPLE_COMPOUND_FILTERS=65559]="U_MULTIPLE_COMPOUND_FILTERS",t[t.U_INVALID_RBT_SYNTAX=65560]="U_INVALID_RBT_SYNTAX",t[t.U_INVALID_PROPERTY_PATTERN=65561]="U_INVALID_PROPERTY_PATTERN",t[t.U_MALFORMED_PRAGMA=65562]="U_MALFORMED_PRAGMA",t[t.U_UNCLOSED_SEGMENT=65563]="U_UNCLOSED_SEGMENT",t[t.U_ILLEGAL_CHAR_IN_SEGMENT=65564]="U_ILLEGAL_CHAR_IN_SEGMENT",t[t.U_VARIABLE_RANGE_EXHAUSTED=65565]="U_VARIABLE_RANGE_EXHAUSTED",t[t.U_VARIABLE_RANGE_OVERLAP=65566]="U_VARIABLE_RANGE_OVERLAP",t[t.U_ILLEGAL_CHARACTER=65567]="U_ILLEGAL_CHARACTER",t[t.U_INTERNAL_TRANSLITERATOR_ERROR=65568]="U_INTERNAL_TRANSLITERATOR_ERROR",t[t.U_INVALID_ID=65569]="U_INVALID_ID",t[t.U_INVALID_FUNCTION=65570]="U_INVALID_FUNCTION",t[t.U_UNEXPECTED_TOKEN=65792]="U_UNEXPECTED_TOKEN",t[t.U_FMT_PARSE_ERROR_START=65792]="U_FMT_PARSE_ERROR_START",t[t.U_MULTIPLE_DECIMAL_SEPARATORS=65793]="U_MULTIPLE_DECIMAL_SEPARATORS",t[t.U_MULTIPLE_DECIMAL_SEPERATORS=65793]="U_MULTIPLE_DECIMAL_SEPERATORS",t[t.U_MULTIPLE_EXPONENTIAL_SYMBOLS=65794]="U_MULTIPLE_EXPONENTIAL_SYMBOLS",t[t.U_MALFORMED_EXPONENTIAL_PATTERN=65795]="U_MALFORMED_EXPONENTIAL_PATTERN",t[t.U_MULTIPLE_PERCENT_SYMBOLS=65796]="U_MULTIPLE_PERCENT_SYMBOLS",t[t.U_MULTIPLE_PERMILL_SYMBOLS=65797]="U_MULTIPLE_PERMILL_SYMBOLS",t[t.U_MULTIPLE_PAD_SPECIFIERS=65798]="U_MULTIPLE_PAD_SPECIFIERS",t[t.U_PATTERN_SYNTAX_ERROR=65799]="U_PATTERN_SYNTAX_ERROR",t[t.U_ILLEGAL_PAD_POSITION=65800]="U_ILLEGAL_PAD_POSITION",t[t.U_UNMATCHED_BRACES=65801]="U_UNMATCHED_BRACES",t[t.U_UNSUPPORTED_PROPERTY=65802]="U_UNSUPPORTED_PROPERTY",t[t.U_UNSUPPORTED_ATTRIBUTE=65803]="U_UNSUPPORTED_ATTRIBUTE",t[t.U_ARGUMENT_TYPE_MISMATCH=65804]="U_ARGUMENT_TYPE_MISMATCH",t[t.U_DUPLICATE_KEYWORD=65805]="U_DUPLICATE_KEYWORD",t[t.U_UNDEFINED_KEYWORD=65806]="U_UNDEFINED_KEYWORD",t[t.U_DEFAULT_KEYWORD_MISSING=65807]="U_DEFAULT_KEYWORD_MISSING",t[t.U_DECIMAL_NUMBER_SYNTAX_ERROR=65808]="U_DECIMAL_NUMBER_SYNTAX_ERROR",t[t.U_FORMAT_INEXACT_ERROR=65809]="U_FORMAT_INEXACT_ERROR",t[t.U_NUMBER_ARG_OUTOFBOUNDS_ERROR=65810]="U_NUMBER_ARG_OUTOFBOUNDS_ERROR",t[t.U_NUMBER_SKELETON_SYNTAX_ERROR=65811]="U_NUMBER_SKELETON_SYNTAX_ERROR",t[t.U_BRK_INTERNAL_ERROR=66048]="U_BRK_INTERNAL_ERROR",t[t.U_BRK_ERROR_START=66048]="U_BRK_ERROR_START",t[t.U_BRK_HEX_DIGITS_EXPECTED=66049]="U_BRK_HEX_DIGITS_EXPECTED",t[t.U_BRK_SEMICOLON_EXPECTED=66050]="U_BRK_SEMICOLON_EXPECTED",t[t.U_BRK_RULE_SYNTAX=66051]="U_BRK_RULE_SYNTAX",t[t.U_BRK_UNCLOSED_SET=66052]="U_BRK_UNCLOSED_SET",t[t.U_BRK_ASSIGN_ERROR=66053]="U_BRK_ASSIGN_ERROR",t[t.U_BRK_VARIABLE_REDFINITION=66054]="U_BRK_VARIABLE_REDFINITION",t[t.U_BRK_MISMATCHED_PAREN=66055]="U_BRK_MISMATCHED_PAREN",t[t.U_BRK_NEW_LINE_IN_QUOTED_STRING=66056]="U_BRK_NEW_LINE_IN_QUOTED_STRING",t[t.U_BRK_UNDEFINED_VARIABLE=66057]="U_BRK_UNDEFINED_VARIABLE",t[t.U_BRK_INIT_ERROR=66058]="U_BRK_INIT_ERROR",t[t.U_BRK_RULE_EMPTY_SET=66059]="U_BRK_RULE_EMPTY_SET",t[t.U_BRK_UNRECOGNIZED_OPTION=66060]="U_BRK_UNRECOGNIZED_OPTION",t[t.U_BRK_MALFORMED_RULE_TAG=66061]="U_BRK_MALFORMED_RULE_TAG",t[t.U_REGEX_INTERNAL_ERROR=66304]="U_REGEX_INTERNAL_ERROR",t[t.U_REGEX_ERROR_START=66304]="U_REGEX_ERROR_START",t[t.U_REGEX_RULE_SYNTAX=66305]="U_REGEX_RULE_SYNTAX",t[t.U_REGEX_INVALID_STATE=66306]="U_REGEX_INVALID_STATE",t[t.U_REGEX_BAD_ESCAPE_SEQUENCE=66307]="U_REGEX_BAD_ESCAPE_SEQUENCE",t[t.U_REGEX_PROPERTY_SYNTAX=66308]="U_REGEX_PROPERTY_SYNTAX",t[t.U_REGEX_UNIMPLEMENTED=66309]="U_REGEX_UNIMPLEMENTED",t[t.U_REGEX_MISMATCHED_PAREN=66310]="U_REGEX_MISMATCHED_PAREN",t[t.U_REGEX_NUMBER_TOO_BIG=66311]="U_REGEX_NUMBER_TOO_BIG",t[t.U_REGEX_BAD_INTERVAL=66312]="U_REGEX_BAD_INTERVAL",t[t.U_REGEX_MAX_LT_MIN=66313]="U_REGEX_MAX_LT_MIN",t[t.U_REGEX_INVALID_BACK_REF=66314]="U_REGEX_INVALID_BACK_REF",t[t.U_REGEX_INVALID_FLAG=66315]="U_REGEX_INVALID_FLAG",t[t.U_REGEX_LOOK_BEHIND_LIMIT=66316]="U_REGEX_LOOK_BEHIND_LIMIT",t[t.U_REGEX_SET_CONTAINS_STRING=66317]="U_REGEX_SET_CONTAINS_STRING",t[t.U_REGEX_MISSING_CLOSE_BRACKET=66319]="U_REGEX_MISSING_CLOSE_BRACKET",t[t.U_REGEX_INVALID_RANGE=66320]="U_REGEX_INVALID_RANGE",t[t.U_REGEX_STACK_OVERFLOW=66321]="U_REGEX_STACK_OVERFLOW",t[t.U_REGEX_TIME_OUT=66322]="U_REGEX_TIME_OUT",t[t.U_REGEX_STOPPED_BY_CALLER=66323]="U_REGEX_STOPPED_BY_CALLER",t[t.U_REGEX_PATTERN_TOO_BIG=66324]="U_REGEX_PATTERN_TOO_BIG",t[t.U_REGEX_INVALID_CAPTURE_GROUP_NAME=66325]="U_REGEX_INVALID_CAPTURE_GROUP_NAME",t[t.U_IDNA_PROHIBITED_ERROR=66560]="U_IDNA_PROHIBITED_ERROR",t[t.U_IDNA_ERROR_START=66560]="U_IDNA_ERROR_START",t[t.U_IDNA_UNASSIGNED_ERROR=66561]="U_IDNA_UNASSIGNED_ERROR",t[t.U_IDNA_CHECK_BIDI_ERROR=66562]="U_IDNA_CHECK_BIDI_ERROR",t[t.U_IDNA_STD3_ASCII_RULES_ERROR=66563]="U_IDNA_STD3_ASCII_RULES_ERROR",t[t.U_IDNA_ACE_PREFIX_ERROR=66564]="U_IDNA_ACE_PREFIX_ERROR",t[t.U_IDNA_VERIFICATION_ERROR=66565]="U_IDNA_VERIFICATION_ERROR",t[t.U_IDNA_LABEL_TOO_LONG_ERROR=66566]="U_IDNA_LABEL_TOO_LONG_ERROR",t[t.U_IDNA_ZERO_LENGTH_LABEL_ERROR=66567]="U_IDNA_ZERO_LENGTH_LABEL_ERROR",t[t.U_IDNA_DOMAIN_NAME_TOO_LONG_ERROR=66568]="U_IDNA_DOMAIN_NAME_TOO_LONG_ERROR",t[t.U_STRINGPREP_PROHIBITED_ERROR=66560]="U_STRINGPREP_PROHIBITED_ERROR",t[t.U_STRINGPREP_UNASSIGNED_ERROR=66561]="U_STRINGPREP_UNASSIGNED_ERROR",t[t.U_STRINGPREP_CHECK_BIDI_ERROR=66562]="U_STRINGPREP_CHECK_BIDI_ERROR",t[t.U_PLUGIN_ERROR_START=66816]="U_PLUGIN_ERROR_START",t[t.U_PLUGIN_TOO_HIGH=66816]="U_PLUGIN_TOO_HIGH",t[t.U_PLUGIN_DIDNT_SET_LEVEL=66817]="U_PLUGIN_DIDNT_SET_LEVEL",t))(t3||{});const pC=-1;let r3,MA,Jx,HS,n3,i3,s3,o3,a3,r1,LA,UA,GA;async function V5(){let e=await(await H5({async instantiateWasm(r,n){const s=await WebAssembly.instantiateStreaming(fetch(j5,{credentials:"same-origin"}),r);return n(s.instance)}})).ready;return r3=e.Locale,MA=e.BreakIterator,Jx=e.UnicodeString,HS=e.StringPiece,e.init_icu,n3=e.ubidi_openSized,i3=e.ubidi_close,s3=e.ubidi_setPara,o3=e.ubidi_countRuns,a3=e.ubidi_getLogicalRun,r1=(r,n=!1)=>{const s=e.intArrayFromString(r,n),i=e.allocateUTF8(r);return{object:{ptr:i,view:s},dispose(){e._free(i)}}},LA=e._free,UA=e._malloc,GA=e.getValue,e}function z5(t){return t>t3.U_ZERO_ERROR}var l3={exports:{}};(function(t,e){var r=function(){var n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(n=n||__filename),function(s){s=s||{};var i;i||(i=typeof s<"u"?s:{});var o,a;i.ready=new Promise(function(h,m){o=h,a=m}),function(h){h.Ud=h.Ud||[],h.Ud.push(function(){h.MakeSWCanvasSurface=function(m){var v=m;if(v.tagName!=="CANVAS"&&(v=document.getElementById(m),!v))throw"Canvas with id "+m+" was not found";return(m=h.MakeSurface(v.width,v.height))&&(m.Ld=v),m},h.MakeCanvasSurface||(h.MakeCanvasSurface=h.MakeSWCanvasSurface),h.MakeSurface=function(m,v){var k={width:m,height:v,colorType:h.ColorType.RGBA_8888,alphaType:h.AlphaType.Unpremul,colorSpace:h.ColorSpace.SRGB},H=m*v*4,Y=h._malloc(H);return(k=h.Surface._makeRasterDirect(k,Y,4*m))&&(k.Ld=null,k.zf=m,k.wf=v,k.yf=H,k.$e=Y,k.getCanvas().clear(h.TRANSPARENT)),k},h.MakeRasterDirectSurface=function(m,v,k){return h.Surface._makeRasterDirect(m,v.byteOffset,k)},h.Surface.prototype.flush=function(m){if(h.Nd(this.Md),this._flush(),this.Ld){var v=new Uint8ClampedArray(h.HEAPU8.buffer,this.$e,this.yf);v=new ImageData(v,this.zf,this.wf),m?this.Ld.getContext("2d").putImageData(v,0,0,m[0],m[1],m[2]-m[0],m[3]-m[1]):this.Ld.getContext("2d").putImageData(v,0,0)}},h.Surface.prototype.dispose=function(){this.$e&&h._free(this.$e),this.delete()},h.Nd=h.Nd||function(){}})}(i),function(h){h.Ud=h.Ud||[],h.Ud.push(function(){function m(v,k,H){return v&&v.hasOwnProperty(k)?v[k]:H}h.GetWebGLContext=function(v,k){if(!v)throw"null canvas passed into makeWebGLContext";var H={alpha:m(k,"alpha",1),depth:m(k,"depth",1),stencil:m(k,"stencil",8),antialias:m(k,"antialias",0),premultipliedAlpha:m(k,"premultipliedAlpha",1),preserveDrawingBuffer:m(k,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:m(k,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:m(k,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:m(k,"enableExtensionsByDefault",1),explicitSwapControl:m(k,"explicitSwapControl",0),renderViaOffscreenBackBuffer:m(k,"renderViaOffscreenBackBuffer",0)};if(H.majorVersion=k&&k.majorVersion?k.majorVersion:typeof WebGL2RenderingContext<"u"?2:1,H.explicitSwapControl)throw"explicitSwapControl is not supported";return v=Mv(v,H),v?(Gf(v),v):0},h.deleteContext=function(v){cr===di[v]&&(cr=null),typeof JSEvents=="object"&&JSEvents.Eg(di[v].le.canvas),di[v]&&di[v].le.canvas&&(di[v].le.canvas.uf=void 0),di[v]=null},h._setTextureCleanup({deleteTexture:function(v,k){var H=rs[k];H&&di[v].le.deleteTexture(H),rs[k]=null}}),h.MakeGrContext=function(v){if(!this.Nd(v))return null;var k=this._MakeGrContext();return k?(k.Md=v,k):null},h.MakeOnScreenGLSurface=function(v,k,H,Y){return k=this._MakeOnScreenGLSurface(v,k,H,Y),k?(k.Md=v.Md,k):null},h.MakeRenderTarget=function(v,k,H){return k=this._MakeRenderTargetWH(v,k,H),k?(k.Md=v.Md,k):null},h.MakeRenderTarget=function(v,k){return k=this._MakeRenderTargetII(v,k),k?(k.Md=v.Md,k):null},h.MakeWebGLCanvasSurface=function(v,k,H){k=k||null;var Y=v,Ae=typeof OffscreenCanvas<"u"&&Y instanceof OffscreenCanvas;if(!(typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||Ae||(Y=document.getElementById(v),Y)))throw"Canvas with id "+v+" was not found";if(v=this.GetWebGLContext(Y,H),!v||0>v)throw"failed to create webgl context: err "+v;return v=this.MakeGrContext(v),k=this.MakeOnScreenGLSurface(v,Y.width,Y.height,k),k||(k=Y.cloneNode(!0),Y.parentNode.replaceChild(k,Y),k.classList.add("ck-replaced"),h.MakeSWCanvasSurface(k))},h.MakeCanvasSurface=h.MakeWebGLCanvasSurface,h.Surface.prototype.makeImageFromTexture=function(v,k){k.colorSpace||(k.colorSpace=h.ColorSpace.SRGB);var H=rs.length;return H||(rs.push(null),H=1),rs.push(v),this._makeImageFromTexture(cr.Rf,H,k)},h.Surface.prototype.makeImageFromTextureSource=function(v,k,H){H=H||v.naturalHeight||v.videoHeight||v.height,k=k||v.naturalWidth||v.videoWidth||v.width,h.Nd(this.Md);var Y=cr.le,Ae=Y.createTexture();return Y.bindTexture(Y.TEXTURE_2D,Ae),cr.version===2?Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,k,H,0,Y.RGBA,Y.UNSIGNED_BYTE,v):Y.texImage2D(Y.TEXTURE_2D,0,Y.RGBA,Y.RGBA,Y.UNSIGNED_BYTE,v),Y.bindTexture(Y.TEXTURE_2D,null),this.makeImageFromTexture(Ae,{height:H,width:k,colorType:h.ColorType.RGBA_8888,alphaType:h.AlphaType.Unpremul,colorSpace:h.ColorSpace.SRGB})},h.Nd=function(v){return v?Gf(v):!1}})}(i),function(h){function m(b,w,L,q,xe){for(var Be=0;Be<b.length;Be++)w[Be*L+(Be*xe+q+L)%L]=b[Be];return w}function v(b){for(var w=b*b,L=Array(w);w--;)L[w]=w%(b+1)===0?1:0;return L}function k(b){return b?b.constructor===Float32Array&&b.length===4:!1}function H(b){return(Te(255*b[3])<<24|Te(255*b[0])<<16|Te(255*b[1])<<8|Te(255*b[2])<<0)>>>0}function Y(b){if(b&&b._ck)return b;if(b instanceof Float32Array){for(var w=Math.floor(b.length/4),L=new Uint32Array(w),q=0;q<w;q++)L[q]=H(b.slice(4*q,4*(q+1)));return L}if(b instanceof Uint32Array)return b;if(b instanceof Array&&b[0]instanceof Float32Array)return b.map(H)}function Ae(b){if(b===void 0)return 1;var w=parseFloat(b);return b&&b.indexOf("%")!==-1?w/100:w}function Te(b){return Math.round(Math.max(0,Math.min(b||0,255)))}function Ue(b,w){w&&w._ck||h._free(b)}function Ie(b,w,L){if(!b||!b.length)return xt;if(b&&b._ck)return b.byteOffset;var q=h[w].BYTES_PER_ELEMENT;return L||(L=h._malloc(b.length*q)),h[w].set(b,L/q),L}function ht(b){var w={be:xt,count:b.length,Je:h.ColorType.RGBA_F32};if(b instanceof Float32Array)w.be=Ie(b,"HEAPF32"),w.count=b.length/4;else if(b instanceof Uint32Array)w.be=Ie(b,"HEAPU32"),w.Je=h.ColorType.RGBA_8888;else if(b instanceof Array){if(b&&b.length){for(var L=h._malloc(16*b.length),q=0,xe=L/4,Be=0;Be<b.length;Be++)for(var tt=0;4>tt;tt++)h.HEAPF32[xe+q]=b[Be][tt],q++;b=L}else b=xt;w.be=b}else throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof b;return w}function Dt(b){if(!b)return xt;if(b.length){if(b.length===6||b.length===9)return Ie(b,"HEAPF32",Un),b.length===6&&h.HEAPF32.set(Pt,6+Un/4),Un;if(b.length===16){var w=Gh.toTypedArray();return w[0]=b[0],w[1]=b[1],w[2]=b[3],w[3]=b[4],w[4]=b[5],w[5]=b[7],w[6]=b[12],w[7]=b[13],w[8]=b[15],Un}throw"invalid matrix size"}return w=Gh.toTypedArray(),w[0]=b.m11,w[1]=b.m21,w[2]=b.m41,w[3]=b.m12,w[4]=b.m22,w[5]=b.m42,w[6]=b.m14,w[7]=b.m24,w[8]=b.m44,Un}function Ut(b){if(!b)return xt;var w=Wf.toTypedArray();if(b.length){if(b.length!==16&&b.length!==6&&b.length!==9)throw"invalid matrix size";return b.length===16?Ie(b,"HEAPF32",$o):(w.fill(0),w[0]=b[0],w[1]=b[1],w[3]=b[2],w[4]=b[3],w[5]=b[4],w[7]=b[5],w[12]=b[6],w[13]=b[7],w[15]=b[8],b.length===6&&(w[12]=0,w[13]=0,w[15]=1),$o)}return w[0]=b.m11,w[1]=b.m21,w[2]=b.m31,w[3]=b.m41,w[4]=b.m12,w[5]=b.m22,w[6]=b.m32,w[7]=b.m42,w[8]=b.m13,w[9]=b.m23,w[10]=b.m33,w[11]=b.m43,w[12]=b.m14,w[13]=b.m24,w[14]=b.m34,w[15]=b.m44,$o}function je(b){for(var w=Array(16),L=0;16>L;L++)w[L]=h.HEAPF32[b/4+L];return w}function Bt(b,w){return Ie(b,"HEAPF32",w||Ko)}function hr(b,w,L,q){var xe=$f.toTypedArray();return xe[0]=b,xe[1]=w,xe[2]=L,xe[3]=q,Ko}function Mr(b){for(var w=new Float32Array(4),L=0;4>L;L++)w[L]=h.HEAPF32[b/4+L];return w}function Er(b,w){return Ie(b,"HEAPF32",w||p)}function Ln(b,w){return Ie(b,"HEAPF32",w||dt)}function Xu(){for(var b=0,w=0;w<arguments.length-1;w+=2)b+=arguments[w]*arguments[w+1];return b}function Wo(b,w,L){for(var q=Array(b.length),xe=0;xe<L;xe++)for(var Be=0;Be<L;Be++){for(var tt=0,wt=0;wt<L;wt++)tt+=b[L*xe+wt]*w[L*wt+Be];q[xe*L+Be]=tt}return q}function zg(b,w){for(var L=Wo(w[0],w[1],b),q=2;q<w.length;)L=Wo(L,w[q],b),q++;return L}h.Color=function(b,w,L,q){return q===void 0&&(q=1),h.Color4f(Te(b)/255,Te(w)/255,Te(L)/255,q)},h.ColorAsInt=function(b,w,L,q){return q===void 0&&(q=255),(Te(q)<<24|Te(b)<<16|Te(w)<<8|Te(L)<<0&268435455)>>>0},h.Color4f=function(b,w,L,q){return q===void 0&&(q=1),Float32Array.of(b,w,L,q)},Object.defineProperty(h,"TRANSPARENT",{get:function(){return h.Color4f(0,0,0,0)}}),Object.defineProperty(h,"BLACK",{get:function(){return h.Color4f(0,0,0,1)}}),Object.defineProperty(h,"WHITE",{get:function(){return h.Color4f(1,1,1,1)}}),Object.defineProperty(h,"RED",{get:function(){return h.Color4f(1,0,0,1)}}),Object.defineProperty(h,"GREEN",{get:function(){return h.Color4f(0,1,0,1)}}),Object.defineProperty(h,"BLUE",{get:function(){return h.Color4f(0,0,1,1)}}),Object.defineProperty(h,"YELLOW",{get:function(){return h.Color4f(1,1,0,1)}}),Object.defineProperty(h,"CYAN",{get:function(){return h.Color4f(0,1,1,1)}}),Object.defineProperty(h,"MAGENTA",{get:function(){return h.Color4f(1,0,1,1)}}),h.getColorComponents=function(b){return[Math.floor(255*b[0]),Math.floor(255*b[1]),Math.floor(255*b[2]),b[3]]},h.parseColorString=function(b,w){if(b=b.toLowerCase(),b.startsWith("#")){switch(w=255,b.length){case 9:w=parseInt(b.slice(7,9),16);case 7:var L=parseInt(b.slice(1,3),16),q=parseInt(b.slice(3,5),16),xe=parseInt(b.slice(5,7),16);break;case 5:w=17*parseInt(b.slice(4,5),16);case 4:L=17*parseInt(b.slice(1,2),16),q=17*parseInt(b.slice(2,3),16),xe=17*parseInt(b.slice(3,4),16)}return h.Color(L,q,xe,w/255)}return b.startsWith("rgba")?(b=b.slice(5,-1),b=b.split(","),h.Color(+b[0],+b[1],+b[2],Ae(b[3]))):b.startsWith("rgb")?(b=b.slice(4,-1),b=b.split(","),h.Color(+b[0],+b[1],+b[2],Ae(b[3]))):b.startsWith("gray(")||b.startsWith("hsl")||!w||(b=w[b],b===void 0)?h.BLACK:b},h.multiplyByAlpha=function(b,w){return b=b.slice(),b[3]=Math.max(0,Math.min(b[3]*w,1)),b},h.Malloc=function(b,w){var L=h._malloc(w*b.BYTES_PER_ELEMENT);return{_ck:!0,length:w,byteOffset:L,ne:null,subarray:function(q,xe){return q=this.toTypedArray().subarray(q,xe),q._ck=!0,q},toTypedArray:function(){return this.ne&&this.ne.length?this.ne:(this.ne=new b(h.HEAPU8.buffer,L,w),this.ne._ck=!0,this.ne)}}},h.Free=function(b){h._free(b.byteOffset),b.byteOffset=xt,b.toTypedArray=null,b.ne=null};var Un=xt,Gh,$o=xt,Wf,Ko=xt,$f,ss,p=xt,y,S=xt,V,X=xt,se,me=xt,ve,Oe=xt,Je,dt=xt,Et,At=xt,Pt=Float32Array.of(0,0,1),xt=0;h.onRuntimeInitialized=function(){function b(w,L,q,xe,Be,tt){tt||(tt=4*xe.width,xe.colorType===h.ColorType.RGBA_F16?tt*=2:xe.colorType===h.ColorType.RGBA_F32&&(tt*=4));var wt=tt*xe.height,It=Be?Be.byteOffset:h._malloc(wt);if(!w._readPixels(xe,It,tt,L,q))return Be||h._free(It),null;if(Be)return Be.toTypedArray();switch(xe.colorType){case h.ColorType.RGBA_8888:case h.ColorType.RGBA_F16:w=new Uint8Array(h.HEAPU8.buffer,It,wt).slice();break;case h.ColorType.RGBA_F32:w=new Float32Array(h.HEAPU8.buffer,It,wt).slice();break;default:return null}return h._free(It),w}$f=h.Malloc(Float32Array,4),Ko=$f.byteOffset,Wf=h.Malloc(Float32Array,16),$o=Wf.byteOffset,Gh=h.Malloc(Float32Array,9),Un=Gh.byteOffset,Je=h.Malloc(Float32Array,12),dt=Je.byteOffset,Et=h.Malloc(Float32Array,12),At=Et.byteOffset,ss=h.Malloc(Float32Array,4),p=ss.byteOffset,y=h.Malloc(Float32Array,4),S=y.byteOffset,V=h.Malloc(Float32Array,3),X=V.byteOffset,se=h.Malloc(Float32Array,3),me=se.byteOffset,ve=h.Malloc(Int32Array,4),Oe=ve.byteOffset,h.ColorSpace.SRGB=h.ColorSpace._MakeSRGB(),h.ColorSpace.DISPLAY_P3=h.ColorSpace._MakeDisplayP3(),h.ColorSpace.ADOBE_RGB=h.ColorSpace._MakeAdobeRGB(),h.GlyphRunFlags={IsWhiteSpace:h._GlyphRunFlags_isWhiteSpace},h.Path.MakeFromCmds=function(w){var L=Ie(w,"HEAPF32"),q=h.Path._MakeFromCmds(L,w.length);return Ue(L,w),q},h.Path.MakeFromVerbsPointsWeights=function(w,L,q){var xe=Ie(w,"HEAPU8"),Be=Ie(L,"HEAPF32"),tt=Ie(q,"HEAPF32"),wt=h.Path._MakeFromVerbsPointsWeights(xe,w.length,Be,L.length,tt,q&&q.length||0);return Ue(xe,w),Ue(Be,L),Ue(tt,q),wt},h.Path.prototype.addArc=function(w,L,q){return w=Er(w),this._addArc(w,L,q),this},h.Path.prototype.addOval=function(w,L,q){return q===void 0&&(q=1),w=Er(w),this._addOval(w,!!L,q),this},h.Path.prototype.addPath=function(){var w=Array.prototype.slice.call(arguments),L=w[0],q=!1;if(typeof w[w.length-1]=="boolean"&&(q=w.pop()),w.length===1)this._addPath(L,1,0,0,0,1,0,0,0,1,q);else if(w.length===2)w=w[1],this._addPath(L,w[0],w[1],w[2],w[3],w[4],w[5],w[6]||0,w[7]||0,w[8]||1,q);else if(w.length===7||w.length===10)this._addPath(L,w[1],w[2],w[3],w[4],w[5],w[6],w[7]||0,w[8]||0,w[9]||1,q);else return null;return this},h.Path.prototype.addPoly=function(w,L){var q=Ie(w,"HEAPF32");return this._addPoly(q,w.length/2,L),Ue(q,w),this},h.Path.prototype.addRect=function(w,L){return w=Er(w),this._addRect(w,!!L),this},h.Path.prototype.addRRect=function(w,L){return w=Ln(w),this._addRRect(w,!!L),this},h.Path.prototype.addVerbsPointsWeights=function(w,L,q){var xe=Ie(w,"HEAPU8"),Be=Ie(L,"HEAPF32"),tt=Ie(q,"HEAPF32");this._addVerbsPointsWeights(xe,w.length,Be,L.length,tt,q&&q.length||0),Ue(xe,w),Ue(Be,L),Ue(tt,q)},h.Path.prototype.arc=function(w,L,q,xe,Be,tt){return w=h.LTRBRect(w-q,L-q,w+q,L+q),Be=(Be-xe)/Math.PI*180-360*!!tt,tt=new h.Path,tt.addArc(w,xe/Math.PI*180,Be),this.addPath(tt,!0),tt.delete(),this},h.Path.prototype.arcToOval=function(w,L,q,xe){return w=Er(w),this._arcToOval(w,L,q,xe),this},h.Path.prototype.arcToRotated=function(w,L,q,xe,Be,tt,wt){return this._arcToRotated(w,L,q,!!xe,!!Be,tt,wt),this},h.Path.prototype.arcToTangent=function(w,L,q,xe,Be){return this._arcToTangent(w,L,q,xe,Be),this},h.Path.prototype.close=function(){return this._close(),this},h.Path.prototype.conicTo=function(w,L,q,xe,Be){return this._conicTo(w,L,q,xe,Be),this},h.Path.prototype.computeTightBounds=function(w){this._computeTightBounds(p);var L=ss.toTypedArray();return w?(w.set(L),w):L.slice()},h.Path.prototype.cubicTo=function(w,L,q,xe,Be,tt){return this._cubicTo(w,L,q,xe,Be,tt),this},h.Path.prototype.dash=function(w,L,q){return this._dash(w,L,q)?this:null},h.Path.prototype.getBounds=function(w){this._getBounds(p);var L=ss.toTypedArray();return w?(w.set(L),w):L.slice()},h.Path.prototype.lineTo=function(w,L){return this._lineTo(w,L),this},h.Path.prototype.moveTo=function(w,L){return this._moveTo(w,L),this},h.Path.prototype.offset=function(w,L){return this._transform(1,0,w,0,1,L,0,0,1),this},h.Path.prototype.quadTo=function(w,L,q,xe){return this._quadTo(w,L,q,xe),this},h.Path.prototype.rArcTo=function(w,L,q,xe,Be,tt,wt){return this._rArcTo(w,L,q,xe,Be,tt,wt),this},h.Path.prototype.rConicTo=function(w,L,q,xe,Be){return this._rConicTo(w,L,q,xe,Be),this},h.Path.prototype.rCubicTo=function(w,L,q,xe,Be,tt){return this._rCubicTo(w,L,q,xe,Be,tt),this},h.Path.prototype.rLineTo=function(w,L){return this._rLineTo(w,L),this},h.Path.prototype.rMoveTo=function(w,L){return this._rMoveTo(w,L),this},h.Path.prototype.rQuadTo=function(w,L,q,xe){return this._rQuadTo(w,L,q,xe),this},h.Path.prototype.stroke=function(w){return w=w||{},w.width=w.width||1,w.miter_limit=w.miter_limit||4,w.cap=w.cap||h.StrokeCap.Butt,w.join=w.join||h.StrokeJoin.Miter,w.precision=w.precision||1,this._stroke(w)?this:null},h.Path.prototype.transform=function(){if(arguments.length===1){var w=arguments[0];this._transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6]||0,w[7]||0,w[8]||1)}else if(arguments.length===6||arguments.length===9)w=arguments,this._transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6]||0,w[7]||0,w[8]||1);else throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;return this},h.Path.prototype.trim=function(w,L,q){return this._trim(w,L,!!q)?this:null},h.Image.prototype.makeShaderCubic=function(w,L,q,xe,Be){return Be=Dt(Be),this._makeShaderCubic(w,L,q,xe,Be)},h.Image.prototype.makeShaderOptions=function(w,L,q,xe,Be){return Be=Dt(Be),this._makeShaderOptions(w,L,q,xe,Be)},h.Image.prototype.readPixels=function(w,L,q,xe,Be){return b(this,w,L,q,xe,Be)},h.Canvas.prototype.clear=function(w){h.Nd(this.Md),w=Bt(w),this._clear(w)},h.Canvas.prototype.clipRRect=function(w,L,q){h.Nd(this.Md),w=Ln(w),this._clipRRect(w,L,q)},h.Canvas.prototype.clipRect=function(w,L,q){h.Nd(this.Md),w=Er(w),this._clipRect(w,L,q)},h.Canvas.prototype.concat=function(w){h.Nd(this.Md),w=Ut(w),this._concat(w)},h.Canvas.prototype.drawArc=function(w,L,q,xe,Be){h.Nd(this.Md),w=Er(w),this._drawArc(w,L,q,xe,Be)},h.Canvas.prototype.drawAtlas=function(w,L,q,xe,Be,tt,wt){if(w&&xe&&L&&q&&L.length===q.length){h.Nd(this.Md),Be||(Be=h.BlendMode.SrcOver);var It=Ie(L,"HEAPF32"),Wt=Ie(q,"HEAPF32"),gr=q.length/4,ke=Ie(Y(tt),"HEAPU32");if(wt&&"B"in wt&&"C"in wt)this._drawAtlasCubic(w,Wt,It,ke,gr,Be,wt.B,wt.C,xe);else{let pt=h.FilterMode.Linear,Yt=h.MipmapMode.None;wt&&(pt=wt.filter,"mipmap"in wt&&(Yt=wt.mipmap)),this._drawAtlasOptions(w,Wt,It,ke,gr,Be,pt,Yt,xe)}Ue(It,L),Ue(Wt,q),Ue(ke,tt)}},h.Canvas.prototype.drawCircle=function(w,L,q,xe){h.Nd(this.Md),this._drawCircle(w,L,q,xe)},h.Canvas.prototype.drawColor=function(w,L){h.Nd(this.Md),w=Bt(w),L!==void 0?this._drawColor(w,L):this._drawColor(w)},h.Canvas.prototype.drawColorInt=function(w,L){h.Nd(this.Md),this._drawColorInt(w,L||h.BlendMode.SrcOver)},h.Canvas.prototype.drawColorComponents=function(w,L,q,xe,Be){h.Nd(this.Md),w=hr(w,L,q,xe),Be!==void 0?this._drawColor(w,Be):this._drawColor(w)},h.Canvas.prototype.drawDRRect=function(w,L,q){h.Nd(this.Md),w=Ln(w,dt),L=Ln(L,At),this._drawDRRect(w,L,q)},h.Canvas.prototype.drawGlyphs=function(w,L,q,xe,Be,tt){if(!(2*w.length<=L.length))throw"Not enough positions for the array of gyphs";h.Nd(this.Md);const wt=Ie(w,"HEAPU16"),It=Ie(L,"HEAPF32");this._drawGlyphs(w.length,wt,It,q,xe,Be,tt),Ue(It,L),Ue(wt,w)},h.Canvas.prototype.drawImage=function(w,L,q,xe){h.Nd(this.Md),this._drawImage(w,L,q,xe||null)},h.Canvas.prototype.drawImageCubic=function(w,L,q,xe,Be,tt){h.Nd(this.Md),this._drawImageCubic(w,L,q,xe,Be,tt||null)},h.Canvas.prototype.drawImageOptions=function(w,L,q,xe,Be,tt){h.Nd(this.Md),this._drawImageOptions(w,L,q,xe,Be,tt||null)},h.Canvas.prototype.drawImageNine=function(w,L,q,xe,Be){h.Nd(this.Md),L=Ie(L,"HEAP32",Oe),q=Er(q),this._drawImageNine(w,L,q,xe,Be||null)},h.Canvas.prototype.drawImageRect=function(w,L,q,xe,Be){h.Nd(this.Md),Er(L,p),Er(q,S),this._drawImageRect(w,p,S,xe,!!Be)},h.Canvas.prototype.drawImageRectCubic=function(w,L,q,xe,Be,tt){h.Nd(this.Md),Er(L,p),Er(q,S),this._drawImageRectCubic(w,p,S,xe,Be,tt||null)},h.Canvas.prototype.drawImageRectOptions=function(w,L,q,xe,Be,tt){h.Nd(this.Md),Er(L,p),Er(q,S),this._drawImageRectOptions(w,p,S,xe,Be,tt||null)},h.Canvas.prototype.drawLine=function(w,L,q,xe,Be){h.Nd(this.Md),this._drawLine(w,L,q,xe,Be)},h.Canvas.prototype.drawOval=function(w,L){h.Nd(this.Md),w=Er(w),this._drawOval(w,L)},h.Canvas.prototype.drawPaint=function(w){h.Nd(this.Md),this._drawPaint(w)},h.Canvas.prototype.drawParagraph=function(w,L,q){h.Nd(this.Md),this._drawParagraph(w,L,q)},h.Canvas.prototype.drawPatch=function(w,L,q,xe,Be){if(24>w.length)throw"Need 12 cubic points";if(L&&4>L.length)throw"Need 4 colors";if(q&&8>q.length)throw"Need 4 shader coordinates";h.Nd(this.Md);const tt=Ie(w,"HEAPF32"),wt=L?Ie(Y(L),"HEAPU32"):xt,It=q?Ie(q,"HEAPF32"):xt;xe||(xe=h.BlendMode.Modulate),this._drawPatch(tt,wt,It,xe,Be),Ue(It,q),Ue(wt,L),Ue(tt,w)},h.Canvas.prototype.drawPath=function(w,L){h.Nd(this.Md),this._drawPath(w,L)},h.Canvas.prototype.drawPicture=function(w){h.Nd(this.Md),this._drawPicture(w)},h.Canvas.prototype.drawPoints=function(w,L,q){h.Nd(this.Md);var xe=Ie(L,"HEAPF32");this._drawPoints(w,xe,L.length/2,q),Ue(xe,L)},h.Canvas.prototype.drawRRect=function(w,L){h.Nd(this.Md),w=Ln(w),this._drawRRect(w,L)},h.Canvas.prototype.drawRect=function(w,L){h.Nd(this.Md),w=Er(w),this._drawRect(w,L)},h.Canvas.prototype.drawRect4f=function(w,L,q,xe,Be){h.Nd(this.Md),this._drawRect4f(w,L,q,xe,Be)},h.Canvas.prototype.drawShadow=function(w,L,q,xe,Be,tt,wt){h.Nd(this.Md);var It=Ie(Be,"HEAPF32"),Wt=Ie(tt,"HEAPF32");L=Ie(L,"HEAPF32",X),q=Ie(q,"HEAPF32",me),this._drawShadow(w,L,q,xe,It,Wt,wt),Ue(It,Be),Ue(Wt,tt)},h.getShadowLocalBounds=function(w,L,q,xe,Be,tt,wt){return w=Dt(w),q=Ie(q,"HEAPF32",X),xe=Ie(xe,"HEAPF32",me),this._getShadowLocalBounds(w,L,q,xe,Be,tt,p)?(L=ss.toTypedArray(),wt?(wt.set(L),wt):L.slice()):null},h.Canvas.prototype.drawTextBlob=function(w,L,q,xe){h.Nd(this.Md),this._drawTextBlob(w,L,q,xe)},h.Canvas.prototype.drawVertices=function(w,L,q){h.Nd(this.Md),this._drawVertices(w,L,q)},h.Canvas.prototype.getLocalToDevice=function(){return this._getLocalToDevice($o),je($o)},h.Canvas.prototype.findMarkedCTM=function(w){return this._findMarkedCTM(w,$o)?je($o):null},h.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(Un);for(var w=Array(9),L=0;9>L;L++)w[L]=h.HEAPF32[Un/4+L];return w},h.Canvas.prototype.makeSurface=function(w){return w=this._makeSurface(w),w.Md=this.Md,w},h.Canvas.prototype.readPixels=function(w,L,q,xe,Be){return h.Nd(this.Md),b(this,w,L,q,xe,Be)},h.Canvas.prototype.saveLayer=function(w,L,q,xe){return L=Er(L),this._saveLayer(w||null,L,q||null,xe||0)},h.Canvas.prototype.writePixels=function(w,L,q,xe,Be,tt,wt,It){if(w.byteLength%(L*q))throw"pixels length must be a multiple of the srcWidth * srcHeight";h.Nd(this.Md);var Wt=w.byteLength/(L*q);tt=tt||h.AlphaType.Unpremul,wt=wt||h.ColorType.RGBA_8888,It=It||h.ColorSpace.SRGB;var gr=Wt*L;return Wt=Ie(w,"HEAPU8"),L=this._writePixels({width:L,height:q,colorType:wt,alphaType:tt,colorSpace:It},Wt,gr,xe,Be),Ue(Wt,w),L},h.ColorFilter.MakeBlend=function(w,L){return w=Bt(w),h.ColorFilter._MakeBlend(w,L)},h.ColorFilter.MakeMatrix=function(w){if(!w||w.length!==20)throw"invalid color matrix";var L=Ie(w,"HEAPF32"),q=h.ColorFilter._makeMatrix(L);return Ue(L,w),q},h.ContourMeasure.prototype.getPosTan=function(w,L){return this._getPosTan(w,p),w=ss.toTypedArray(),L?(L.set(w),L):w.slice()},h.ImageFilter.MakeMatrixTransform=function(w,L,q){if(w=Dt(w),"B"in L&&"C"in L)return h.ImageFilter._MakeMatrixTransformCubic(w,L.xg,L.yg,q);const xe=L.filter;let Be=h.MipmapMode.None;return"mipmap"in L&&(Be=L.mipmap),h.ImageFilter._MakeMatrixTransformOptions(w,xe,Be,q)},h.Paint.prototype.getColor=function(){return this._getColor(Ko),Mr(Ko)},h.Paint.prototype.setColor=function(w,L){L=L||null,w=Bt(w),this._setColor(w,L)},h.Paint.prototype.setColorComponents=function(w,L,q,xe,Be){Be=Be||null,w=hr(w,L,q,xe),this._setColor(w,Be)},h.Path.prototype.getPoint=function(w,L){return this._getPoint(w,p),w=ss.toTypedArray(),L?(L[0]=w[0],L[1]=w[1],L):w.slice(0,2)},h.PictureRecorder.prototype.beginRecording=function(w){return w=Er(w),this._beginRecording(w)},h.Surface.prototype.getCanvas=function(){var w=this._getCanvas();return w.Md=this.Md,w},h.Surface.prototype.makeImageSnapshot=function(w){return w=Ie(w,"HEAP32",Oe),this._makeImageSnapshot(w)},h.Surface.prototype.makeSurface=function(w){return w=this._makeSurface(w),w.Md=this.Md,w},h.Surface.prototype.requestAnimationFrame=function(w,L){this.Fe||(this.Fe=this.getCanvas()),requestAnimationFrame(function(){h.Nd(this.Md),w(this.Fe),this.flush(L)}.bind(this))},h.Surface.prototype.drawOnce=function(w,L){this.Fe||(this.Fe=this.getCanvas()),requestAnimationFrame(function(){h.Nd(this.Md),w(this.Fe),this.flush(L),this.dispose()}.bind(this))},h.PathEffect.MakeDash=function(w,L){if(L||(L=0),!w.length||w.length%2===1)throw"Intervals array must have even length";var q=Ie(w,"HEAPF32");return L=h.PathEffect._MakeDash(q,w.length,L),Ue(q,w),L},h.Shader.MakeColor=function(w,L){return L=L||null,w=Bt(w),h.Shader._MakeColor(w,L)},h.Shader.Blend=h.Shader.MakeBlend,h.Shader.Color=h.Shader.MakeColor,h.Shader.MakeLinearGradient=function(w,L,q,xe,Be,tt,wt,It){It=It||null;var Wt=ht(q),gr=Ie(xe,"HEAPF32");wt=wt||0,tt=Dt(tt);var ke=ss.toTypedArray();return ke.set(w),ke.set(L,2),w=h.Shader._MakeLinearGradient(p,Wt.be,Wt.Je,gr,Wt.count,Be,wt,tt,It),Ue(Wt.be,q),xe&&Ue(gr,xe),w},h.Shader.MakeRadialGradient=function(w,L,q,xe,Be,tt,wt,It){It=It||null;var Wt=ht(q),gr=Ie(xe,"HEAPF32");return wt=wt||0,tt=Dt(tt),w=h.Shader._MakeRadialGradient(w[0],w[1],L,Wt.be,Wt.Je,gr,Wt.count,Be,wt,tt,It),Ue(Wt.be,q),xe&&Ue(gr,xe),w},h.Shader.MakeSweepGradient=function(w,L,q,xe,Be,tt,wt,It,Wt,gr){gr=gr||null;var ke=ht(q),pt=Ie(xe,"HEAPF32");return wt=wt||0,It=It||0,Wt=Wt||360,tt=Dt(tt),w=h.Shader._MakeSweepGradient(w,L,ke.be,ke.Je,pt,ke.count,Be,It,Wt,wt,tt,gr),Ue(ke.be,q),xe&&Ue(pt,xe),w},h.Shader.MakeTwoPointConicalGradient=function(w,L,q,xe,Be,tt,wt,It,Wt,gr){gr=gr||null;var ke=ht(Be),pt=Ie(tt,"HEAPF32");Wt=Wt||0,It=Dt(It);var Yt=ss.toTypedArray();return Yt.set(w),Yt.set(q,2),w=h.Shader._MakeTwoPointConicalGradient(p,L,xe,ke.be,ke.Je,pt,ke.count,wt,Wt,It,gr),Ue(ke.be,Be),tt&&Ue(pt,tt),w},h.Vertices.prototype.bounds=function(w){this._bounds(p);var L=ss.toTypedArray();return w?(w.set(L),w):L.slice()},h.Ud&&h.Ud.forEach(function(w){w()})},h.computeTonalColors=function(b){var w=Ie(b.ambient,"HEAPF32"),L=Ie(b.spot,"HEAPF32");this._computeTonalColors(w,L);var q={ambient:Mr(w),spot:Mr(L)};return Ue(w,b.ambient),Ue(L,b.spot),q},h.LTRBRect=function(b,w,L,q){return Float32Array.of(b,w,L,q)},h.XYWHRect=function(b,w,L,q){return Float32Array.of(b,w,b+L,w+q)},h.LTRBiRect=function(b,w,L,q){return Int32Array.of(b,w,L,q)},h.XYWHiRect=function(b,w,L,q){return Int32Array.of(b,w,b+L,w+q)},h.RRectXY=function(b,w,L){return Float32Array.of(b[0],b[1],b[2],b[3],w,L,w,L,w,L,w,L)},h.MakeAnimatedImageFromEncoded=function(b){b=new Uint8Array(b);var w=h._malloc(b.byteLength);return h.HEAPU8.set(b,w),(b=h._decodeAnimatedImage(w,b.byteLength))?b:null},h.MakeImageFromEncoded=function(b){b=new Uint8Array(b);var w=h._malloc(b.byteLength);return h.HEAPU8.set(b,w),(b=h._decodeImage(w,b.byteLength))?b:null};var xr=null;h.MakeImageFromCanvasImageSource=function(b){var w=b.width,L=b.height;xr||(xr=document.createElement("canvas")),xr.width=w,xr.height=L;var q=xr.getContext("2d");return q.drawImage(b,0,0),b=q.getImageData(0,0,w,L),h.MakeImage({width:w,height:L,alphaType:h.AlphaType.Unpremul,colorType:h.ColorType.RGBA_8888,colorSpace:h.ColorSpace.SRGB},b.data,4*w)},h.MakeImage=function(b,w,L){var q=h._malloc(w.length);return h.HEAPU8.set(w,q),h._MakeImage(b,q,w.length,L)},h.MakeVertices=function(b,w,L,q,xe,Be){var tt=xe&&xe.length||0,wt=0;return L&&L.length&&(wt|=1),q&&q.length&&(wt|=2),Be===void 0||Be||(wt|=4),b=new h._VerticesBuilder(b,w.length/2,tt,wt),Ie(w,"HEAPF32",b.positions()),b.texCoords()&&Ie(L,"HEAPF32",b.texCoords()),b.colors()&&Ie(Y(q),"HEAPU32",b.colors()),b.indices()&&Ie(xe,"HEAPU16",b.indices()),b.detach()},h.Matrix={},h.Matrix.identity=function(){return v(3)},h.Matrix.invert=function(b){var w=b[0]*b[4]*b[8]+b[1]*b[5]*b[6]+b[2]*b[3]*b[7]-b[2]*b[4]*b[6]-b[1]*b[3]*b[8]-b[0]*b[5]*b[7];return w?[(b[4]*b[8]-b[5]*b[7])/w,(b[2]*b[7]-b[1]*b[8])/w,(b[1]*b[5]-b[2]*b[4])/w,(b[5]*b[6]-b[3]*b[8])/w,(b[0]*b[8]-b[2]*b[6])/w,(b[2]*b[3]-b[0]*b[5])/w,(b[3]*b[7]-b[4]*b[6])/w,(b[1]*b[6]-b[0]*b[7])/w,(b[0]*b[4]-b[1]*b[3])/w]:null},h.Matrix.mapPoints=function(b,w){for(var L=0;L<w.length;L+=2){var q=w[L],xe=w[L+1],Be=b[6]*q+b[7]*xe+b[8],tt=b[3]*q+b[4]*xe+b[5];w[L]=(b[0]*q+b[1]*xe+b[2])/Be,w[L+1]=tt/Be}return w},h.Matrix.multiply=function(){return zg(3,arguments)},h.Matrix.rotated=function(b,w,L){w=w||0,L=L||0;var q=Math.sin(b);return b=Math.cos(b),[b,-q,Xu(q,L,1-b,w),q,b,Xu(-q,w,1-b,L),0,0,1]},h.Matrix.scaled=function(b,w,L,q){L=L||0,q=q||0;var xe=m([b,w],v(3),3,0,1);return m([L-b*L,q-w*q],xe,3,2,0)},h.Matrix.skewed=function(b,w,L,q){L=L||0,q=q||0;var xe=m([b,w],v(3),3,1,-1);return m([-b*L,-w*q],xe,3,2,0)},h.Matrix.translated=function(b,w){return m(arguments,v(3),3,2,0)},h.Vector={},h.Vector.dot=function(b,w){return b.map(function(L,q){return L*w[q]}).reduce(function(L,q){return L+q})},h.Vector.lengthSquared=function(b){return h.Vector.dot(b,b)},h.Vector.length=function(b){return Math.sqrt(h.Vector.lengthSquared(b))},h.Vector.mulScalar=function(b,w){return b.map(function(L){return L*w})},h.Vector.add=function(b,w){return b.map(function(L,q){return L+w[q]})},h.Vector.sub=function(b,w){return b.map(function(L,q){return L-w[q]})},h.Vector.dist=function(b,w){return h.Vector.length(h.Vector.sub(b,w))},h.Vector.normalize=function(b){return h.Vector.mulScalar(b,1/h.Vector.length(b))},h.Vector.cross=function(b,w){return[b[1]*w[2]-b[2]*w[1],b[2]*w[0]-b[0]*w[2],b[0]*w[1]-b[1]*w[0]]},h.M44={},h.M44.identity=function(){return v(4)},h.M44.translated=function(b){return m(b,v(4),4,3,0)},h.M44.scaled=function(b){return m(b,v(4),4,0,1)},h.M44.rotated=function(b,w){return h.M44.rotatedUnitSinCos(h.Vector.normalize(b),Math.sin(w),Math.cos(w))},h.M44.rotatedUnitSinCos=function(b,w,L){var q=b[0],xe=b[1];b=b[2];var Be=1-L;return[Be*q*q+L,Be*q*xe-w*b,Be*q*b+w*xe,0,Be*q*xe+w*b,Be*xe*xe+L,Be*xe*b-w*q,0,Be*q*b-w*xe,Be*xe*b+w*q,Be*b*b+L,0,0,0,0,1]},h.M44.lookat=function(b,w,L){w=h.Vector.normalize(h.Vector.sub(w,b)),L=h.Vector.normalize(L),L=h.Vector.normalize(h.Vector.cross(w,L));var q=h.M44.identity();return m(L,q,4,0,0),m(h.Vector.cross(L,w),q,4,1,0),m(h.Vector.mulScalar(w,-1),q,4,2,0),m(b,q,4,3,0),b=h.M44.invert(q),b===null?h.M44.identity():b},h.M44.perspective=function(b,w,L){var q=1/(w-b);return L/=2,L=Math.cos(L)/Math.sin(L),[L,0,0,0,0,L,0,0,0,0,(w+b)*q,2*w*b*q,0,0,-1,1]},h.M44.rc=function(b,w,L){return b[4*w+L]},h.M44.multiply=function(){return zg(4,arguments)},h.M44.invert=function(b){var w=b[0],L=b[4],q=b[8],xe=b[12],Be=b[1],tt=b[5],wt=b[9],It=b[13],Wt=b[2],gr=b[6],ke=b[10],pt=b[14],Yt=b[3],Rr=b[7],fi=b[11];b=b[15];var Ws=w*tt-L*Be,$s=w*wt-q*Be,_i=w*It-xe*Be,ut=L*wt-q*tt,z=L*It-xe*tt,he=q*It-xe*wt,Ge=Wt*Rr-gr*Yt,Ke=Wt*fi-ke*Yt,rt=Wt*b-pt*Yt,lt=gr*fi-ke*Rr,Nt=gr*b-pt*Rr,br=ke*b-pt*fi,Mi=Ws*br-$s*Nt+_i*lt+ut*rt-z*Ke+he*Ge,mn=1/Mi;return Mi===0||mn===1/0?null:(Ws*=mn,$s*=mn,_i*=mn,ut*=mn,z*=mn,he*=mn,Ge*=mn,Ke*=mn,rt*=mn,lt*=mn,Nt*=mn,br*=mn,w=[tt*br-wt*Nt+It*lt,wt*rt-Be*br-It*Ke,Be*Nt-tt*rt+It*Ge,tt*Ke-Be*lt-wt*Ge,q*Nt-L*br-xe*lt,w*br-q*rt+xe*Ke,L*rt-w*Nt-xe*Ge,w*lt-L*Ke+q*Ge,Rr*he-fi*z+b*ut,fi*_i-Yt*he-b*$s,Yt*z-Rr*_i+b*Ws,Rr*$s-Yt*ut-fi*Ws,ke*z-gr*he-pt*ut,Wt*he-ke*_i+pt*$s,gr*_i-Wt*z-pt*Ws,Wt*ut-gr*$s+ke*Ws],w.every(function(ja){return!isNaN(ja)&&ja!==1/0&&ja!==-1/0})?w:null)},h.M44.transpose=function(b){return[b[0],b[4],b[8],b[12],b[1],b[5],b[9],b[13],b[2],b[6],b[10],b[14],b[3],b[7],b[11],b[15]]},h.M44.mustInvert=function(b){if(b=h.M44.invert(b),b===null)throw"Matrix not invertible";return b},h.M44.setupCamera=function(b,w,L){var q=h.M44.lookat(L.eye,L.coa,L.up);return L=h.M44.perspective(L.near,L.far,L.angle),w=[(b[2]-b[0])/2,(b[3]-b[1])/2,w],b=h.M44.multiply(h.M44.translated([(b[0]+b[2])/2,(b[1]+b[3])/2,0]),h.M44.scaled(w)),h.M44.multiply(b,L,q,h.M44.mustInvert(b))},h.ColorMatrix={},h.ColorMatrix.identity=function(){var b=new Float32Array(20);return b[0]=1,b[6]=1,b[12]=1,b[18]=1,b},h.ColorMatrix.scaled=function(b,w,L,q){var xe=new Float32Array(20);return xe[0]=b,xe[6]=w,xe[12]=L,xe[18]=q,xe};var Qr=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];h.ColorMatrix.rotated=function(b,w,L){var q=h.ColorMatrix.identity();return b=Qr[b],q[b[0]]=L,q[b[1]]=w,q[b[2]]=-w,q[b[3]]=L,q},h.ColorMatrix.postTranslate=function(b,w,L,q,xe){return b[4]+=w,b[9]+=L,b[14]+=q,b[19]+=xe,b},h.ColorMatrix.concat=function(b,w){for(var L=new Float32Array(20),q=0,xe=0;20>xe;xe+=5){for(var Be=0;4>Be;Be++)L[q++]=b[xe]*w[Be]+b[xe+1]*w[Be+5]+b[xe+2]*w[Be+10]+b[xe+3]*w[Be+15];L[q++]=b[xe]*w[4]+b[xe+1]*w[9]+b[xe+2]*w[14]+b[xe+3]*w[19]+b[xe+4]}return L},function(b){b.Ud=b.Ud||[],b.Ud.push(function(){function w(ke){if(!ke||!ke.length)return[];for(var pt=[],Yt=0;Yt<ke.length;Yt+=5){var Rr=b.LTRBRect(ke[Yt],ke[Yt+1],ke[Yt+2],ke[Yt+3]);Rr.direction=ke[Yt+4]===0?b.TextDirection.RTL:b.TextDirection.LTR,pt.push(Rr)}return b._free(ke.byteOffset),pt}function L(ke){return ke=ke||{},ke.weight===void 0&&(ke.weight=b.FontWeight.Normal),ke.width=ke.width||b.FontWidth.Normal,ke.slant=ke.slant||b.FontSlant.Upright,ke}function q(ke){if(!ke||!ke.length)return xt;for(var pt=[],Yt=0;Yt<ke.length;Yt++){var Rr=xe(ke[Yt]);pt.push(Rr)}return Ie(pt,"HEAPU32")}function xe(ke){if(wt[ke])return wt[ke];var pt=Le(ke)+1,Yt=b._malloc(pt);return ze(ke,_e,Yt,pt),wt[ke]=Yt}function Be(ke){if(ke._colorPtr=Bt(ke.color),ke._foregroundColorPtr=xt,ke._backgroundColorPtr=xt,ke._decorationColorPtr=xt,ke.foregroundColor&&(ke._foregroundColorPtr=Bt(ke.foregroundColor,It)),ke.backgroundColor&&(ke._backgroundColorPtr=Bt(ke.backgroundColor,Wt)),ke.decorationColor&&(ke._decorationColorPtr=Bt(ke.decorationColor,gr)),Array.isArray(ke.fontFamilies)&&ke.fontFamilies.length?(ke._fontFamiliesPtr=q(ke.fontFamilies),ke._fontFamiliesLen=ke.fontFamilies.length):(ke._fontFamiliesPtr=xt,ke._fontFamiliesLen=0),ke.locale){var pt=ke.locale;ke._localePtr=xe(pt),ke._localeLen=Le(pt)+1}else ke._localePtr=xt,ke._localeLen=0;if(Array.isArray(ke.shadows)&&ke.shadows.length){pt=ke.shadows;var Yt=pt.map(function(ut){return ut.color||b.BLACK}),Rr=pt.map(function(ut){return ut.blurRadius||0});ke._shadowLen=pt.length;for(var fi=b._malloc(8*pt.length),Ws=fi/4,$s=0;$s<pt.length;$s++){var _i=pt[$s].offset||[0,0];b.HEAPF32[Ws]=_i[0],b.HEAPF32[Ws+1]=_i[1],Ws+=2}ke._shadowColorsPtr=ht(Yt).be,ke._shadowOffsetsPtr=fi,ke._shadowBlurRadiiPtr=Ie(Rr,"HEAPF32")}else ke._shadowLen=0,ke._shadowColorsPtr=xt,ke._shadowOffsetsPtr=xt,ke._shadowBlurRadiiPtr=xt;Array.isArray(ke.fontFeatures)&&ke.fontFeatures.length?(pt=ke.fontFeatures,Yt=pt.map(function(ut){return ut.name}),Rr=pt.map(function(ut){return ut.value}),ke._fontFeatureLen=pt.length,ke._fontFeatureNamesPtr=q(Yt),ke._fontFeatureValuesPtr=Ie(Rr,"HEAPU32")):(ke._fontFeatureLen=0,ke._fontFeatureNamesPtr=xt,ke._fontFeatureValuesPtr=xt)}function tt(ke){b._free(ke._fontFamiliesPtr),b._free(ke._localePtr),b._free(ke._shadowColorsPtr),b._free(ke._shadowOffsetsPtr),b._free(ke._shadowBlurRadiiPtr),b._free(ke._fontFeatureNamesPtr),b._free(ke._fontFeatureValuesPtr)}b.Paragraph.prototype.getRectsForRange=function(ke,pt,Yt,Rr){return ke=this._getRectsForRange(ke,pt,Yt,Rr),w(ke)},b.Paragraph.prototype.getRectsForPlaceholders=function(){var ke=this._getRectsForPlaceholders();return w(ke)},b.TypefaceFontProvider.prototype.registerFont=function(ke,pt){if(ke=b.FontMgr.RefDefault().MakeTypefaceFromData(ke),!ke)return null;pt=xe(pt),this._registerFont(ke,pt)},b.ParagraphStyle=function(ke){if(ke.disableHinting=ke.disableHinting||!1,ke.ellipsis){var pt=ke.ellipsis;ke._ellipsisPtr=xe(pt),ke._ellipsisLen=Le(pt)+1}else ke._ellipsisPtr=xt,ke._ellipsisLen=0;return ke.heightMultiplier=ke.heightMultiplier||0,ke.maxLines=ke.maxLines||0,pt=(pt=ke.strutStyle)||{},pt.strutEnabled=pt.strutEnabled||!1,pt.strutEnabled&&Array.isArray(pt.fontFamilies)&&pt.fontFamilies.length?(pt._fontFamiliesPtr=q(pt.fontFamilies),pt._fontFamiliesLen=pt.fontFamilies.length):(pt._fontFamiliesPtr=xt,pt._fontFamiliesLen=0),pt.fontStyle=L(pt.fontStyle),pt.fontSize=pt.fontSize||0,pt.heightMultiplier=pt.heightMultiplier||0,pt.halfLeading=pt.halfLeading||!1,pt.leading=pt.leading||0,pt.forceStrutHeight=pt.forceStrutHeight||!1,ke.strutStyle=pt,ke.textAlign=ke.textAlign||b.TextAlign.Start,ke.textDirection=ke.textDirection||b.TextDirection.LTR,ke.textHeightBehavior=ke.textHeightBehavior||b.TextHeightBehavior.All,ke.textStyle=b.TextStyle(ke.textStyle),ke},b.TextStyle=function(ke){return ke.color||(ke.color=b.BLACK),ke.decoration=ke.decoration||0,ke.decorationThickness=ke.decorationThickness||0,ke.decorationStyle=ke.decorationStyle||b.DecorationStyle.Solid,ke.textBaseline=ke.textBaseline||b.TextBaseline.Alphabetic,ke.fontSize=ke.fontSize||0,ke.letterSpacing=ke.letterSpacing||0,ke.wordSpacing=ke.wordSpacing||0,ke.heightMultiplier=ke.heightMultiplier||0,ke.halfLeading=ke.halfLeading||!1,ke.fontStyle=L(ke.fontStyle),ke};var wt={},It=b._malloc(16),Wt=b._malloc(16),gr=b._malloc(16);b.ParagraphBuilder.Make=function(ke,pt){return Be(ke.textStyle),pt=b.ParagraphBuilder._Make(ke,pt),tt(ke.textStyle),pt},b.ParagraphBuilder.MakeFromFontProvider=function(ke,pt){return Be(ke.textStyle),pt=b.ParagraphBuilder._MakeFromFontProvider(ke,pt),tt(ke.textStyle),pt},b.ParagraphBuilder.ShapeText=function(ke,pt,Yt){let Rr=0;for(const fi of pt)Rr+=fi.length;if(Rr!==ke.length)throw"Accumulated block lengths must equal text.length";return b.ParagraphBuilder._ShapeText(ke,pt,Yt)},b.ParagraphBuilder.prototype.pushStyle=function(ke){Be(ke),this._pushStyle(ke),tt(ke)},b.ParagraphBuilder.prototype.pushPaintStyle=function(ke,pt,Yt){Be(ke),this._pushPaintStyle(ke,pt,Yt),tt(ke)},b.ParagraphBuilder.prototype.addPlaceholder=function(ke,pt,Yt,Rr,fi){Yt=Yt||b.PlaceholderAlignment.Baseline,Rr=Rr||b.TextBaseline.Alphabetic,this._addPlaceholder(ke||0,pt||0,Yt,Rr,fi||0)}})}(i),h.Ud=h.Ud||[],h.Ud.push(function(){h.Path.prototype.op=function(b,w){return this._op(b,w)?this:null},h.Path.prototype.simplify=function(){return this._simplify()?this:null}}),h.Ud=h.Ud||[],h.Ud.push(function(){h.Canvas.prototype.drawText=function(b,w,L,q,xe){var Be=Le(b),tt=h._malloc(Be+1);ze(b,_e,tt,Be+1),this._drawSimpleText(tt,Be,w,L,xe,q),h._free(tt)},h.Font.prototype.getGlyphBounds=function(b,w,L){var q=Ie(b,"HEAPU16"),xe=h._malloc(16*b.length);return this._getGlyphWidthBounds(q,b.length,xt,xe,w||null),w=new Float32Array(h.HEAPU8.buffer,xe,4*b.length),Ue(q,b),L?(L.set(w),h._free(xe),L):(b=Float32Array.from(w),h._free(xe),b)},h.Font.prototype.getGlyphIDs=function(b,w,L){w||(w=b.length);var q=Le(b)+1,xe=h._malloc(q);return ze(b,_e,xe,q),b=h._malloc(2*w),w=this._getGlyphIDs(xe,q-1,w,b),h._free(xe),0>w?(h._free(b),null):(xe=new Uint16Array(h.HEAPU8.buffer,b,w),L?(L.set(xe),h._free(b),L):(L=Uint16Array.from(xe),h._free(b),L))},h.Font.prototype.getGlyphIntercepts=function(b,w,L,q){var xe=Ie(b,"HEAPU16"),Be=Ie(w,"HEAPF32");return this._getGlyphIntercepts(xe,b.length,!(b&&b._ck),Be,w.length,!(w&&w._ck),L,q)},h.Font.prototype.getGlyphWidths=function(b,w,L){var q=Ie(b,"HEAPU16"),xe=h._malloc(4*b.length);return this._getGlyphWidthBounds(q,b.length,xe,xt,w||null),w=new Float32Array(h.HEAPU8.buffer,xe,b.length),Ue(q,b),L?(L.set(w),h._free(xe),L):(b=Float32Array.from(w),h._free(xe),b)},h.FontMgr.FromData=function(){if(!arguments.length)return null;var b=arguments;if(b.length===1&&Array.isArray(b[0])&&(b=arguments[0]),!b.length)return null;for(var w=[],L=[],q=0;q<b.length;q++){var xe=new Uint8Array(b[q]),Be=Ie(xe,"HEAPU8");w.push(Be),L.push(xe.byteLength)}return w=Ie(w,"HEAPU32"),L=Ie(L,"HEAPU32"),b=h.FontMgr._fromData(w,L,b.length),h._free(w),h._free(L),b},h.FontMgr.prototype.MakeTypefaceFromData=function(b){b=new Uint8Array(b);var w=Ie(b,"HEAPU8");return(b=this._makeTypefaceFromData(w,b.byteLength))?b:null},h.Typeface.MakeFreeTypeFaceFromData=function(b){b=new Uint8Array(b);var w=Ie(b,"HEAPU8");return(b=h.Typeface._MakeFreeTypeFaceFromData(w,b.byteLength))?b:null},h.Typeface.prototype.getGlyphIDs=function(b,w,L){w||(w=b.length);var q=Le(b)+1,xe=h._malloc(q);return ze(b,_e,xe,q),b=h._malloc(2*w),w=this._getGlyphIDs(xe,q-1,w,b),h._free(xe),0>w?(h._free(b),null):(xe=new Uint16Array(h.HEAPU8.buffer,b,w),L?(L.set(xe),h._free(b),L):(L=Uint16Array.from(xe),h._free(b),L))},h.TextBlob.MakeOnPath=function(b,w,L,q){if(b&&b.length&&w&&w.countPoints()){if(w.countPoints()===1)return this.MakeFromText(b,L);q||(q=0);var xe=L.getGlyphIDs(b);xe=L.getGlyphWidths(xe);var Be=[];w=new h.ContourMeasureIter(w,!1,1);for(var tt=w.next(),wt=new Float32Array(4),It=0;It<b.length&&tt;It++){var Wt=xe[It];if(q+=Wt/2,q>tt.length()){if(tt.delete(),tt=w.next(),!tt){b=b.substring(0,It);break}q=Wt/2}tt.getPosTan(q,wt);var gr=wt[2],ke=wt[3];Be.push(gr,ke,wt[0]-Wt/2*gr,wt[1]-Wt/2*ke),q+=Wt/2}return b=this.MakeFromRSXform(b,Be,L),tt&&tt.delete(),w.delete(),b}},h.TextBlob.MakeFromRSXform=function(b,w,L){var q=Le(b)+1,xe=h._malloc(q);return ze(b,_e,xe,q),b=Ie(w,"HEAPF32"),L=h.TextBlob._MakeFromRSXform(xe,q-1,b,L),h._free(xe),L||null},h.TextBlob.MakeFromRSXformGlyphs=function(b,w,L){var q=Ie(b,"HEAPU16");return w=Ie(w,"HEAPF32"),L=h.TextBlob._MakeFromRSXformGlyphs(q,2*b.length,w,L),Ue(q,b),L||null},h.TextBlob.MakeFromGlyphs=function(b,w){var L=Ie(b,"HEAPU16");return w=h.TextBlob._MakeFromGlyphs(L,2*b.length,w),Ue(L,b),w||null},h.TextBlob.MakeFromText=function(b,w){var L=Le(b)+1,q=h._malloc(L);return ze(b,_e,q,L),b=h.TextBlob._MakeFromText(q,L-1,w),h._free(q),b||null},h.MallocGlyphIDs=function(b){return h.Malloc(Uint16Array,b)}}),h.Ud=h.Ud||[],h.Ud.push(function(){h.MakePicture=function(b){b=new Uint8Array(b);var w=h._malloc(b.byteLength);return h.HEAPU8.set(b,w),(b=h._MakePicture(w,b.byteLength))?b:null}}),function(){function b(ut){for(var z=0;z<ut.length;z++)if(ut[z]!==void 0&&!Number.isFinite(ut[z]))return!1;return!0}function w(ut){var z=h.getColorComponents(ut);ut=z[0];var he=z[1],Ge=z[2];return z=z[3],z===1?(ut=ut.toString(16).toLowerCase(),he=he.toString(16).toLowerCase(),Ge=Ge.toString(16).toLowerCase(),ut=ut.length===1?"0"+ut:ut,he=he.length===1?"0"+he:he,Ge=Ge.length===1?"0"+Ge:Ge,"#"+ut+he+Ge):(z=z===0||z===1?z:z.toFixed(8),"rgba("+ut+", "+he+", "+Ge+", "+z+")")}function L(ut){return h.parseColorString(ut,Ws)}function q(ut){if(ut=$s.exec(ut),!ut)return null;var z=parseFloat(ut[4]),he=16;switch(ut[5]){case"em":case"rem":he=16*z;break;case"pt":he=4*z/3;break;case"px":he=z;break;case"pc":he=16*z;break;case"in":he=96*z;break;case"cm":he=96*z/2.54;break;case"mm":he=3.7795275590551185*z;break;case"q":he=.9448818897637796*z;break;case"%":he=.21333333333333335*z}return{style:ut[1],variant:ut[2],weight:ut[3],sizePx:he,family:ut[6].trim()}}function xe(ut){this.Ld=ut,this.Pd=new h.Paint,this.Pd.setAntiAlias(!0),this.Pd.setStrokeMiter(10),this.Pd.setStrokeCap(h.StrokeCap.Butt),this.Pd.setStrokeJoin(h.StrokeJoin.Miter),this.Oe="10px monospace",this.qe=new h.Font(null,10),this.qe.setSubpixel(!0),this.ae=this.ge=h.BLACK,this.te=0,this.He=h.TRANSPARENT,this.ve=this.ue=0,this.Ie=this.ie=1,this.Ge=0,this.se=[],this.Od=h.BlendMode.SrcOver,this.Pd.setStrokeWidth(this.Ie),this.Pd.setBlendMode(this.Od),this.Sd=new h.Path,this.Td=h.Matrix.identity(),this.jf=[],this.ze=[],this.ke=function(){this.Sd.delete(),this.Pd.delete(),this.qe.delete(),this.ze.forEach(function(z){z.ke()})},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Td[0],c:this.Td[1],e:this.Td[2],b:this.Td[3],d:this.Td[4],f:this.Td[5]}},set:function(z){z.a&&this.setTransform(z.a,z.b,z.c,z.d,z.e,z.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return k(this.ae)?w(this.ae):this.ae},set:function(z){typeof z=="string"?this.ae=L(z):z.re&&(this.ae=z)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Oe},set:function(z){var he=q(z),Ge=he.family;he.typeface=_i[Ge]?_i[Ge][(he.style||"normal")+"|"+(he.variant||"normal")+"|"+(he.weight||"normal")]||_i[Ge]["*"]:null,he&&(this.qe.setSize(he.sizePx),this.qe.setTypeface(he.typeface),this.Oe=z)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.ie},set:function(z){!isFinite(z)||0>z||1<z||(this.ie=z)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Od){case h.BlendMode.SrcOver:return"source-over";case h.BlendMode.DstOver:return"destination-over";case h.BlendMode.Src:return"copy";case h.BlendMode.Dst:return"destination";case h.BlendMode.Clear:return"clear";case h.BlendMode.SrcIn:return"source-in";case h.BlendMode.DstIn:return"destination-in";case h.BlendMode.SrcOut:return"source-out";case h.BlendMode.DstOut:return"destination-out";case h.BlendMode.SrcATop:return"source-atop";case h.BlendMode.DstATop:return"destination-atop";case h.BlendMode.Xor:return"xor";case h.BlendMode.Plus:return"lighter";case h.BlendMode.Multiply:return"multiply";case h.BlendMode.Screen:return"screen";case h.BlendMode.Overlay:return"overlay";case h.BlendMode.Darken:return"darken";case h.BlendMode.Lighten:return"lighten";case h.BlendMode.ColorDodge:return"color-dodge";case h.BlendMode.ColorBurn:return"color-burn";case h.BlendMode.HardLight:return"hard-light";case h.BlendMode.SoftLight:return"soft-light";case h.BlendMode.Difference:return"difference";case h.BlendMode.Exclusion:return"exclusion";case h.BlendMode.Hue:return"hue";case h.BlendMode.Saturation:return"saturation";case h.BlendMode.Color:return"color";case h.BlendMode.Luminosity:return"luminosity"}},set:function(z){switch(z){case"source-over":this.Od=h.BlendMode.SrcOver;break;case"destination-over":this.Od=h.BlendMode.DstOver;break;case"copy":this.Od=h.BlendMode.Src;break;case"destination":this.Od=h.BlendMode.Dst;break;case"clear":this.Od=h.BlendMode.Clear;break;case"source-in":this.Od=h.BlendMode.SrcIn;break;case"destination-in":this.Od=h.BlendMode.DstIn;break;case"source-out":this.Od=h.BlendMode.SrcOut;break;case"destination-out":this.Od=h.BlendMode.DstOut;break;case"source-atop":this.Od=h.BlendMode.SrcATop;break;case"destination-atop":this.Od=h.BlendMode.DstATop;break;case"xor":this.Od=h.BlendMode.Xor;break;case"lighter":this.Od=h.BlendMode.Plus;break;case"plus-lighter":this.Od=h.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Od=h.BlendMode.Multiply;break;case"screen":this.Od=h.BlendMode.Screen;break;case"overlay":this.Od=h.BlendMode.Overlay;break;case"darken":this.Od=h.BlendMode.Darken;break;case"lighten":this.Od=h.BlendMode.Lighten;break;case"color-dodge":this.Od=h.BlendMode.ColorDodge;break;case"color-burn":this.Od=h.BlendMode.ColorBurn;break;case"hard-light":this.Od=h.BlendMode.HardLight;break;case"soft-light":this.Od=h.BlendMode.SoftLight;break;case"difference":this.Od=h.BlendMode.Difference;break;case"exclusion":this.Od=h.BlendMode.Exclusion;break;case"hue":this.Od=h.BlendMode.Hue;break;case"saturation":this.Od=h.BlendMode.Saturation;break;case"color":this.Od=h.BlendMode.Color;break;case"luminosity":this.Od=h.BlendMode.Luminosity;break;default:return}this.Pd.setBlendMode(this.Od)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Pd.getStrokeCap()){case h.StrokeCap.Butt:return"butt";case h.StrokeCap.Round:return"round";case h.StrokeCap.Square:return"square"}},set:function(z){switch(z){case"butt":this.Pd.setStrokeCap(h.StrokeCap.Butt);break;case"round":this.Pd.setStrokeCap(h.StrokeCap.Round);break;case"square":this.Pd.setStrokeCap(h.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Ge},set:function(z){isFinite(z)&&(this.Ge=z)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Pd.getStrokeJoin()){case h.StrokeJoin.Miter:return"miter";case h.StrokeJoin.Round:return"round";case h.StrokeJoin.Bevel:return"bevel"}},set:function(z){switch(z){case"miter":this.Pd.setStrokeJoin(h.StrokeJoin.Miter);break;case"round":this.Pd.setStrokeJoin(h.StrokeJoin.Round);break;case"bevel":this.Pd.setStrokeJoin(h.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Pd.getStrokeWidth()},set:function(z){0>=z||!z||(this.Ie=z,this.Pd.setStrokeWidth(z))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Pd.getStrokeMiter()},set:function(z){0>=z||!z||this.Pd.setStrokeMiter(z)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.te},set:function(z){0>z||!isFinite(z)||(this.te=z)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return w(this.He)},set:function(z){this.He=L(z)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.ue},set:function(z){isFinite(z)&&(this.ue=z)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.ve},set:function(z){isFinite(z)&&(this.ve=z)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return w(this.ge)},set:function(z){typeof z=="string"?this.ge=L(z):z.re&&(this.ge=z)}}),this.arc=function(z,he,Ge,Ke,rt,lt){ke(this.Sd,z,he,Ge,Ge,0,Ke,rt,lt)},this.arcTo=function(z,he,Ge,Ke,rt){It(this.Sd,z,he,Ge,Ke,rt)},this.beginPath=function(){this.Sd.delete(),this.Sd=new h.Path},this.bezierCurveTo=function(z,he,Ge,Ke,rt,lt){var Nt=this.Sd;b([z,he,Ge,Ke,rt,lt])&&(Nt.isEmpty()&&Nt.moveTo(z,he),Nt.cubicTo(z,he,Ge,Ke,rt,lt))},this.clearRect=function(z,he,Ge,Ke){this.Pd.setStyle(h.PaintStyle.Fill),this.Pd.setBlendMode(h.BlendMode.Clear),this.Ld.drawRect(h.XYWHRect(z,he,Ge,Ke),this.Pd),this.Pd.setBlendMode(this.Od)},this.clip=function(z,he){typeof z=="string"?(he=z,z=this.Sd):z&&z.Ze&&(z=z.Vd),z||(z=this.Sd),z=z.copy(),he&&he.toLowerCase()==="evenodd"?z.setFillType(h.FillType.EvenOdd):z.setFillType(h.FillType.Winding),this.Ld.clipPath(z,h.ClipOp.Intersect,!0),z.delete()},this.closePath=function(){Wt(this.Sd)},this.createImageData=function(){if(arguments.length===1){var z=arguments[0];return new tt(new Uint8ClampedArray(4*z.width*z.height),z.width,z.height)}if(arguments.length===2){z=arguments[0];var he=arguments[1];return new tt(new Uint8ClampedArray(4*z*he),z,he)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(z,he,Ge,Ke){if(b(arguments)){var rt=new wt(z,he,Ge,Ke);return this.ze.push(rt),rt}},this.createPattern=function(z,he){return z=new Rr(z,he),this.ze.push(z),z},this.createRadialGradient=function(z,he,Ge,Ke,rt,lt){if(b(arguments)){var Nt=new fi(z,he,Ge,Ke,rt,lt);return this.ze.push(Nt),Nt}},this.drawImage=function(z){var he=this.Ne();if(arguments.length===3||arguments.length===5)var Ge=h.XYWHRect(arguments[1],arguments[2],arguments[3]||z.width(),arguments[4]||z.height()),Ke=h.XYWHRect(0,0,z.width(),z.height());else if(arguments.length===9)Ge=h.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),Ke=h.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4]);else throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;this.Ld.drawImageRect(z,Ke,Ge,he,!1),he.dispose()},this.ellipse=function(z,he,Ge,Ke,rt,lt,Nt,br){ke(this.Sd,z,he,Ge,Ke,rt,lt,Nt,br)},this.Ne=function(){var z=this.Pd.copy();if(z.setStyle(h.PaintStyle.Fill),k(this.ae)){var he=h.multiplyByAlpha(this.ae,this.ie);z.setColor(he)}else he=this.ae.re(this.Td),z.setColor(h.Color(0,0,0,this.ie)),z.setShader(he);return z.dispose=function(){this.delete()},z},this.fill=function(z,he){if(typeof z=="string"?(he=z,z=this.Sd):z&&z.Ze&&(z=z.Vd),he==="evenodd")this.Sd.setFillType(h.FillType.EvenOdd);else{if(he!=="nonzero"&&he)throw"invalid fill rule";this.Sd.setFillType(h.FillType.Winding)}z||(z=this.Sd),he=this.Ne();var Ge=this.we(he);Ge&&(this.Ld.save(),this.oe(),this.Ld.drawPath(z,Ge),this.Ld.restore(),Ge.dispose()),this.Ld.drawPath(z,he),he.dispose()},this.fillRect=function(z,he,Ge,Ke){var rt=this.Ne(),lt=this.we(rt);lt&&(this.Ld.save(),this.oe(),this.Ld.drawRect(h.XYWHRect(z,he,Ge,Ke),lt),this.Ld.restore(),lt.dispose()),this.Ld.drawRect(h.XYWHRect(z,he,Ge,Ke),rt),rt.dispose()},this.fillText=function(z,he,Ge){var Ke=this.Ne();z=h.TextBlob.MakeFromText(z,this.qe);var rt=this.we(Ke);rt&&(this.Ld.save(),this.oe(),this.Ld.drawTextBlob(z,he,Ge,rt),this.Ld.restore(),rt.dispose()),this.Ld.drawTextBlob(z,he,Ge,Ke),z.delete(),Ke.dispose()},this.getImageData=function(z,he,Ge,Ke){return(z=this.Ld.readPixels(z,he,{width:Ge,height:Ke,colorType:h.ColorType.RGBA_8888,alphaType:h.AlphaType.Unpremul,colorSpace:h.ColorSpace.SRGB}))?new tt(new Uint8ClampedArray(z.buffer),Ge,Ke):null},this.getLineDash=function(){return this.se.slice()},this.kf=function(z){var he=h.Matrix.invert(this.Td);return h.Matrix.mapPoints(he,z),z},this.isPointInPath=function(z,he,Ge){var Ke=arguments;if(Ke.length===3)var rt=this.Sd;else if(Ke.length===4)rt=Ke[0],z=Ke[1],he=Ke[2],Ge=Ke[3];else throw"invalid arg count, need 3 or 4, got "+Ke.length;return!isFinite(z)||!isFinite(he)||(Ge=Ge||"nonzero",Ge!=="nonzero"&&Ge!=="evenodd")?!1:(Ke=this.kf([z,he]),z=Ke[0],he=Ke[1],rt.setFillType(Ge==="nonzero"?h.FillType.Winding:h.FillType.EvenOdd),rt.contains(z,he))},this.isPointInStroke=function(z,he){var Ge=arguments;if(Ge.length===2)var Ke=this.Sd;else if(Ge.length===3)Ke=Ge[0],z=Ge[1],he=Ge[2];else throw"invalid arg count, need 2 or 3, got "+Ge.length;return!isFinite(z)||!isFinite(he)?!1:(Ge=this.kf([z,he]),z=Ge[0],he=Ge[1],Ke=Ke.copy(),Ke.setFillType(h.FillType.Winding),Ke.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Pd.getStrokeCap(),join:this.Pd.getStrokeJoin(),precision:.3}),Ge=Ke.contains(z,he),Ke.delete(),Ge)},this.lineTo=function(z,he){pt(this.Sd,z,he)},this.measureText=function(){throw Error("Clients wishing to properly measure text should use the Paragraph API")},this.moveTo=function(z,he){var Ge=this.Sd;b([z,he])&&Ge.moveTo(z,he)},this.putImageData=function(z,he,Ge,Ke,rt,lt,Nt){if(b([he,Ge,Ke,rt,lt,Nt])){if(Ke===void 0)this.Ld.writePixels(z.data,z.width,z.height,he,Ge);else if(Ke=Ke||0,rt=rt||0,lt=lt||z.width,Nt=Nt||z.height,0>lt&&(Ke+=lt,lt=Math.abs(lt)),0>Nt&&(rt+=Nt,Nt=Math.abs(Nt)),0>Ke&&(lt+=Ke,Ke=0),0>rt&&(Nt+=rt,rt=0),!(0>=lt||0>=Nt)){z=h.MakeImage({width:z.width,height:z.height,alphaType:h.AlphaType.Unpremul,colorType:h.ColorType.RGBA_8888,colorSpace:h.ColorSpace.SRGB},z.data,4*z.width);var br=h.XYWHRect(Ke,rt,lt,Nt);he=h.XYWHRect(he+Ke,Ge+rt,lt,Nt),Ge=h.Matrix.invert(this.Td),this.Ld.save(),this.Ld.concat(Ge),this.Ld.drawImageRect(z,br,he,null,!1),this.Ld.restore(),z.delete()}}},this.quadraticCurveTo=function(z,he,Ge,Ke){var rt=this.Sd;b([z,he,Ge,Ke])&&(rt.isEmpty()&&rt.moveTo(z,he),rt.quadTo(z,he,Ge,Ke))},this.rect=function(z,he,Ge,Ke){var rt=this.Sd;z=h.XYWHRect(z,he,Ge,Ke),b(z)&&rt.addRect(z)},this.resetTransform=function(){this.Sd.transform(this.Td);var z=h.Matrix.invert(this.Td);this.Ld.concat(z),this.Td=this.Ld.getTotalMatrix()},this.restore=function(){var z=this.jf.pop();if(z){var he=h.Matrix.multiply(this.Td,h.Matrix.invert(z.Cf));this.Sd.transform(he),this.Pd.delete(),this.Pd=z.$f,this.se=z.Wf,this.Ie=z.rg,this.ge=z.qg,this.ae=z.fs,this.ue=z.og,this.ve=z.pg,this.te=z.dg,this.He=z.ng,this.ie=z.Jf,this.Od=z.Kf,this.Ge=z.Xf,this.Oe=z.If,this.Ld.restore(),this.Td=this.Ld.getTotalMatrix()}},this.rotate=function(z){if(isFinite(z)){var he=h.Matrix.rotated(-z);this.Sd.transform(he),this.Ld.rotate(z/Math.PI*180,0,0),this.Td=this.Ld.getTotalMatrix()}},this.save=function(){if(this.ae.pe){var z=this.ae.pe();this.ze.push(z)}else z=this.ae;if(this.ge.pe){var he=this.ge.pe();this.ze.push(he)}else he=this.ge;this.jf.push({Cf:this.Td.slice(),Wf:this.se.slice(),rg:this.Ie,qg:he,fs:z,og:this.ue,pg:this.ve,dg:this.te,ng:this.He,Jf:this.ie,Xf:this.Ge,Kf:this.Od,$f:this.Pd.copy(),If:this.Oe}),this.Ld.save()},this.scale=function(z,he){if(b(arguments)){var Ge=h.Matrix.scaled(1/z,1/he);this.Sd.transform(Ge),this.Ld.scale(z,he),this.Td=this.Ld.getTotalMatrix()}},this.setLineDash=function(z){for(var he=0;he<z.length;he++)if(!isFinite(z[he])||0>z[he])return;z.length%2===1&&Array.prototype.push.apply(z,z),this.se=z},this.setTransform=function(z,he,Ge,Ke,rt,lt){b(arguments)&&(this.resetTransform(),this.transform(z,he,Ge,Ke,rt,lt))},this.oe=function(){var z=h.Matrix.invert(this.Td);this.Ld.concat(z),this.Ld.concat(h.Matrix.translated(this.ue,this.ve)),this.Ld.concat(this.Td)},this.we=function(z){var he=h.multiplyByAlpha(this.He,this.ie);if(!h.getColorComponents(he)[3]||!(this.te||this.ve||this.ue))return null;z=z.copy(),z.setColor(he);var Ge=h.MaskFilter.MakeBlur(h.BlurStyle.Normal,this.te/2,!1);return z.setMaskFilter(Ge),z.dispose=function(){Ge.delete(),this.delete()},z},this.af=function(){var z=this.Pd.copy();if(z.setStyle(h.PaintStyle.Stroke),k(this.ge)){var he=h.multiplyByAlpha(this.ge,this.ie);z.setColor(he)}else he=this.ge.re(this.Td),z.setColor(h.Color(0,0,0,this.ie)),z.setShader(he);if(z.setStrokeWidth(this.Ie),this.se.length){var Ge=h.PathEffect.MakeDash(this.se,this.Ge);z.setPathEffect(Ge)}return z.dispose=function(){Ge&&Ge.delete(),this.delete()},z},this.stroke=function(z){z=z?z.Vd:this.Sd;var he=this.af(),Ge=this.we(he);Ge&&(this.Ld.save(),this.oe(),this.Ld.drawPath(z,Ge),this.Ld.restore(),Ge.dispose()),this.Ld.drawPath(z,he),he.dispose()},this.strokeRect=function(z,he,Ge,Ke){var rt=this.af(),lt=this.we(rt);lt&&(this.Ld.save(),this.oe(),this.Ld.drawRect(h.XYWHRect(z,he,Ge,Ke),lt),this.Ld.restore(),lt.dispose()),this.Ld.drawRect(h.XYWHRect(z,he,Ge,Ke),rt),rt.dispose()},this.strokeText=function(z,he,Ge){var Ke=this.af();z=h.TextBlob.MakeFromText(z,this.qe);var rt=this.we(Ke);rt&&(this.Ld.save(),this.oe(),this.Ld.drawTextBlob(z,he,Ge,rt),this.Ld.restore(),rt.dispose()),this.Ld.drawTextBlob(z,he,Ge,Ke),z.delete(),Ke.dispose()},this.translate=function(z,he){if(b(arguments)){var Ge=h.Matrix.translated(-z,-he);this.Sd.transform(Ge),this.Ld.translate(z,he),this.Td=this.Ld.getTotalMatrix()}},this.transform=function(z,he,Ge,Ke,rt,lt){z=[z,Ge,rt,he,Ke,lt,0,0,1],he=h.Matrix.invert(z),this.Sd.transform(he),this.Ld.concat(z),this.Td=this.Ld.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function Be(ut){this.bf=ut,this.Md=new xe(ut.getCanvas()),this.Pe=[],this.vf=h.FontMgr.RefDefault(),this.decodeImage=function(z){if(z=h.MakeImageFromEncoded(z),!z)throw"Invalid input";return this.Pe.push(z),z},this.loadFont=function(z,he){if(z=this.vf.MakeTypefaceFromData(z),!z)return null;this.Pe.push(z);var Ge=(he.style||"normal")+"|"+(he.variant||"normal")+"|"+(he.weight||"normal");he=he.family,_i[he]||(_i[he]={"*":z}),_i[he][Ge]=z},this.makePath2D=function(z){return z=new Yt(z),this.Pe.push(z.Vd),z},this.getContext=function(z){return z==="2d"?this.Md:null},this.toDataURL=function(z,he){this.bf.flush();var Ge=this.bf.makeImageSnapshot();if(Ge){z=z||"image/png";var Ke=h.ImageFormat.PNG;if(z==="image/jpeg"&&(Ke=h.ImageFormat.JPEG),he=Ge.encodeToBytes(Ke,he||.92)){if(Ge.delete(),z="data:"+z+";base64,",typeof Buffer<"u")he=Buffer.from(he).toString("base64");else{Ge=0,Ke=he.length;for(var rt="",lt;Ge<Ke;)lt=he.slice(Ge,Math.min(Ge+32768,Ke)),rt+=String.fromCharCode.apply(null,lt),Ge+=32768;he=btoa(rt)}return z+he}}},this.dispose=function(){this.Md.ke(),this.Pe.forEach(function(z){z.delete()}),this.bf.dispose()}}function tt(ut,z,he){if(!z||he===0)throw"invalid dimensions, width and height must be non-zero";if(ut.length%4)throw"arr must be a multiple of 4";he=he||ut.length/(4*z),Object.defineProperty(this,"data",{value:ut,writable:!1}),Object.defineProperty(this,"height",{value:he,writable:!1}),Object.defineProperty(this,"width",{value:z,writable:!1})}function wt(ut,z,he,Ge){this.Xd=null,this.de=[],this.Zd=[],this.addColorStop=function(Ke,rt){if(0>Ke||1<Ke||!isFinite(Ke))throw"offset must be between 0 and 1 inclusively";rt=L(rt);var lt=this.Zd.indexOf(Ke);if(lt!==-1)this.de[lt]=rt;else{for(lt=0;lt<this.Zd.length&&!(this.Zd[lt]>Ke);lt++);this.Zd.splice(lt,0,Ke),this.de.splice(lt,0,rt)}},this.pe=function(){var Ke=new wt(ut,z,he,Ge);return Ke.de=this.de.slice(),Ke.Zd=this.Zd.slice(),Ke},this.ke=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.re=function(Ke){var rt=[ut,z,he,Ge];h.Matrix.mapPoints(Ke,rt),Ke=rt[0];var lt=rt[1],Nt=rt[2];return rt=rt[3],this.ke(),this.Xd=h.Shader.MakeLinearGradient([Ke,lt],[Nt,rt],this.de,this.Zd,h.TileMode.Clamp)}}function It(ut,z,he,Ge,Ke,rt){if(b([z,he,Ge,Ke,rt])){if(0>rt)throw"radii cannot be negative";ut.isEmpty()&&ut.moveTo(z,he),ut.arcToTangent(z,he,Ge,Ke,rt)}}function Wt(ut){if(!ut.isEmpty()){var z=ut.getBounds();(z[3]-z[1]||z[2]-z[0])&&ut.close()}}function gr(ut,z,he,Ge,Ke,rt,lt){lt=(lt-rt)/Math.PI*180,rt=rt/Math.PI*180,z=h.LTRBRect(z-Ge,he-Ke,z+Ge,he+Ke),1e-5>Math.abs(Math.abs(lt)-360)?(he=lt/2,ut.arcToOval(z,rt,he,!1),ut.arcToOval(z,rt+he,he,!1)):ut.arcToOval(z,rt,lt,!1)}function ke(ut,z,he,Ge,Ke,rt,lt,Nt,br){if(b([z,he,Ge,Ke,rt,lt,Nt])){if(0>Ge||0>Ke)throw"radii cannot be negative";var Mi=2*Math.PI,mn=lt%Mi;0>mn&&(mn+=Mi);var ja=mn-lt;lt=mn,Nt+=ja,!br&&Nt-lt>=Mi?Nt=lt+Mi:br&&lt-Nt>=Mi?Nt=lt-Mi:!br&&lt>Nt?Nt=lt+(Mi-(lt-Nt)%Mi):br&&lt<Nt&&(Nt=lt-(Mi-(Nt-lt)%Mi)),rt?(br=h.Matrix.rotated(rt,z,he),rt=h.Matrix.rotated(-rt,z,he),ut.transform(rt),gr(ut,z,he,Ge,Ke,lt,Nt),ut.transform(br)):gr(ut,z,he,Ge,Ke,lt,Nt)}}function pt(ut,z,he){b([z,he])&&(ut.isEmpty()&&ut.moveTo(z,he),ut.lineTo(z,he))}function Yt(ut){this.Vd=null,this.Vd=typeof ut=="string"?h.Path.MakeFromSVGString(ut):ut&&ut.Ze?ut.Vd.copy():new h.Path,this.Ze=function(){return this.Vd},this.addPath=function(z,he){he||(he={a:1,c:0,e:0,b:0,d:1,f:0}),this.Vd.addPath(z.Vd,[he.a,he.c,he.e,he.b,he.d,he.f])},this.arc=function(z,he,Ge,Ke,rt,lt){ke(this.Vd,z,he,Ge,Ge,0,Ke,rt,lt)},this.arcTo=function(z,he,Ge,Ke,rt){It(this.Vd,z,he,Ge,Ke,rt)},this.bezierCurveTo=function(z,he,Ge,Ke,rt,lt){var Nt=this.Vd;b([z,he,Ge,Ke,rt,lt])&&(Nt.isEmpty()&&Nt.moveTo(z,he),Nt.cubicTo(z,he,Ge,Ke,rt,lt))},this.closePath=function(){Wt(this.Vd)},this.ellipse=function(z,he,Ge,Ke,rt,lt,Nt,br){ke(this.Vd,z,he,Ge,Ke,rt,lt,Nt,br)},this.lineTo=function(z,he){pt(this.Vd,z,he)},this.moveTo=function(z,he){var Ge=this.Vd;b([z,he])&&Ge.moveTo(z,he)},this.quadraticCurveTo=function(z,he,Ge,Ke){var rt=this.Vd;b([z,he,Ge,Ke])&&(rt.isEmpty()&&rt.moveTo(z,he),rt.quadTo(z,he,Ge,Ke))},this.rect=function(z,he,Ge,Ke){var rt=this.Vd;z=h.XYWHRect(z,he,Ge,Ke),b(z)&&rt.addRect(z)}}function Rr(ut,z){switch(this.Xd=null,this.xf=ut,this._transform=h.Matrix.identity(),z===""&&(z="repeat"),z){case"repeat-x":this.xe=h.TileMode.Repeat,this.ye=h.TileMode.Decal;break;case"repeat-y":this.xe=h.TileMode.Decal,this.ye=h.TileMode.Repeat;break;case"repeat":this.ye=this.xe=h.TileMode.Repeat;break;case"no-repeat":this.ye=this.xe=h.TileMode.Decal;break;default:throw"invalid repetition mode "+z}this.setTransform=function(he){he=[he.a,he.c,he.e,he.b,he.d,he.f,0,0,1],b(he)&&(this._transform=he)},this.pe=function(){var he=new Rr;return he.xe=this.xe,he.ye=this.ye,he},this.ke=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.re=function(){return this.ke(),this.Xd=this.xf.makeShaderCubic(this.xe,this.ye,.3333333333333333,.3333333333333333,this._transform)}}function fi(ut,z,he,Ge,Ke,rt){this.Xd=null,this.de=[],this.Zd=[],this.addColorStop=function(lt,Nt){if(0>lt||1<lt||!isFinite(lt))throw"offset must be between 0 and 1 inclusively";Nt=L(Nt);var br=this.Zd.indexOf(lt);if(br!==-1)this.de[br]=Nt;else{for(br=0;br<this.Zd.length&&!(this.Zd[br]>lt);br++);this.Zd.splice(br,0,lt),this.de.splice(br,0,Nt)}},this.pe=function(){var lt=new fi(ut,z,he,Ge,Ke,rt);return lt.de=this.de.slice(),lt.Zd=this.Zd.slice(),lt},this.ke=function(){this.Xd&&(this.Xd.delete(),this.Xd=null)},this.re=function(lt){var Nt=[ut,z,Ge,Ke];h.Matrix.mapPoints(lt,Nt);var br=Nt[0],Mi=Nt[1],mn=Nt[2];Nt=Nt[3];var ja=(Math.abs(lt[0])+Math.abs(lt[4]))/2;return lt=he*ja,ja*=rt,this.ke(),this.Xd=h.Shader.MakeTwoPointConicalGradient([br,Mi],lt,[mn,Nt],ja,this.de,this.Zd,h.TileMode.Clamp)}}h._testing={};var Ws={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};h._testing.parseColor=L,h._testing.colorToString=w;var $s=/(italic|oblique|normal|)\s*(small-caps|normal|)\s*(bold|bolder|lighter|[1-9]00|normal|)\s*([\d\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)/,_i={"Noto Mono":{"*":null},monospace:{"*":null}};h._testing.parseFontString=q,h.MakeCanvas=function(ut,z){return(ut=h.MakeSurface(ut,z))?new Be(ut):null},h.ImageData=function(){if(arguments.length===2){var ut=arguments[0],z=arguments[1];return new tt(new Uint8ClampedArray(4*ut*z),ut,z)}if(arguments.length===3){var he=arguments[0];if(he.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(ut=arguments[1],z=arguments[2],he%4)throw"bytes must be given in a multiple of 4";if(he%ut)throw"bytes must divide evenly by width";if(z&&z!==he/(4*ut))throw"invalid height given";return new tt(he,ut,he/(4*ut))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(i);var l={},u;for(u in i)i.hasOwnProperty(u)&&(l[u]=i[u]);var d="./this.program";function f(h,m){throw m}var g=!1,x=!1,E=!1,D=!1;g=typeof window=="object",x=typeof importScripts=="function",E=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",D=!g&&!E&&!x;var A="",R,P,O,F,U;E?(A=x?hc.dirname(A)+"/":__dirname+"/",R=function(h,m){return F||(F=hc),U||(U=hc),h=U.normalize(h),F.readFileSync(h,m?null:"utf8")},O=function(h){return h=R(h,!0),h.buffer||(h=new Uint8Array(h)),re(h.buffer),h},1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(h){if(!(h instanceof Vg))throw h}),process.on("unhandledRejection",Qe),f=function(h){process.exit(h)},i.inspect=function(){return"[Emscripten Module object]"}):D?(typeof read<"u"&&(R=function(h){return read(h)}),O=function(h){return typeof readbuffer=="function"?new Uint8Array(readbuffer(h)):(h=read(h,"binary"),re(typeof h=="object"),h)},typeof quit=="function"&&(f=function(h){quit(h)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(g||x)&&(x?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),n&&(A=n),A.indexOf("blob:")!==0?A=A.substr(0,A.lastIndexOf("/")+1):A="",R=function(h){var m=new XMLHttpRequest;return m.open("GET",h,!1),m.send(null),m.responseText},x&&(O=function(h){var m=new XMLHttpRequest;return m.open("GET",h,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),P=function(h,m,v){var k=new XMLHttpRequest;k.open("GET",h,!0),k.responseType="arraybuffer",k.onload=function(){k.status==200||k.status==0&&k.response?m(k.response):v()},k.onerror=v,k.send(null)});var B=i.print||console.log.bind(console),N=i.printErr||console.warn.bind(console);for(u in l)l.hasOwnProperty(u)&&(i[u]=l[u]);l=null,i.thisProgram&&(d=i.thisProgram),i.quit&&(f=i.quit);var T=0,M;i.wasmBinary&&(M=i.wasmBinary);var $=i.noExitRuntime||!0;typeof WebAssembly!="object"&&Qe("no native wasm support detected");var J,Z=!1;function re(h,m){h||Qe("Assertion failed: "+m)}var ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Fe(h,m,v){var k=m+v;for(v=m;h[v]&&!(v>=k);)++v;if(16<v-m&&h.subarray&&ge)return ge.decode(h.subarray(m,v));for(k="";m<v;){var H=h[m++];if(H&128){var Y=h[m++]&63;if((H&224)==192)k+=String.fromCharCode((H&31)<<6|Y);else{var Ae=h[m++]&63;H=(H&240)==224?(H&15)<<12|Y<<6|Ae:(H&7)<<18|Y<<12|Ae<<6|h[m++]&63,65536>H?k+=String.fromCharCode(H):(H-=65536,k+=String.fromCharCode(55296|H>>10,56320|H&1023))}}else k+=String.fromCharCode(H)}return k}function Ze(h,m){return h?Fe(_e,h,m):""}function ze(h,m,v,k){if(!(0<k))return 0;var H=v;k=v+k-1;for(var Y=0;Y<h.length;++Y){var Ae=h.charCodeAt(Y);if(55296<=Ae&&57343>=Ae){var Te=h.charCodeAt(++Y);Ae=65536+((Ae&1023)<<10)|Te&1023}if(127>=Ae){if(v>=k)break;m[v++]=Ae}else{if(2047>=Ae){if(v+1>=k)break;m[v++]=192|Ae>>6}else{if(65535>=Ae){if(v+2>=k)break;m[v++]=224|Ae>>12}else{if(v+3>=k)break;m[v++]=240|Ae>>18,m[v++]=128|Ae>>12&63}m[v++]=128|Ae>>6&63}m[v++]=128|Ae&63}}return m[v]=0,v-H}function Le(h){for(var m=0,v=0;v<h.length;++v){var k=h.charCodeAt(v);55296<=k&&57343>=k&&(k=65536+((k&1023)<<10)|h.charCodeAt(++v)&1023),127>=k?++m:m=2047>=k?m+2:65535>=k?m+3:m+4}return m}var it=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function _t(h,m){for(var v=h>>1,k=v+m/2;!(v>=k)&&Ve[v];)++v;if(v<<=1,32<v-h&&it)return it.decode(_e.subarray(h,v));for(v="",k=0;!(k>=m/2);++k){var H=De[h+2*k>>1];if(H==0)break;v+=String.fromCharCode(H)}return v}function st(h,m,v){if(v===void 0&&(v=2147483647),2>v)return 0;v-=2;var k=m;v=v<2*h.length?v/2:h.length;for(var H=0;H<v;++H)De[m>>1]=h.charCodeAt(H),m+=2;return De[m>>1]=0,m-k}function Rt(h){return 2*h.length}function te(h,m){for(var v=0,k="";!(v>=m/4);){var H=ee[h+4*v>>2];if(H==0)break;++v,65536<=H?(H-=65536,k+=String.fromCharCode(55296|H>>10,56320|H&1023)):k+=String.fromCharCode(H)}return k}function oe(h,m,v){if(v===void 0&&(v=2147483647),4>v)return 0;var k=m;v=k+v-4;for(var H=0;H<h.length;++H){var Y=h.charCodeAt(H);if(55296<=Y&&57343>=Y){var Ae=h.charCodeAt(++H);Y=65536+((Y&1023)<<10)|Ae&1023}if(ee[m>>2]=Y,m+=4,m+4>v)break}return ee[m>>2]=0,m-k}function ae(h){for(var m=0,v=0;v<h.length;++v){var k=h.charCodeAt(v);55296<=k&&57343>=k&&++v,m+=4}return m}var we,Se,_e,De,Ve,ee,He,I,j;function W(){var h=J.buffer;we=h,i.HEAP8=Se=new Int8Array(h),i.HEAP16=De=new Int16Array(h),i.HEAP32=ee=new Int32Array(h),i.HEAPU8=_e=new Uint8Array(h),i.HEAPU16=Ve=new Uint16Array(h),i.HEAPU32=He=new Uint32Array(h),i.HEAPF32=I=new Float32Array(h),i.HEAPF64=j=new Float64Array(h)}var ne,fe=[],Ee=[],le=[];function ue(){var h=i.preRun.shift();fe.unshift(h)}var be=0,Re=null;i.preloadedImages={},i.preloadedAudios={};function Qe(h){throw i.onAbort&&i.onAbort(h),N(h),Z=!0,h=new WebAssembly.RuntimeError("abort("+h+"). Build with -s ASSERTIONS=1 for more info."),a(h),h}function Xe(){return et.startsWith("data:application/octet-stream;base64,")}var et="canvaskit.wasm";if(!Xe()){var Ye=et;et=i.locateFile?i.locateFile(Ye,A):A+Ye}function nt(){var h=et;try{if(h==et&&M)return new Uint8Array(M);if(O)return O(h);throw"both async and sync fetching of the wasm failed"}catch(m){Qe(m)}}function mt(){if(!M&&(g||x)){if(typeof fetch=="function"&&!et.startsWith("file://"))return fetch(et,{credentials:"same-origin"}).then(function(h){if(!h.ok)throw"failed to load wasm binary file at '"+et+"'";return h.arrayBuffer()}).catch(function(){return nt()});if(P)return new Promise(function(h,m){P(et,function(v){h(new Uint8Array(v))},m)})}return Promise.resolve().then(function(){return nt()})}function ot(h){for(;0<h.length;){var m=h.shift();if(typeof m=="function")m(i);else{var v=m.Ag;typeof v=="number"?m.cf===void 0?ne.get(v)():ne.get(v)(m.cf):v(m.cf===void 0?null:m.cf)}}}function bt(h){this.Qd=h-16,this.ig=function(m){ee[this.Qd+8>>2]=m},this.fg=function(m){ee[this.Qd+0>>2]=m},this.gg=function(){ee[this.Qd+4>>2]=0},this.eg=function(){Se[this.Qd+12>>0]=0},this.hg=function(){Se[this.Qd+13>>0]=0},this.Tf=function(m,v){this.ig(m),this.fg(v),this.gg(),this.eg(),this.hg()}}var Lt={},Ft=[null,[],[]],Vt={},Me={};function yt(h){for(;h.length;){var m=h.pop();h.pop()(m)}}function vt(h){return this.fromWireType(He[h>>2])}var St={},$t={},gn={};function Tr(h){if(h===void 0)return"_unknown";h=h.replace(/[^a-zA-Z0-9_]/g,"$");var m=h.charCodeAt(0);return 48<=m&&57>=m?"_"+h:h}function Sr(h,m){return h=Tr(h),new Function("body","return function "+h+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(m)}function bn(h){var m=Error,v=Sr(h,function(k){this.name=h,this.message=k,k=Error(k).stack,k!==void 0&&(this.stack=this.toString()+`
`+k.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(m.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},v}var ps=void 0;function ci(h){throw new ps(h)}function Vr(h,m,v){function k(Te){Te=v(Te),Te.length!==h.length&&ci("Mismatched type converter count");for(var Ue=0;Ue<h.length;++Ue)Yn(h[Ue],Te[Ue])}h.forEach(function(Te){gn[Te]=m});var H=Array(m.length),Y=[],Ae=0;m.forEach(function(Te,Ue){$t.hasOwnProperty(Te)?H[Ue]=$t[Te]:(Y.push(Te),St.hasOwnProperty(Te)||(St[Te]=[]),St[Te].push(function(){H[Ue]=$t[Te],++Ae,Ae===Y.length&&k(H)}))}),Y.length===0&&k(H)}function Nn(h){switch(h){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+h)}}var es=void 0;function vr(h){for(var m="";_e[h];)m+=es[_e[h++]];return m}var co=void 0;function tr(h){throw new co(h)}function Yn(h,m,v){if(v=v||{},!("argPackAdvance"in m))throw new TypeError("registerType registeredInstance requires argPackAdvance");var k=m.name;if(h||tr('type "'+k+'" must have a positive integer typeid pointer'),$t.hasOwnProperty(h)){if(v.Sf)return;tr("Cannot register type '"+k+"' twice")}$t[h]=m,delete gn[h],St.hasOwnProperty(h)&&(m=St[h],delete St[h],m.forEach(function(H){H()}))}function ie(h){tr(h.Kd.Wd.Rd.name+" instance already deleted")}var Lo=!1;function Lu(){}function kl(h){--h.count.value,h.count.value===0&&(h.ce?h.fe.je(h.ce):h.Wd.Rd.je(h.Qd))}function Uo(h){return typeof FinalizationGroup>"u"?(Uo=function(m){return m},h):(Lo=new FinalizationGroup(function(m){for(var v=m.next();!v.done;v=m.next())v=v.value,v.Qd?kl(v):console.warn("object already deleted: "+v.Qd)}),Uo=function(m){return Lo.register(m,m.Kd,m.Kd),m},Lu=function(m){Lo.unregister(m.Kd)},Uo(h))}var ho=void 0,zt=[];function hi(){for(;zt.length;){var h=zt.pop();h.Kd.Ce=!1,h.delete()}}function qn(){}var Tl={};function Go(h,m,v){if(h[m].Yd===void 0){var k=h[m];h[m]=function(){return h[m].Yd.hasOwnProperty(arguments.length)||tr("Function '"+v+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+h[m].Yd+")!"),h[m].Yd[arguments.length].apply(this,arguments)},h[m].Yd=[],h[m].Yd[k.Ae]=k}}function Pr(h,m,v){i.hasOwnProperty(h)?((v===void 0||i[h].Yd!==void 0&&i[h].Yd[v]!==void 0)&&tr("Cannot register public name '"+h+"' twice"),Go(i,h,h),i.hasOwnProperty(v)&&tr("Cannot register multiple overloads of a function with the same number of arguments ("+v+")!"),i[h].Yd[v]=m):(i[h]=m,v!==void 0&&(i[h].Cg=v))}function ts(h,m,v,k,H,Y,Ae,Te){this.name=h,this.constructor=m,this.De=v,this.je=k,this.he=H,this.Lf=Y,this.Me=Ae,this.Ff=Te,this.bg=[]}function Cl(h,m,v){for(;m!==v;)m.Me||tr("Expected null or instance of "+v.name+", got an instance of "+m.name),h=m.Me(h),m=m.he;return h}function Uu(h,m){return m===null?(this.ef&&tr("null is not a valid "+this.name),0):(m.Kd||tr('Cannot pass "'+en(m)+'" as a '+this.name),m.Kd.Qd||tr("Cannot pass deleted object as a pointer of type "+this.name),Cl(m.Kd.Qd,m.Kd.Wd.Rd,this.Rd))}function Dh(h,m){if(m===null){if(this.ef&&tr("null is not a valid "+this.name),this.Re){var v=this.ff();return h!==null&&h.push(this.je,v),v}return 0}if(m.Kd||tr('Cannot pass "'+en(m)+'" as a '+this.name),m.Kd.Qd||tr("Cannot pass deleted object as a pointer of type "+this.name),!this.Qe&&m.Kd.Wd.Qe&&tr("Cannot convert argument of type "+(m.Kd.fe?m.Kd.fe.name:m.Kd.Wd.name)+" to parameter type "+this.name),v=Cl(m.Kd.Qd,m.Kd.Wd.Rd,this.Rd),this.Re)switch(m.Kd.ce===void 0&&tr("Passing raw pointer to smart pointer is illegal"),this.mg){case 0:m.Kd.fe===this?v=m.Kd.ce:tr("Cannot convert argument of type "+(m.Kd.fe?m.Kd.fe.name:m.Kd.Wd.name)+" to parameter type "+this.name);break;case 1:v=m.Kd.ce;break;case 2:if(m.Kd.fe===this)v=m.Kd.ce;else{var k=m.clone();v=this.cg(v,Qn(function(){k.delete()})),h!==null&&h.push(this.je,v)}break;default:tr("Unsupporting sharing policy")}return v}function Gu(h,m){return m===null?(this.ef&&tr("null is not a valid "+this.name),0):(m.Kd||tr('Cannot pass "'+en(m)+'" as a '+this.name),m.Kd.Qd||tr("Cannot pass deleted object as a pointer of type "+this.name),m.Kd.Wd.Qe&&tr("Cannot convert argument of type "+m.Kd.Wd.name+" to parameter type "+this.name),Cl(m.Kd.Qd,m.Kd.Wd.Rd,this.Rd))}function Hu(h,m,v){return m===v?h:v.he===void 0?null:(h=Hu(h,m,v.he),h===null?null:v.Ff(h))}var gs={};function Pl(h,m){for(m===void 0&&tr("ptr should not be undefined");h.he;)m=h.Me(m),h=h.he;return gs[m]}function rr(h,m){return m.Wd&&m.Qd||ci("makeClassHandle requires ptr and ptrType"),!!m.fe!=!!m.ce&&ci("Both smartPtrType and smartPtr must be specified"),m.count={value:1},Uo(Object.create(h,{Kd:{value:m}}))}function cn(h,m,v,k,H,Y,Ae,Te,Ue,Ie,ht){this.name=h,this.Rd=m,this.ef=v,this.Qe=k,this.Re=H,this.ag=Y,this.mg=Ae,this.sf=Te,this.ff=Ue,this.cg=Ie,this.je=ht,H||m.he!==void 0?this.toWireType=Dh:(this.toWireType=k?Uu:Gu,this.ee=null)}function Ho(h,m,v){i.hasOwnProperty(h)||ci("Replacing nonexistant public symbol"),i[h].Yd!==void 0&&v!==void 0?i[h].Yd[v]=m:(i[h]=m,i[h].Ae=v)}function Xt(h,m){var v=[];return function(){v.length=arguments.length;for(var k=0;k<arguments.length;k++)v[k]=arguments[k];return h.includes("j")?(k=i["dynCall_"+h],k=v&&v.length?k.apply(null,[m].concat(v)):k.call(null,m)):k=ne.get(m).apply(null,v),k}}function Fn(h,m){h=vr(h);var v=h.includes("j")?Xt(h,m):ne.get(m);return typeof v!="function"&&tr("unknown function pointer with signature "+h+": "+m),v}var Ff=void 0;function G(h){h=Hg(h);var m=vr(h);return is(h),m}function kn(h,m){function v(Y){H[Y]||$t[Y]||(gn[Y]?gn[Y].forEach(v):(k.push(Y),H[Y]=!0))}var k=[],H={};throw m.forEach(v),new Ff(h+": "+k.map(G).join([", "]))}function Og(h){var m=Function;if(!(m instanceof Function))throw new TypeError("new_ called with constructor type "+typeof m+" which is not a function");var v=Sr(m.name||"unknownFunctionName",function(){});return v.prototype=m.prototype,v=new v,h=m.apply(v,h),h instanceof Object?h:v}function If(h,m,v,k,H){var Y=m.length;2>Y&&tr("argTypes array size mismatch! Must at least get return value and 'this' types!");var Ae=m[1]!==null&&v!==null,Te=!1;for(v=1;v<m.length;++v)if(m[v]!==null&&m[v].ee===void 0){Te=!0;break}var Ue=m[0].name!=="void",Ie="",ht="";for(v=0;v<Y-2;++v)Ie+=(v!==0?", ":"")+"arg"+v,ht+=(v!==0?", ":"")+"arg"+v+"Wired";h="return function "+Tr(h)+"("+Ie+`) {
if (arguments.length !== `+(Y-2)+`) {
throwBindingError('function `+h+" called with ' + arguments.length + ' arguments, expected "+(Y-2)+` args!');
}
`,Te&&(h+=`var destructors = [];
`);var Dt=Te?"destructors":"null";for(Ie="throwBindingError invoker fn runDestructors retType classParam".split(" "),k=[tr,k,H,yt,m[0],m[1]],Ae&&(h+="var thisWired = classParam.toWireType("+Dt+`, this);
`),v=0;v<Y-2;++v)h+="var arg"+v+"Wired = argType"+v+".toWireType("+Dt+", arg"+v+"); // "+m[v+2].name+`
`,Ie.push("argType"+v),k.push(m[v+2]);if(Ae&&(ht="thisWired"+(0<ht.length?", ":"")+ht),h+=(Ue?"var rv = ":"")+"invoker(fn"+(0<ht.length?", ":"")+ht+`);
`,Te)h+=`runDestructors(destructors);
`;else for(v=Ae?1:2;v<m.length;++v)Y=v===1?"thisWired":"arg"+(v-2)+"Wired",m[v].ee!==null&&(h+=Y+"_dtor("+Y+"); // "+m[v].name+`
`,Ie.push(Y+"_dtor"),k.push(m[v].ee));return Ue&&(h+=`var ret = retType.fromWireType(rv);
return ret;
`),Ie.push(h+`}
`),Og(Ie).apply(null,k)}function Rh(h,m){for(var v=[],k=0;k<h;k++)v.push(ee[(m>>2)+k]);return v}var Mf=[],Fi=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Lf(h){4<h&&--Fi[h].gf===0&&(Fi[h]=void 0,Mf.push(h))}function Qn(h){switch(h){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var m=Mf.length?Mf.pop():Fi.length;return Fi[m]={gf:1,value:h},m}}function Fv(h,m,v){switch(m){case 0:return function(k){return this.fromWireType((v?Se:_e)[k])};case 1:return function(k){return this.fromWireType((v?De:Ve)[k>>1])};case 2:return function(k){return this.fromWireType((v?ee:He)[k>>2])};default:throw new TypeError("Unknown integer type: "+h)}}function Dl(h,m){var v=$t[h];return v===void 0&&tr(m+" has unknown type "+G(h)),v}function en(h){if(h===null)return"null";var m=typeof h;return m==="object"||m==="array"||m==="function"?h.toString():""+h}function Rl(h,m){switch(m){case 2:return function(v){return this.fromWireType(I[v>>2])};case 3:return function(v){return this.fromWireType(j[v>>3])};default:throw new TypeError("Unknown float type: "+h)}}function Fa(h,m,v){switch(m){case 0:return v?function(k){return Se[k]}:function(k){return _e[k]};case 1:return v?function(k){return De[k>>1]}:function(k){return Ve[k>>1]};case 2:return v?function(k){return ee[k>>2]}:function(k){return He[k>>2]};default:throw new TypeError("Unknown integer type: "+h)}}function Ii(h){return h||tr("Cannot use deleted val. handle = "+h),Fi[h].value}var Iv={};function Oh(h){var m=Iv[h];return m===void 0?vr(h):m}var Ol=[];function ju(){return typeof globalThis=="object"?globalThis:Function("return this")()}function Uf(h){var m=Ol.length;return Ol.push(h),m}function Bl(h,m){for(var v=Array(h),k=0;k<h;++k)v[k]=Dl(ee[(m>>2)+k],"parameter "+k);return v}var ur={},Vu;E?Vu=function(){var h=process.hrtime();return 1e3*h[0]+h[1]/1e6}:typeof dateNow<"u"?Vu=dateNow:Vu=function(){return performance.now()};function Bh(h){var m=h.getExtension("ANGLE_instanced_arrays");m&&(h.vertexAttribDivisor=function(v,k){m.vertexAttribDivisorANGLE(v,k)},h.drawArraysInstanced=function(v,k,H,Y){m.drawArraysInstancedANGLE(v,k,H,Y)},h.drawElementsInstanced=function(v,k,H,Y,Ae){m.drawElementsInstancedANGLE(v,k,H,Y,Ae)})}function jo(h){var m=h.getExtension("OES_vertex_array_object");m&&(h.createVertexArray=function(){return m.createVertexArrayOES()},h.deleteVertexArray=function(v){m.deleteVertexArrayOES(v)},h.bindVertexArray=function(v){m.bindVertexArrayOES(v)},h.isVertexArray=function(v){return m.isVertexArrayOES(v)})}function zs(h){var m=h.getExtension("WEBGL_draw_buffers");m&&(h.drawBuffers=function(v,k){m.drawBuffersWEBGL(v,k)})}var Bg=1,Nh=[],ms=[],Nl=[],Ia=[],rs=[],xs=[],fo=[],di=[],Fl=[],Ma=[],Ng={},Il={},Ml=4;function Dr(h){Fh||(Fh=h)}function zu(h){for(var m=Bg++,v=h.length;v<m;v++)h[v]=null;return m}function Mv(h,m){h.qf||(h.qf=h.getContext,h.getContext=function(k,H){return H=h.qf(k,H),k=="webgl"==H instanceof WebGLRenderingContext?H:null});var v=1<m.majorVersion?h.getContext("webgl2",m):h.getContext("webgl",m);return v?Vo(v,m):0}function Vo(h,m){var v=zu(di),k={Rf:v,attributes:m,version:m.majorVersion,le:h};return h.canvas&&(h.canvas.uf=k),di[v]=k,(typeof m.Gf>"u"||m.Gf)&&Hf(k),v}function Gf(h){return cr=di[h],i.zg=Ce=cr&&cr.le,!(h&&!Ce)}function Hf(h){if(h||(h=cr),!h.Uf){h.Uf=!0;var m=h.le;Bh(m),jo(m),zs(m),m.mf=m.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),m.rf=m.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=h.version&&(m.nf=m.getExtension("EXT_disjoint_timer_query_webgl2")),(2>h.version||!m.nf)&&(m.nf=m.getExtension("EXT_disjoint_timer_query")),m.Bg=m.getExtension("WEBGL_multi_draw"),(m.getSupportedExtensions()||[]).forEach(function(v){v.includes("lose_context")||v.includes("debug")||m.getExtension(v)})}}var cr,Fh,Ll=[];function La(h,m,v,k){for(var H=0;H<h;H++){var Y=Ce[v](),Ae=Y&&zu(k);Y?(Y.name=Ae,k[Ae]=Y):Dr(1282),ee[m+4*H>>2]=Ae}}function Lv(h,m){if(m){var v=void 0;switch(h){case 36346:v=1;break;case 36344:return;case 34814:case 36345:v=0;break;case 34466:var k=Ce.getParameter(34467);v=k?k.length:0;break;case 33309:if(2>cr.version){Dr(1282);return}v=2*(Ce.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>cr.version){Dr(1280);return}v=h==33307?3:0}if(v===void 0)switch(k=Ce.getParameter(h),typeof k){case"number":v=k;break;case"boolean":v=k?1:0;break;case"string":Dr(1280);return;case"object":if(k===null)switch(h){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:v=0;break;default:Dr(1280);return}else{if(k instanceof Float32Array||k instanceof Uint32Array||k instanceof Int32Array||k instanceof Array){for(h=0;h<k.length;++h)ee[m+4*h>>2]=k[h];return}try{v=k.name|0}catch(H){Dr(1280),N("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+h+")! (error: "+H+")");return}}break;default:Dr(1280),N("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+h+") and it returns "+k+" of type "+typeof k+"!");return}ee[m>>2]=v}else Dr(1281)}function Wu(h){var m=Le(h)+1,v=Gl(m);return ze(h,_e,v,m),v}function Ua(h){return h-=5120,h==0?Se:h==1?_e:h==2?De:h==4?ee:h==6?I:h==5||h==28922||h==28520||h==30779||h==30782?He:Ve}function jf(h,m,v,k,H){h=Ua(h);var Y=31-Math.clz32(h.BYTES_PER_ELEMENT),Ae=Ml;return h.subarray(H>>Y,H+k*(v*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[m-6402]||1)*(1<<Y)+Ae-1&-Ae)>>Y)}function mr(h){var m=Ce.Df,v=m.Ye[h];return 0<=v&&(m.Ye[h]=v=Ce.getUniformLocation(m,m.tf[h]+(0<v?"["+v+"]":""))),v}var zo=[],Ul=[],Fg={};function Ig(){if(!Vf){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},m;for(m in Fg)h[m]=Fg[m];var v=[];for(m in h)v.push(m+"="+h[m]);Vf=v}return Vf}var Vf;function Ih(h){return h%4===0&&(h%100!==0||h%400===0)}function Ga(h,m){for(var v=0,k=0;k<=m;v+=h[k++]);return v}var Mh=[31,29,31,30,31,30,31,31,30,31,30,31],Lh=[31,28,31,30,31,30,31,31,30,31,30,31];function Ha(h,m){for(h=new Date(h.getTime());0<m;){var v=h.getMonth(),k=(Ih(h.getFullYear())?Mh:Lh)[v];if(m>k-h.getDate())m-=k-h.getDate()+1,h.setDate(1),11>v?h.setMonth(v+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else{h.setDate(h.getDate()+m);break}}return h}function Uv(h,m,v,k){function H(je,Bt,hr){for(je=typeof je=="number"?je.toString():je||"";je.length<Bt;)je=hr[0]+je;return je}function Y(je,Bt){return H(je,Bt,"0")}function Ae(je,Bt){function hr(Er){return 0>Er?-1:0<Er?1:0}var Mr;return(Mr=hr(je.getFullYear()-Bt.getFullYear()))===0&&(Mr=hr(je.getMonth()-Bt.getMonth()))===0&&(Mr=hr(je.getDate()-Bt.getDate())),Mr}function Te(je){switch(je.getDay()){case 0:return new Date(je.getFullYear()-1,11,29);case 1:return je;case 2:return new Date(je.getFullYear(),0,3);case 3:return new Date(je.getFullYear(),0,2);case 4:return new Date(je.getFullYear(),0,1);case 5:return new Date(je.getFullYear()-1,11,31);case 6:return new Date(je.getFullYear()-1,11,30)}}function Ue(je){je=Ha(new Date(je.$d+1900,0,1),je.Xe);var Bt=new Date(je.getFullYear()+1,0,4),hr=Te(new Date(je.getFullYear(),0,4));return Bt=Te(Bt),0>=Ae(hr,je)?0>=Ae(Bt,je)?je.getFullYear()+1:je.getFullYear():je.getFullYear()-1}var Ie=ee[k+40>>2];k={ug:ee[k>>2],tg:ee[k+4>>2],Ve:ee[k+8>>2],Le:ee[k+12>>2],Ee:ee[k+16>>2],$d:ee[k+20>>2],We:ee[k+24>>2],Xe:ee[k+28>>2],Fg:ee[k+32>>2],sg:ee[k+36>>2],vg:Ie?Ze(Ie):""},v=Ze(v),Ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ht in Ie)v=v.replace(new RegExp(ht,"g"),Ie[ht]);var Dt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ut="January February March April May June July August September October November December".split(" ");Ie={"%a":function(je){return Dt[je.We].substring(0,3)},"%A":function(je){return Dt[je.We]},"%b":function(je){return Ut[je.Ee].substring(0,3)},"%B":function(je){return Ut[je.Ee]},"%C":function(je){return Y((je.$d+1900)/100|0,2)},"%d":function(je){return Y(je.Le,2)},"%e":function(je){return H(je.Le,2," ")},"%g":function(je){return Ue(je).toString().substring(2)},"%G":function(je){return Ue(je)},"%H":function(je){return Y(je.Ve,2)},"%I":function(je){return je=je.Ve,je==0?je=12:12<je&&(je-=12),Y(je,2)},"%j":function(je){return Y(je.Le+Ga(Ih(je.$d+1900)?Mh:Lh,je.Ee-1),3)},"%m":function(je){return Y(je.Ee+1,2)},"%M":function(je){return Y(je.tg,2)},"%n":function(){return`
`},"%p":function(je){return 0<=je.Ve&&12>je.Ve?"AM":"PM"},"%S":function(je){return Y(je.ug,2)},"%t":function(){return"	"},"%u":function(je){return je.We||7},"%U":function(je){var Bt=new Date(je.$d+1900,0,1),hr=Bt.getDay()===0?Bt:Ha(Bt,7-Bt.getDay());return je=new Date(je.$d+1900,je.Ee,je.Le),0>Ae(hr,je)?Y(Math.ceil((31-hr.getDate()+(Ga(Ih(je.getFullYear())?Mh:Lh,je.getMonth()-1)-31)+je.getDate())/7),2):Ae(hr,Bt)===0?"01":"00"},"%V":function(je){var Bt=new Date(je.$d+1901,0,4),hr=Te(new Date(je.$d+1900,0,4));Bt=Te(Bt);var Mr=Ha(new Date(je.$d+1900,0,1),je.Xe);return 0>Ae(Mr,hr)?"53":0>=Ae(Bt,Mr)?"01":Y(Math.ceil((hr.getFullYear()<je.$d+1900?je.Xe+32-hr.getDate():je.Xe+1-hr.getDate())/7),2)},"%w":function(je){return je.We},"%W":function(je){var Bt=new Date(je.$d,0,1),hr=Bt.getDay()===1?Bt:Ha(Bt,Bt.getDay()===0?1:7-Bt.getDay()+1);return je=new Date(je.$d+1900,je.Ee,je.Le),0>Ae(hr,je)?Y(Math.ceil((31-hr.getDate()+(Ga(Ih(je.getFullYear())?Mh:Lh,je.getMonth()-1)-31)+je.getDate())/7),2):Ae(hr,Bt)===0?"01":"00"},"%y":function(je){return(je.$d+1900).toString().substring(2)},"%Y":function(je){return je.$d+1900},"%z":function(je){je=je.sg;var Bt=0<=je;return je=Math.abs(je)/60,(Bt?"+":"-")+String("0000"+(je/60*100+je%60)).slice(-4)},"%Z":function(je){return je.vg},"%%":function(){return"%"}};for(ht in Ie)v.includes(ht)&&(v=v.replace(new RegExp(ht,"g"),Ie[ht](k)));return ht=$u(v),ht.length>m?0:(Se.set(ht,h),ht.length-1)}ps=i.InternalError=bn("InternalError");for(var Mg=Array(256),ns=0;256>ns;++ns)Mg[ns]=String.fromCharCode(ns);es=Mg,co=i.BindingError=bn("BindingError"),qn.prototype.isAliasOf=function(h){if(!(this instanceof qn&&h instanceof qn))return!1;var m=this.Kd.Wd.Rd,v=this.Kd.Qd,k=h.Kd.Wd.Rd;for(h=h.Kd.Qd;m.he;)v=m.Me(v),m=m.he;for(;k.he;)h=k.Me(h),k=k.he;return m===k&&v===h},qn.prototype.clone=function(){if(this.Kd.Qd||ie(this),this.Kd.Ke)return this.Kd.count.value+=1,this;var h=Uo,m=Object,v=m.create,k=Object.getPrototypeOf(this),H=this.Kd;return h=h(v.call(m,k,{Kd:{value:{count:H.count,Ce:H.Ce,Ke:H.Ke,Qd:H.Qd,Wd:H.Wd,ce:H.ce,fe:H.fe}}})),h.Kd.count.value+=1,h.Kd.Ce=!1,h},qn.prototype.delete=function(){this.Kd.Qd||ie(this),this.Kd.Ce&&!this.Kd.Ke&&tr("Object already scheduled for deletion"),Lu(this),kl(this.Kd),this.Kd.Ke||(this.Kd.ce=void 0,this.Kd.Qd=void 0)},qn.prototype.isDeleted=function(){return!this.Kd.Qd},qn.prototype.deleteLater=function(){return this.Kd.Qd||ie(this),this.Kd.Ce&&!this.Kd.Ke&&tr("Object already scheduled for deletion"),zt.push(this),zt.length===1&&ho&&ho(hi),this.Kd.Ce=!0,this},cn.prototype.Mf=function(h){return this.sf&&(h=this.sf(h)),h},cn.prototype.lf=function(h){this.je&&this.je(h)},cn.prototype.argPackAdvance=8,cn.prototype.readValueFromPointer=vt,cn.prototype.deleteObject=function(h){h!==null&&h.delete()},cn.prototype.fromWireType=function(h){function m(){return this.Re?rr(this.Rd.De,{Wd:this.ag,Qd:v,fe:this,ce:h}):rr(this.Rd.De,{Wd:this,Qd:h})}var v=this.Mf(h);if(!v)return this.lf(h),null;var k=Pl(this.Rd,v);if(k!==void 0)return k.Kd.count.value===0?(k.Kd.Qd=v,k.Kd.ce=h,k.clone()):(k=k.clone(),this.lf(h),k);if(k=this.Rd.Lf(v),k=Tl[k],!k)return m.call(this);k=this.Qe?k.Bf:k.pointerType;var H=Hu(v,this.Rd,k.Rd);return H===null?m.call(this):this.Re?rr(k.Rd.De,{Wd:k,Qd:H,fe:this,ce:h}):rr(k.Rd.De,{Wd:k,Qd:H})},i.getInheritedInstanceCount=function(){return Object.keys(gs).length},i.getLiveInheritedInstances=function(){var h=[],m;for(m in gs)gs.hasOwnProperty(m)&&h.push(gs[m]);return h},i.flushPendingDeletes=hi,i.setDelayFunction=function(h){ho=h,zt.length&&ho&&ho(hi)},Ff=i.UnboundTypeError=bn("UnboundTypeError"),i.count_emval_handles=function(){for(var h=0,m=5;m<Fi.length;++m)Fi[m]!==void 0&&++h;return h},i.get_first_emval=function(){for(var h=5;h<Fi.length;++h)if(Fi[h]!==void 0)return Fi[h];return null};for(var Ce,sn=0;32>sn;++sn)Ll.push(Array(sn));var Lg=new Float32Array(288);for(sn=0;288>sn;++sn)zo[sn]=Lg.subarray(0,sn+1);var Ug=new Int32Array(288);for(sn=0;288>sn;++sn)Ul[sn]=Ug.subarray(0,sn+1);function $u(h){var m=Array(Le(h)+1);return ze(h,m,0,m.length),m}var Gv={Kb:function(h){return Gl(h+16)+16},Db:function(h,m,v){throw new bt(h).Tf(m,v),h},N:function(){return 0},Bb:function(){},xb:function(){return 0},yb:function(h,m,v,k,H,Y){return Y<<=12,(k&16)!==0&&h%65536!==0?m=-28:(k&32)!==0?(h=ys(65536,m))?(Gg(h,0,m),Lt[h]={Zf:h,Yf:m,Af:!0,fd:H,Dg:v,flags:k,offset:Y},m=h):m=-48:m=-52,m},zb:function(h,m){if((h|0)===-1||m===0)h=-28;else{var v=Lt[h];v&&m===v.Yf&&(Lt[h]=null,v.Af&&is(v.Zf)),h=0}return h},Q:function(){},P:function(){},y:function(h){var m=Me[h];delete Me[h];var v=m.ff,k=m.je,H=m.pf,Y=H.map(function(Ae){return Ae.Qf}).concat(H.map(function(Ae){return Ae.kg}));Vr([h],Y,function(Ae){var Te={};return H.forEach(function(Ue,Ie){var ht=Ae[Ie],Dt=Ue.Of,Ut=Ue.Pf,je=Ae[Ie+H.length],Bt=Ue.jg,hr=Ue.lg;Te[Ue.Hf]={read:function(Mr){return ht.fromWireType(Dt(Ut,Mr))},write:function(Mr,Er){var Ln=[];Bt(hr,Mr,je.toWireType(Ln,Er)),yt(Ln)}}}),[{name:m.name,fromWireType:function(Ue){var Ie={},ht;for(ht in Te)Ie[ht]=Te[ht].read(Ue);return k(Ue),Ie},toWireType:function(Ue,Ie){for(var ht in Te)if(!(ht in Ie))throw new TypeError('Missing field:  "'+ht+'"');var Dt=v();for(ht in Te)Te[ht].write(Dt,Ie[ht]);return Ue!==null&&Ue.push(k,Dt),Dt},argPackAdvance:8,readValueFromPointer:vt,ee:k}]})},ob:function(){},Eb:function(h,m,v,k,H){var Y=Nn(v);m=vr(m),Yn(h,{name:m,fromWireType:function(Ae){return!!Ae},toWireType:function(Ae,Te){return Te?k:H},argPackAdvance:8,readValueFromPointer:function(Ae){if(v===1)var Te=Se;else if(v===2)Te=De;else if(v===4)Te=ee;else throw new TypeError("Unknown boolean type size: "+m);return this.fromWireType(Te[Ae>>Y])},ee:null})},m:function(h,m,v,k,H,Y,Ae,Te,Ue,Ie,ht,Dt,Ut){ht=vr(ht),Y=Fn(H,Y),Te&&(Te=Fn(Ae,Te)),Ie&&(Ie=Fn(Ue,Ie)),Ut=Fn(Dt,Ut);var je=Tr(ht);Pr(je,function(){kn("Cannot construct "+ht+" due to unbound types",[k])}),Vr([h,m,v],k?[k]:[],function(Bt){if(Bt=Bt[0],k)var hr=Bt.Rd,Mr=hr.De;else Mr=qn.prototype;Bt=Sr(je,function(){if(Object.getPrototypeOf(this)!==Er)throw new co("Use 'new' to construct "+ht);if(Ln.me===void 0)throw new co(ht+" has no accessible constructor");var Wo=Ln.me[arguments.length];if(Wo===void 0)throw new co("Tried to invoke ctor of "+ht+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Ln.me).toString()+") parameters instead!");return Wo.apply(this,arguments)});var Er=Object.create(Mr,{constructor:{value:Bt}});Bt.prototype=Er;var Ln=new ts(ht,Bt,Er,Ut,hr,Y,Te,Ie);hr=new cn(ht,Ln,!0,!1,!1),Mr=new cn(ht+"*",Ln,!1,!1,!1);var Xu=new cn(ht+" const*",Ln,!1,!0,!1);return Tl[h]={pointerType:Mr,Bf:Xu},Ho(je,Bt),[hr,Mr,Xu]})},f:function(h,m,v,k,H,Y,Ae){var Te=Rh(v,k);m=vr(m),Y=Fn(H,Y),Vr([],[h],function(Ue){function Ie(){kn("Cannot call "+ht+" due to unbound types",Te)}Ue=Ue[0];var ht=Ue.name+"."+m,Dt=Ue.Rd.constructor;return Dt[m]===void 0?(Ie.Ae=v-1,Dt[m]=Ie):(Go(Dt,m,ht),Dt[m].Yd[v-1]=Ie),Vr([],Te,function(Ut){return Ut=[Ut[0],null].concat(Ut.slice(1)),Ut=If(ht,Ut,null,Y,Ae),Dt[m].Yd===void 0?(Ut.Ae=v-1,Dt[m]=Ut):Dt[m].Yd[v-1]=Ut,[]}),[]})},v:function(h,m,v,k,H,Y){re(0<m);var Ae=Rh(m,v);H=Fn(k,H);var Te=[Y],Ue=[];Vr([],[h],function(Ie){Ie=Ie[0];var ht="constructor "+Ie.name;if(Ie.Rd.me===void 0&&(Ie.Rd.me=[]),Ie.Rd.me[m-1]!==void 0)throw new co("Cannot register multiple constructors with identical number of parameters ("+(m-1)+") for class '"+Ie.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return Ie.Rd.me[m-1]=function(){kn("Cannot construct "+Ie.name+" due to unbound types",Ae)},Vr([],Ae,function(Dt){return Ie.Rd.me[m-1]=function(){arguments.length!==m-1&&tr(ht+" called with "+arguments.length+" arguments, expected "+(m-1)),Ue.length=0,Te.length=m;for(var Ut=1;Ut<m;++Ut)Te[Ut]=Dt[Ut].toWireType(Ue,arguments[Ut-1]);return Ut=H.apply(null,Te),yt(Ue),Dt[0].fromWireType(Ut)},[]}),[]})},c:function(h,m,v,k,H,Y,Ae,Te){var Ue=Rh(v,k);m=vr(m),Y=Fn(H,Y),Vr([],[h],function(Ie){function ht(){kn("Cannot call "+Dt+" due to unbound types",Ue)}Ie=Ie[0];var Dt=Ie.name+"."+m;Te&&Ie.Rd.bg.push(m);var Ut=Ie.Rd.De,je=Ut[m];return je===void 0||je.Yd===void 0&&je.className!==Ie.name&&je.Ae===v-2?(ht.Ae=v-2,ht.className=Ie.name,Ut[m]=ht):(Go(Ut,m,Dt),Ut[m].Yd[v-2]=ht),Vr([],Ue,function(Bt){return Bt=If(Dt,Bt,Ie,Y,Ae),Ut[m].Yd===void 0?(Bt.Ae=v-2,Ut[m]=Bt):Ut[m].Yd[v-2]=Bt,[]}),[]})},W:function(h,m,v){h=vr(h),Vr([],[m],function(k){return k=k[0],i[h]=k.fromWireType(v),[]})},Cb:function(h,m){m=vr(m),Yn(h,{name:m,fromWireType:function(v){var k=Fi[v].value;return Lf(v),k},toWireType:function(v,k){return Qn(k)},argPackAdvance:8,readValueFromPointer:vt,ee:null})},k:function(h,m,v,k){function H(){}v=Nn(v),m=vr(m),H.values={},Yn(h,{name:m,constructor:H,fromWireType:function(Y){return this.constructor.values[Y]},toWireType:function(Y,Ae){return Ae.value},argPackAdvance:8,readValueFromPointer:Fv(m,v,k),ee:null}),Pr(m,H)},j:function(h,m,v){var k=Dl(h,"enum");m=vr(m),h=k.constructor,k=Object.create(k.constructor.prototype,{value:{value:v},constructor:{value:Sr(k.name+"_"+m,function(){})}}),h.values[v]=k,h[m]=k},R:function(h,m,v){v=Nn(v),m=vr(m),Yn(h,{name:m,fromWireType:function(k){return k},toWireType:function(k,H){if(typeof H!="number"&&typeof H!="boolean")throw new TypeError('Cannot convert "'+en(H)+'" to '+this.name);return H},argPackAdvance:8,readValueFromPointer:Rl(m,v),ee:null})},t:function(h,m,v,k,H,Y){var Ae=Rh(m,v);h=vr(h),H=Fn(k,H),Pr(h,function(){kn("Cannot call "+h+" due to unbound types",Ae)},m-1),Vr([],Ae,function(Te){return Te=[Te[0],null].concat(Te.slice(1)),Ho(h,If(h,Te,null,H,Y),m-1),[]})},x:function(h,m,v,k,H){function Y(Ie){return Ie}m=vr(m),H===-1&&(H=4294967295);var Ae=Nn(v);if(k===0){var Te=32-8*v;Y=function(Ie){return Ie<<Te>>>Te}}var Ue=m.includes("unsigned");Yn(h,{name:m,fromWireType:Y,toWireType:function(Ie,ht){if(typeof ht!="number"&&typeof ht!="boolean")throw new TypeError('Cannot convert "'+en(ht)+'" to '+this.name);if(ht<k||ht>H)throw new TypeError('Passing a number "'+en(ht)+'" from JS side to C/C++ side to an argument of type "'+m+'", which is outside the valid range ['+k+", "+H+"]!");return Ue?ht>>>0:ht|0},argPackAdvance:8,readValueFromPointer:Fa(m,Ae,k!==0),ee:null})},u:function(h,m,v){function k(Y){Y>>=2;var Ae=He;return new H(we,Ae[Y+1],Ae[Y])}var H=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][m];v=vr(v),Yn(h,{name:v,fromWireType:k,argPackAdvance:8,readValueFromPointer:k},{Sf:!0})},p:function(h,m,v,k,H,Y,Ae,Te,Ue,Ie,ht,Dt){v=vr(v),Y=Fn(H,Y),Te=Fn(Ae,Te),Ie=Fn(Ue,Ie),Dt=Fn(ht,Dt),Vr([h],[m],function(Ut){return Ut=Ut[0],[new cn(v,Ut.Rd,!1,!1,!0,Ut,k,Y,Te,Ie,Dt)]})},S:function(h,m){m=vr(m);var v=m==="std::string";Yn(h,{name:m,fromWireType:function(k){var H=He[k>>2];if(v)for(var Y=k+4,Ae=0;Ae<=H;++Ae){var Te=k+4+Ae;if(Ae==H||_e[Te]==0){if(Y=Ze(Y,Te-Y),Ue===void 0)var Ue=Y;else Ue+=String.fromCharCode(0),Ue+=Y;Y=Te+1}}else{for(Ue=Array(H),Ae=0;Ae<H;++Ae)Ue[Ae]=String.fromCharCode(_e[k+4+Ae]);Ue=Ue.join("")}return is(k),Ue},toWireType:function(k,H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));var Y=typeof H=="string";Y||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int8Array||tr("Cannot pass non-string to std::string");var Ae=(v&&Y?function(){return Le(H)}:function(){return H.length})(),Te=Gl(4+Ae+1);if(He[Te>>2]=Ae,v&&Y)ze(H,_e,Te+4,Ae+1);else if(Y)for(Y=0;Y<Ae;++Y){var Ue=H.charCodeAt(Y);255<Ue&&(is(Te),tr("String has UTF-16 code units that do not fit in 8 bits")),_e[Te+4+Y]=Ue}else for(Y=0;Y<Ae;++Y)_e[Te+4+Y]=H[Y];return k!==null&&k.push(is,Te),Te},argPackAdvance:8,readValueFromPointer:vt,ee:function(k){is(k)}})},H:function(h,m,v){if(v=vr(v),m===2)var k=_t,H=st,Y=Rt,Ae=function(){return Ve},Te=1;else m===4&&(k=te,H=oe,Y=ae,Ae=function(){return He},Te=2);Yn(h,{name:v,fromWireType:function(Ue){for(var Ie=He[Ue>>2],ht=Ae(),Dt,Ut=Ue+4,je=0;je<=Ie;++je){var Bt=Ue+4+je*m;(je==Ie||ht[Bt>>Te]==0)&&(Ut=k(Ut,Bt-Ut),Dt===void 0?Dt=Ut:(Dt+=String.fromCharCode(0),Dt+=Ut),Ut=Bt+m)}return is(Ue),Dt},toWireType:function(Ue,Ie){typeof Ie!="string"&&tr("Cannot pass non-string to C++ string type "+v);var ht=Y(Ie),Dt=Gl(4+ht+m);return He[Dt>>2]=ht>>Te,H(Ie,Dt+4,ht+m),Ue!==null&&Ue.push(is,Dt),Dt},argPackAdvance:8,readValueFromPointer:vt,ee:function(Ue){is(Ue)}})},z:function(h,m,v,k,H,Y){Me[h]={name:vr(m),ff:Fn(v,k),je:Fn(H,Y),pf:[]}},h:function(h,m,v,k,H,Y,Ae,Te,Ue,Ie){Me[h].pf.push({Hf:vr(m),Qf:v,Of:Fn(k,H),Pf:Y,kg:Ae,jg:Fn(Te,Ue),lg:Ie})},Fb:function(h,m){m=vr(m),Yn(h,{Vf:!0,name:m,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},A:function(h,m,v){h=Ii(h),m=Dl(m,"emval::as");var k=[],H=Qn(k);return ee[v>>2]=H,m.toWireType(k,h)},lb:function(h,m,v,k,H){h=Ol[h],m=Ii(m),v=Oh(v);var Y=[];return ee[k>>2]=Qn(Y),h(m,v,Y,H)},F:function(h,m,v,k){h=Ol[h],m=Ii(m),v=Oh(v),h(m,v,null,k)},D:Lf,Ab:function(h){return h===0?Qn(ju()):(h=Oh(h),Qn(ju()[h]))},B:function(h,m){m=Bl(h,m);for(var v=m[0],k=v.name+"_$"+m.slice(1).map(function(Ie){return Ie.name}).join("_")+"$",H=["retType"],Y=[v],Ae="",Te=0;Te<h-1;++Te)Ae+=(Te!==0?", ":"")+"arg"+Te,H.push("argType"+Te),Y.push(m[1+Te]);k="return function "+Tr("methodCaller_"+k)+`(handle, name, destructors, args) {
`;var Ue=0;for(Te=0;Te<h-1;++Te)k+="    var arg"+Te+" = argType"+Te+".readValueFromPointer(args"+(Ue?"+"+Ue:"")+`);
`,Ue+=m[Te+1].argPackAdvance;for(k+="    var rv = handle[name]("+Ae+`);
`,Te=0;Te<h-1;++Te)m[Te+1].deleteObject&&(k+="    argType"+Te+".deleteObject(arg"+Te+`);
`);return v.Vf||(k+=`    return retType.toWireType(destructors, rv);
`),H.push(k+`};
`),h=Og(H).apply(null,Y),Uf(h)},J:function(h,m){return h=Ii(h),m=Ii(m),Qn(h[m])},L:function(h){4<h&&(Fi[h].gf+=1)},rb:function(h,m,v,k){h=Ii(h);var H=ur[m];if(!H){H="";for(var Y=0;Y<m;++Y)H+=(Y!==0?", ":"")+"arg"+Y;var Ae="return function emval_allocator_"+m+`(constructor, argTypes, args) {
`;for(Y=0;Y<m;++Y)Ae+="var argType"+Y+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+Y+'], "parameter '+Y+`");
var arg`+Y+" = argType"+Y+`.readValueFromPointer(args);
args += argType`+Y+`['argPackAdvance'];
`;H=new Function("requireRegisteredType","Module","__emval_register",Ae+("var obj = new constructor("+H+`);
return __emval_register(obj);
}
`))(Dl,i,Qn),ur[m]=H}return H(h,v,k)},ib:function(){return Qn([])},La:function(h){return Qn(Oh(h))},jb:function(){return Qn({})},hb:function(h){return h=Ii(h),!h},kb:function(h){yt(Fi[h].value),Lf(h)},w:function(h,m,v){h=Ii(h),m=Ii(m),v=Ii(v),h[m]=v},s:function(h,m){return h=Dl(h,"_emval_take_value"),h=h.readValueFromPointer(m),Qn(h)},d:function(){Qe()},qb:function(h,m){if(h===0)h=Date.now();else if(h===1||h===4)h=Vu();else return ee[Ku()>>2]=28,-1;return ee[m>>2]=h/1e3|0,ee[m+4>>2]=h%1e3*1e6|0,0},Zc:function(h){Ce.activeTexture(h)},_c:function(h,m){Ce.attachShader(ms[h],xs[m])},Z:function(h,m,v){Ce.bindAttribLocation(ms[h],m,Ze(v))},_:function(h,m){h==35051?Ce.df=m:h==35052&&(Ce.Be=m),Ce.bindBuffer(h,Nh[m])},Y:function(h,m){Ce.bindFramebuffer(h,Nl[m])},bc:function(h,m){Ce.bindRenderbuffer(h,Ia[m])},Pb:function(h,m){Ce.bindSampler(h,Fl[m])},$:function(h,m){Ce.bindTexture(h,rs[m])},vc:function(h){Ce.bindVertexArray(fo[h])},yc:function(h){Ce.bindVertexArray(fo[h])},aa:function(h,m,v,k){Ce.blendColor(h,m,v,k)},ba:function(h){Ce.blendEquation(h)},ca:function(h,m){Ce.blendFunc(h,m)},Wb:function(h,m,v,k,H,Y,Ae,Te,Ue,Ie){Ce.blitFramebuffer(h,m,v,k,H,Y,Ae,Te,Ue,Ie)},da:function(h,m,v,k){2<=cr.version?v?Ce.bufferData(h,_e,k,v,m):Ce.bufferData(h,m,k):Ce.bufferData(h,v?_e.subarray(v,v+m):m,k)},ea:function(h,m,v,k){2<=cr.version?Ce.bufferSubData(h,m,_e,k,v):Ce.bufferSubData(h,m,_e.subarray(k,k+v))},cc:function(h){return Ce.checkFramebufferStatus(h)},K:function(h){Ce.clear(h)},X:function(h,m,v,k){Ce.clearColor(h,m,v,k)},O:function(h){Ce.clearStencil(h)},fb:function(h,m,v,k){return Ce.clientWaitSync(Ma[h],m,(v>>>0)+4294967296*k)},fa:function(h,m,v,k){Ce.colorMask(!!h,!!m,!!v,!!k)},ga:function(h){Ce.compileShader(xs[h])},ha:function(h,m,v,k,H,Y,Ae,Te){2<=cr.version?Ce.Be?Ce.compressedTexImage2D(h,m,v,k,H,Y,Ae,Te):Ce.compressedTexImage2D(h,m,v,k,H,Y,_e,Te,Ae):Ce.compressedTexImage2D(h,m,v,k,H,Y,Te?_e.subarray(Te,Te+Ae):null)},ia:function(h,m,v,k,H,Y,Ae,Te,Ue){2<=cr.version?Ce.Be?Ce.compressedTexSubImage2D(h,m,v,k,H,Y,Ae,Te,Ue):Ce.compressedTexSubImage2D(h,m,v,k,H,Y,Ae,_e,Ue,Te):Ce.compressedTexSubImage2D(h,m,v,k,H,Y,Ae,Ue?_e.subarray(Ue,Ue+Te):null)},ja:function(h,m,v,k,H,Y,Ae,Te){Ce.copyTexSubImage2D(h,m,v,k,H,Y,Ae,Te)},ka:function(){var h=zu(ms),m=Ce.createProgram();return m.name=h,m.Ue=m.Se=m.Te=0,m.hf=1,ms[h]=m,h},la:function(h){var m=zu(xs);return xs[m]=Ce.createShader(h),m},ma:function(h){Ce.cullFace(h)},na:function(h,m){for(var v=0;v<h;v++){var k=ee[m+4*v>>2],H=Nh[k];H&&(Ce.deleteBuffer(H),H.name=0,Nh[k]=null,k==Ce.df&&(Ce.df=0),k==Ce.Be&&(Ce.Be=0))}},dc:function(h,m){for(var v=0;v<h;++v){var k=ee[m+4*v>>2],H=Nl[k];H&&(Ce.deleteFramebuffer(H),H.name=0,Nl[k]=null)}},oa:function(h){if(h){var m=ms[h];m?(Ce.deleteProgram(m),m.name=0,ms[h]=null):Dr(1281)}},ec:function(h,m){for(var v=0;v<h;v++){var k=ee[m+4*v>>2],H=Ia[k];H&&(Ce.deleteRenderbuffer(H),H.name=0,Ia[k]=null)}},Qb:function(h,m){for(var v=0;v<h;v++){var k=ee[m+4*v>>2],H=Fl[k];H&&(Ce.deleteSampler(H),H.name=0,Fl[k]=null)}},pa:function(h){if(h){var m=xs[h];m?(Ce.deleteShader(m),xs[h]=null):Dr(1281)}},Yb:function(h){if(h){var m=Ma[h];m?(Ce.deleteSync(m),m.name=0,Ma[h]=null):Dr(1281)}},qa:function(h,m){for(var v=0;v<h;v++){var k=ee[m+4*v>>2],H=rs[k];H&&(Ce.deleteTexture(H),H.name=0,rs[k]=null)}},wc:function(h,m){for(var v=0;v<h;v++){var k=ee[m+4*v>>2];Ce.deleteVertexArray(fo[k]),fo[k]=null}},zc:function(h,m){for(var v=0;v<h;v++){var k=ee[m+4*v>>2];Ce.deleteVertexArray(fo[k]),fo[k]=null}},ra:function(h){Ce.depthMask(!!h)},sa:function(h){Ce.disable(h)},ta:function(h){Ce.disableVertexAttribArray(h)},ua:function(h,m,v){Ce.drawArrays(h,m,v)},tc:function(h,m,v,k){Ce.drawArraysInstanced(h,m,v,k)},rc:function(h,m,v,k,H){Ce.mf.drawArraysInstancedBaseInstanceWEBGL(h,m,v,k,H)},pc:function(h,m){for(var v=Ll[h],k=0;k<h;k++)v[k]=ee[m+4*k>>2];Ce.drawBuffers(v)},va:function(h,m,v,k){Ce.drawElements(h,m,v,k)},uc:function(h,m,v,k,H){Ce.drawElementsInstanced(h,m,v,k,H)},sc:function(h,m,v,k,H,Y,Ae){Ce.mf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(h,m,v,k,H,Y,Ae)},jc:function(h,m,v,k,H,Y){Ce.drawElements(h,k,H,Y)},wa:function(h){Ce.enable(h)},xa:function(h){Ce.enableVertexAttribArray(h)},Ub:function(h,m){return(h=Ce.fenceSync(h,m))?(m=zu(Ma),h.name=m,Ma[m]=h,m):0},ya:function(){Ce.finish()},za:function(){Ce.flush()},fc:function(h,m,v,k){Ce.framebufferRenderbuffer(h,m,v,Ia[k])},gc:function(h,m,v,k,H){Ce.framebufferTexture2D(h,m,v,rs[k],H)},Aa:function(h){Ce.frontFace(h)},Ba:function(h,m){La(h,m,"createBuffer",Nh)},hc:function(h,m){La(h,m,"createFramebuffer",Nl)},ic:function(h,m){La(h,m,"createRenderbuffer",Ia)},Rb:function(h,m){La(h,m,"createSampler",Fl)},Ca:function(h,m){La(h,m,"createTexture",rs)},xc:function(h,m){La(h,m,"createVertexArray",fo)},Ac:function(h,m){La(h,m,"createVertexArray",fo)},Zb:function(h){Ce.generateMipmap(h)},Da:function(h,m,v){v?ee[v>>2]=Ce.getBufferParameter(h,m):Dr(1281)},Ea:function(){var h=Ce.getError()||Fh;return Fh=0,h},_b:function(h,m,v,k){h=Ce.getFramebufferAttachmentParameter(h,m,v),(h instanceof WebGLRenderbuffer||h instanceof WebGLTexture)&&(h=h.name|0),ee[k>>2]=h},E:function(h,m){Lv(h,m)},Fa:function(h,m,v,k){h=Ce.getProgramInfoLog(ms[h]),h===null&&(h="(unknown error)"),m=0<m&&k?ze(h,_e,k,m):0,v&&(ee[v>>2]=m)},Ga:function(h,m,v){if(v)if(h>=Bg)Dr(1281);else if(h=ms[h],m==35716)h=Ce.getProgramInfoLog(h),h===null&&(h="(unknown error)"),ee[v>>2]=h.length+1;else if(m==35719){if(!h.Ue)for(m=0;m<Ce.getProgramParameter(h,35718);++m)h.Ue=Math.max(h.Ue,Ce.getActiveUniform(h,m).name.length+1);ee[v>>2]=h.Ue}else if(m==35722){if(!h.Se)for(m=0;m<Ce.getProgramParameter(h,35721);++m)h.Se=Math.max(h.Se,Ce.getActiveAttrib(h,m).name.length+1);ee[v>>2]=h.Se}else if(m==35381){if(!h.Te)for(m=0;m<Ce.getProgramParameter(h,35382);++m)h.Te=Math.max(h.Te,Ce.getActiveUniformBlockName(h,m).length+1);ee[v>>2]=h.Te}else ee[v>>2]=Ce.getProgramParameter(h,m);else Dr(1281)},$b:function(h,m,v){v?ee[v>>2]=Ce.getRenderbufferParameter(h,m):Dr(1281)},Ha:function(h,m,v,k){h=Ce.getShaderInfoLog(xs[h]),h===null&&(h="(unknown error)"),m=0<m&&k?ze(h,_e,k,m):0,v&&(ee[v>>2]=m)},Mb:function(h,m,v,k){h=Ce.getShaderPrecisionFormat(h,m),ee[v>>2]=h.rangeMin,ee[v+4>>2]=h.rangeMax,ee[k>>2]=h.precision},Ia:function(h,m,v){v?m==35716?(h=Ce.getShaderInfoLog(xs[h]),h===null&&(h="(unknown error)"),ee[v>>2]=h?h.length+1:0):m==35720?(h=Ce.getShaderSource(xs[h]),ee[v>>2]=h?h.length+1:0):ee[v>>2]=Ce.getShaderParameter(xs[h],m):Dr(1281)},I:function(h){var m=Ng[h];if(!m){switch(h){case 7939:m=Ce.getSupportedExtensions()||[],m=m.concat(m.map(function(k){return"GL_"+k})),m=Wu(m.join(" "));break;case 7936:case 7937:case 37445:case 37446:(m=Ce.getParameter(h))||Dr(1280),m=m&&Wu(m);break;case 7938:m=Ce.getParameter(7938),m=2<=cr.version?"OpenGL ES 3.0 ("+m+")":"OpenGL ES 2.0 ("+m+")",m=Wu(m);break;case 35724:m=Ce.getParameter(35724);var v=m.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);v!==null&&(v[1].length==3&&(v[1]+="0"),m="OpenGL ES GLSL ES "+v[1]+" ("+m+")"),m=Wu(m);break;default:Dr(1280)}Ng[h]=m}return m},eb:function(h,m){if(2>cr.version)return Dr(1282),0;var v=Il[h];if(v)return 0>m||m>=v.length?(Dr(1281),0):v[m];switch(h){case 7939:return v=Ce.getSupportedExtensions()||[],v=v.concat(v.map(function(k){return"GL_"+k})),v=v.map(function(k){return Wu(k)}),v=Il[h]=v,0>m||m>=v.length?(Dr(1281),0):v[m];default:return Dr(1280),0}},Ja:function(h,m){function v(je){return je.slice(-1)=="]"&&je.lastIndexOf("[")}m=Ze(m),h=ms[h];var k=h.Ye,H=h.wg,Y,Ae=0,Te=m,Ue=v(m);if(!k)for(h.Ye=k={},h.tf={},Y=0;Y<Ce.getProgramParameter(h,35718);++Y){var Ie=Ce.getActiveUniform(h,Y),ht=Ie.name;Ie=Ie.size;var Dt=v(ht);Dt=0<Dt?ht.slice(0,Dt):ht;var Ut=h.hf;for(h.hf+=Ie,H[Dt]=[Ie,Ut],ht=0;ht<Ie;++ht)k[Ut]=ht,h.tf[Ut++]=Dt}return 0<Ue&&(Ae=parseInt(m.slice(Ue+1))>>>0,Te=m.slice(0,Ue)),(H=H[Te])&&Ae<H[0]&&(Ae+=H[1],k[Ae]=k[Ae]||Ce.getUniformLocation(h,m))?Ae:-1},Nb:function(h,m,v){for(var k=Ll[m],H=0;H<m;H++)k[H]=ee[v+4*H>>2];Ce.invalidateFramebuffer(h,k)},Ob:function(h,m,v,k,H,Y,Ae){for(var Te=Ll[m],Ue=0;Ue<m;Ue++)Te[Ue]=ee[v+4*Ue>>2];Ce.invalidateSubFramebuffer(h,Te,k,H,Y,Ae)},Vb:function(h){return Ce.isSync(Ma[h])},Ka:function(h){return(h=rs[h])?Ce.isTexture(h):0},Ma:function(h){Ce.lineWidth(h)},Na:function(h){h=ms[h],Ce.linkProgram(h),h.Ye=0,h.wg={}},nc:function(h,m,v,k,H,Y){Ce.rf.multiDrawArraysInstancedBaseInstanceWEBGL(h,ee,m>>2,ee,v>>2,ee,k>>2,He,H>>2,Y)},oc:function(h,m,v,k,H,Y,Ae,Te){Ce.rf.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(h,ee,m>>2,v,ee,k>>2,ee,H>>2,ee,Y>>2,He,Ae>>2,Te)},Oa:function(h,m){h==3317&&(Ml=m),Ce.pixelStorei(h,m)},qc:function(h){Ce.readBuffer(h)},Pa:function(h,m,v,k,H,Y,Ae){if(2<=cr.version)if(Ce.df)Ce.readPixels(h,m,v,k,H,Y,Ae);else{var Te=Ua(Y);Ce.readPixels(h,m,v,k,H,Y,Te,Ae>>31-Math.clz32(Te.BYTES_PER_ELEMENT))}else(Ae=jf(Y,H,v,k,Ae))?Ce.readPixels(h,m,v,k,H,Y,Ae):Dr(1280)},ac:function(h,m,v,k){Ce.renderbufferStorage(h,m,v,k)},Xb:function(h,m,v,k,H){Ce.renderbufferStorageMultisample(h,m,v,k,H)},Sb:function(h,m,v){Ce.samplerParameteri(Fl[h],m,v)},Tb:function(h,m,v){Ce.samplerParameteri(Fl[h],m,ee[v>>2])},Qa:function(h,m,v,k){Ce.scissor(h,m,v,k)},Ra:function(h,m,v,k){for(var H="",Y=0;Y<m;++Y){var Ae=k?ee[k+4*Y>>2]:-1;H+=Ze(ee[v+4*Y>>2],0>Ae?void 0:Ae)}Ce.shaderSource(xs[h],H)},Sa:function(h,m,v){Ce.stencilFunc(h,m,v)},Ta:function(h,m,v,k){Ce.stencilFuncSeparate(h,m,v,k)},Ua:function(h){Ce.stencilMask(h)},Va:function(h,m){Ce.stencilMaskSeparate(h,m)},Wa:function(h,m,v){Ce.stencilOp(h,m,v)},Xa:function(h,m,v,k){Ce.stencilOpSeparate(h,m,v,k)},Ya:function(h,m,v,k,H,Y,Ae,Te,Ue){if(2<=cr.version)if(Ce.Be)Ce.texImage2D(h,m,v,k,H,Y,Ae,Te,Ue);else if(Ue){var Ie=Ua(Te);Ce.texImage2D(h,m,v,k,H,Y,Ae,Te,Ie,Ue>>31-Math.clz32(Ie.BYTES_PER_ELEMENT))}else Ce.texImage2D(h,m,v,k,H,Y,Ae,Te,null);else Ce.texImage2D(h,m,v,k,H,Y,Ae,Te,Ue?jf(Te,Ae,k,H,Ue):null)},Za:function(h,m,v){Ce.texParameterf(h,m,v)},_a:function(h,m,v){Ce.texParameterf(h,m,I[v>>2])},$a:function(h,m,v){Ce.texParameteri(h,m,v)},ab:function(h,m,v){Ce.texParameteri(h,m,ee[v>>2])},kc:function(h,m,v,k,H){Ce.texStorage2D(h,m,v,k,H)},bb:function(h,m,v,k,H,Y,Ae,Te,Ue){if(2<=cr.version)if(Ce.Be)Ce.texSubImage2D(h,m,v,k,H,Y,Ae,Te,Ue);else if(Ue){var Ie=Ua(Te);Ce.texSubImage2D(h,m,v,k,H,Y,Ae,Te,Ie,Ue>>31-Math.clz32(Ie.BYTES_PER_ELEMENT))}else Ce.texSubImage2D(h,m,v,k,H,Y,Ae,Te,null);else Ie=null,Ue&&(Ie=jf(Te,Ae,H,Y,Ue)),Ce.texSubImage2D(h,m,v,k,H,Y,Ae,Te,Ie)},cb:function(h,m){Ce.uniform1f(mr(h),m)},db:function(h,m,v){if(2<=cr.version)Ce.uniform1fv(mr(h),I,v>>2,m);else{if(288>=m)for(var k=zo[m-1],H=0;H<m;++H)k[H]=I[v+4*H>>2];else k=I.subarray(v>>2,v+4*m>>2);Ce.uniform1fv(mr(h),k)}},Vc:function(h,m){Ce.uniform1i(mr(h),m)},Wc:function(h,m,v){if(2<=cr.version)Ce.uniform1iv(mr(h),ee,v>>2,m);else{if(288>=m)for(var k=Ul[m-1],H=0;H<m;++H)k[H]=ee[v+4*H>>2];else k=ee.subarray(v>>2,v+4*m>>2);Ce.uniform1iv(mr(h),k)}},Xc:function(h,m,v){Ce.uniform2f(mr(h),m,v)},Yc:function(h,m,v){if(2<=cr.version)Ce.uniform2fv(mr(h),I,v>>2,2*m);else{if(144>=m)for(var k=zo[2*m-1],H=0;H<2*m;H+=2)k[H]=I[v+4*H>>2],k[H+1]=I[v+(4*H+4)>>2];else k=I.subarray(v>>2,v+8*m>>2);Ce.uniform2fv(mr(h),k)}},Uc:function(h,m,v){Ce.uniform2i(mr(h),m,v)},Tc:function(h,m,v){if(2<=cr.version)Ce.uniform2iv(mr(h),ee,v>>2,2*m);else{if(144>=m)for(var k=Ul[2*m-1],H=0;H<2*m;H+=2)k[H]=ee[v+4*H>>2],k[H+1]=ee[v+(4*H+4)>>2];else k=ee.subarray(v>>2,v+8*m>>2);Ce.uniform2iv(mr(h),k)}},Sc:function(h,m,v,k){Ce.uniform3f(mr(h),m,v,k)},Rc:function(h,m,v){if(2<=cr.version)Ce.uniform3fv(mr(h),I,v>>2,3*m);else{if(96>=m)for(var k=zo[3*m-1],H=0;H<3*m;H+=3)k[H]=I[v+4*H>>2],k[H+1]=I[v+(4*H+4)>>2],k[H+2]=I[v+(4*H+8)>>2];else k=I.subarray(v>>2,v+12*m>>2);Ce.uniform3fv(mr(h),k)}},Qc:function(h,m,v,k){Ce.uniform3i(mr(h),m,v,k)},Pc:function(h,m,v){if(2<=cr.version)Ce.uniform3iv(mr(h),ee,v>>2,3*m);else{if(96>=m)for(var k=Ul[3*m-1],H=0;H<3*m;H+=3)k[H]=ee[v+4*H>>2],k[H+1]=ee[v+(4*H+4)>>2],k[H+2]=ee[v+(4*H+8)>>2];else k=ee.subarray(v>>2,v+12*m>>2);Ce.uniform3iv(mr(h),k)}},Oc:function(h,m,v,k,H){Ce.uniform4f(mr(h),m,v,k,H)},Nc:function(h,m,v){if(2<=cr.version)Ce.uniform4fv(mr(h),I,v>>2,4*m);else{if(72>=m){var k=zo[4*m-1],H=I;v>>=2;for(var Y=0;Y<4*m;Y+=4){var Ae=v+Y;k[Y]=H[Ae],k[Y+1]=H[Ae+1],k[Y+2]=H[Ae+2],k[Y+3]=H[Ae+3]}}else k=I.subarray(v>>2,v+16*m>>2);Ce.uniform4fv(mr(h),k)}},Bc:function(h,m,v,k,H){Ce.uniform4i(mr(h),m,v,k,H)},Cc:function(h,m,v){if(2<=cr.version)Ce.uniform4iv(mr(h),ee,v>>2,4*m);else{if(72>=m)for(var k=Ul[4*m-1],H=0;H<4*m;H+=4)k[H]=ee[v+4*H>>2],k[H+1]=ee[v+(4*H+4)>>2],k[H+2]=ee[v+(4*H+8)>>2],k[H+3]=ee[v+(4*H+12)>>2];else k=ee.subarray(v>>2,v+16*m>>2);Ce.uniform4iv(mr(h),k)}},Dc:function(h,m,v,k){if(2<=cr.version)Ce.uniformMatrix2fv(mr(h),!!v,I,k>>2,4*m);else{if(72>=m)for(var H=zo[4*m-1],Y=0;Y<4*m;Y+=4)H[Y]=I[k+4*Y>>2],H[Y+1]=I[k+(4*Y+4)>>2],H[Y+2]=I[k+(4*Y+8)>>2],H[Y+3]=I[k+(4*Y+12)>>2];else H=I.subarray(k>>2,k+16*m>>2);Ce.uniformMatrix2fv(mr(h),!!v,H)}},Ec:function(h,m,v,k){if(2<=cr.version)Ce.uniformMatrix3fv(mr(h),!!v,I,k>>2,9*m);else{if(32>=m)for(var H=zo[9*m-1],Y=0;Y<9*m;Y+=9)H[Y]=I[k+4*Y>>2],H[Y+1]=I[k+(4*Y+4)>>2],H[Y+2]=I[k+(4*Y+8)>>2],H[Y+3]=I[k+(4*Y+12)>>2],H[Y+4]=I[k+(4*Y+16)>>2],H[Y+5]=I[k+(4*Y+20)>>2],H[Y+6]=I[k+(4*Y+24)>>2],H[Y+7]=I[k+(4*Y+28)>>2],H[Y+8]=I[k+(4*Y+32)>>2];else H=I.subarray(k>>2,k+36*m>>2);Ce.uniformMatrix3fv(mr(h),!!v,H)}},Fc:function(h,m,v,k){if(2<=cr.version)Ce.uniformMatrix4fv(mr(h),!!v,I,k>>2,16*m);else{if(18>=m){var H=zo[16*m-1],Y=I;k>>=2;for(var Ae=0;Ae<16*m;Ae+=16){var Te=k+Ae;H[Ae]=Y[Te],H[Ae+1]=Y[Te+1],H[Ae+2]=Y[Te+2],H[Ae+3]=Y[Te+3],H[Ae+4]=Y[Te+4],H[Ae+5]=Y[Te+5],H[Ae+6]=Y[Te+6],H[Ae+7]=Y[Te+7],H[Ae+8]=Y[Te+8],H[Ae+9]=Y[Te+9],H[Ae+10]=Y[Te+10],H[Ae+11]=Y[Te+11],H[Ae+12]=Y[Te+12],H[Ae+13]=Y[Te+13],H[Ae+14]=Y[Te+14],H[Ae+15]=Y[Te+15]}}else H=I.subarray(k>>2,k+64*m>>2);Ce.uniformMatrix4fv(mr(h),!!v,H)}},Gc:function(h){h=ms[h],Ce.useProgram(h),Ce.Df=h},Hc:function(h,m){Ce.vertexAttrib1f(h,m)},Ic:function(h,m){Ce.vertexAttrib2f(h,I[m>>2],I[m+4>>2])},Jc:function(h,m){Ce.vertexAttrib3f(h,I[m>>2],I[m+4>>2],I[m+8>>2])},Kc:function(h,m){Ce.vertexAttrib4f(h,I[m>>2],I[m+4>>2],I[m+8>>2],I[m+12>>2])},lc:function(h,m){Ce.vertexAttribDivisor(h,m)},mc:function(h,m,v,k,H){Ce.vertexAttribIPointer(h,m,v,k,H)},Lc:function(h,m,v,k,H,Y){Ce.vertexAttribPointer(h,m,v,!!k,H,Y)},Mc:function(h,m,v,k){Ce.viewport(h,m,v,k)},gb:function(h,m,v,k){Ce.waitSync(Ma[h],m,(v>>>0)+4294967296*k)},e:function(h,m){throw hn(h,m||1),"longjmp"},pb:function(h){var m=_e.length;if(h>>>=0,2147483648<h)return!1;for(var v=1;4>=v;v*=2){var k=m*(1+.2/v);k=Math.min(k,h+100663296),k=Math.max(h,k),0<k%65536&&(k+=65536-k%65536);e:{try{J.grow(Math.min(2147483648,k)-we.byteLength+65535>>>16),W();var H=1;break e}catch{}H=void 0}if(H)return!0}return!1},ub:function(h,m){var v=0;return Ig().forEach(function(k,H){var Y=m+v;for(H=ee[h+4*H>>2]=Y,Y=0;Y<k.length;++Y)Se[H++>>0]=k.charCodeAt(Y);Se[H>>0]=0,v+=k.length+1}),0},vb:function(h,m){var v=Ig();ee[h>>2]=v.length;var k=0;return v.forEach(function(H){k+=H.length+1}),ee[m>>2]=k,0},Gb:function(h){$||(i.onExit&&i.onExit(h),Z=!0),f(h,new Vg(h))},G:function(){return 0},tb:function(h,m){return h=h==1||h==2?2:Qe(),Se[m>>0]=h,0},nb:function(h,m,v,k,H,Y){return h=Vt.Nf(h),m=Vt.Ef(h,m,v,k),ee[Y>>2]=m,0},wb:function(h,m,v,k){return h=Vt.Nf(h),m=Vt.Ef(h,m,v),ee[k>>2]=m,0},mb:function(){},M:function(h,m,v,k){for(var H=0,Y=0;Y<v;Y++){for(var Ae=ee[m+8*Y>>2],Te=ee[m+(8*Y+4)>>2],Ue=0;Ue<Te;Ue++){var Ie=_e[Ae+Ue],ht=Ft[h];Ie===0||Ie===10?((h===1?B:N)(Fe(ht,0)),ht.length=0):ht.push(Ie)}H+=Te}return ee[k>>2]=H,0},a:function(){return T},l:Hv,o:jv,g:zv,C:Yv,Lb:$v,V:Xv,U:Jv,T:Zv,n:jg,r:Wv,i:Vv,q:Kv,Jb:Hl,Hb:Qv,Ib:qv,b:function(h){T=h},sb:function(h,m,v,k){return Uv(h,m,v,k)}};(function(){function h(H){i.asm=H.exports,J=i.asm.$c,W(),ne=i.asm.cd,Ee.unshift(i.asm.ad),be--,i.monitorRunDependencies&&i.monitorRunDependencies(be),be==0&&Re&&(H=Re,Re=null,H())}function m(H){h(H.instance)}function v(H){return mt().then(function(Y){return WebAssembly.instantiate(Y,k)}).then(H,function(Y){N("failed to asynchronously prepare wasm: "+Y),Qe(Y)})}var k={a:Gv};if(be++,i.monitorRunDependencies&&i.monitorRunDependencies(be),i.instantiateWasm)try{return i.instantiateWasm(k,h)}catch(H){return N("Module.instantiateWasm callback failed with error: "+H),!1}return function(){return M||typeof WebAssembly.instantiateStreaming!="function"||Xe()||et.startsWith("file://")||typeof fetch!="function"?v(m):fetch(et,{credentials:"same-origin"}).then(function(H){return WebAssembly.instantiateStreaming(H,k).then(m,function(Y){return N("wasm streaming compile failed: "+Y),N("falling back to ArrayBuffer instantiation"),v(m)})})}().catch(a),{}})(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.ad).apply(null,arguments)};var Gg=i._memset=function(){return(Gg=i._memset=i.asm.bd).apply(null,arguments)},Gl=i._malloc=function(){return(Gl=i._malloc=i.asm.dd).apply(null,arguments)},is=i._free=function(){return(is=i._free=i.asm.ed).apply(null,arguments)},Ku=i.___errno_location=function(){return(Ku=i.___errno_location=i.asm.fd).apply(null,arguments)},Hg=i.___getTypeName=function(){return(Hg=i.___getTypeName=i.asm.gd).apply(null,arguments)};i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.hd).apply(null,arguments)};var In=i.stackSave=function(){return(In=i.stackSave=i.asm.id).apply(null,arguments)},Mn=i.stackRestore=function(){return(Mn=i.stackRestore=i.asm.jd).apply(null,arguments)},hn=i._setThrew=function(){return(hn=i._setThrew=i.asm.kd).apply(null,arguments)},ys=i._memalign=function(){return(ys=i._memalign=i.asm.ld).apply(null,arguments)};i.dynCall_iiiji=function(){return(i.dynCall_iiiji=i.asm.md).apply(null,arguments)},i.dynCall_ji=function(){return(i.dynCall_ji=i.asm.nd).apply(null,arguments)},i.dynCall_iiji=function(){return(i.dynCall_iiji=i.asm.od).apply(null,arguments)},i.dynCall_iijjiii=function(){return(i.dynCall_iijjiii=i.asm.pd).apply(null,arguments)},i.dynCall_iij=function(){return(i.dynCall_iij=i.asm.qd).apply(null,arguments)},i.dynCall_vijjjii=function(){return(i.dynCall_vijjjii=i.asm.rd).apply(null,arguments)},i.dynCall_viji=function(){return(i.dynCall_viji=i.asm.sd).apply(null,arguments)},i.dynCall_vijiii=function(){return(i.dynCall_vijiii=i.asm.td).apply(null,arguments)},i.dynCall_viiiiij=function(){return(i.dynCall_viiiiij=i.asm.ud).apply(null,arguments)},i.dynCall_viijii=function(){return(i.dynCall_viijii=i.asm.vd).apply(null,arguments)},i.dynCall_jii=function(){return(i.dynCall_jii=i.asm.wd).apply(null,arguments)},i.dynCall_iiij=function(){return(i.dynCall_iiij=i.asm.xd).apply(null,arguments)},i.dynCall_iiiij=function(){return(i.dynCall_iiiij=i.asm.yd).apply(null,arguments)},i.dynCall_viij=function(){return(i.dynCall_viij=i.asm.zd).apply(null,arguments)},i.dynCall_viiij=function(){return(i.dynCall_viiij=i.asm.Ad).apply(null,arguments)},i.dynCall_vij=function(){return(i.dynCall_vij=i.asm.Bd).apply(null,arguments)},i.dynCall_jiiii=function(){return(i.dynCall_jiiii=i.asm.Cd).apply(null,arguments)},i.dynCall_jiiiiii=function(){return(i.dynCall_jiiiiii=i.asm.Dd).apply(null,arguments)},i.dynCall_jiiiiji=function(){return(i.dynCall_jiiiiji=i.asm.Ed).apply(null,arguments)},i.dynCall_iijj=function(){return(i.dynCall_iijj=i.asm.Fd).apply(null,arguments)},i.dynCall_jiji=function(){return(i.dynCall_jiji=i.asm.Gd).apply(null,arguments)},i.dynCall_iiiiij=function(){return(i.dynCall_iiiiij=i.asm.Hd).apply(null,arguments)},i.dynCall_iiiiijj=function(){return(i.dynCall_iiiiijj=i.asm.Id).apply(null,arguments)},i.dynCall_iiiiiijj=function(){return(i.dynCall_iiiiiijj=i.asm.Jd).apply(null,arguments)};function Hv(h,m){var v=In();try{return ne.get(h)(m)}catch(k){if(Mn(v),k!==k+0&&k!=="longjmp")throw k;hn(1,0)}}function jv(h,m,v){var k=In();try{return ne.get(h)(m,v)}catch(H){if(Mn(k),H!==H+0&&H!=="longjmp")throw H;hn(1,0)}}function Vv(h,m,v,k){var H=In();try{ne.get(h)(m,v,k)}catch(Y){if(Mn(H),Y!==Y+0&&Y!=="longjmp")throw Y;hn(1,0)}}function zv(h,m,v,k){var H=In();try{return ne.get(h)(m,v,k)}catch(Y){if(Mn(H),Y!==Y+0&&Y!=="longjmp")throw Y;hn(1,0)}}function jg(h,m){var v=In();try{ne.get(h)(m)}catch(k){if(Mn(v),k!==k+0&&k!=="longjmp")throw k;hn(1,0)}}function Wv(h,m,v){var k=In();try{ne.get(h)(m,v)}catch(H){if(Mn(k),H!==H+0&&H!=="longjmp")throw H;hn(1,0)}}function $v(h,m,v,k,H,Y){var Ae=In();try{return ne.get(h)(m,v,k,H,Y)}catch(Te){if(Mn(Ae),Te!==Te+0&&Te!=="longjmp")throw Te;hn(1,0)}}function Kv(h,m,v,k,H){var Y=In();try{ne.get(h)(m,v,k,H)}catch(Ae){if(Mn(Y),Ae!==Ae+0&&Ae!=="longjmp")throw Ae;hn(1,0)}}function Xv(h,m,v,k,H,Y,Ae){var Te=In();try{return ne.get(h)(m,v,k,H,Y,Ae)}catch(Ue){if(Mn(Te),Ue!==Ue+0&&Ue!=="longjmp")throw Ue;hn(1,0)}}function Yv(h,m,v,k,H){var Y=In();try{return ne.get(h)(m,v,k,H)}catch(Ae){if(Mn(Y),Ae!==Ae+0&&Ae!=="longjmp")throw Ae;hn(1,0)}}function Hl(h,m,v,k,H,Y){var Ae=In();try{ne.get(h)(m,v,k,H,Y)}catch(Te){if(Mn(Ae),Te!==Te+0&&Te!=="longjmp")throw Te;hn(1,0)}}function qv(h,m,v,k,H,Y,Ae,Te,Ue,Ie){var ht=In();try{ne.get(h)(m,v,k,H,Y,Ae,Te,Ue,Ie)}catch(Dt){if(Mn(ht),Dt!==Dt+0&&Dt!=="longjmp")throw Dt;hn(1,0)}}function Qv(h,m,v,k,H,Y,Ae){var Te=In();try{ne.get(h)(m,v,k,H,Y,Ae)}catch(Ue){if(Mn(Te),Ue!==Ue+0&&Ue!=="longjmp")throw Ue;hn(1,0)}}function Jv(h,m,v,k,H,Y,Ae,Te,Ue,Ie){var ht=In();try{return ne.get(h)(m,v,k,H,Y,Ae,Te,Ue,Ie)}catch(Dt){if(Mn(ht),Dt!==Dt+0&&Dt!=="longjmp")throw Dt;hn(1,0)}}function Zv(h){var m=In();try{ne.get(h)()}catch(v){if(Mn(m),v!==v+0&&v!=="longjmp")throw v;hn(1,0)}}var Uh;function Vg(h){this.name="ExitStatus",this.message="Program terminated with exit("+h+")",this.status=h}Re=function h(){Uh||zf(),Uh||(Re=h)};function zf(){function h(){if(!Uh&&(Uh=!0,i.calledRun=!0,!Z)){if(ot(Ee),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;){var m=i.postRun.shift();le.unshift(m)}ot(le)}}if(!(0<be)){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)ue();ot(fe),0<be||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),h()},1)):h())}}if(i.run=zf,i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return zf(),s.ready}}();t.exports=r})(l3);const W5=l3.exports,$5=""+new URL("canvaskit.63f87ea9.wasm",import.meta.url).href,K5={locateFile:()=>$5};let Ar;async function X5(){Ar=await W5(K5)}function ic(t){const e=new Ar.Paint;try{return t(e)}finally{e.deleteLater()}}function Y5(t){return e=>{const r=Ar.Path.MakeFromSVGString(t);r||gt();try{return e(r)}finally{r.deleteLater()}}}function q5(t){const e=new Ar.Path;e||gt();try{return t(e)}finally{e.deleteLater()}}var Dn=(t=>(t.none="none",t.arrow="default",t.pointer="pointer",t.grab="grab",t.grabbing="grabbing",t.move="move",t.text="text",t))(Dn||{});class jS extends Kt{constructor(r,n){super();c(this,"isActivated",!1);c(this,"_cursorBefore");c(this,"_phase",Ys.noop);this.canvas=r,this.cursor=n}get phase(){return this._phase}set phase(r){this._phase=r}activate(){this.isActivated=!0,this._cursorBefore=this.canvas.view.currentCursor(),this.useCursor(this.cursor)}deactivate(){this.isActivated=!1,this._cursorBefore||gt(),this.useCursor(this._cursorBefore),this._cursorBefore=void 0}useCursor(r){this.canvas.view.setCursor(r)}resetCursorStyle(){this.useCursor(this.cursor)}convertToPixelCoord(r){return{x:Math.round(r.clientX),y:Math.round(r.clientY)}}processEvent(r){}isStrokeTool(){return!1}}class K0 extends jS{beginPrimaryAction(e){}continuePrimaryAction(e){}endPrimaryAction(e){}isStrokeTool(){return!0}}var HA={exports:{}};(function(t,e){(function(r,n){{var s=n();t&&t.exports&&(e=t.exports=s),e.randomColor=s}})(K,function(){var r=null,n={};R();var s=[],i=function(N){if(N=N||{},N.seed!==void 0&&N.seed!==null&&N.seed===parseInt(N.seed,10))r=N.seed;else if(typeof N.seed=="string")r=U(N.seed);else{if(N.seed!==void 0&&N.seed!==null)throw new TypeError("The seed value must be an integer or string");r=null}var T,M,$;if(N.count!==null&&N.count!==void 0){for(var J=N.count,Z=[],re=0;re<N.count;re++)s.push(!1);for(N.count=null;J>Z.length;){var ge=i(N);r!==null&&(N.seed=r),Z.push(ge)}return N.count=J,Z}return T=o(N),M=a(T,N),$=l(T,M,N),u([T,M,$],N)};function o(N){if(s.length>0){var T=B(N.hue),M=E(T),$=(T[1]-T[0])/s.length,J=parseInt((M-T[0])/$);s[J]===!0?J=(J+2)%s.length:s[J]=!0;var Z=(T[0]+J*$)%359,re=(T[0]+(J+1)*$)%359;return T=[Z,re],M=E(T),M<0&&(M=360+M),M}else{var T=f(N.hue);return M=E(T),M<0&&(M=360+M),M}}function a(N,T){if(T.hue==="monochrome")return 0;if(T.luminosity==="random")return E([0,100]);var M=g(N),$=M[0],J=M[1];switch(T.luminosity){case"bright":$=55;break;case"dark":$=J-10;break;case"light":J=55;break}return E([$,J])}function l(N,T,M){var $=d(N,T),J=100;switch(M.luminosity){case"dark":J=$+20;break;case"light":$=(J+$)/2;break;case"random":$=0,J=100;break}return E([$,J])}function u(N,T){switch(T.format){case"hsvArray":return N;case"hslArray":return F(N);case"hsl":var M=F(N);return"hsl("+M[0]+", "+M[1]+"%, "+M[2]+"%)";case"hsla":var $=F(N),re=T.alpha||Math.random();return"hsla("+$[0]+", "+$[1]+"%, "+$[2]+"%, "+re+")";case"rgbArray":return P(N);case"rgb":var J=P(N);return"rgb("+J.join(", ")+")";case"rgba":var Z=P(N),re=T.alpha||Math.random();return"rgba("+Z.join(", ")+", "+re+")";default:return D(N)}}function d(N,T){for(var M=x(N).lowerBounds,$=0;$<M.length-1;$++){var J=M[$][0],Z=M[$][1],re=M[$+1][0],ge=M[$+1][1];if(T>=J&&T<=re){var Fe=(ge-Z)/(re-J),Ze=Z-Fe*J;return Fe*T+Ze}}return 0}function f(N){if(typeof parseInt(N)=="number"){var T=parseInt(N);if(T<360&&T>0)return[T,T]}if(typeof N=="string"){if(n[N]){var M=n[N];if(M.hueRange)return M.hueRange}else if(N.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var $=O(N)[0];return[$,$]}}return[0,360]}function g(N){return x(N).saturationRange}function x(N){N>=334&&N<=360&&(N-=360);for(var T in n){var M=n[T];if(M.hueRange&&N>=M.hueRange[0]&&N<=M.hueRange[1])return n[T]}return"Color not found"}function E(N){if(r===null){var T=.618033988749895,M=Math.random();return M+=T,M%=1,Math.floor(N[0]+M*(N[1]+1-N[0]))}else{var $=N[1]||1,J=N[0]||0;r=(r*9301+49297)%233280;var Z=r/233280;return Math.floor(J+Z*($-J))}}function D(N){var T=P(N);function M(J){var Z=J.toString(16);return Z.length==1?"0"+Z:Z}var $="#"+M(T[0])+M(T[1])+M(T[2]);return $}function A(N,T,M){var $=M[0][0],J=M[M.length-1][0],Z=M[M.length-1][1],re=M[0][1];n[N]={hueRange:T,lowerBounds:M,saturationRange:[$,J],brightnessRange:[Z,re]}}function R(){A("monochrome",null,[[0,0],[100,0]]),A("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),A("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),A("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),A("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),A("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),A("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),A("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function P(N){var T=N[0];T===0&&(T=1),T===360&&(T=359),T=T/360;var M=N[1]/100,$=N[2]/100,J=Math.floor(T*6),Z=T*6-J,re=$*(1-M),ge=$*(1-Z*M),Fe=$*(1-(1-Z)*M),Ze=256,ze=256,Le=256;switch(J){case 0:Ze=$,ze=Fe,Le=re;break;case 1:Ze=ge,ze=$,Le=re;break;case 2:Ze=re,ze=$,Le=Fe;break;case 3:Ze=re,ze=ge,Le=$;break;case 4:Ze=Fe,ze=re,Le=$;break;case 5:Ze=$,ze=re,Le=ge;break}var it=[Math.floor(Ze*255),Math.floor(ze*255),Math.floor(Le*255)];return it}function O(N){N=N.replace(/^#/,""),N=N.length===3?N.replace(/(.)/g,"$1$1"):N;var T=parseInt(N.substr(0,2),16)/255,M=parseInt(N.substr(2,2),16)/255,$=parseInt(N.substr(4,2),16)/255,J=Math.max(T,M,$),Z=J-Math.min(T,M,$),re=J?Z/J:0;switch(J){case T:return[60*((M-$)/Z%6)||0,re,J];case M:return[60*(($-T)/Z+2)||0,re,J];case $:return[60*((T-M)/Z+4)||0,re,J]}}function F(N){var T=N[0],M=N[1]/100,$=N[2]/100,J=(2-M)*$;return[T,Math.round(M*$/(J<1?J:2-J)*1e4)/100,J/2*100]}function U(N){for(var T=0,M=0;M!==N.length&&!(T>=Number.MAX_SAFE_INTEGER);M++)T+=N.charCodeAt(M);return T}function B(N){if(isNaN(N)){if(typeof N=="string"){if(n[N]){var M=n[N];if(M.hueRange)return M.hueRange}else if(N.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var $=O(N)[0];return x($).hueRange}}}else{var T=parseInt(N);if(T<360&&T>0)return x(N).hueRange}return[0,360]}return i})})(HA,HA.exports);const Q5=HA.exports;function vu(t){return`${t}px`}function u3(t){return`matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.tx}, ${t.ty})`}const sd=class{constructor(e){this.symbol=e,Object.freeze(this)}static fromFullPath(e){const r=Symbol.for(`${e.join("/")}`);return this.instances.has(r)||this.instances.set(r,new sd(r)),this.instances.get(r)}createChild(e){const r=Symbol.keyFor(this.symbol);return sd.fromFullPath(r.split("/").concat(e))}get key(){return Symbol.keyFor(this.symbol)}get name(){return io(this.key.split("/"))}get parent(){const e=this.key.split("/");if(e.length!==1)return e.pop(),sd.fromFullPath(e)}get path(){return this.key.split("/")}EQ(e){return this.symbol===e.symbol}NE(e){return this.symbol!==e.symbol}*[Symbol.iterator](){const e=this.path;for(let r=0,n=e.length;r<n;r++)yield sd.fromFullPath(e.slice(0,r+1))}};let Tp=sd;c(Tp,"instances",new Map);const J5=Tp.fromFullPath([""]),qk=class{constructor(e,r){this.id=e,this.scope=r,Object.freeze(this)}static create(e,r){let n=this.scoped.get(r);return n||(n=new Map,this.scoped.set(r,n)),n.has(e)||n.set(e,new qk(e,r)),n.get(e)}EQ(e){return this.id===e.id&&this.scope.EQ(e.scope)}NE(e){return!this.EQ(e)}};let $m=qk;c($m,"scoped",new WeakMap);const Cp="id",jA="data-scope",c3="data-root",VA="data-com-type";function Z5(t){return t.getAttribute(jA)||""}function e6(t){return t.getAttribute(c3)||""}function X0(t){const e=t.getAttribute(VA);return Q(e),e}function t6(t){return!!e6(t)}function h3(t){return t.getAttribute(Cp)||""}function VS(t){const e=Z5(t).split("/");if(t6(t)){const r=h3(t);e.push(r)}return Tp.fromFullPath(e)}function r6(t){return $m.create(h3(t),VS(t))}function zS(t,e){return`${Reflect.get(t,"name")}::${Reflect.get(e,"name")}`}var Zx=(t=>(t[t.kDispatchSubtreeModifiedEvent=0]="kDispatchSubtreeModifiedEvent",t[t.kOmitSubtreeModifiedEvent=1]="kOmitSubtreeModifiedEvent",t))(Zx||{});class n6{constructor(e){c(this,"base_");c(this,"current_");this.base_=e}First(){return this.current_=this.base_.firstChild,this.current_}Next(){if(!!this.current_){if(this.current_.firstChild)this.current_=this.current_.firstChild;else{for(;!this.current_.next_sibling();)if(this.current_=this.current_.parentNode,this.current_===this.base_)return this.current_=void 0,this.current_;this.current_=this.current_.next_sibling()}return this.current_}}}class zA{constructor(){c(this,"collection_",[])}Length(){return this.collection_.length}get length(){return this.Length()}Item(e){return this.collection_[e]}AppendNode(e){this.collection_.push(e)}Clear(){this.collection_.length=0}indexOf(e){return this.collection_.indexOf(e)}[Symbol.iterator](){let e=0;return{next:()=>{if(e<this.Length()){let r=this.Item(e);return e++,{value:r,done:!1}}else return{value:void 0,done:!0}}}}}class i6{constructor(e){c(this,"parent_");c(this,"current_");this.parent_=e}First(){return this.current_=this.parent_.firstChild,this.current_}Next(){return this.current_&&(this.current_=this.current_.next_sibling()),this.current_}}class WS extends zA{constructor(r){super();c(this,"base_");c(this,"base_node_generation_");this.base_=r,this.base_node_generation_=d3.kInvalidNodeGeneration}static CreateWithChildren(r){return Q(r),new Proxy(new WS(r),{get:function(n,s,i){if(ki(s)){let o=parseInt(s);if(!Number.isNaN(o))return n.Item(o)}return Reflect.get(n,s)}})}Length(){return this.MaybeRefreshCollection(),super.Length()}get length(){return this.MaybeRefreshCollection(),super.length}Item(r){return this.MaybeRefreshCollection(),super.Item(r)}MaybeRefreshCollection(){if(this.base_node_generation_!=this.base_.node_generation()){this.Clear();let r=new i6(this.base_),n=r.First();for(;n;)this.AppendNode(n),n=r.Next();this.base_node_generation_=this.base_.node_generation()}}}var wo=(t=>(t[t.kElementNode=1]="kElementNode",t[t.kTextNode=3]="kTextNode",t[t.kCommentNode=8]="kCommentNode",t[t.kDocumentNode=9]="kDocumentNode",t))(wo||{}),d3=(t=>(t[t.kInvalidNodeGeneration=0]="kInvalidNodeGeneration",t[t.kInitialNodeGeneration=1]="kInitialNodeGeneration",t))(d3||{});class f3{}const Km=2,Xm=4,WA=15,s6=17;var o6=(t=>(t[t.kNoStyleChange=0]="kNoStyleChange",t[t.kLocalStyleChange=1<<WA]="kLocalStyleChange",t[t.kSubtreeStyleChange=2<<WA]="kSubtreeStyleChange",t))(o6||{}),a6=(t=>(t[t.kHasRareDataFlag=1]="kHasRareDataFlag",t[t.kIsContainerFlag=2]="kIsContainerFlag",t[t.kDOMNodeTypeMask=3<<Km]="kDOMNodeTypeMask",t[t.kElementNamespaceTypeMask=3<<Xm]="kElementNamespaceTypeMask",t[t.kIsLinkFlag=64]="kIsLinkFlag",t[t.kIsUserActionElementFlag=128]="kIsUserActionElementFlag",t[t.kIsConnectedFlag=256]="kIsConnectedFlag",t[t.kIsInShadowTreeFlag=512]="kIsInShadowTreeFlag",t[t.kIsFinishedParsingChildrenFlag=1024]="kIsFinishedParsingChildrenFlag",t[t.kHasCustomStyleCallbacksFlag=2048]="kHasCustomStyleCallbacksFlag",t[t.kChildNeedsStyleInvalidationFlag=4096]="kChildNeedsStyleInvalidationFlag",t[t.kNeedsStyleInvalidationFlag=8192]="kNeedsStyleInvalidationFlag",t[t.kChildNeedsStyleRecalcFlag=16384]="kChildNeedsStyleRecalcFlag",t[t.kStyleChangeMask=3<<WA]="kStyleChangeMask",t[t.kCustomElementStateMask=7<<s6]="kCustomElementStateMask",t[t.kHasNameOrIsEditingTextFlag=1048576]="kHasNameOrIsEditingTextFlag",t[t.kHasEventTargetDataFlag=2097152]="kHasEventTargetDataFlag",t[t.kNeedsReattachLayoutTree=4194304]="kNeedsReattachLayoutTree",t[t.kChildNeedsReattachLayoutTree=8388608]="kChildNeedsReattachLayoutTree",t[t.kHasDuplicateAttributes=16777216]="kHasDuplicateAttributes",t[t.kForceReattachLayoutTree=33554432]="kForceReattachLayoutTree",t[t.kHasDisplayLockContext=67108864]="kHasDisplayLockContext",t[t.kSelfOrAncestorHasDirAutoAttribute=134217728]="kSelfOrAncestorHasDirAutoAttribute",t[t.kCachedDirectionalityIsRtl=268435456]="kCachedDirectionalityIsRtl",t[t.kNeedsInheritDirectionalityFromParent=536870912]="kNeedsInheritDirectionalityFromParent",t[t.kDefaultNodeFlags=1024]="kDefaultNodeFlags",t))(a6||{}),Z_=(t=>(t[t.kElement=0]="kElement",t[t.kText=1<<Km]="kText",t[t.kDocumentFragment=2<<Km]="kDocumentFragment",t[t.kOther=3<<Km]="kOther",t))(Z_||{}),ql=(t=>(t[t.kHTML=0]="kHTML",t[t.kMathML=1<<Xm]="kMathML",t[t.kSVG=2<<Xm]="kSVG",t[t.kOther=3<<Xm]="kOther",t))(ql||{}),Ns=(t=>(t[t.kCreateNone=0]="kCreateNone",t[t.kCreateOther=1024|Z_.kOther|ql.kOther]="kCreateOther",t[t.kCreateText=1024|Z_.kText|ql.kOther]="kCreateText",t[t.kCreateContainer=1026|Z_.kOther|ql.kOther]="kCreateContainer",t[t.kCreateElement=1026|ql.kOther]="kCreateElement",t[t.kCreateDocumentFragment=1026|Z_.kDocumentFragment|ql.kOther]="kCreateDocumentFragment",t[t.kCreateShadowRoot=t.kCreateDocumentFragment|512]="kCreateShadowRoot",t[t.kCreateHTMLElement=1026]="kCreateHTMLElement",t[t.kCreateMathMLElement=1026|ql.kMathML]="kCreateMathMLElement",t[t.kCreateSVGElement=1026|ql.kSVG]="kCreateSVGElement",t[t.kCreateDocument=t.kCreateContainer|256]="kCreateDocument",t[t.kCreateEditingText=t.kCreateText|1048576]="kCreateEditingText",t))(Ns||{});class $S{constructor(e,r){c(this,"parent_");c(this,"first_child_");c(this,"last_child_");c(this,"next_sibling_");c(this,"previous_sibling_");c(this,"node_document_");c(this,"inserted_into_document_",!1);c(this,"node_value_");c(this,"node_generation_",1);c(this,"node_flags_",0);c(this,"layout_object_");this.node_flags_=e,r&&(this.node_document_=r)}IsDocument(){return this.getNodeType()===9}IsElement(){return this.getNodeType()===1}IsText(){return this.getNodeType()===3}isConnected(){return this.inserted_into_document_}get nodeType(){return this.getNodeType()}get nodeValue(){return this.node_value_}set nodeValue(e){}get firstChild(){return this.first_child_}get lastChild(){return this.last_child_}next_sibling(){return this.next_sibling_}get nextSibling(){return this.next_sibling()}previous_sibling(){return this.previous_sibling_}get previousSibling(){return this.previous_sibling()}SetPreviousSibling(e){this.previous_sibling_=e}SetNextSibling(e){this.next_sibling_=e}get childNodes(){return WS.CreateWithChildren(this)}get parentElement(){var e;return(e=this.parent_)==null?void 0:e.AsElement()}get parentNode(){return this.parent_}SetParentNode(e){this.parent_=e}GetDocument(){return this.node_document_}compareDocumentPosition(e){return $e()}AsComment(){}AsText(){}AsElement(){}AsCharacterData(){}AsContainerNode(){}get textContent(){let e=this.AsText();if(e)return e.data;let r=this.AsComment();if(r)return r.data;if(this.IsDocument())return"";let n="",s=this.firstChild;for(;s;)(s.IsText()||s.IsElement())&&(n+=s.textContent||""),s=s.next_sibling();return n}set textContent(e){switch(e=e||"",this.getNodeType()){case 3:case 8:this.nodeValue=e;return;case 1:{let r=this.AsContainerNode();if(Q(r),this.childNodes.length==1){let s=this.first_child_.AsText();if(s&&s.data===e&&e.length>0)return}e?(r.RemoveChildren(Zx.kOmitSubtreeModifiedEvent),r.appendChild(this.GetDocument().createTextNode(e))):r.RemoveChildren(Zx.kDispatchSubtreeModifiedEvent)}case 9:return}gt()}first_element_child(){let e=this.firstChild;for(;e;){if(e.IsElement())return e;e=e.nextSibling}}get lastElementChild(){let e=this.lastChild;for(;e;){if(e.IsElement())return e;e=e.previousSibling}}get nextElementSibling(){let e=this.next_sibling();for(;e;){if(e.IsElement())return e.AsElement();e=e.next_sibling()}}contains(e){let r=e;for(;r;){if(this===r)return!0;r=r.parentNode}return!1}CommonAncestor(e){if(this==e)return this;if(this.GetDocument()!=e.GetDocument())return;let r=0;for(let o=this;o;o=o.parentNode){if(o==e)return o;r++}let n=0;for(let o=e;o;o=o.parentNode){if(o==this)return this;n++}let s=this,i=e;if(r>n)for(let o=r;o>n;--o)s=Os(s).parentNode;else if(n>r)for(let o=n;o>r;--o)i=Os(i).parentNode;for(;s;){if(s==i)return s;s=Os(s).parentNode,i=Os(i).parentNode}Q(!i)}HasChildNodes(){return!!this.first_child_}appendChild(e){return this.PreInsert(e)}removeChild(e){return this.PreRemove(e)}insertBefore(e,r){return this.PreInsert(e,r)}ReplaceAll(e){e&&e.AdoptIntoDocument(this.GetDocument());let r=new zA,n=this.first_child_;for(;n;)r.AppendNode(n),n=n.next_sibling();let s=new zA;for(e&&s.AppendNode(e);this.HasChildNodes();)this.Remove(this.firstChild,!0);e&&this.Insert(e,void 0,!0)}cloneNode(e){let r=this.Duplicate();if(Q(r),e){let n=this.first_child_;for(;n;){let s=n.cloneNode(!0);Q(s),r.appendChild(s),n=n.next_sibling_}}return r}node_generation(){return this.node_generation_}UpdateGenerationForNodeAndAncestors(){++this.node_generation_==0&&(this.node_generation_=1),this.parent_&&this.parent_.UpdateGenerationForNodeAndAncestors()}GetRootNode(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}AdoptIntoDocument(e){if(Q(!this.IsDocument()),!e)return;this.parent_&&this.parent_.removeChild(this),this.node_document_=e;let r=new n6(this),n=r.First();for(;n;)n.node_document_=e,n=r.Next()}PreInsert(e,r){if(!!this.EnsurePreInsertionValidity(e,r))return e.AdoptIntoDocument(this.node_document_),this.Insert(e,r==e?r.nextSibling:r),e}EnsurePreInsertionValidity(e,r){if(!e||!this.IsDocument()&&!this.IsElement())return!1;let n=this;for(;n;){if(e==n)return!1;n=n.parentNode}return!(r&&r.parentNode!=this||e.IsDocument())}PreRemove(e){if(!(!e||e.parentNode!==this.AsContainerNode()))return this.Remove(e),e}Insert(e,r,n=!0){var o;e.parent_=this.AsContainerNode();let s=r,i=s?s.previous_sibling_:this.last_child_;i?i.next_sibling_=e:this.first_child_=e,e.previous_sibling_=i,s?s.previous_sibling_=e:this.last_child_=e,e.next_sibling_=s,this.OnMutation(),e.UpdateGenerationForNodeAndAncestors(),this.InvalidateLayoutBoxesOfNodeAndAncestors(),this.inserted_into_document_&&(e.OnInsertedIntoDocument(),(o=this.GetDocument())==null||o.OnDOMMutation())}OnInsertedIntoDocument(){Q(this.node_document_),Q(!this.inserted_into_document_),this.inserted_into_document_=!0,this.GetDocument().onNodeInserted(this);let e=this.first_child_;for(;e;)e.OnInsertedIntoDocument(),e=e.next_sibling_}OnRemovedFromDocument(){Q(this.inserted_into_document_),this.inserted_into_document_=!1,this.GetDocument().onNodeRemoved(this);let e=this.first_child_;for(;e;)e.OnRemovedFromDocument(),e=e.next_sibling_}OnMutation(){}Remove(e,r=!0){var o;Q(e),this.OnMutation(),e.UpdateGenerationForNodeAndAncestors(),this.InvalidateLayoutBoxesOfNodeAndAncestors(),e.InvalidateComputedStylesOfNodeAndDescendants(),e.InvalidateLayoutBoxesOfNodeAndDescendants(),e.inserted_into_document_&&(e.OnRemovedFromDocument(),e.MarkNotDisplayedOnNodeAndDescendants());let s=e.previous_sibling_;s?s.next_sibling_=e.next_sibling_:this.first_child_=e.next_sibling_;let i=e.next_sibling_;i?i.previous_sibling_=e.previous_sibling_:this.last_child_=e.previous_sibling_,e.parent_=void 0,e.previous_sibling_=void 0,e.next_sibling_=void 0,(o=e.GetDocument())==null||o.OnDOMMutation()}InvalidateLayoutBoxesOfNodeAndAncestors(){this.InvalidateLayoutBoxesOfAncestors()}InvalidateLayoutBoxesOfNodeAndDescendants(){this.InvalidateLayoutBoxesOfDescendants()}InvalidateLayoutBoxesOfAncestors(){this.parent_&&this.parent_.InvalidateLayoutBoxesOfNodeAndAncestors()}InvalidateLayoutBoxesOfDescendants(){let e=this.first_child_;for(;e;)e.InvalidateLayoutBoxesOfNodeAndDescendants(),e=e.next_sibling()}InvalidateComputedStylesOfNodeAndDescendants(){this.InvalidateComputedStylesOfDescendants()}InvalidateComputedStylesOfDescendants(){let e=this.first_child_;for(;e;)e.InvalidateComputedStylesOfNodeAndDescendants(),e=e.next_sibling()}MarkNotDisplayedOnDescendants(){let e=this.first_child_;for(;e;)e.MarkNotDisplayedOnNodeAndDescendants(),e=e.next_sibling_}MarkNotDisplayedOnNodeAndDescendants(){this.MarkNotDisplayedOnDescendants()}GetLayoutObject(){return this.layout_object_}SetLayoutObject(e){this.layout_object_=e}ClearFlag(e){this.node_flags_&=~e}GetFlag(e){return this.node_flags_&e}SetFlag(e){this.node_flags_|=e}ClearNeedsReattachLayoutTree(){this.ClearFlag(4194304)}ClearChildNeedsReattachLayoutTree(){this.ClearFlag(8388608)}ChildNeedsReattachLayoutTree(){return this.GetFlag(8388608)}SetHasDisplayLockContext(){this.SetFlag(67108864)}HasDisplayLockContext(){return this.GetFlag(67108864)}IsInUserAgentShadowRoot(){return console.warn("shadowroot"),!1}DispatchSubtreeModifiedEvent(){}}class _3 extends f3{constructor(){super(...arguments);c(this,"entering_node_",!0);c(this,"out_stream_","")}VisitDocument(r){gt()}VisitElement(r){this.entering_node_?(this.out_stream_+="<",this.out_stream_+=r.tagName,this.out_stream_=l6(r,this.out_stream_),this.out_stream_+=">"):(this.out_stream_+="</",this.out_stream_+=r.tagName,this.out_stream_+=">")}VisitText(r){this.entering_node_&&(this.out_stream_+=r.data)}SerializeDescendantsOnly(r){let n=r.firstChild;for(;n;)this.Serialize(n),n=n.next_sibling()}Serialize(r){this.entering_node_=!0,r.Accept(this),this.SerializeDescendantsOnly(r),this.entering_node_=!1,r.Accept(this)}SerializeSelfOnly(r){this.entering_node_=!0,r.Accept(this),r.firstChild&&(this.out_stream_+="..."),this.entering_node_=!1,r.Accept(this)}toString(){return this.out_stream_}VisitComment(r){this.entering_node_&&(this.out_stream_+="<!--",this.out_stream_+=r.data,this.out_stream_+="-->")}}function l6(t,e){let r=t.attributes;{const s=t.AsHTMLElement();s&&(e+=` style="${s.style.toString()}"`)}let n=Array.from(r.keys());n.sort((s,i)=>s.localeCompare(i));for(let s of n){let i=s,o=r.get(s);e+=" ",e+=i,o.length&&(e+="=",e+='"',e+=o.toString(),e+='"')}return e}function hs(t,e,...r){Q(t>=e)}function jr(t,e){Q(t<=e)}function er(t,e,...r){}class p3 extends $S{ChildrenChangedAllChildrenRemovedNeedsList(){return!1}RemoveChildren(e){if(!!this.first_child_){this.WillRemoveChildren(),this.ChildrenChangedAllChildrenRemovedNeedsList();{{let r;for(;r=this.first_child_;)this.RemoveBetween(void 0,r.nextSibling,r)}e==Zx.kDispatchSubtreeModifiedEvent&&this.DispatchSubtreeModifiedEvent()}}}RemoveBetween(e,r,n){er(n.parentNode),r&&r.SetPreviousSibling(e),e&&e.SetNextSibling(r),this.first_child_==n&&this.SetFirstChild(r),this.last_child_==n&&this.SetLastChild(e),n.SetPreviousSibling(void 0),n.SetNextSibling(void 0),n.SetParentNode(void 0)}GetChildNodes(){let e=[];for(let r=this.firstChild;r;r=r.nextSibling)e.push(r);return e}WillRemoveChildren(){let e=this.GetChildNodes();for(let r of e)Q(r),this.DispatchChildRemovalEvents(r)}DispatchChildRemovalEvents(e){}NotifyNodeRemoved(e){}AsContainerNode(){return this}SetFirstChild(e){this.first_child_=e}SetLastChild(e){this.last_child_=e}}const qf="style";class u6 extends p3{constructor(r,n,s){var e=(...args)=>{super(...args);c(this,"local_name_");c(this,"attribute_map_",new Map);c(this,"element_flags_",6)};ki(n)?(e(r||Ns.kCreateElement),this.local_name_=n):(e(r||Ns.kCreateElement,n),this.local_name_=s)}Accept(r){r.VisitElement(this)}getNodeType(){return wo.kElementNode}get nodeName(){return this.tagName}get tagName(){return this.local_name_}get className(){return this.getAttribute("class")||""}get id(){return this.getAttribute("id")||""}set id(r){this.setAttribute("id",r)}AsElement(){return this}AsHTMLElement(){}get attributes(){return this.attribute_map_}copyAttributes(r){this.attribute_map_=to(r.attribute_map_)}setAttribute(r,n){let s=this.GetDocument(),i=n.toString(),o=r.toString();switch(s&&(o=o.toLocaleLowerCase()),o){case qf:$e();default:{if(this.attribute_map_.get(o)===i)return;this.attribute_map_.set(o,i);break}}switch(o){case"class":$e();break}s&&this.GetRootNode()==s&&s.OnDOMMutation(),this.OnSetAttribute(o,i)}getAttribute(r){let n=this.GetDocument(),s=r;switch(n&&(s=s.toLocaleLowerCase()),s.length){case 5:if(s==qf)return this.GetStyleAttribute();default:return this.attribute_map_.get(s)||null}}removeAttribute(r){let n=this.GetDocument(),s=r;switch(n&&!n.IsXMLDocument()&&(s=s.toLowerCase()),this.getAttribute(s),s.length){case 5:if(s==qf){this.RemoveStyleAttribute();break}default:{this.attribute_map_.delete(s);break}}switch(s.length){case 2:break;case 5:s=="class"&&this.UpdateGenerationForNodeAndAncestors();break}n&&this.GetRootNode()==n&&n.OnDOMMutation(),this.OnRemoveAttribute(s)}GetStyleAttribute(){return this.attribute_map_.get(qf)||null}RemoveStyleAttribute(){this.attribute_map_.delete(qf)}hasAttribute(r){let n=this.GetDocument(),s=r;return n&&!n.IsXMLDocument()&&(s=s.toLowerCase()),this.attribute_map_.has(s)}get innerHTML(){let r=new _3;return r.SerializeDescendantsOnly(this),r.toString()}IsInTopLayer(){return this.HasElementFlag(16)}HasElementFlag(r){return rn(this.element_flags_)?!1:!!(this.element_flags_&r)}getBoundingClientRect(){const r=this.GetLayoutObject();Q(r);const n=r.box.GetClientRect();return new DOMRect(n.x().toFloat(),n.y().toFloat(),n.width().toFloat(),n.height().toFloat())}}class Qi{}const c6="absolute",h6="alternate",d6="alternate-reverse",f6="auto",_6="backwards",p6="baseline",g6="block",m6="bold",x6="both",y6="bottom",v6="break-word",E6="center",A6="clip",w6="collapse",S6="column",b6="column-reverse",k6="contain",T6="content",C6="cover",P6="currentColor",D6="cursive",R6="ellipsis",O6="end",B6="equirectangular",N6="fantasy",F6="fixed",I6="flex-end",M6="flex",L6="flex-start",U6="forwards",G6="hidden",H6="infinite",j6="inherit",V6="initial",z6="inline-block",W6="inline-flex",$6="inline",K6="inset",X6="italic",Y6="left",q6="line-through",Q6="middle",J6="monoscopic",Z6="monospace",eU="none",tU="no-repeat",KS="normal",rU="nowrap",nU="oblique",iU="pre",sU="pre-line",oU="pre-wrap",aU="relative",lU="repeat",uU="reverse",cU="right",hU="row",dU="row-reverse",fU="sans-serif",_U="scroll",pU="serif",gU="solid",mU="space-around",xU="space-between",yU="start",vU="static",EU="stereoscopic-left-right",AU="stereoscopic-top-bottom",wU="stretch",SU="top",bU="uppercase",kU="visible",TU="wrap",CU="wrap-reverse",Zg=new Map;function lr(t){if(Zg.has(t))return Zg.get(t);let e=Zg.size+1;return Zg.set(t,e),e}var PU=typeof global=="object"&&global&&global.Object===Object&&global;const DU=PU;var RU=typeof self=="object"&&self&&self.Object===Object&&self,OU=DU||RU||Function("return this")();const BU=OU;var NU=BU.Symbol;const Md=NU;var g3=Object.prototype,FU=g3.hasOwnProperty,IU=g3.toString,Qf=Md?Md.toStringTag:void 0;function MU(t){var e=FU.call(t,Qf),r=t[Qf];try{t[Qf]=void 0;var n=!0}catch{}var s=IU.call(t);return n&&(e?t[Qf]=r:delete t[Qf]),s}var LU=Object.prototype,UU=LU.toString;function GU(t){return UU.call(t)}var HU="[object Null]",jU="[object Undefined]",gC=Md?Md.toStringTag:void 0;function VU(t){return t==null?t===void 0?jU:HU:gC&&gC in Object(t)?MU(t):GU(t)}function zU(t){return t!=null&&typeof t=="object"}var WU="[object Symbol]";function $U(t){return typeof t=="symbol"||zU(t)&&VU(t)==WU}function KU(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var XU=Array.isArray;const YU=XU;var qU=1/0,mC=Md?Md.prototype:void 0,xC=mC?mC.toString:void 0;function m3(t){if(typeof t=="string")return t;if(YU(t))return KU(t,m3)+"";if($U(t))return xC?xC.call(t):"";var e=t+"";return e=="0"&&1/t==-qU?"-0":e}function n1(t){return t==null?"":m3(t)}function QU(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(s);++n<s;)i[n]=t[n+e];return i}function JU(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:QU(t,e,r)}var ZU="\\ud800-\\udfff",e7="\\u0300-\\u036f",t7="\\ufe20-\\ufe2f",r7="\\u20d0-\\u20ff",n7=e7+t7+r7,i7="\\ufe0e\\ufe0f",s7="\\u200d",o7=RegExp("["+s7+ZU+n7+i7+"]");function x3(t){return o7.test(t)}function a7(t){return t.split("")}var y3="\\ud800-\\udfff",l7="\\u0300-\\u036f",u7="\\ufe20-\\ufe2f",c7="\\u20d0-\\u20ff",h7=l7+u7+c7,d7="\\ufe0e\\ufe0f",f7="["+y3+"]",$A="["+h7+"]",KA="\\ud83c[\\udffb-\\udfff]",_7="(?:"+$A+"|"+KA+")",v3="[^"+y3+"]",E3="(?:\\ud83c[\\udde6-\\uddff]){2}",A3="[\\ud800-\\udbff][\\udc00-\\udfff]",p7="\\u200d",w3=_7+"?",S3="["+d7+"]?",g7="(?:"+p7+"(?:"+[v3,E3,A3].join("|")+")"+S3+w3+")*",m7=S3+w3+g7,x7="(?:"+[v3+$A+"?",$A,E3,A3,f7].join("|")+")",y7=RegExp(KA+"(?="+KA+")|"+x7+m7,"g");function v7(t){return t.match(y7)||[]}function E7(t){return x3(t)?v7(t):a7(t)}function A7(t){return function(e){e=n1(e);var r=x3(e)?E7(e):void 0,n=r?r[0]:e.charAt(0),s=r?JU(r,1).join(""):e.slice(1);return n[t]()+s}}var w7=A7("toUpperCase");const S7=w7;function b7(t){return S7(n1(t).toLowerCase())}function k7(t,e,r,n){var s=-1,i=t==null?0:t.length;for(n&&i&&(r=t[++s]);++s<i;)r=e(r,t[s],s,t);return r}function T7(t){return function(e){return t==null?void 0:t[e]}}var C7={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},P7=T7(C7);const D7=P7;var R7=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,O7="\\u0300-\\u036f",B7="\\ufe20-\\ufe2f",N7="\\u20d0-\\u20ff",F7=O7+B7+N7,I7="["+F7+"]",M7=RegExp(I7,"g");function L7(t){return t=n1(t),t&&t.replace(R7,D7).replace(M7,"")}var U7=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function G7(t){return t.match(U7)||[]}var H7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function j7(t){return H7.test(t)}var b3="\\ud800-\\udfff",V7="\\u0300-\\u036f",z7="\\ufe20-\\ufe2f",W7="\\u20d0-\\u20ff",$7=V7+z7+W7,k3="\\u2700-\\u27bf",T3="a-z\\xdf-\\xf6\\xf8-\\xff",K7="\\xac\\xb1\\xd7\\xf7",X7="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Y7="\\u2000-\\u206f",q7=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",C3="A-Z\\xc0-\\xd6\\xd8-\\xde",Q7="\\ufe0e\\ufe0f",P3=K7+X7+Y7+q7,D3="['\u2019]",yC="["+P3+"]",J7="["+$7+"]",R3="\\d+",Z7="["+k3+"]",O3="["+T3+"]",B3="[^"+b3+P3+R3+k3+T3+C3+"]",e9="\\ud83c[\\udffb-\\udfff]",t9="(?:"+J7+"|"+e9+")",r9="[^"+b3+"]",N3="(?:\\ud83c[\\udde6-\\uddff]){2}",F3="[\\ud800-\\udbff][\\udc00-\\udfff]",Xh="["+C3+"]",n9="\\u200d",vC="(?:"+O3+"|"+B3+")",i9="(?:"+Xh+"|"+B3+")",EC="(?:"+D3+"(?:d|ll|m|re|s|t|ve))?",AC="(?:"+D3+"(?:D|LL|M|RE|S|T|VE))?",I3=t9+"?",M3="["+Q7+"]?",s9="(?:"+n9+"(?:"+[r9,N3,F3].join("|")+")"+M3+I3+")*",o9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",l9=M3+I3+s9,u9="(?:"+[Z7,N3,F3].join("|")+")"+l9,c9=RegExp([Xh+"?"+O3+"+"+EC+"(?="+[yC,Xh,"$"].join("|")+")",i9+"+"+AC+"(?="+[yC,Xh+vC,"$"].join("|")+")",Xh+"?"+vC+"+"+EC,Xh+"+"+AC,a9,o9,R3,u9].join("|"),"g");function h9(t){return t.match(c9)||[]}function d9(t,e,r){return t=n1(t),e=r?void 0:e,e===void 0?j7(t)?h9(t):G7(t):t.match(e)||[]}var f9="['\u2019]",_9=RegExp(f9,"g");function p9(t){return function(e){return k7(d9(L7(e).replace(_9,"")),t,"")}}var g9=p9(function(t,e,r){return e=e.toLowerCase(),t+(r?b7(e):e)});const m9=g9;var _=(t=>(t[t.kAbsolute=0]="kAbsolute",t[t.kAlternate=1]="kAlternate",t[t.kAlternateReverse=2]="kAlternateReverse",t[t.kAuto=3]="kAuto",t[t.kBackwards=4]="kBackwards",t[t.kBaseline=5]="kBaseline",t[t.kBlock=6]="kBlock",t[t.kBoth=7]="kBoth",t[t.kBottom=8]="kBottom",t[t.kBreakWord=9]="kBreakWord",t[t.kCenter=10]="kCenter",t[t.kClip=11]="kClip",t[t.kCollapse=12]="kCollapse",t[t.kColumn=13]="kColumn",t[t.kColumnReverse=14]="kColumnReverse",t[t.kContain=15]="kContain",t[t.kContent=16]="kContent",t[t.kCover=17]="kCover",t[t.kCurrentColor=18]="kCurrentColor",t[t.kCursive=19]="kCursive",t[t.kEllipsis=20]="kEllipsis",t[t.kEnd=21]="kEnd",t[t.kEquirectangular=22]="kEquirectangular",t[t.kFantasy=23]="kFantasy",t[t.kFixed=24]="kFixed",t[t.kFlex=25]="kFlex",t[t.kFlexEnd=26]="kFlexEnd",t[t.kFlexStart=27]="kFlexStart",t[t.kForwards=28]="kForwards",t[t.kHidden=29]="kHidden",t[t.kInfinite=30]="kInfinite",t[t.kInherit=31]="kInherit",t[t.kInitial=32]="kInitial",t[t.kInline=33]="kInline",t[t.kInlineBlock=34]="kInlineBlock",t[t.kInlineFlex=35]="kInlineFlex",t[t.kLeft=36]="kLeft",t[t.kLineThrough=37]="kLineThrough",t[t.kMiddle=38]="kMiddle",t[t.kMonoscopic=39]="kMonoscopic",t[t.kMonospace=40]="kMonospace",t[t.kNone=41]="kNone",t[t.kNoRepeat=42]="kNoRepeat",t[t.kNormal=43]="kNormal",t[t.kNowrap=44]="kNowrap",t[t.kPre=45]="kPre",t[t.kPreLine=46]="kPreLine",t[t.kPreWrap=47]="kPreWrap",t[t.kRelative=48]="kRelative",t[t.kRepeat=49]="kRepeat",t[t.kReverse=50]="kReverse",t[t.kRight=51]="kRight",t[t.kRow=52]="kRow",t[t.kRowReverse=53]="kRowReverse",t[t.kSansSerif=54]="kSansSerif",t[t.kScroll=55]="kScroll",t[t.kSerif=56]="kSerif",t[t.kSolid=57]="kSolid",t[t.kSpaceAround=58]="kSpaceAround",t[t.kSpaceBetween=59]="kSpaceBetween",t[t.kStart=60]="kStart",t[t.kStatic=61]="kStatic",t[t.kStereoscopicLeftRight=62]="kStereoscopicLeftRight",t[t.kStereoscopicTopBottom=63]="kStereoscopicTopBottom",t[t.kStretch=64]="kStretch",t[t.kTop=65]="kTop",t[t.kUppercase=66]="kUppercase",t[t.kVisible=67]="kVisible",t[t.kWrap=68]="kWrap",t[t.kWrapReverse=69]="kWrapReverse",t[t.kMaxKeywordValue=69]="kMaxKeywordValue",t))(_||{});let Qt;class pe extends Qi{constructor(r){super();c(this,"value_");this.value_=r}GetTypeId(){return lr(pe)}static GetAbsolute(){return Qt.absolute}static GetAuto(){return Qt.auto}static GetBaseline(){return Qt.baseline}static GetBlock(){return Qt.block}static GetBottom(){return Qt.bottom}static GetBreakWord(){return Qt.breakWord}static GetCenter(){return Qt.center}static GetClip(){return Qt.clip}static GetCurrentColor(){return Qt.currentColor}static GetEllipsis(){return Qt.ellipsis}static GetEnd(){return Qt.end}static GetFixed(){return Qt.fixed}static GetFlex(){return Qt.flex}static GetFlexStart(){return Qt.flexStart}static GetHidden(){return Qt.hidden}static GetInherit(){return Qt.inherit}static GetInitial(){return Qt.initial}static GetInline(){return Qt.inline}static GetInlineBlock(){return Qt.inlineBlock}static GetInlineFlex(){return Qt.inlineFlex}static GetLeft(){return Qt.left}static GetMiddle(){return Qt.middle}static GetNone(){return Qt.none}static GetNormal(){return Qt.normal}static GetNowrap(){return Qt.nowrap}static GetPre(){return Qt.pre}static GetPreLine(){return Qt.preLine}static GetPreWrap(){return Qt.preWrap}static GetRelative(){return Qt.relative}static GetRepeat(){return Qt.repeat}static GetRight(){return Qt.right}static GetRow(){return Qt.row}static GetScroll(){return Qt.scroll}static GetSolid(){return Qt.solid}static GetStart(){return Qt.start}static GetStatic(){return Qt.static}static GetStretch(){return Qt.stretch}static GetTop(){return Qt.top}static GetUppercase(){return Qt.uppercase}static GetVisible(){return Qt.visible}static fromString(r){const n=Reflect.get(Qt,m9(r));return n||($e(),console.log("404",n)),n}Accept(r){r.VisitKeyword(this)}value(){return this.value_}ToString(){switch(this.value_){case 0:return c6;case 1:return h6;case 2:return d6;case 3:return f6;case 4:return _6;case 5:return p6;case 6:return g6;case 7:return x6;case 8:return y6;case 9:return v6;case 10:return E6;case 11:return A6;case 12:return w6;case 13:return S6;case 14:return b6;case 15:return k6;case 16:return T6;case 17:return C6;case 18:return P6;case 19:return D6;case 20:return R6;case 21:return O6;case 22:return B6;case 23:return N6;case 28:return U6;case 24:return F6;case 25:return M6;case 26:return I6;case 27:return L6;case 29:return G6;case 30:return H6;case 31:return j6;case 32:return V6;case 33:return $6;case 34:return z6;case 35:return W6;case 36:return Y6;case 37:return q6;case 38:return Q6;case 40:return Z6;case 39:return J6;case 41:return eU;case 42:return tU;case 43:return KS;case 44:return rU;case 45:return iU;case 46:return sU;case 47:return oU;case 48:return aU;case 49:return lU;case 50:return uU;case 51:return cU;case 52:return hU;case 53:return dU;case 55:return _U;case 54:return fU;case 56:return pU;case 57:return gU;case 58:return mU;case 59:return xU;case 60:return yU;case 61:return vU;case 62:return EU;case 63:return AU;case 64:return wU;case 65:return SU;case 66:return bU;case 67:return kU;case 68:return TU;case 69:return CU}return""}EQ(r){return r instanceof pe?this.value_===r.value_:!1}}class x9{constructor(){c(this,"absolute");c(this,"alternate");c(this,"alternateReverse");c(this,"auto");c(this,"backwards");c(this,"baseline");c(this,"block");c(this,"both");c(this,"bottom");c(this,"breakWord");c(this,"center");c(this,"clip");c(this,"collapse");c(this,"column");c(this,"columnReverse");c(this,"contain");c(this,"content");c(this,"cover");c(this,"currentColor");c(this,"cursive");c(this,"ellipsis");c(this,"end");c(this,"equirectangular");c(this,"fantasy");c(this,"fixed");c(this,"flex");c(this,"flexEnd");c(this,"flexStart");c(this,"forwards");c(this,"hidden");c(this,"infinite");c(this,"inherit");c(this,"initial");c(this,"inlineBlock");c(this,"inlineFlex");c(this,"inline");c(this,"left");c(this,"lineThrough");c(this,"middle");c(this,"monoscopic");c(this,"monospace");c(this,"none");c(this,"noRepeat");c(this,"normal");c(this,"nowrap");c(this,"pre");c(this,"preLine");c(this,"preWrap");c(this,"relative");c(this,"repeat");c(this,"reverse");c(this,"right");c(this,"row");c(this,"rowReverse");c(this,"sansSerif");c(this,"scroll");c(this,"serif");c(this,"solid");c(this,"spaceAround");c(this,"spaceBetween");c(this,"start");c(this,"static");c(this,"stereoscopicLeftRight");c(this,"stereoscopicTopBottom");c(this,"stretch");c(this,"top");c(this,"uppercase");c(this,"visible");c(this,"wrap");c(this,"wrapReverse");this.absolute=new pe(0),this.alternate=new pe(1),this.alternateReverse=new pe(2),this.auto=new pe(3),this.backwards=new pe(4),this.baseline=new pe(5),this.block=new pe(6),this.both=new pe(7),this.bottom=new pe(8),this.breakWord=new pe(9),this.center=new pe(10),this.clip=new pe(11),this.collapse=new pe(12),this.column=new pe(13),this.columnReverse=new pe(14),this.contain=new pe(15),this.content=new pe(16),this.cover=new pe(17),this.currentColor=new pe(18),this.cursive=new pe(19),this.ellipsis=new pe(20),this.end=new pe(21),this.equirectangular=new pe(22),this.fantasy=new pe(23),this.fixed=new pe(24),this.flex=new pe(25),this.flexEnd=new pe(26),this.flexStart=new pe(27),this.forwards=new pe(28),this.hidden=new pe(29),this.infinite=new pe(30),this.inherit=new pe(31),this.initial=new pe(32),this.inlineBlock=new pe(34),this.inlineFlex=new pe(35),this.inline=new pe(33),this.left=new pe(36),this.lineThrough=new pe(37),this.middle=new pe(38),this.monoscopic=new pe(39),this.monospace=new pe(40),this.none=new pe(41),this.noRepeat=new pe(42),this.normal=new pe(43),this.nowrap=new pe(44),this.pre=new pe(45),this.preLine=new pe(46),this.preWrap=new pe(47),this.relative=new pe(48),this.repeat=new pe(49),this.reverse=new pe(50),this.right=new pe(51),this.row=new pe(52),this.rowReverse=new pe(53),this.sansSerif=new pe(54),this.scroll=new pe(55),this.serif=new pe(56),this.solid=new pe(57),this.spaceAround=new pe(58),this.spaceBetween=new pe(59),this.start=new pe(60),this.static=new pe(61),this.stereoscopicLeftRight=new pe(62),this.stereoscopicTopBottom=new pe(63),this.stretch=new pe(64),this.top=new pe(65),this.uppercase=new pe(66),this.visible=new pe(67),this.wrap=new pe(68),this.wrapReverse=new pe(69)}}Qt=new x9;function au(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}class fn{constructor(e,r,n,s=1){c(this,"_rgbaBrand");c(this,"r");c(this,"g");c(this,"b");c(this,"a");this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,r))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=au(Math.max(Math.min(1,s),0),3)}static equals(e,r){return e.r===r.r&&e.g===r.g&&e.b===r.b&&e.a===r.a}}class yo{constructor(e,r,n,s){c(this,"_hslaBrand");c(this,"h");c(this,"s");c(this,"l");c(this,"a");this.h=Math.max(Math.min(360,e),0)|0,this.s=au(Math.max(Math.min(1,r),0),3),this.l=au(Math.max(Math.min(1,n),0),3),this.a=au(Math.max(Math.min(1,s),0),3)}static equals(e,r){return e.h===r.h&&e.s===r.s&&e.l===r.l&&e.a===r.a}static fromRGBA(e){const r=e.r/255,n=e.g/255,s=e.b/255,i=e.a,o=Math.max(r,n,s),a=Math.min(r,n,s);let l=0,u=0;const d=(a+o)/2,f=o-a;if(f>0){switch(u=Math.min(d<=.5?f/(2*d):f/(2-2*d),1),o){case r:l=(n-s)/f+(n<s?6:0);break;case n:l=(s-r)/f+2;break;case s:l=(r-n)/f+4;break}l*=60,l=Math.round(l)}return new yo(l,u,d,i)}static _hue2rgb(e,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(r-e)*6*n:n<1/2?r:n<2/3?e+(r-e)*(2/3-n)*6:e}static toRGBA(e){const r=e.h/360,{s:n,l:s,a:i}=e;let o,a,l;if(n===0)o=a=l=s;else{const u=s<.5?s*(1+n):s+n-s*n,d=2*s-u;o=yo._hue2rgb(d,u,r+1/3),a=yo._hue2rgb(d,u,r),l=yo._hue2rgb(d,u,r-1/3)}return new fn(Math.round(o*255),Math.round(a*255),Math.round(l*255),i)}}class Qh{constructor(e,r,n,s){c(this,"_hsvaBrand");c(this,"h");c(this,"s");c(this,"v");c(this,"a");this.h=Math.max(Math.min(360,e),0)|0,this.s=au(Math.max(Math.min(1,r),0),3),this.v=au(Math.max(Math.min(1,n),0),3),this.a=au(Math.max(Math.min(1,s),0),3)}static equals(e,r){return e.h===r.h&&e.s===r.s&&e.v===r.v&&e.a===r.a}static fromRGBA(e){const r=e.r/255,n=e.g/255,s=e.b/255,i=Math.max(r,n,s),o=Math.min(r,n,s),a=i-o,l=i===0?0:a/i;let u;return a===0?u=0:i===r?u=((n-s)/a%6+6)%6:i===n?u=(s-r)/a+2:u=(r-n)/a+4,new Qh(Math.round(u*60),l,i,e.a)}static toRGBA(e){const{h:r,s:n,v:s,a:i}=e,o=s*n,a=o*(1-Math.abs(r/60%2-1)),l=s-o;let[u,d,f]=[0,0,0];return r<60?(u=o,d=a):r<120?(u=a,d=o):r<180?(d=o,f=a):r<240?(d=a,f=o):r<300?(u=a,f=o):r<=360&&(u=o,f=a),u=Math.round((u+l)*255),d=Math.round((d+l)*255),f=Math.round((f+l)*255),new fn(u,d,f,i)}}const Wr=class{constructor(e){c(this,"rgba");c(this,"_hsla");c(this,"_hsva");c(this,"_toString");if(e)if(e instanceof fn)this.rgba=e;else if(e instanceof yo)this._hsla=e,this.rgba=yo.toRGBA(e);else if(e instanceof Qh)this._hsva=e,this.rgba=Qh.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return Wr.Format.CSS.parseHex(e)}get hsla(){return this._hsla?this._hsla:yo.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Qh.fromRGBA(this.rgba)}equals(e){return!!e&&fn.equals(this.rgba,e.rgba)&&yo.equals(this.hsla,e.hsla)&&Qh.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=Wr._relativeLuminanceForComponent(this.rgba.r),r=Wr._relativeLuminanceForComponent(this.rgba.g),n=Wr._relativeLuminanceForComponent(this.rgba.b),s=.2126*e+.7152*r+.0722*n;return au(s,4)}static _relativeLuminanceForComponent(e){const r=e/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}getContrastRatio(e){const r=this.getRelativeLuminance(),n=e.getRelativeLuminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const r=this.getRelativeLuminance(),n=e.getRelativeLuminance();return r>n}isDarkerThan(e){const r=this.getRelativeLuminance(),n=e.getRelativeLuminance();return r<n}lighten(e){return new Wr(new yo(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new Wr(new yo(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r,g:n,b:s,a:i}=this.rgba;return new Wr(new fn(r,n,s,i*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new Wr(new fn(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){const r=e.rgba,n=this.rgba.a,s=r.a,i=n+s*(1-n);if(i<1e-6)return Wr.transparent;const o=this.rgba.r*n/i+r.r*s*(1-n)/i,a=this.rgba.g*n/i+r.g*s*(1-n)/i,l=this.rgba.b*n/i+r.b*s*(1-n)/i;return new Wr(new fn(o,a,l,i))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r,g:n,b:s,a:i}=this.rgba;return new Wr(new fn(e.rgba.r-i*(e.rgba.r-r),e.rgba.g-i*(e.rgba.g-n),e.rgba.b-i*(e.rgba.b-s),1))}flatten(...e){const r=e.reduceRight((n,s)=>Wr._flatten(s,n));return Wr._flatten(this,r)}static _flatten(e,r){const n=1-e.rgba.a;return new Wr(new fn(n*r.rgba.r+e.rgba.a*e.rgba.r,n*r.rgba.g+e.rgba.a*e.rgba.g,n*r.rgba.b+e.rgba.a*e.rgba.b))}toString(){return this._toString||(this._toString=Wr.Format.CSS.format(this)),this._toString}static getLighterColor(e,r,n){if(e.isLighterThan(r))return e;n=n||.5;const s=e.getRelativeLuminance(),i=r.getRelativeLuminance();return n=n*(i-s)/i,e.lighten(n)}static getDarkerColor(e,r,n){if(e.isDarkerThan(r))return e;n=n||.5;const s=e.getRelativeLuminance(),i=r.getRelativeLuminance();return n=n*(s-i)/s,e.darken(n)}};let Ai=Wr;c(Ai,"white",new Wr(new fn(255,255,255,1))),c(Ai,"black",new Wr(new fn(0,0,0,1))),c(Ai,"red",new Wr(new fn(255,0,0,1))),c(Ai,"blue",new Wr(new fn(0,0,255,1))),c(Ai,"green",new Wr(new fn(0,255,0,1))),c(Ai,"cyan",new Wr(new fn(0,255,255,1))),c(Ai,"lightgrey",new Wr(new fn(211,211,211,1))),c(Ai,"transparent",new Wr(new fn(0,0,0,0)));(t=>{(e=>{(r=>{function n(x){return x.rgba.a===1?`rgb(${x.rgba.r}, ${x.rgba.g}, ${x.rgba.b})`:t.Format.CSS.formatRGBA(x)}r.formatRGB=n;function s(x){return`rgba(${x.rgba.r}, ${x.rgba.g}, ${x.rgba.b}, ${+x.rgba.a.toFixed(2)})`}r.formatRGBA=s;function i(x){return x.hsla.a===1?`hsl(${x.hsla.h}, ${(x.hsla.s*100).toFixed(2)}%, ${(x.hsla.l*100).toFixed(2)}%)`:t.Format.CSS.formatHSLA(x)}r.formatHSL=i;function o(x){return`hsla(${x.hsla.h}, ${(x.hsla.s*100).toFixed(2)}%, ${(x.hsla.l*100).toFixed(2)}%, ${x.hsla.a.toFixed(2)})`}r.formatHSLA=o;function a(x){const E=x.toString(16);return E.length!==2?"0"+E:E}function l(x){return`#${a(x.rgba.r)}${a(x.rgba.g)}${a(x.rgba.b)}`}r.formatHex=l;function u(x,E=!1){return E&&x.rgba.a===1?t.Format.CSS.formatHex(x):`#${a(x.rgba.r)}${a(x.rgba.g)}${a(x.rgba.b)}${a(Math.round(x.rgba.a*255))}`}r.formatHexA=u;function d(x){return x.isOpaque()?t.Format.CSS.formatHex(x):t.Format.CSS.formatRGBA(x)}r.format=d;function f(x){const E=x.length;if(E===0||x.charCodeAt(0)!==kt.Hash)return null;if(E===7){const D=16*g(x.charCodeAt(1))+g(x.charCodeAt(2)),A=16*g(x.charCodeAt(3))+g(x.charCodeAt(4)),R=16*g(x.charCodeAt(5))+g(x.charCodeAt(6));return new t(new fn(D,A,R,1))}if(E===9){const D=16*g(x.charCodeAt(1))+g(x.charCodeAt(2)),A=16*g(x.charCodeAt(3))+g(x.charCodeAt(4)),R=16*g(x.charCodeAt(5))+g(x.charCodeAt(6)),P=16*g(x.charCodeAt(7))+g(x.charCodeAt(8));return new t(new fn(D,A,R,P/255))}if(E===4){const D=g(x.charCodeAt(1)),A=g(x.charCodeAt(2)),R=g(x.charCodeAt(3));return new t(new fn(16*D+D,16*A+A,16*R+R))}if(E===5){const D=g(x.charCodeAt(1)),A=g(x.charCodeAt(2)),R=g(x.charCodeAt(3)),P=g(x.charCodeAt(4));return new t(new fn(16*D+D,16*A+A,16*R+R,(16*P+P)/255))}return null}r.parseHex=f;function g(x){switch(x){case kt.Digit0:return 0;case kt.Digit1:return 1;case kt.Digit2:return 2;case kt.Digit3:return 3;case kt.Digit4:return 4;case kt.Digit5:return 5;case kt.Digit6:return 6;case kt.Digit7:return 7;case kt.Digit8:return 8;case kt.Digit9:return 9;case kt.a:return 10;case kt.A:return 10;case kt.b:return 11;case kt.B:return 11;case kt.c:return 12;case kt.C:return 12;case kt.d:return 13;case kt.D:return 13;case kt.e:return 14;case kt.E:return 14;case kt.f:return 15;case kt.F:return 15}return 0}})(e.CSS||(e.CSS={}))})(t.Format||(t.Format={}))})(Ai||(Ai={}));function y9(t){return`${t*100}%`}function em(t,e,r){return Math.min(Math.max(e,t),r)}function bs(t){return Math.round(t)}const v9=16777215,E9=255,A9=65535,w9=4278255615,S9=2155905279,b9=8388863,k9=16711935,T9=2147483903,C9=33023,P9=2155872511,D9=2147516671,R9=4278190335,O9=3233857791,B9=8421631,N9=0,F9=4294967295,I9=4294902015;let L3;class Cr extends Qi{constructor(r,n,s,i){super();c(this,"value_");arguments.length==1?this.value_=bs(r):(tm(r),tm(n),tm(s),tm(i),this.value_=bs(r<<24)|bs(n<<16)|bs(s<<8)|bs(i<<0))}static fromString(r){const n=Reflect.get(L3,r);return Q(n),n}static fromHex(r){const n=Ai.fromHex(r);Q(n);const{rgba:s}=n;return new Cr(s.r,s.g,s.b,s.a*255)}Accept(r){r.VisitRGBAColor(this)}value(){return this.value_}r(){return bs(this.value_>>24&255)}g(){return bs(this.value_>>16&255)}b(){return bs(this.value_>>8&255)}a(){return bs(this.value_>>0&255)}ToString(){return`rgba(${this.r()}, ${this.g()}, ${this.b()}, ${this.a()/255})`}EQ(r){return this.value_==r.value_}GetTypeId(){return lr(Cr)}}function tm(t){Q(0<=t),Q(255>=t)}class M9{constructor(){c(this,"aqua",new Cr(v9));c(this,"black",new Cr(E9));c(this,"blue",new Cr(A9));c(this,"fuchsia",new Cr(w9));c(this,"gray",new Cr(S9));c(this,"green",new Cr(b9));c(this,"lime",new Cr(k9));c(this,"maroon",new Cr(T9));c(this,"navy",new Cr(C9));c(this,"olive",new Cr(P9));c(this,"purple",new Cr(D9));c(this,"red",new Cr(R9));c(this,"silver",new Cr(O9));c(this,"teal",new Cr(B9));c(this,"transparent",new Cr(N9));c(this,"white",new Cr(F9));c(this,"yellow",new Cr(I9))}}L3=new M9;class L9 extends Qi{constructor(r){super();c(this,"value_");this.value_=r,Q(r),Q(r.length)}value(){return this.value_}EQ(r){if(this.value_.length!==r.value_.length)return!1;for(let n=0;n<this.value_.length;n++)this.value_[n];return!0}}class So extends L9{constructor(e){super(e)}Accept(e){e.VisitPropertyList(this)}ToString(){return this.value().map(e=>e.ToString()).join(", ")}GetTypeId(){return lr(So)}}var jt=(t=>(t[t.kPixelsUnit=0]="kPixelsUnit",t[t.kAbsoluteUnitMax=0]="kAbsoluteUnitMax",t[t.kFontSizesAkaEmUnit=1]="kFontSizesAkaEmUnit",t[t.kRootElementFontSizesAkaRemUnit=2]="kRootElementFontSizesAkaRemUnit",t[t.kViewportWidthPercentsAkaVwUnit=3]="kViewportWidthPercentsAkaVwUnit",t[t.kViewportHeightPercentsAkaVhUnit=4]="kViewportHeightPercentsAkaVhUnit",t))(jt||{});class nr extends Qi{constructor(r,n){super();c(this,"value_");c(this,"unit_");this.value_=r,this.unit_=n}Accept(r){r.VisitLength(this)}value(){return this.value_}unit(){return this.unit_}IsUnitRelative(){return this.unit_>0}ToString(){const r=["px","em","rem","vw","vh"];return`${this.value_}${r[this.unit_]}`}EQ(r){return this.value_==r.value_&&this.unit_==r.unit_}GE(r){return er(this.unit_,r.unit_,"Value larger comparison of length values ","can only be done for matching unit types"),this.value_>=r.value_}LE(r){return er(this.unit_,r.unit_,"Value smaller comparison of length ","values can only be done for matching ","unit types"),this.value_<=r.value_}GetTypeId(){return lr(nr)}}class no extends Qi{constructor(r){super();c(this,"value_");this.value_=r}Accept(r){r.VisitPercentage(this)}value(){return this.value_}ToString(){return y9(this.value_)}EQ(r){return this.value_===r.value_}GetTypeId(){return lr(no)}}class aa extends Qi{constructor(r,n){super();c(this,"length_value_",new nr(0,jt.kPixelsUnit));c(this,"percentage_value_",new no(0));r instanceof nr?this.length_value_=r:r instanceof no&&(this.percentage_value_=r),n&&(this.percentage_value_=n)}Accept(r){r.VisitCalc(this)}length_value(){return this.length_value_}percentage_value(){return this.percentage_value_}ToString(){return`calc(${this.length_value_.ToString()} + ${this.percentage_value_.ToString()})`}EQ(r){return this.length_value_.EQ(r.length_value_)&&this.percentage_value_.EQ(r.percentage_value_)}GetTypeId(){return lr(aa)}}class Pp extends Qi{constructor(r){super();c(this,"value_");this.value_=r}Accept(r){r.VisitNumber(this)}value(){return this.value_}ToString(){return this.value_.toString()}EQ(r){return this.value_===r.value_}GetTypeId(){return lr(Pp)}}class i1 extends Qi{constructor(r){super();c(this,"value_");this.value_=r}Accept(r){r.VisitString(this)}value(){return this.value_}ToString(){return"'"+this.value_+"'"}EQ(r){return this.value_===r.value_}GetTypeId(){return lr(i1)}}var U3=(t=>(t[t.kItalic=0]="kItalic",t[t.kNormal=1]="kNormal",t[t.kOblique=2]="kOblique",t))(U3||{});class yc extends Qi{constructor(r){super();c(this,"value_",1);this.value_=r}static GetItalic(){return _E.italic}static GetNormal(){return _E.normal}static GetOblique(){return _E.oblique}Accept(r){r.VisitFontStyle(this)}value(){return this.value_}ToString(){switch(this.value_){case 0:return X6;case 1:return KS;case 2:return nU;default:return gt(),""}}GetTypeId(){return lr(yc)}EQ(r){return r instanceof yc?this.value_===r.value_:!1}}class U9{constructor(){c(this,"italic",new yc(0));c(this,"normal",new yc(1));c(this,"oblique",new yc(2))}}const _E=new U9;var Qo=(t=>(t[t.kThinAka100=0]="kThinAka100",t[t.kExtraLightAka200=1]="kExtraLightAka200",t[t.kLightAka300=2]="kLightAka300",t[t.kNormalAka400=3]="kNormalAka400",t[t.kMediumAka500=4]="kMediumAka500",t[t.kSemiBoldAka600=5]="kSemiBoldAka600",t[t.kBoldAka700=6]="kBoldAka700",t[t.kExtraBoldAka800=7]="kExtraBoldAka800",t[t.kBlackAka900=8]="kBlackAka900",t))(Qo||{});class qs extends Qi{constructor(r){super();c(this,"value_");this.value_=r}static GetThinAka100(){return za.thin_aka_100}static GetExtraLightAka200(){return za.extra_light_aka_200}static GetLightAka300(){return za.light_aka_300}static GetNormalAka400(){return za.normal_aka_400}static GetMediumAka500(){return za.medium_aka_500}static GetSemiBoldAka600(){return za.semi_bold_aka_600}static GetBoldAka700(){return za.bold_aka_700}static GetExtraBoldAka800(){return za.extra_bold_aka_800}static GetBlackAka900(){return za.black_aka_900}Accept(r){r.VisitFontWeight(this)}value(){return this.value_}ToString(){switch(this.value_){case 3:return KS;case 6:return m6;case 0:case 1:case 2:case 4:case 5:case 7:case 8:default:$e()}}EQ(r){return this.value_===r.value_}GetTypeId(){return lr(qs)}}class G9{constructor(){c(this,"thin_aka_100");c(this,"extra_light_aka_200");c(this,"light_aka_300");c(this,"normal_aka_400");c(this,"medium_aka_500");c(this,"semi_bold_aka_600");c(this,"bold_aka_700");c(this,"extra_bold_aka_800");c(this,"black_aka_900");this.thin_aka_100=new qs(0),this.extra_light_aka_200=new qs(1),this.light_aka_300=new qs(2),this.normal_aka_400=new qs(3),this.medium_aka_500=new qs(4),this.semi_bold_aka_600=new qs(5),this.bold_aka_700=new qs(6),this.extra_bold_aka_800=new qs(7),this.black_aka_900=new qs(8)}}let za=new G9;class ey extends Qi{constructor(r){super();c(this,"value_");this.value_=r}Accept(r){r.VisitInteger(this)}value(){return this.value_}ToString(){return this.value_.toString()}GetTypeId(){return lr(ey)}EQ(r){return r instanceof ey?this.value_===r.value_:!1}}class ty extends Qi{constructor(r,n){super();c(this,"start_");c(this,"end_");this.start_=r,this.end_=n}Accept(r){r.VisitUnicodeRange(this)}start(){return this.start_}end(){return this.end_}ToString(){return this.start_==this.end_?`U+${this.start_.toString(16)}`:`U+${this.start_.toString(16)}-${this.end_.toString(16)}`}EQ(r){return r instanceof ty?this.start_==r.start_&&this.end_==r.end_:!1}IsValid(){return this.start_<=this.end_}GetTypeId(){return lr(ty)}}var C=(t=>(t[t.kNoneProperty=-1]="kNoneProperty",t[t.kAlignContentProperty=0]="kAlignContentProperty",t[t.kAlignItemsProperty=1]="kAlignItemsProperty",t[t.kAlignSelfProperty=2]="kAlignSelfProperty",t[t.kBackgroundColorProperty=3]="kBackgroundColorProperty",t[t.kBackgroundImageProperty=4]="kBackgroundImageProperty",t[t.kBackgroundPositionProperty=5]="kBackgroundPositionProperty",t[t.kBackgroundRepeatProperty=6]="kBackgroundRepeatProperty",t[t.kBackgroundSizeProperty=7]="kBackgroundSizeProperty",t[t.kBorderBottomColorProperty=8]="kBorderBottomColorProperty",t[t.kBorderBottomLeftRadiusProperty=9]="kBorderBottomLeftRadiusProperty",t[t.kBorderBottomRightRadiusProperty=10]="kBorderBottomRightRadiusProperty",t[t.kBorderBottomStyleProperty=11]="kBorderBottomStyleProperty",t[t.kBorderBottomWidthProperty=12]="kBorderBottomWidthProperty",t[t.kBorderLeftColorProperty=13]="kBorderLeftColorProperty",t[t.kBorderLeftStyleProperty=14]="kBorderLeftStyleProperty",t[t.kBorderLeftWidthProperty=15]="kBorderLeftWidthProperty",t[t.kBorderRightColorProperty=16]="kBorderRightColorProperty",t[t.kBorderRightStyleProperty=17]="kBorderRightStyleProperty",t[t.kBorderRightWidthProperty=18]="kBorderRightWidthProperty",t[t.kBorderTopColorProperty=19]="kBorderTopColorProperty",t[t.kBorderTopLeftRadiusProperty=20]="kBorderTopLeftRadiusProperty",t[t.kBorderTopRightRadiusProperty=21]="kBorderTopRightRadiusProperty",t[t.kBorderTopStyleProperty=22]="kBorderTopStyleProperty",t[t.kBorderTopWidthProperty=23]="kBorderTopWidthProperty",t[t.kBottomProperty=24]="kBottomProperty",t[t.kBoxShadowProperty=25]="kBoxShadowProperty",t[t.kColorProperty=26]="kColorProperty",t[t.kContentProperty=27]="kContentProperty",t[t.kDisplayProperty=28]="kDisplayProperty",t[t.kFilterProperty=29]="kFilterProperty",t[t.kFlexBasisProperty=30]="kFlexBasisProperty",t[t.kFlexDirectionProperty=31]="kFlexDirectionProperty",t[t.kFlexGrowProperty=32]="kFlexGrowProperty",t[t.kFlexShrinkProperty=33]="kFlexShrinkProperty",t[t.kFlexWrapProperty=34]="kFlexWrapProperty",t[t.kFontFamilyProperty=35]="kFontFamilyProperty",t[t.kFontSizeProperty=36]="kFontSizeProperty",t[t.kFontStyleProperty=37]="kFontStyleProperty",t[t.kFontWeightProperty=38]="kFontWeightProperty",t[t.kHeightProperty=39]="kHeightProperty",t[t.kIntersectionObserverRootMarginProperty=40]="kIntersectionObserverRootMarginProperty",t[t.kJustifyContentProperty=41]="kJustifyContentProperty",t[t.kLeftProperty=42]="kLeftProperty",t[t.kLineHeightProperty=43]="kLineHeightProperty",t[t.kMarginBottomProperty=44]="kMarginBottomProperty",t[t.kMarginLeftProperty=45]="kMarginLeftProperty",t[t.kMarginRightProperty=46]="kMarginRightProperty",t[t.kMarginTopProperty=47]="kMarginTopProperty",t[t.kMaxHeightProperty=48]="kMaxHeightProperty",t[t.kMaxWidthProperty=49]="kMaxWidthProperty",t[t.kMinHeightProperty=50]="kMinHeightProperty",t[t.kMinWidthProperty=51]="kMinWidthProperty",t[t.kOpacityProperty=52]="kOpacityProperty",t[t.kOrderProperty=53]="kOrderProperty",t[t.kOutlineColorProperty=54]="kOutlineColorProperty",t[t.kOutlineStyleProperty=55]="kOutlineStyleProperty",t[t.kOutlineWidthProperty=56]="kOutlineWidthProperty",t[t.kOverflowProperty=57]="kOverflowProperty",t[t.kOverflowWrapProperty=58]="kOverflowWrapProperty",t[t.kPaddingBottomProperty=59]="kPaddingBottomProperty",t[t.kPaddingLeftProperty=60]="kPaddingLeftProperty",t[t.kPaddingRightProperty=61]="kPaddingRightProperty",t[t.kPaddingTopProperty=62]="kPaddingTopProperty",t[t.kPointerEventsProperty=63]="kPointerEventsProperty",t[t.kPositionProperty=64]="kPositionProperty",t[t.kRightProperty=65]="kRightProperty",t[t.kTextAlignProperty=66]="kTextAlignProperty",t[t.kTextDecorationColorProperty=67]="kTextDecorationColorProperty",t[t.kTextDecorationLineProperty=68]="kTextDecorationLineProperty",t[t.kTextIndentProperty=69]="kTextIndentProperty",t[t.kTextOverflowProperty=70]="kTextOverflowProperty",t[t.kTextShadowProperty=71]="kTextShadowProperty",t[t.kTextTransformProperty=72]="kTextTransformProperty",t[t.kTopProperty=73]="kTopProperty",t[t.kTransformOriginProperty=74]="kTransformOriginProperty",t[t.kTransformProperty=75]="kTransformProperty",t[t.kVerticalAlignProperty=76]="kVerticalAlignProperty",t[t.kVisibilityProperty=77]="kVisibilityProperty",t[t.kWhiteSpaceProperty=78]="kWhiteSpaceProperty",t[t.kWidthProperty=79]="kWidthProperty",t[t.kZIndexProperty=80]="kZIndexProperty",t[t.kMaxLonghandPropertyKey=80]="kMaxLonghandPropertyKey",t[t.kAllProperty=81]="kAllProperty",t[t.kSrcProperty=82]="kSrcProperty",t[t.kUnicodeRangeProperty=83]="kUnicodeRangeProperty",t[t.kWordWrapProperty=84]="kWordWrapProperty",t[t.kFirstShorthandPropertyKey=85]="kFirstShorthandPropertyKey",t[t.kBackgroundProperty=85]="kBackgroundProperty",t[t.kBorderBottomProperty=86]="kBorderBottomProperty",t[t.kBorderColorProperty=87]="kBorderColorProperty",t[t.kBorderLeftProperty=88]="kBorderLeftProperty",t[t.kBorderProperty=89]="kBorderProperty",t[t.kBorderRadiusProperty=90]="kBorderRadiusProperty",t[t.kBorderRightProperty=91]="kBorderRightProperty",t[t.kBorderStyleProperty=92]="kBorderStyleProperty",t[t.kBorderTopProperty=93]="kBorderTopProperty",t[t.kBorderWidthProperty=94]="kBorderWidthProperty",t[t.kFlexProperty=95]="kFlexProperty",t[t.kFlexFlowProperty=96]="kFlexFlowProperty",t[t.kFontProperty=97]="kFontProperty",t[t.kMarginProperty=98]="kMarginProperty",t[t.kOutlineProperty=99]="kOutlineProperty",t[t.kPaddingProperty=100]="kPaddingProperty",t[t.kTextDecorationProperty=101]="kTextDecorationProperty",t[t.kMaxShorthandPropertyKey=101]="kMaxShorthandPropertyKey",t[t.kMaxEveryPropertyKey=101]="kMaxEveryPropertyKey",t[t.kNumLonghandProperties=81]="kNumLonghandProperties",t))(C||{}),ry=(t=>(t[t.kInheritedNo=0]="kInheritedNo",t[t.kInheritedYes=1]="kInheritedYes",t))(ry||{}),G3=(t=>(t[t.kImpactsChildComputedStyleNo=0]="kImpactsChildComputedStyleNo",t[t.kImpactsChildComputedStyleYes=1]="kImpactsChildComputedStyleYes",t))(G3||{}),H3=(t=>(t[t.kImpactsBoxGenerationNo=0]="kImpactsBoxGenerationNo",t[t.kImpactsBoxGenerationYes=1]="kImpactsBoxGenerationYes",t))(H3||{}),j3=(t=>(t[t.kImpactsBoxSizesNo=0]="kImpactsBoxSizesNo",t[t.kImpactsBoxSizesYes=1]="kImpactsBoxSizesYes",t))(j3||{}),V3=(t=>(t[t.kImpactsBoxCrossReferencesNo=0]="kImpactsBoxCrossReferencesNo",t[t.kImpactsBoxCrossReferencesYes=1]="kImpactsBoxCrossReferencesYes",t))(V3||{});class wC{constructor(e){c(this,"name","");c(this,"inherited",0);c(this,"animatable",0);c(this,"impacts_child_computed_style",0);c(this,"impacts_box_generation",0);c(this,"impacts_box_sizes",0);c(this,"impacts_box_cross_references",0);c(this,"initial_value");c(this,"longhand_properties",new Set);this.initial_value=e}}class H9{constructor(){c(this,"properties",[]);c(this,"animatable_properties",[]);c(this,"inherited_animatable_properties",[]);c(this,"inherited_properties",[]);this.SetPropertyDefinition(0,"align-content",0,0,0,0,1,0,pe.GetStretch()),this.SetPropertyDefinition(1,"align-items",0,0,0,0,1,0,pe.GetStretch()),this.SetPropertyDefinition(2,"align-self",0,0,0,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(3,"background-color",0,1,0,0,0,0,new Cr(0)),this.SetPropertyDefinition(4,"background-image",0,0,0,0,0,0,SC(pe.GetNone()));let e=new Array(2);e.push(new aa(new no(0))),e.push(new aa(new no(0)));let r=new So(e);this.SetPropertyDefinition(5,"background-position",0,0,0,0,0,0,r);let n=new Array(2);n.push(pe.GetRepeat()),n.push(pe.GetRepeat());let s=new So(n);this.SetPropertyDefinition(6,"background-repeat",0,0,0,0,0,0,s);let i=new Array(2);i.push(pe.GetAuto()),i.push(pe.GetAuto());let o=new So(i);this.SetPropertyDefinition(7,"background-size",0,0,0,0,0,0,o),this.SetPropertyDefinition(19,"border-top-color",0,1,0,0,0,0,pe.GetCurrentColor()),this.SetPropertyDefinition(16,"border-right-color",0,1,0,0,0,0,pe.GetCurrentColor()),this.SetPropertyDefinition(8,"border-bottom-color",0,1,0,0,0,0,pe.GetCurrentColor()),this.SetPropertyDefinition(13,"border-left-color",0,1,0,0,0,0,pe.GetCurrentColor()),this.SetPropertyDefinition(22,"border-top-style",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(17,"border-right-style",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(11,"border-bottom-style",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(14,"border-left-style",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(23,"border-top-width",0,0,0,0,1,0,new nr(3,jt.kPixelsUnit)),this.SetPropertyDefinition(18,"border-right-width",0,0,0,0,1,0,new nr(3,jt.kPixelsUnit)),this.SetPropertyDefinition(12,"border-bottom-width",0,0,0,0,1,0,new nr(3,jt.kPixelsUnit)),this.SetPropertyDefinition(15,"border-left-width",0,0,0,0,1,0,new nr(3,jt.kPixelsUnit)),this.SetPropertyDefinition(20,"border-top-left-radius",0,0,0,0,0,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(21,"border-top-right-radius",0,0,0,0,0,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(10,"border-bottom-right-radius",0,0,0,0,0,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(9,"border-bottom-left-radius",0,0,0,0,0,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(24,"bottom",0,0,1,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(25,"box-shadow",0,0,0,0,0,0,pe.GetNone()),this.SetPropertyDefinition(26,"color",1,1,1,1,0,0,new Cr(255)),this.SetPropertyDefinition(27,"content",0,0,0,1,0,0,pe.GetNormal()),this.SetPropertyDefinition(28,"display",0,0,0,1,0,0,pe.GetBlock()),this.SetPropertyDefinition(29,"filter",0,0,0,0,0,0,pe.GetNone()),this.SetPropertyDefinition(30,"flex-basis",0,0,0,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(31,"flex-direction",0,0,0,0,1,0,pe.GetRow()),this.SetPropertyDefinition(32,"flex-grow",0,0,0,0,1,0,new Pp(0)),this.SetPropertyDefinition(33,"flex-shrink",0,0,0,0,1,0,new Pp(1)),this.SetPropertyDefinition(34,"flex-wrap",0,0,0,0,1,0,pe.GetNowrap()),this.SetPropertyDefinition(35,"font-family",1,0,0,1,1,0,SC(new i1("Noto Mono"))),this.SetPropertyDefinition(36,"font-size",1,0,1,1,1,0,new nr(16,jt.kPixelsUnit)),this.SetPropertyDefinition(37,"font-style",1,0,0,1,1,0,yc.GetNormal()),this.SetPropertyDefinition(38,"font-weight",1,0,0,1,1,0,qs.GetNormalAka400()),this.SetPropertyDefinition(39,"height",0,0,1,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(40,"intersection-observer-root-margin",0,0,0,0,0,0,pe.GetAuto()),this.SetPropertyDefinition(41,"justify-content",0,0,0,0,1,0,pe.GetFlexStart()),this.SetPropertyDefinition(42,"left",0,0,0,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(43,"line-height",1,0,0,0,1,0,pe.GetNormal()),this.SetPropertyDefinition(44,"margin-bottom",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(45,"margin-left",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(46,"margin-right",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(47,"margin-top",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(48,"max-height",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(49,"max-width",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(50,"min-height",0,0,0,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(51,"min-width",0,0,0,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(52,"opacity",0,1,0,0,0,1,new Pp(1)),this.SetPropertyDefinition(53,"order",0,0,0,0,1,0,new ey(0)),this.SetPropertyDefinition(54,"outline-color",0,1,0,0,0,0,pe.GetCurrentColor()),this.SetPropertyDefinition(55,"outline-style",0,0,0,0,1,0,pe.GetNone()),this.SetPropertyDefinition(56,"outline-width",0,1,0,0,1,0,new nr(3,jt.kPixelsUnit)),this.SetPropertyDefinition(57,"overflow",0,0,0,0,1,1,pe.GetVisible()),this.SetPropertyDefinition(58,"overflow-wrap",1,0,0,0,1,0,pe.GetNormal()),this.SetPropertyDefinition(59,"padding-bottom",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(60,"padding-left",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(61,"padding-right",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(62,"padding-top",0,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(63,"pointer-events",1,0,0,0,0,0,pe.GetAuto()),this.SetPropertyDefinition(64,"position",0,0,0,1,1,1,pe.GetStatic()),this.SetPropertyDefinition(65,"right",0,0,0,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(66,"text-align",1,0,0,0,1,0,pe.GetStart()),this.SetPropertyDefinition(67,"text-decoration-color",0,1,0,0,0,0,pe.GetCurrentColor()),this.SetPropertyDefinition(68,"text-decoration-line",0,0,0,0,0,0,pe.GetNone()),this.SetPropertyDefinition(69,"text-indent",1,0,0,0,1,0,new nr(0,jt.kPixelsUnit)),this.SetPropertyDefinition(70,"text-overflow",0,0,0,0,1,0,pe.GetClip()),this.SetPropertyDefinition(71,"text-shadow",1,0,0,0,0,0,pe.GetNone()),this.SetPropertyDefinition(72,"text-transform",1,0,0,1,0,0,pe.GetNone()),this.SetPropertyDefinition(73,"top",0,0,1,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(75,"transform",0,1,0,0,1,1,pe.GetNone());let a=new Array(3);a.push(new aa(new no(.5))),a.push(new aa(new no(.5))),a.push(new nr(0,jt.kPixelsUnit));let l=new So(a);this.SetPropertyDefinition(74,"transform-origin",0,0,0,0,0,0,l),this.SetPropertyDefinition(76,"vertical-align",0,0,0,0,0,0,pe.GetBaseline()),this.SetPropertyDefinition(77,"visibility",1,0,0,0,0,0,pe.GetVisible()),this.SetPropertyDefinition(78,"white-space",1,0,0,1,1,0,pe.GetNormal()),this.SetPropertyDefinition(79,"width",0,0,1,0,1,0,pe.GetAuto()),this.SetPropertyDefinition(80,"z-index",0,0,0,0,0,1,pe.GetAuto()),this.SetPropertyDefinition(81,"all",0,0,0,0,0,0),this.SetPropertyDefinition(82,"src",0,0,0,0,0,0),this.SetPropertyDefinition(83,"unicode-range",0,0,0,0,0,0,new ty(0,1114111)),this.SetPropertyDefinition(84,"word-wrap",1,0,0,0,1,0,pe.GetNormal());let u=new Set;u.add(3),u.add(4),u.add(5),u.add(6),u.add(7),this.SetShorthandPropertyDefinition(85,"background",u);let d=new Set;d.add(19),d.add(16),d.add(8),d.add(13),this.SetShorthandPropertyDefinition(87,"border-color",d);let f=new Set;f.add(22),f.add(17),f.add(11),f.add(14),this.SetShorthandPropertyDefinition(92,"border-style",f);let g=new Set;g.add(23),g.add(18),g.add(12),g.add(15),this.SetShorthandPropertyDefinition(94,"border-width",g);let x=new Set;x.add(20),x.add(21),x.add(10),x.add(9),this.SetShorthandPropertyDefinition(90,"border-radius",x);let E=new Set;E.add(87),E.add(92),E.add(94),this.SetShorthandPropertyDefinition(89,"border",E);let D=new Set;D.add(19),D.add(22),D.add(23),this.SetShorthandPropertyDefinition(93,"border-top",D);let A=new Set;A.add(16),A.add(17),A.add(18),this.SetShorthandPropertyDefinition(91,"border-right",A);let R=new Set;R.add(8),R.add(11),R.add(12),this.SetShorthandPropertyDefinition(86,"border-bottom",R);let P=new Set;P.add(13),P.add(14),P.add(15),this.SetShorthandPropertyDefinition(88,"border-left",P);let O=new Set;O.add(32),O.add(33),O.add(30),this.SetShorthandPropertyDefinition(95,"flex",O);let F=new Set;F.add(31),F.add(34),this.SetShorthandPropertyDefinition(96,"flex-flow",F);let U=new Set;U.add(37),U.add(38),U.add(36),U.add(35),this.SetShorthandPropertyDefinition(97,"font",U);let B=new Set;B.add(44),B.add(45),B.add(46),B.add(47),this.SetShorthandPropertyDefinition(98,"margin",B);let N=new Set;N.add(54),N.add(55),N.add(56),this.SetShorthandPropertyDefinition(99,"outline",N);let T=new Set;T.add(59),T.add(60),T.add(61),T.add(62),this.SetShorthandPropertyDefinition(100,"padding",T);let M=new Set;M.add(67),M.add(68),this.SetShorthandPropertyDefinition(101,"text-decoration",M),this.CompileSetOfAnimatableProperties()}SetPropertyDefinition(e,r,n,s,i,o,a,l,u){let d=this.properties[e];Q(!(d!=null&&d.name),"Properties can only be defined once.");let f=new wC(u);f.name=r,f.inherited=n,f.animatable=s,f.impacts_child_computed_style=i,f.impacts_box_generation=o,f.impacts_box_sizes=a,f.impacts_box_cross_references=l,this.properties[e]=f}SetShorthandPropertyDefinition(e,r,n){jr(85,e),hs(101,e);let s=this.properties[e];Q(!(s!=null&&s.name),"Properties can only be defined once.");let i=new wC;i.name=r,i.longhand_properties=n,this.properties[e]=i}CompileSetOfAnimatableProperties(){for(let e=0;e<101+1;++e)this.properties[e].animatable==1&&(this.animatable_properties.push(e),this.properties[e].inherited==1&&this.inherited_animatable_properties.push(e)),this.properties[e].inherited===1&&this.inherited_properties.push(e)}CompileSortedLonghandProperties(){$e()}}const Cu=new H9;function at(t){return jr(t,101),Cu.properties[t].name}function XA(t){return Q(!ff(t)),jr(t,101),Cu.properties[t].inherited}function ff(t){return t>=85&&t<=101}function XS(t){return Q(!ff(t)),jr(t,101),Cu.properties[t].initial_value}function j9(){return Cu.inherited_properties.slice()}function V9(t){return Q(!ff(t)),jr(t,101),Cu.properties[t].impacts_child_computed_style}function z9(t){return Q(!ff(t)),jr(t,101),Cu.properties[t].impacts_box_generation}function W9(t){return Q(!ff(t)),jr(t,101),Cu.properties[t].impacts_box_sizes}function $9(t){return Q(!ff(t)),jr(t,101),Cu.properties[t].impacts_box_cross_references}function SC(t){return new So([t])}function z3(t){switch(t.length){case 3:return ct(t,at(73))?73:-1;case 4:return ct(t,at(95))?95:ct(t,at(97))?97:ct(t,at(42))?42:-1;case 5:return ct(t,at(26))?26:ct(t,at(53))?53:ct(t,at(65))?65:ct(t,at(79))?79:-1;case 6:return ct(t,at(89))?89:ct(t,at(24))?24:ct(t,at(29))?29:ct(t,at(39))?39:ct(t,at(98))?98:-1;case 7:return ct(t,at(27))?27:ct(t,at(28))?28:ct(t,at(52))?52:ct(t,at(99))?99:ct(t,at(100))?100:ct(t,at(80))?80:-1;case 8:return ct(t,at(57))?57:ct(t,at(64))?64:-1;case 9:return ct(t,at(96))?96:ct(t,at(32))?32:ct(t,at(34))?34:ct(t,at(36))?36:ct(t,at(49))?49:ct(t,at(51))?51:ct(t,at(75))?75:-1;case 10:return ct(t,at(2))?2:ct(t,at(85))?85:ct(t,at(93))?93:ct(t,at(25))?25:ct(t,at(30))?30:ct(t,at(37))?37:ct(t,at(47))?47:ct(t,at(48))?48:ct(t,at(50))?50:ct(t,at(66))?66:ct(t,at(77))?77:-1;case 11:return ct(t,at(1))?1:ct(t,at(88))?88:ct(t,at(33))?33:ct(t,at(35))?35:ct(t,at(38))?38:ct(t,at(43))?43:ct(t,at(45))?45:ct(t,at(62))?62:ct(t,at(69))?69:ct(t,at(71))?71:ct(t,at(78))?78:-1;case 12:return ct(t,at(87))?87:ct(t,at(91))?91:ct(t,at(92))?92:ct(t,at(94))?94:ct(t,at(46))?46:ct(t,at(60))?60:-1;case 13:return ct(t,at(0))?0:ct(t,at(86))?86:ct(t,at(90))?90:ct(t,at(44))?44:ct(t,at(54))?54:ct(t,at(55))?55:ct(t,at(56))?56:ct(t,at(58))?58:ct(t,at(61))?61:ct(t,at(70))?70:-1;case 14:return ct(t,at(31))?31:ct(t,at(59))?59:ct(t,at(63))?63:ct(t,at(72))?72:ct(t,at(76))?76:-1;case 15:return ct(t,at(7))?7:ct(t,at(41))?41:ct(t,at(101))?101:-1;case 16:return ct(t,at(3))?3:ct(t,at(19))?19:ct(t,at(22))?22:ct(t,at(23))?23:ct(t,at(4))?4:ct(t,at(74))?74:-1;case 17:return ct(t,at(6))?6:ct(t,at(13))?13:ct(t,at(14))?14:ct(t,at(15))?15:-1;case 18:return ct(t,at(16))?16:ct(t,at(17))?17:ct(t,at(18))?18:-1;case 19:return ct(t,at(5))?5:ct(t,at(8))?8:ct(t,at(11))?11:ct(t,at(12))?12:-1;case 20:return ct(t,at(68))?68:-1;case 21:return ct(t,at(67))?67:-1;case 22:return ct(t,at(20))?20:-1;case 23:return ct(t,at(21))?21:-1;case 25:return-1;case 26:return ct(t,at(10))?10:-1;case 33:return ct(t,at(40))?40:-1;default:return-1}}class W3{removeProperty(e){this.GetPropertyValue(e)&&this.setProperty(e,"")}GetPropertyValue(e){return this.GetDeclaredPropertyValueStringByKey(z3(e))}SetPropertyValueStringByKey(e,r){this.setProperty(at(e),r)}get alignContent(){return this.GetDeclaredPropertyValueStringByKey(C.kAlignContentProperty)}set alignContent(e){this.SetPropertyValueStringByKey(C.kAlignContentProperty,e)}get alignItems(){return this.GetDeclaredPropertyValueStringByKey(C.kAlignItemsProperty)}set alignItems(e){this.SetPropertyValueStringByKey(C.kAlignItemsProperty,e)}get alignSelf(){return this.GetDeclaredPropertyValueStringByKey(C.kAlignSelfProperty)}set alignSelf(e){this.SetPropertyValueStringByKey(C.kAlignSelfProperty,e)}get background(){return this.GetDeclaredPropertyValueStringByKey(C.kBackgroundProperty)}set background(e){this.SetPropertyValueStringByKey(C.kBackgroundProperty,e)}get backgroundColor(){return this.GetDeclaredPropertyValueStringByKey(C.kBackgroundColorProperty)}set backgroundColor(e){this.SetPropertyValueStringByKey(C.kBackgroundColorProperty,e)}get backgroundImage(){return this.GetDeclaredPropertyValueStringByKey(C.kBackgroundImageProperty)}set backgroundImage(e){this.SetPropertyValueStringByKey(C.kBackgroundImageProperty,e)}get backgroundPosition(){return this.GetDeclaredPropertyValueStringByKey(C.kBackgroundPositionProperty)}set backgroundPosition(e){this.SetPropertyValueStringByKey(C.kBackgroundPositionProperty,e)}get backgroundRepeat(){return this.GetDeclaredPropertyValueStringByKey(C.kBackgroundRepeatProperty)}set backgroundRepeat(e){this.SetPropertyValueStringByKey(C.kBackgroundRepeatProperty,e)}get backgroundSize(){return this.GetDeclaredPropertyValueStringByKey(C.kBackgroundSizeProperty)}set backgroundSize(e){this.SetPropertyValueStringByKey(C.kBackgroundSizeProperty,e)}get border(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderProperty)}set border(e){this.SetPropertyValueStringByKey(C.kBorderProperty,e)}get borderBottom(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderBottomProperty)}set borderBottom(e){this.SetPropertyValueStringByKey(C.kBorderBottomProperty,e)}get borderLeft(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderLeftProperty)}set borderLeft(e){this.SetPropertyValueStringByKey(C.kBorderLeftProperty,e)}get borderRight(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderRightProperty)}set borderRight(e){this.SetPropertyValueStringByKey(C.kBorderRightProperty,e)}get borderTop(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderTopProperty)}set borderTop(e){this.SetPropertyValueStringByKey(C.kBorderTopProperty,e)}get borderColor(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderColorProperty)}set borderColor(e){this.SetPropertyValueStringByKey(C.kBorderColorProperty,e)}get borderTopColor(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderTopColorProperty)}set borderTopColor(e){this.SetPropertyValueStringByKey(C.kBorderTopColorProperty,e)}get borderRightColor(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderRightColorProperty)}set borderRightColor(e){this.SetPropertyValueStringByKey(C.kBorderRightColorProperty,e)}get borderBottomColor(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderBottomColorProperty)}set borderBottomColor(e){this.SetPropertyValueStringByKey(C.kBorderBottomColorProperty,e)}get borderLeftColor(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderLeftColorProperty)}set borderLeftColor(e){this.SetPropertyValueStringByKey(C.kBorderLeftColorProperty,e)}get borderStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderStyleProperty)}set borderStyle(e){this.SetPropertyValueStringByKey(C.kBorderStyleProperty,e)}get borderTopStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderTopStyleProperty)}set borderTopStyle(e){this.SetPropertyValueStringByKey(C.kBorderTopStyleProperty,e)}get borderRightStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderRightStyleProperty)}set borderRightStyle(e){this.SetPropertyValueStringByKey(C.kBorderRightStyleProperty,e)}get borderBottomStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderBottomStyleProperty)}set borderBottomStyle(e){this.SetPropertyValueStringByKey(C.kBorderBottomStyleProperty,e)}get borderLeftStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderLeftStyleProperty)}set borderLeftStyle(e){this.SetPropertyValueStringByKey(C.kBorderLeftStyleProperty,e)}get borderWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderWidthProperty)}set borderWidth(e){this.SetPropertyValueStringByKey(C.kBorderWidthProperty,e)}get borderTopWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderTopWidthProperty)}set borderTopWidth(e){this.SetPropertyValueStringByKey(C.kBorderTopWidthProperty,e)}get borderRightWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderRightWidthProperty)}set borderRightWidth(e){this.SetPropertyValueStringByKey(C.kBorderRightWidthProperty,e)}get borderBottomWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderBottomWidthProperty)}set borderBottomWidth(e){this.SetPropertyValueStringByKey(C.kBorderBottomWidthProperty,e)}get borderLeftWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderLeftWidthProperty)}set borderLeftWidth(e){this.SetPropertyValueStringByKey(C.kBorderLeftWidthProperty,e)}get borderRadius(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderRadiusProperty)}set borderRadius(e){this.SetPropertyValueStringByKey(C.kBorderRadiusProperty,e)}get borderTopLeftRadius(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderTopLeftRadiusProperty)}set borderTopLeftRadius(e){this.SetPropertyValueStringByKey(C.kBorderTopLeftRadiusProperty,e)}get borderTopRightRadius(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderTopRightRadiusProperty)}set borderTopRightRadius(e){this.SetPropertyValueStringByKey(C.kBorderTopRightRadiusProperty,e)}get borderBottomRightRadius(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderBottomRightRadiusProperty)}set borderBottomRightRadius(e){this.SetPropertyValueStringByKey(C.kBorderBottomRightRadiusProperty,e)}get borderBottomLeftradius(){return this.GetDeclaredPropertyValueStringByKey(C.kBorderBottomLeftRadiusProperty)}set borderBottomLeftradius(e){this.SetPropertyValueStringByKey(C.kBorderBottomLeftRadiusProperty,e)}get bottom(){return this.GetDeclaredPropertyValueStringByKey(C.kBottomProperty)}set bottom(e){this.SetPropertyValueStringByKey(C.kBottomProperty,e)}get boxShadow(){return this.GetDeclaredPropertyValueStringByKey(C.kBoxShadowProperty)}set boxShadow(e){this.SetPropertyValueStringByKey(C.kBoxShadowProperty,e)}get color(){return this.GetDeclaredPropertyValueStringByKey(C.kColorProperty)}set color(e){this.SetPropertyValueStringByKey(C.kColorProperty,e)}get content(){return this.GetDeclaredPropertyValueStringByKey(C.kContentProperty)}set content(e){this.SetPropertyValueStringByKey(C.kContentProperty,e)}get display(){return this.GetDeclaredPropertyValueStringByKey(C.kDisplayProperty)}set display(e){this.SetPropertyValueStringByKey(C.kDisplayProperty,e)}get filter(){return this.GetDeclaredPropertyValueStringByKey(C.kFilterProperty)}set filter(e){this.SetPropertyValueStringByKey(C.kFilterProperty,e)}get flex(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexProperty)}set flex(e){this.SetPropertyValueStringByKey(C.kFlexProperty,e)}get flexBasis(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexBasisProperty)}set flexBasis(e){this.SetPropertyValueStringByKey(C.kFlexBasisProperty,e)}get flexDirection(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexDirectionProperty)}set flexDirection(e){this.SetPropertyValueStringByKey(C.kFlexDirectionProperty,e)}get flexFlow(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexFlowProperty)}set flexFlow(e){this.SetPropertyValueStringByKey(C.kFlexFlowProperty,e)}get flexGrow(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexGrowProperty)}set flexGrow(e){this.SetPropertyValueStringByKey(C.kFlexGrowProperty,e)}get flexShrink(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexShrinkProperty)}set flexShrink(e){this.SetPropertyValueStringByKey(C.kFlexShrinkProperty,e)}get flexWrap(){return this.GetDeclaredPropertyValueStringByKey(C.kFlexWrapProperty)}set flexWrap(e){this.SetPropertyValueStringByKey(C.kFlexWrapProperty,e)}get font(){return this.GetDeclaredPropertyValueStringByKey(C.kFontProperty)}set font(e){this.SetPropertyValueStringByKey(C.kFontProperty,e)}get fontFamily(){return this.GetDeclaredPropertyValueStringByKey(C.kFontFamilyProperty)}set fontFamily(e){this.SetPropertyValueStringByKey(C.kFontFamilyProperty,e)}get fontSize(){return this.GetDeclaredPropertyValueStringByKey(C.kFontSizeProperty)}set fontSize(e){this.SetPropertyValueStringByKey(C.kFontSizeProperty,e)}get fontStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kFontStyleProperty)}set fontStyle(e){this.SetPropertyValueStringByKey(C.kFontStyleProperty,e)}get fontWeight(){return this.GetDeclaredPropertyValueStringByKey(C.kFontWeightProperty)}set fontWeight(e){this.SetPropertyValueStringByKey(C.kFontWeightProperty,e)}get height(){return this.GetDeclaredPropertyValueStringByKey(C.kHeightProperty)}set height(e){this.SetPropertyValueStringByKey(C.kHeightProperty,e)}get justifyContent(){return this.GetDeclaredPropertyValueStringByKey(C.kJustifyContentProperty)}set justifyContent(e){this.SetPropertyValueStringByKey(C.kJustifyContentProperty,e)}get left(){return this.GetDeclaredPropertyValueStringByKey(C.kLeftProperty)}set left(e){this.SetPropertyValueStringByKey(C.kLeftProperty,e)}get lineHeight(){return this.GetDeclaredPropertyValueStringByKey(C.kLineHeightProperty)}set lineHeight(e){this.SetPropertyValueStringByKey(C.kLineHeightProperty,e)}get margin(){return this.GetDeclaredPropertyValueStringByKey(C.kMarginProperty)}set margin(e){this.SetPropertyValueStringByKey(C.kMarginProperty,e)}get marginBottom(){return this.GetDeclaredPropertyValueStringByKey(C.kMarginBottomProperty)}set marginBottom(e){this.SetPropertyValueStringByKey(C.kMarginBottomProperty,e)}get marginLeft(){return this.GetDeclaredPropertyValueStringByKey(C.kMarginLeftProperty)}set marginLeft(e){this.SetPropertyValueStringByKey(C.kMarginLeftProperty,e)}get marginRight(){return this.GetDeclaredPropertyValueStringByKey(C.kMarginRightProperty)}set marginRight(e){this.SetPropertyValueStringByKey(C.kMarginRightProperty,e)}get marginTop(){return this.GetDeclaredPropertyValueStringByKey(C.kMarginTopProperty)}set marginTop(e){this.SetPropertyValueStringByKey(C.kMarginTopProperty,e)}get maxHeight(){return this.GetDeclaredPropertyValueStringByKey(C.kMaxHeightProperty)}set maxHeight(e){this.SetPropertyValueStringByKey(C.kMaxHeightProperty,e)}get maxWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kMaxWidthProperty)}set maxWidth(e){this.SetPropertyValueStringByKey(C.kMaxWidthProperty,e)}get minHeight(){return this.GetDeclaredPropertyValueStringByKey(C.kMinHeightProperty)}set minHeight(e){this.SetPropertyValueStringByKey(C.kMinHeightProperty,e)}get minWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kMinWidthProperty)}set minWidth(e){this.SetPropertyValueStringByKey(C.kMinWidthProperty,e)}get opacity(){return this.GetDeclaredPropertyValueStringByKey(C.kOpacityProperty)}set opacity(e){this.SetPropertyValueStringByKey(C.kOpacityProperty,e)}get order(){return this.GetDeclaredPropertyValueStringByKey(C.kOrderProperty)}set order(e){this.SetPropertyValueStringByKey(C.kOrderProperty,e)}get outline(){return this.GetDeclaredPropertyValueStringByKey(C.kOutlineProperty)}set outline(e){this.SetPropertyValueStringByKey(C.kOutlineProperty,e)}get outlineColor(){return this.GetDeclaredPropertyValueStringByKey(C.kOutlineColorProperty)}set outlineColor(e){this.SetPropertyValueStringByKey(C.kOutlineColorProperty,e)}get outlineStyle(){return this.GetDeclaredPropertyValueStringByKey(C.kOutlineStyleProperty)}set outlineStyle(e){this.SetPropertyValueStringByKey(C.kOutlineStyleProperty,e)}get outlineWidth(){return this.GetDeclaredPropertyValueStringByKey(C.kOutlineWidthProperty)}set outlineWidth(e){this.SetPropertyValueStringByKey(C.kOutlineWidthProperty,e)}get overflow(){return this.GetDeclaredPropertyValueStringByKey(C.kOverflowProperty)}set overflow(e){this.SetPropertyValueStringByKey(C.kOverflowProperty,e)}get overflowWrap(){return this.GetDeclaredPropertyValueStringByKey(C.kOverflowWrapProperty)}set overflowWrap(e){this.SetPropertyValueStringByKey(C.kOverflowWrapProperty,e)}get padding(){return this.GetDeclaredPropertyValueStringByKey(C.kPaddingProperty)}set padding(e){this.SetPropertyValueStringByKey(C.kPaddingProperty,e)}get paddingBottom(){return this.GetDeclaredPropertyValueStringByKey(C.kPaddingBottomProperty)}set paddingBottom(e){this.SetPropertyValueStringByKey(C.kPaddingBottomProperty,e)}get paddingLeft(){return this.GetDeclaredPropertyValueStringByKey(C.kPaddingLeftProperty)}set paddingLeft(e){this.SetPropertyValueStringByKey(C.kPaddingLeftProperty,e)}get paddingRight(){return this.GetDeclaredPropertyValueStringByKey(C.kPaddingRightProperty)}set paddingRight(e){this.SetPropertyValueStringByKey(C.kPaddingRightProperty,e)}get paddingTop(){return this.GetDeclaredPropertyValueStringByKey(C.kPaddingTopProperty)}set paddingTop(e){this.SetPropertyValueStringByKey(C.kPaddingTopProperty,e)}get pointerEvents(){return this.GetDeclaredPropertyValueStringByKey(C.kPointerEventsProperty)}set pointerEvents(e){this.SetPropertyValueStringByKey(C.kPointerEventsProperty,e)}get position(){return this.GetDeclaredPropertyValueStringByKey(C.kPositionProperty)}set position(e){this.SetPropertyValueStringByKey(C.kPositionProperty,e)}get right(){return this.GetDeclaredPropertyValueStringByKey(C.kRightProperty)}set right(e){this.SetPropertyValueStringByKey(C.kRightProperty,e)}get textAlign(){return this.GetDeclaredPropertyValueStringByKey(C.kTextAlignProperty)}set textAlign(e){this.SetPropertyValueStringByKey(C.kTextAlignProperty,e)}get textDecoration(){return this.GetDeclaredPropertyValueStringByKey(C.kTextDecorationLineProperty)}set textDecoration(e){this.SetPropertyValueStringByKey(C.kTextDecorationLineProperty,e)}get textDecorationColor(){return this.GetDeclaredPropertyValueStringByKey(C.kTextDecorationColorProperty)}set textDecorationColor(e){this.SetPropertyValueStringByKey(C.kTextDecorationColorProperty,e)}get textDecorationLine(){return this.GetDeclaredPropertyValueStringByKey(C.kTextDecorationLineProperty)}set textDecorationLine(e){this.SetPropertyValueStringByKey(C.kTextDecorationLineProperty,e)}get textIndent(){return this.GetDeclaredPropertyValueStringByKey(C.kTextIndentProperty)}set textIndent(e){this.SetPropertyValueStringByKey(C.kTextIndentProperty,e)}get textOverflow(){return this.GetDeclaredPropertyValueStringByKey(C.kTextOverflowProperty)}set textOverflow(e){this.SetPropertyValueStringByKey(C.kTextOverflowProperty,e)}get textShadow(){return this.GetDeclaredPropertyValueStringByKey(C.kTextShadowProperty)}set textShadow(e){this.SetPropertyValueStringByKey(C.kTextShadowProperty,e)}get textTransform(){return this.GetDeclaredPropertyValueStringByKey(C.kTextTransformProperty)}set textTransform(e){this.SetPropertyValueStringByKey(C.kTextTransformProperty,e)}get top(){return this.GetDeclaredPropertyValueStringByKey(C.kTopProperty)}set top(e){this.SetPropertyValueStringByKey(C.kTopProperty,e)}get transform(){return this.GetDeclaredPropertyValueStringByKey(C.kTransformProperty)}set transform(e){this.SetPropertyValueStringByKey(C.kTransformProperty,e)}get transformOrigin(){return this.GetDeclaredPropertyValueStringByKey(C.kTransformOriginProperty)}set transformOrigin(e){this.SetPropertyValueStringByKey(C.kTransformOriginProperty,e)}get verticalAlign(){return this.GetDeclaredPropertyValueStringByKey(C.kVerticalAlignProperty)}set verticalAlign(e){this.SetPropertyValueStringByKey(C.kVerticalAlignProperty,e)}get visibility(){return this.GetDeclaredPropertyValueStringByKey(C.kVisibilityProperty)}set visibility(e){this.SetPropertyValueStringByKey(C.kVisibilityProperty,e)}get whiteSpace(){return this.GetDeclaredPropertyValueStringByKey(C.kWhiteSpaceProperty)}set whiteSpace(e){this.SetPropertyValueStringByKey(C.kWhiteSpaceProperty,e)}get width(){return this.GetDeclaredPropertyValueStringByKey(C.kWidthProperty)}set width(e){this.SetPropertyValueStringByKey(C.kWidthProperty,e)}get wordWrap(){return this.GetDeclaredPropertyValueStringByKey(C.kOverflowWrapProperty)}set wordWrap(e){this.SetPropertyValueStringByKey(C.kWordWrapProperty,e)}get zIndex(){return this.GetDeclaredPropertyValueStringByKey(C.kZIndexProperty)}set zIndex(e){this.SetPropertyValueStringByKey(C.kZIndexProperty,e)}}var $3=(t=>(t[t.kNone=0]="kNone",t[t.kIndexSizeErr=1]="kIndexSizeErr",t[t.kDomstringSizeErr=2]="kDomstringSizeErr",t[t.kHierarchyRequestErr=3]="kHierarchyRequestErr",t[t.kWrongDocumentErr=4]="kWrongDocumentErr",t[t.kInvalidCharacterErr=5]="kInvalidCharacterErr",t[t.kNoDataAllowedErr=6]="kNoDataAllowedErr",t[t.kNoModificationAllowedErr=7]="kNoModificationAllowedErr",t[t.kNotFoundErr=8]="kNotFoundErr",t[t.kNotSupportedErr=9]="kNotSupportedErr",t[t.kInuseAttributeErr=10]="kInuseAttributeErr",t[t.kInvalidStateErr=11]="kInvalidStateErr",t[t.kSyntaxErr=12]="kSyntaxErr",t[t.kInvalidModificationErr=13]="kInvalidModificationErr",t[t.kNamespaceErr=14]="kNamespaceErr",t[t.kInvalidAccessErr=15]="kInvalidAccessErr",t[t.kValidationErr=16]="kValidationErr",t[t.kTypeMismatchErr=17]="kTypeMismatchErr",t[t.kSecurityErr=18]="kSecurityErr",t[t.kNetworkErr=19]="kNetworkErr",t[t.kAbortErr=20]="kAbortErr",t[t.kUrlMismatchErr=21]="kUrlMismatchErr",t[t.kQuotaExceededErr=22]="kQuotaExceededErr",t[t.kTimeoutErr=23]="kTimeoutErr",t[t.kInvalidNodeTypeErr=24]="kInvalidNodeTypeErr",t[t.kDataCloneErr=25]="kDataCloneErr",t[t.kHighestErrCodeValue=25]="kHighestErrCodeValue",t[t.kReadOnlyErr=26]="kReadOnlyErr",t[t.kInvalidPointerIdErr=27]="kInvalidPointerIdErr",t[t.kNotAllowedErr=28]="kNotAllowedErr",t))($3||{});class Ym extends Error{static Raise(e){throw new Error(e.toString())}constructor(e,r){super()}}class Gc extends W3{constructor(){super(...arguments);c(this,"data_",null);c(this,"data_with_inherited_properties_",null)}data(){return this.data_}setProperty(r,n){Ym.Raise($3.kInvalidAccessErr)}HasInheritedProperties(){return!!this.data_with_inherited_properties_}GetInheritedPropertyValueReference(r){if(!this.data_with_inherited_properties_)throw new Error("500");return this.data_with_inherited_properties_.GetPropertyValueReference(r)}SetData(r){this.data_=r,this.UpdateInheritedData()}UpdateInheritedData(){if(!this.data_)this.data_with_inherited_properties_=null;else if(this.data_.has_declared_inherited_properties())this.data_with_inherited_properties_=this.data_;else{let r=this.data_.GetParentComputedStyleDeclaration();r?this.data_with_inherited_properties_=r.data_with_inherited_properties_:this.data_with_inherited_properties_=null}}GetDeclaredPropertyValueStringByKey(r){if(r>C.kMaxLonghandPropertyKey)return jr(r,C.kMaxEveryPropertyKey),$e(),En(oi,'Unsupported property query for "',at(r),'": Returning of property value strings is not ',"supported for shorthand properties."),"";Q(this.data_);const n=this.data_.GetPropertyValueReference(r);return Q(n),n.ToString()}}class K9{}class rm extends K9{constructor(){super(...arguments);c(this,"declared_property_values_",new Map);c(this,"important_properties_",new Set)}GetPropertyValue(r){return C.kNoneProperty,jr(r,C.kMaxLonghandPropertyKey),this.declared_property_values_.has(r)?this.declared_property_values_.get(r):XS(r)}SetPropertyValue(r,n){C.kNoneProperty,jr(r,C.kMaxLonghandPropertyKey),n?this.declared_property_values_.set(r,n):this.declared_property_values_.delete(r)}GetPropertyValueString(r){return C.kNoneProperty,jr(r,C.kMaxLonghandPropertyKey),this.declared_property_values_.has(r)?this.declared_property_values_.get(r).ToString():""}declared_property_values(){return this.declared_property_values_}IsDeclaredPropertyImportant(r){return this.important_properties_.has(r)}AssignFrom(r){this.declared_property_values_=new Map(r.declared_property_values()),this.important_properties_=new Set(r.important_properties_)}toString(){const n=Array.from(this.declared_property_values_.keys()).sort();let s=[];for(let i of n){const o=this.GetPropertyValueString(i);s.push(`${at(i)}:${o}`)}return s.join(";")}}var YA={},K3={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(K3,"__esModule",{value:!0});var X3={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(X3,"__esModule",{value:!0});var s1={};function ep(t){return t!=null&&(!!t._isBuffer||Y3(t)||X9(t))}function Y3(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function X9(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&Y3(t.slice(0,0))}var qA;typeof Object.create=="function"?qA=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:qA=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};const YS=qA;var Y9=/%[sdj%]/g;function o1(t){if(!q0(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(ko(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,s=n.length,i=String(t).replace(Y9,function(a){if(a==="%%")return"%";if(r>=s)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return a}}),o=n[r];r<s;o=n[++r])Y0(o)||!ch(o)?i+=" "+o:i+=" "+ko(o);return i}function qS(t,e){if(la(global.process))return function(){return qS(t,e).apply(this,arguments)};if(kp.noDeprecation===!0)return t;var r=!1;function n(){if(!r){if(kp.throwDeprecation)throw new Error(e);kp.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n}var nm={},pE;function q3(t){if(la(pE)&&(pE=kp.env.NODE_DEBUG||""),t=t.toUpperCase(),!nm[t])if(new RegExp("\\b"+t+"\\b","i").test(pE)){var e=0;nm[t]=function(){var r=o1.apply(null,arguments);console.error("%s %d: %s",t,e,r)}}else nm[t]=function(){};return nm[t]}function ko(t,e){var r={seen:[],stylize:Q9};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),a1(e)?r.showHidden=e:e&&eb(r,e),la(r.showHidden)&&(r.showHidden=!1),la(r.depth)&&(r.depth=2),la(r.colors)&&(r.colors=!1),la(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=q9),ny(r,t,r.depth)}ko.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};ko.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function q9(t,e){var r=ko.styles[e];return r?"\x1B["+ko.colors[r][0]+"m"+t+"\x1B["+ko.colors[r][1]+"m":t}function Q9(t,e){return t}function J9(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function ny(t,e,r){if(t.customInspect&&e&&Ec(e.inspect)&&e.inspect!==ko&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return q0(n)||(n=ny(t,n,r)),n}var s=Z9(t,e);if(s)return s;var i=Object.keys(e),o=J9(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),pd(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return gE(e);if(i.length===0){if(Ec(e)){var a=e.name?": "+e.name:"";return t.stylize("[Function"+a+"]","special")}if(vc(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Ld(e))return t.stylize(Date.prototype.toString.call(e),"date");if(pd(e))return gE(e)}var l="",u=!1,d=["{","}"];if(QS(e)&&(u=!0,d=["[","]"]),Ec(e)){var f=e.name?": "+e.name:"";l=" [Function"+f+"]"}if(vc(e)&&(l=" "+RegExp.prototype.toString.call(e)),Ld(e)&&(l=" "+Date.prototype.toUTCString.call(e)),pd(e)&&(l=" "+gE(e)),i.length===0&&(!u||e.length==0))return d[0]+l+d[1];if(r<0)return vc(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var g;return u?g=eG(t,e,r,o,i):g=i.map(function(x){return QA(t,e,r,o,x,u)}),t.seen.pop(),tG(g,l,d)}function Z9(t,e){if(la(e))return t.stylize("undefined","undefined");if(q0(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(JS(e))return t.stylize(""+e,"number");if(a1(e))return t.stylize(""+e,"boolean");if(Y0(e))return t.stylize("null","null")}function gE(t){return"["+Error.prototype.toString.call(t)+"]"}function eG(t,e,r,n,s){for(var i=[],o=0,a=e.length;o<a;++o)tB(e,String(o))?i.push(QA(t,e,r,n,String(o),!0)):i.push("");return s.forEach(function(l){l.match(/^\d+$/)||i.push(QA(t,e,r,n,l,!0))}),i}function QA(t,e,r,n,s,i){var o,a,l;if(l=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]},l.get?l.set?a=t.stylize("[Getter/Setter]","special"):a=t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),tB(n,s)||(o="["+s+"]"),a||(t.seen.indexOf(l.value)<0?(Y0(r)?a=ny(t,l.value,null):a=ny(t,l.value,r-1),a.indexOf(`
`)>-1&&(i?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=t.stylize("[Circular]","special")),la(o)){if(i&&s.match(/^\d+$/))return a;o=JSON.stringify(""+s),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function tG(t,e,r){var n=t.reduce(function(s,i){return i.indexOf(`
`)>=0,s+i.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function QS(t){return Array.isArray(t)}function a1(t){return typeof t=="boolean"}function Y0(t){return t===null}function Q3(t){return t==null}function JS(t){return typeof t=="number"}function q0(t){return typeof t=="string"}function J3(t){return typeof t=="symbol"}function la(t){return t===void 0}function vc(t){return ch(t)&&ZS(t)==="[object RegExp]"}function ch(t){return typeof t=="object"&&t!==null}function Ld(t){return ch(t)&&ZS(t)==="[object Date]"}function pd(t){return ch(t)&&(ZS(t)==="[object Error]"||t instanceof Error)}function Ec(t){return typeof t=="function"}function iy(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function Z3(t){return Buffer.isBuffer(t)}function ZS(t){return Object.prototype.toString.call(t)}function mE(t){return t<10?"0"+t.toString(10):t.toString(10)}var rG=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function nG(){var t=new Date,e=[mE(t.getHours()),mE(t.getMinutes()),mE(t.getSeconds())].join(":");return[t.getDate(),rG[t.getMonth()],e].join(" ")}function eB(){console.log("%s - %s",nG(),o1.apply(null,arguments))}function eb(t,e){if(!e||!ch(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function tB(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const iG={inherits:YS,_extend:eb,log:eB,isBuffer:Z3,isPrimitive:iy,isFunction:Ec,isError:pd,isDate:Ld,isObject:ch,isRegExp:vc,isUndefined:la,isSymbol:J3,isString:q0,isNumber:JS,isNullOrUndefined:Q3,isNull:Y0,isBoolean:a1,isArray:QS,inspect:ko,deprecate:qS,format:o1,debuglog:q3},sG=Object.freeze(Object.defineProperty({__proto__:null,format:o1,deprecate:qS,debuglog:q3,inspect:ko,isArray:QS,isBoolean:a1,isNull:Y0,isNullOrUndefined:Q3,isNumber:JS,isString:q0,isSymbol:J3,isUndefined:la,isRegExp:vc,isObject:ch,isDate:Ld,isError:pd,isFunction:Ec,isPrimitive:iy,isBuffer:Z3,log:eB,inherits:YS,_extend:eb,default:iG},Symbol.toStringTag,{value:"Module"}));function bC(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,s=0,i=Math.min(r,n);s<i;++s)if(t[s]!==e[s]){r=t[s],n=e[s];break}return r<n?-1:n<r?1:0}var oG=Object.prototype.hasOwnProperty,kC=Object.keys||function(t){var e=[];for(var r in t)oG.call(t,r)&&e.push(r);return e},TC=Array.prototype.slice,xE;function rB(){return typeof xE<"u"?xE:xE=function(){return function(){}.name==="foo"}()}function CC(t){return Object.prototype.toString.call(t)}function PC(t){return ep(t)||typeof global.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function Ji(t,e){t||Yi(t,!0,e,"==",h0)}var aG=/\s*function\s+([^\(\s]*)\s*/;function nB(t){if(!!Ec(t)){if(rB())return t.name;var e=t.toString(),r=e.match(aG);return r&&r[1]}}Ji.AssertionError=l1;function l1(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=lG(this),this.generatedMessage=!0);var e=t.stackStartFunction||Yi;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,s=nB(e),i=n.indexOf(`
`+s);if(i>=0){var o=n.indexOf(`
`,i+1);n=n.substring(o+1)}this.stack=n}}}YS(l1,Error);function DC(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function RC(t){if(rB()||!Ec(t))return ko(t);var e=nB(t),r=e?": "+e:"";return"[Function"+r+"]"}function lG(t){return DC(RC(t.actual),128)+" "+t.operator+" "+DC(RC(t.expected),128)}function Yi(t,e,r,n,s){throw new l1({message:r,actual:t,expected:e,operator:n,stackStartFunction:s})}Ji.fail=Yi;function h0(t,e){t||Yi(t,!0,e,"==",h0)}Ji.ok=h0;Ji.equal=tb;function tb(t,e,r){t!=e&&Yi(t,e,r,"==",tb)}Ji.notEqual=rb;function rb(t,e,r){t==e&&Yi(t,e,r,"!=",rb)}Ji.deepEqual=nb;function nb(t,e,r){Ud(t,e,!1)||Yi(t,e,r,"deepEqual",nb)}Ji.deepStrictEqual=ib;function ib(t,e,r){Ud(t,e,!0)||Yi(t,e,r,"deepStrictEqual",ib)}function Ud(t,e,r,n){if(t===e)return!0;if(ep(t)&&ep(e))return bC(t,e)===0;if(Ld(t)&&Ld(e))return t.getTime()===e.getTime();if(vc(t)&&vc(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return r?t===e:t==e;if(PC(t)&&PC(e)&&CC(t)===CC(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return bC(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(ep(t)!==ep(e))return!1;n=n||{actual:[],expected:[]};var s=n.actual.indexOf(t);return s!==-1&&s===n.expected.indexOf(e)?!0:(n.actual.push(t),n.expected.push(e),uG(t,e,r,n))}function OC(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function uG(t,e,r,n){if(t==null||e===null||e===void 0)return!1;if(iy(t)||iy(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var s=OC(t),i=OC(e);if(s&&!i||!s&&i)return!1;if(s)return t=TC.call(t),e=TC.call(e),Ud(t,e,r);var o=kC(t),a=kC(e),l,u;if(o.length!==a.length)return!1;for(o.sort(),a.sort(),u=o.length-1;u>=0;u--)if(o[u]!==a[u])return!1;for(u=o.length-1;u>=0;u--)if(l=o[u],!Ud(t[l],e[l],r,n))return!1;return!0}Ji.notDeepEqual=sb;function sb(t,e,r){Ud(t,e,!1)&&Yi(t,e,r,"notDeepEqual",sb)}Ji.notDeepStrictEqual=ob;function ob(t,e,r){Ud(t,e,!0)&&Yi(t,e,r,"notDeepStrictEqual",ob)}Ji.strictEqual=ab;function ab(t,e,r){t!==e&&Yi(t,e,r,"===",ab)}Ji.notStrictEqual=lb;function lb(t,e,r){t===e&&Yi(t,e,r,"!==",lb)}function BC(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function cG(t){var e;try{t()}catch(r){e=r}return e}function iB(t,e,r,n){var s;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),s=cG(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!s&&Yi(s,r,"Missing expected exception"+n);var i=typeof n=="string",o=!t&&pd(s),a=!t&&s&&!r;if((o&&i&&BC(s,r)||a)&&Yi(s,r,"Got unwanted exception"+n),t&&s&&r&&!BC(s,r)||!t&&s)throw s}Ji.throws=sB;function sB(t,e,r){iB(!0,t,e,r)}Ji.doesNotThrow=oB;function oB(t,e,r){iB(!1,t,e,r)}Ji.ifError=aB;function aB(t){if(t)throw t}const hG=Object.freeze(Object.defineProperty({__proto__:null,default:Ji,AssertionError:l1,fail:Yi,ok:h0,assert:h0,equal:tb,notEqual:rb,deepEqual:nb,deepStrictEqual:ib,notDeepEqual:sb,notDeepStrictEqual:ob,strictEqual:ab,notStrictEqual:lb,throws:sB,doesNotThrow:oB,ifError:aB},Symbol.toStringTag,{value:"Module"})),Gs=GS(hG);var qe={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(qe,"__esModule",{value:!0});qe.SuppressWarnings=qe.Override=qe.Nullable=qe.NotNull=void 0;function dG(t,e,r){}qe.NotNull=dG;function fG(t,e,r){}qe.Nullable=fG;function _G(t,e,r){}qe.Override=_G;function pG(t){return(e,r,n)=>{}}qe.SuppressWarnings=pG;var gl={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.IntStream=void 0,function(e){e.EOF=-1,e.UNKNOWN_SOURCE_NAME="<unknown>"}(t.IntStream||(t.IntStream={}))})(gl);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var wa=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(s1,"__esModule",{value:!0});s1.ANTLRInputStream=void 0;const gG=Gs,Sa=qe,im=gl;class Do{constructor(e){this.p=0,this.data=e,this.n=e.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw gG(this.LA(1)===im.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(e){return e===0?0:e<0&&(e++,this.p+e-1<0)||this.p+e-1>=this.n?im.IntStream.EOF:this.data.charCodeAt(this.p+e-1)}LT(e){return this.LA(e)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(e){}seek(e){if(e<=this.p){this.p=e;return}for(e=Math.min(e,this.n);this.p<e;)this.consume()}getText(e){let r=e.a,n=e.b;n>=this.n&&(n=this.n-1);let s=n-r+1;return r>=this.n?"":this.data.substr(r,s)}get sourceName(){return this.name?this.name:im.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}}wa([Sa.Override],Do.prototype,"consume",null);wa([Sa.Override],Do.prototype,"LA",null);wa([Sa.Override],Do.prototype,"index",null);wa([Sa.Override],Do.prototype,"size",null);wa([Sa.Override],Do.prototype,"mark",null);wa([Sa.Override],Do.prototype,"release",null);wa([Sa.Override],Do.prototype,"seek",null);wa([Sa.Override],Do.prototype,"getText",null);wa([Sa.Override],Do.prototype,"sourceName",null);wa([Sa.Override],Do.prototype,"toString",null);s1.ANTLRInputStream=Do;var Jf={},Zf={},ba={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var f=s.length-1;f>=0;f--)(d=s[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(t,"__esModule",{value:!0}),t.ATNState=void 0;const r=qe;class n{constructor(){this.stateNumber=n.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(i){return i instanceof n?this.stateNumber===i.stateNumber:!1}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(i,o){if(this.transitions.length===0)this.epsilonOnlyTransitions=i.isEpsilon;else if(this.epsilonOnlyTransitions!==i.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(o!==void 0?o:this.transitions.length,0,i)}transition(i){return this.transitions[i]}setTransition(i,o){this.transitions[i]=o}removeTransition(i){return this.transitions.splice(i,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(i){this.ruleIndex=i}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(i){return this.optimizedTransitions[i]}addOptimizedTransition(i){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(i)}setOptimizedTransition(i,o){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[i]=o}removeOptimizedTransition(i){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(i,1)}}e([r.Override],n.prototype,"hashCode",null),e([r.Override],n.prototype,"equals",null),e([r.Override],n.prototype,"toString",null),t.ATNState=n,function(s){s.INVALID_STATE_NUMBER=-1}(n=t.ATNState||(t.ATNState={}))})(ba);var Xn={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ATNStateType=void 0,function(e){e[e.INVALID_TYPE=0]="INVALID_TYPE",e[e.BASIC=1]="BASIC",e[e.RULE_START=2]="RULE_START",e[e.BLOCK_START=3]="BLOCK_START",e[e.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",e[e.STAR_BLOCK_START=5]="STAR_BLOCK_START",e[e.TOKEN_START=6]="TOKEN_START",e[e.RULE_STOP=7]="RULE_STOP",e[e.BLOCK_END=8]="BLOCK_END",e[e.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",e[e.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",e[e.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",e[e.LOOP_END=12]="LOOP_END"}(t.ATNStateType||(t.ATNStateType={}))})(Xn);var _f={},ka={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ka,"__esModule",{value:!0});var zr=ka.RecognitionException=void 0;class mG extends Error{constructor(e,r,n,s){super(s),this._offendingState=-1,this._recognizer=e,this.input=r,this.ctx=n,e&&(this._offendingState=e.state)}get offendingState(){return this._offendingState}setOffendingState(e){this._offendingState=e}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(e){if(!(e&&e!==this._recognizer))return this.offendingToken}setOffendingToken(e,r){e===this._recognizer&&(this.offendingToken=r)}get recognizer(){return this._recognizer}}zr=ka.RecognitionException=mG;var Q0={},pf={},Ro={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var lB=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},xG=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Transition=void 0;const uB=qe;let d0=class{constructor(e){if(e==null)throw new Error("target cannot be null.");this.target=e}get isEpsilon(){return!1}get label(){}};d0.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];lB([uB.NotNull],d0.prototype,"target",void 0);d0=lB([xG(0,uB.NotNull)],d0);Ro.Transition=d0;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(pf,"__esModule",{value:!0});pf.AbstractPredicateTransition=void 0;const yG=Ro;class vG extends yG.Transition{constructor(e){super(e)}}pf.AbstractPredicateTransition=vG;var hh={},Oo={},u1={},un={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash=void 0,function(e){function n(l=0){return l}e.initialize=n;function s(l,u){u==null?u=0:typeof u=="string"?u=a(u):typeof u=="object"&&(u=u.hashCode());let A=u;return A=Math.imul(A,3432918353),A=A<<15|A>>>32-15,A=Math.imul(A,461845907),l=l^A,l=l<<13|l>>>32-13,l=Math.imul(l,5)+3864292196,l&4294967295}e.update=s;function i(l,u){return l=l^u*4,l=l^l>>>16,l=Math.imul(l,2246822507),l=l^l>>>13,l=Math.imul(l,3266489909),l=l^l>>>16,l}e.finish=i;function o(l,u=0){let d=n(u),f=0;for(let g of l)d=s(d,g),f++;return d=i(d,f),d}e.hashCode=o;function a(l){let u=l.length;if(u===0)return 0;let d=0;for(let f=0;f<u;f++){let g=l.charCodeAt(f);d=(d<<5>>>0)-d+g,d|=0}return d}}(t.MurmurHash||(t.MurmurHash={}))})(un);var Hs={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var cB=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ObjectEqualityComparator=void 0;const hB=qe;class f0{hashCode(e){return e==null?0:e.hashCode()}equals(e,r){return e==null?r==null:e.equals(r)}}f0.INSTANCE=new f0;cB([hB.Override],f0.prototype,"hashCode",null);cB([hB.Override],f0.prototype,"equals",null);Hs.ObjectEqualityComparator=f0;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var dB=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(u1,"__esModule",{value:!0});u1.DefaultEqualityComparator=void 0;const fB=qe,EG=un,NC=Hs;class _0{hashCode(e){return e==null?0:typeof e=="string"||typeof e=="number"?EG.MurmurHash.hashCode([e]):NC.ObjectEqualityComparator.INSTANCE.hashCode(e)}equals(e,r){return e==null?r==null:typeof e=="string"||typeof e=="number"?e===r:NC.ObjectEqualityComparator.INSTANCE.equals(e,r)}}_0.INSTANCE=new _0;dB([fB.Override],_0.prototype,"hashCode",null);dB([fB.Override],_0.prototype,"equals",null);u1.DefaultEqualityComparator=_0;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Oi=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},AG=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.Array2DHashSet=void 0;const wG=Gs,SG=u1,Bi=qe,yE=un,sm=16,vE=.75;class pn{constructor(e,r=sm){if(this.n=0,this.threshold=Math.floor(sm*vE),e instanceof pn){this.comparator=e.comparator,this.buckets=e.buckets.slice(0);for(let n=0;n<this.buckets.length;n++){let s=this.buckets[n];s&&(this.buckets[n]=s.slice(0))}this.n=e.n,this.threshold=e.threshold}else this.comparator=e||SG.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(r)}getOrAdd(e){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(e)}getOrAddImpl(e){let r=this.getBucket(e),n=this.buckets[r];if(!n)return n=[e],this.buckets[r]=n,this.n++,e;for(let s of n)if(this.comparator.equals(s,e))return s;return n.push(e),this.n++,e}get(e){if(e==null)return e;let r=this.getBucket(e),n=this.buckets[r];if(!!n){for(let s of n)if(this.comparator.equals(s,e))return s}}getBucket(e){return this.comparator.hashCode(e)&this.buckets.length-1}hashCode(){let e=yE.MurmurHash.initialize();for(let r of this.buckets)if(r!=null)for(let n of r){if(n==null)break;e=yE.MurmurHash.update(e,this.comparator.hashCode(n))}return e=yE.MurmurHash.finish(e,this.size),e}equals(e){return e===this?!0:!(e instanceof pn)||e.size!==this.size?!1:this.containsAll(e)}expand(){let e=this.buckets,r=this.buckets.length*2,n=this.createBuckets(r);this.buckets=n,this.threshold=Math.floor(r*vE);let s=this.size;for(let i of e)if(!!i)for(let o of i){let a=this.getBucket(o),l=this.buckets[a];l||(l=[],this.buckets[a]=l),l.push(o)}wG(this.n===s)}add(e){return this.getOrAdd(e)===e}get size(){return this.n}get isEmpty(){return this.n===0}contains(e){return this.containsFast(this.asElementType(e))}containsFast(e){return e==null?!1:this.get(e)!=null}*[Symbol.iterator](){yield*this.toArray()}toArray(){const e=new Array(this.size);let r=0;for(let n of this.buckets)if(n!=null)for(let s of n){if(s==null)break;e[r++]=s}return e}containsAll(e){if(e instanceof pn){let r=e;for(let n of r.buckets)if(n!=null)for(let s of n){if(s==null)break;if(!this.containsFast(this.asElementType(s)))return!1}}else for(let r of e)if(!this.containsFast(this.asElementType(r)))return!1;return!0}addAll(e){let r=!1;for(let n of e)this.getOrAdd(n)!==n&&(r=!0);return r}clear(){this.buckets=this.createBuckets(sm),this.n=0,this.threshold=Math.floor(sm*vE)}toString(){if(this.size===0)return"{}";let e="{",r=!0;for(let n of this.buckets)if(n!=null)for(let s of n){if(s==null)break;r?r=!1:e+=", ",e+=s.toString()}return e+="}",e}toTableString(){let e="";for(let r of this.buckets){if(r==null){e+=`null
`;continue}e+="[";let n=!0;for(let s of r)n?n=!1:e+=" ",s==null?e+="_":e+=s.toString();e+=`]
`}return e}asElementType(e){return e}createBuckets(e){return new Array(e)}}Oi([Bi.NotNull],pn.prototype,"comparator",void 0);Oi([Bi.Override],pn.prototype,"hashCode",null);Oi([Bi.Override],pn.prototype,"equals",null);Oi([Bi.Override],pn.prototype,"add",null);Oi([Bi.Override],pn.prototype,"size",null);Oi([Bi.Override],pn.prototype,"isEmpty",null);Oi([Bi.Override],pn.prototype,"contains",null);Oi([AG(0,Bi.Nullable)],pn.prototype,"containsFast",null);Oi([Bi.Override],pn.prototype,Symbol.iterator,null);Oi([Bi.Override],pn.prototype,"toArray",null);Oi([Bi.Override],pn.prototype,"containsAll",null);Oi([Bi.Override],pn.prototype,"addAll",null);Oi([Bi.Override],pn.prototype,"clear",null);Oi([Bi.Override],pn.prototype,"toString",null);Oi([Bi.SuppressWarnings("unchecked")],pn.prototype,"asElementType",null);Oi([Bi.SuppressWarnings("unchecked")],pn.prototype,"createBuckets",null);Oo.Array2DHashSet=pn;var dh={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var _B=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(dh,"__esModule",{value:!0});dh.ArrayEqualityComparator=void 0;const pB=qe,bG=un,kG=Hs;class p0{hashCode(e){return e==null?0:bG.MurmurHash.hashCode(e,0)}equals(e,r){if(e==null)return r==null;if(r==null||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!kG.ObjectEqualityComparator.INSTANCE.equals(e[n],r[n]))return!1;return!0}}p0.INSTANCE=new p0;_B([pB.Override],p0.prototype,"hashCode",null);_B([pB.Override],p0.prototype,"equals",null);dh.ArrayEqualityComparator=p0;var Cn={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Cn,"__esModule",{value:!0});var ub=Cn.toCharArray=Cn.toMap=Cn.equals=gB=Cn.join=Cn.escapeWhitespace=void 0;function TG(t,e){return e?t.replace(/ /,"\xB7"):t.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}Cn.escapeWhitespace=TG;function CG(t,e){let r="",n=!0;for(let s of t)n?n=!1:r+=e,r+=s;return r}var gB=Cn.join=CG;function PG(t,e){return t===e?!0:t===void 0||e===void 0?!1:t.equals(e)}Cn.equals=PG;function DG(t){let e=new Map;for(let r=0;r<t.length;r++)e.set(t[r],r);return e}Cn.toMap=DG;function RG(t){if(typeof t=="string"){let e=new Uint16Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}else return t.toCharArray()}ub=Cn.toCharArray=RG;(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(g,x,E,D){var A=arguments.length,R=A<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,E):D,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(g,x,E,D);else for(var O=g.length-1;O>=0;O--)(P=g[O])&&(R=(A<3?P(R):A>3?P(x,E,R):P(x,E))||R);return A>3&&R&&Object.defineProperty(x,E,R),R},r=K&&K.__param||function(g,x){return function(E,D){x(E,D,g)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticContext=void 0;const n=Oo,s=dh,i=un,o=qe,a=Hs,l=Cn;function u(g){let x;for(let E of g){if(x===void 0){x=E;continue}x.compareTo(E)<0&&(x=E)}return x}function d(g){let x;for(let E of g){if(x===void 0){x=E;continue}x.compareTo(E)>0&&(x=E)}return x}class f{static get NONE(){return f._NONE===void 0&&(f._NONE=new f.Predicate),f._NONE}evalPrecedence(x,E){return this}static and(x,E){if(!x||x===f.NONE)return E;if(E===f.NONE)return x;let D=new f.AND(x,E);return D.opnds.length===1?D.opnds[0]:D}static or(x,E){if(!x)return E;if(x===f.NONE||E===f.NONE)return f.NONE;let D=new f.OR(x,E);return D.opnds.length===1?D.opnds[0]:D}}t.SemanticContext=f,function(g){function D(U){let B=[];for(let N=0;N<U.length;N++){let T=U[N];T instanceof g.PrecedencePredicate&&(B.push(T),U.splice(N,1),N--)}return B}class A extends g{constructor(B=-1,N=-1,T=!1){super(),this.ruleIndex=B,this.predIndex=N,this.isCtxDependent=T}eval(B,N){let T=this.isCtxDependent?N:void 0;return B.sempred(T,this.ruleIndex,this.predIndex)}hashCode(){let B=i.MurmurHash.initialize();return B=i.MurmurHash.update(B,this.ruleIndex),B=i.MurmurHash.update(B,this.predIndex),B=i.MurmurHash.update(B,this.isCtxDependent?1:0),B=i.MurmurHash.finish(B,3),B}equals(B){return B instanceof A?this===B?!0:this.ruleIndex===B.ruleIndex&&this.predIndex===B.predIndex&&this.isCtxDependent===B.isCtxDependent:!1}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}e([o.Override],A.prototype,"eval",null),e([o.Override],A.prototype,"hashCode",null),e([o.Override],A.prototype,"equals",null),e([o.Override],A.prototype,"toString",null),g.Predicate=A;class R extends g{constructor(B){super(),this.precedence=B}eval(B,N){return B.precpred(N,this.precedence)}evalPrecedence(B,N){if(B.precpred(N,this.precedence))return g.NONE}compareTo(B){return this.precedence-B.precedence}hashCode(){let B=1;return B=31*B+this.precedence,B}equals(B){return B instanceof R?this===B?!0:this.precedence===B.precedence:!1}toString(){return"{"+this.precedence+">=prec}?"}}e([o.Override],R.prototype,"eval",null),e([o.Override],R.prototype,"evalPrecedence",null),e([o.Override],R.prototype,"compareTo",null),e([o.Override],R.prototype,"hashCode",null),e([o.Override],R.prototype,"equals",null),e([o.Override],R.prototype,"toString",null),g.PrecedencePredicate=R;class P extends g{}g.Operator=P;let O=class qm extends P{constructor(B,N){super();let T=new n.Array2DHashSet(a.ObjectEqualityComparator.INSTANCE);B instanceof qm?T.addAll(B.opnds):T.add(B),N instanceof qm?T.addAll(N.opnds):T.add(N),this.opnds=T.toArray();let M=D(this.opnds),$=d(M);$&&this.opnds.push($)}get operands(){return this.opnds}equals(B){return this===B?!0:B instanceof qm?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,B.opnds):!1}hashCode(){return i.MurmurHash.hashCode(this.opnds,40363613)}eval(B,N){for(let T of this.opnds)if(!T.eval(B,N))return!1;return!0}evalPrecedence(B,N){let T=!1,M=[];for(let J of this.opnds){let Z=J.evalPrecedence(B,N);if(T=T||Z!==J,Z==null)return;Z!==g.NONE&&M.push(Z)}if(!T)return this;if(M.length===0)return g.NONE;let $=M[0];for(let J=1;J<M.length;J++)$=g.and($,M[J]);return $}toString(){return l.join(this.opnds,"&&")}};e([o.Override],O.prototype,"operands",null),e([o.Override],O.prototype,"equals",null),e([o.Override],O.prototype,"hashCode",null),e([o.Override],O.prototype,"eval",null),e([o.Override],O.prototype,"evalPrecedence",null),e([o.Override],O.prototype,"toString",null),O=e([r(0,o.NotNull),r(1,o.NotNull)],O),g.AND=O;let F=class Qm extends P{constructor(B,N){super();let T=new n.Array2DHashSet(a.ObjectEqualityComparator.INSTANCE);B instanceof Qm?T.addAll(B.opnds):T.add(B),N instanceof Qm?T.addAll(N.opnds):T.add(N),this.opnds=T.toArray();let M=D(this.opnds),$=u(M);$&&this.opnds.push($)}get operands(){return this.opnds}equals(B){return this===B?!0:B instanceof Qm?s.ArrayEqualityComparator.INSTANCE.equals(this.opnds,B.opnds):!1}hashCode(){return i.MurmurHash.hashCode(this.opnds,486279973)}eval(B,N){for(let T of this.opnds)if(T.eval(B,N))return!0;return!1}evalPrecedence(B,N){let T=!1,M=[];for(let J of this.opnds){let Z=J.evalPrecedence(B,N);if(T=T||Z!==J,Z===g.NONE)return g.NONE;Z&&M.push(Z)}if(!T)return this;if(M.length===0)return;let $=M[0];for(let J=1;J<M.length;J++)$=g.or($,M[J]);return $}toString(){return l.join(this.opnds,"||")}};e([o.Override],F.prototype,"operands",null),e([o.Override],F.prototype,"equals",null),e([o.Override],F.prototype,"hashCode",null),e([o.Override],F.prototype,"eval",null),e([o.Override],F.prototype,"evalPrecedence",null),e([o.Override],F.prototype,"toString",null),F=e([r(0,o.NotNull),r(1,o.NotNull)],F),g.OR=F}(f=t.SemanticContext||(t.SemanticContext={}))})(hh);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var J0=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},OG=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.PredicateTransition=void 0;const BG=pf,Gd=qe,NG=hh;let Hc=class extends BG.AbstractPredicateTransition{constructor(e,r,n,s){super(e),this.ruleIndex=r,this.predIndex=n,this.isCtxDependent=s}get serializationType(){return 4}get isEpsilon(){return!0}matches(e,r,n){return!1}get predicate(){return new NG.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};J0([Gd.Override],Hc.prototype,"serializationType",null);J0([Gd.Override],Hc.prototype,"isEpsilon",null);J0([Gd.Override],Hc.prototype,"matches",null);J0([Gd.Override,Gd.NotNull],Hc.prototype,"toString",null);Hc=J0([OG(0,Gd.NotNull)],Hc);Q0.PredicateTransition=Hc;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var mB=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},FG=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(_f,"__esModule",{value:!0});var xB=_f.FailedPredicateException=void 0;const IG=ka,yB=qe,MG=Q0;let sy=class vB extends IG.RecognitionException{constructor(e,r,n){super(e,e.inputStream,e.context,vB.formatMessage(r,n));let i=e.interpreter.atn.states[e.state].transition(0);i instanceof MG.PredicateTransition?(this._ruleIndex=i.ruleIndex,this._predicateIndex=i.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=r,super.setOffendingToken(e,e.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(e,r){return r||`failed predicate: {${e}}?`}};mB([yB.NotNull],sy,"formatMessage",null);sy=mB([FG(0,yB.NotNull)],sy);xB=_f.FailedPredicateException=sy;var fh={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var LG=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},UG=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(fh,"__esModule",{value:!0});fh.InputMismatchException=void 0;const GG=ka,HG=qe;let JA=class extends GG.RecognitionException{constructor(e,r,n){n===void 0&&(n=e.context),super(e,e.inputStream,n),r!==void 0&&this.setOffendingState(r),this.setOffendingToken(e,e.currentToken)}};JA=LG([UG(0,HG.NotNull)],JA);fh.InputMismatchException=JA;var e_={},gf={},c1={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Arrays=void 0,function(e){function r(i,o,a,l){return n(i,a!==void 0?a:0,l!==void 0?l:i.length,o)}e.binarySearch=r;function n(i,o,a,l){let u=o,d=a-1;for(;u<=d;){let f=u+d>>>1,g=i[f];if(g<l)u=f+1;else if(g>l)d=f-1;else return f}return-(u+1)}function s(i){let o="[",a=!0;for(let l of i)a?a=!1:o+=", ",l===null?o+="null":l===void 0?o+="undefined":o+=l;return o+="]",o}e.toString=s}(t.Arrays||(t.Arrays={}))})(c1);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var h1=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(gf,"__esModule",{value:!0});gf.IntegerList=void 0;const jG=c1,d1=qe,EE=new Int32Array(0),VG=4,AE=(1<<31>>>0)-1-8;class sl{constructor(e){if(!e)this._data=EE,this._size=0;else if(e instanceof sl)this._data=e._data.slice(0),this._size=e._size;else if(typeof e=="number")e===0?(this._data=EE,this._size=0):(this._data=new Int32Array(e),this._size=0);else{this._data=EE,this._size=0;for(let r of e)this.add(r)}}add(e){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=e,this._size++}addAll(e){if(Array.isArray(e))this.ensureCapacity(this._size+e.length),this._data.subarray(this._size,this._size+e.length).set(e),this._size+=e.length;else if(e instanceof sl)this.ensureCapacity(this._size+e._size),this._data.subarray(this._size,this._size+e.size).set(e._data),this._size+=e._size;else{this.ensureCapacity(this._size+e.size);let r=0;for(let n of e)this._data[this._size+r]=n,r++;this._size+=e.size}}get(e){if(e<0||e>=this._size)throw RangeError();return this._data[e]}contains(e){for(let r=0;r<this._size;r++)if(this._data[r]===e)return!0;return!1}set(e,r){if(e<0||e>=this._size)throw RangeError();let n=this._data[e];return this._data[e]=r,n}removeAt(e){let r=this.get(e);return this._data.copyWithin(e,e+1,this._size),this._data[this._size-1]=0,this._size--,r}removeRange(e,r){if(e<0||r<0||e>this._size||r>this._size||e>r)throw RangeError();this._data.copyWithin(r,e,this._size),this._data.fill(0,this._size-(r-e),this._size),this._size-=r-e}get isEmpty(){return this._size===0}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(e){if(e===this)return!0;if(!(e instanceof sl)||this._size!==e._size)return!1;for(let r=0;r<this._size;r++)if(this._data[r]!==e._data[r])return!1;return!0}hashCode(){let e=1;for(let r=0;r<this._size;r++)e=31*e+this._data[r];return e}toString(){return this._data.toString()}binarySearch(e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=this._size),r<0||n<0||r>this._size||n>this._size)throw new RangeError;if(r>n)throw new RangeError;return jG.Arrays.binarySearch(this._data,e,r,n)}ensureCapacity(e){if(e<0||e>AE)throw new RangeError;let r;for(this._data.length===0?r=VG:r=this._data.length;r<e;)r=r*2,(r<0||r>AE)&&(r=AE);let n=new Int32Array(r);n.set(this._data),this._data=n}toCharArray(){let e=new Uint16Array(this._size),r=0,n=!1;for(let s=0;s<this._size;s++){let i=this._data[s];if(i>=0&&i<65536){e[r]=i,r++;continue}if(!n){let a=new Uint16Array(this.charArraySize());a.set(e,0),e=a,n=!0}let o=String.fromCodePoint(i);e[r]=o.charCodeAt(0),e[r+1]=o.charCodeAt(1),r+=2}return e}charArraySize(){let e=0;for(let r=0;r<this._size;r++)e+=this._data[r]>=65536?2:1;return e}}h1([d1.NotNull],sl.prototype,"_data",void 0);h1([d1.Override],sl.prototype,"equals",null);h1([d1.Override],sl.prototype,"hashCode",null);h1([d1.Override],sl.prototype,"toString",null);gf.IntegerList=sl;var ui={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var cb=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(ui,"__esModule",{value:!0});ui.Interval=void 0;const hb=qe,EB=1e3;class Tn{constructor(e,r){this.a=e,this.b=r}static get INVALID(){return Tn._INVALID}static of(e,r){return e!==r||e<0||e>EB?new Tn(e,r):(Tn.cache[e]==null&&(Tn.cache[e]=new Tn(e,e)),Tn.cache[e])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(e){return e===this?!0:e instanceof Tn?this.a===e.a&&this.b===e.b:!1}hashCode(){let e=23;return e=e*31+this.a,e=e*31+this.b,e}startsBeforeDisjoint(e){return this.a<e.a&&this.b<e.a}startsBeforeNonDisjoint(e){return this.a<=e.a&&this.b>=e.a}startsAfter(e){return this.a>e.a}startsAfterDisjoint(e){return this.a>e.b}startsAfterNonDisjoint(e){return this.a>e.a&&this.a<=e.b}disjoint(e){return this.startsBeforeDisjoint(e)||this.startsAfterDisjoint(e)}adjacent(e){return this.a===e.b+1||this.b===e.a-1}properlyContains(e){return e.a>=this.a&&e.b<=this.b}union(e){return Tn.of(Math.min(this.a,e.a),Math.max(this.b,e.b))}intersection(e){return Tn.of(Math.max(this.a,e.a),Math.min(this.b,e.b))}differenceNotProperlyContained(e){let r;return e.startsBeforeNonDisjoint(this)?r=Tn.of(Math.max(this.a,e.b+1),this.b):e.startsAfterNonDisjoint(this)&&(r=Tn.of(this.a,e.a-1)),r}toString(){return this.a+".."+this.b}}Tn._INVALID=new Tn(-1,-2);Tn.cache=new Array(EB+1);cb([hb.Override],Tn.prototype,"equals",null);cb([hb.Override],Tn.prototype,"hashCode",null);cb([hb.Override],Tn.prototype,"toString",null);ui.Interval=Tn;var t_={},f1={},Pu={},yr={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;const e=gl;(function(r){r.INVALID_TYPE=0,r.EPSILON=-2,r.MIN_USER_TOKEN_TYPE=1,r.EOF=e.IntStream.EOF,r.DEFAULT_CHANNEL=0,r.HIDDEN_CHANNEL=1,r.MIN_USER_CHANNEL_VALUE=2})(t.Token||(t.Token={}))})(yr);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ds=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},AB=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.CommonToken=void 0;const zG=ui,fs=qe,FC=yr;let ai=class tp{constructor(e,r,n=tp.EMPTY_SOURCE,s=FC.Token.DEFAULT_CHANNEL,i=0,o=0){this._line=0,this._charPositionInLine=-1,this._channel=FC.Token.DEFAULT_CHANNEL,this.index=-1,this._text=r,this._type=e,this.source=n,this._channel=s,this.start=i,this.stop=o,n.source!=null&&(this._line=n.source.line,this._charPositionInLine=n.source.charPositionInLine)}static fromToken(e){let r=new tp(e.type,void 0,tp.EMPTY_SOURCE,e.channel,e.startIndex,e.stopIndex);return r._line=e.line,r.index=e.tokenIndex,r._charPositionInLine=e.charPositionInLine,e instanceof tp?(r._text=e._text,r.source=e.source):(r._text=e.text,r.source={source:e.tokenSource,stream:e.inputStream}),r}get type(){return this._type}set type(e){this._type=e}get line(){return this._line}set line(e){this._line=e}get text(){if(this._text!=null)return this._text;let e=this.inputStream;if(e==null)return;let r=e.size;return this.start<r&&this.stop<r?e.getText(zG.Interval.of(this.start,this.stop)):"<EOF>"}set text(e){this._text=e}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(e){this._charPositionInLine=e}get channel(){return this._channel}set channel(e){this._channel=e}get startIndex(){return this.start}set startIndex(e){this.start=e}get stopIndex(){return this.stop}set stopIndex(e){this.stop=e}get tokenIndex(){return this.index}set tokenIndex(e){this.index=e}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(e){let r="";this._channel>0&&(r=",channel="+this._channel);let n=this.text;n!=null?(n=n.replace(/\n/g,"\\n"),n=n.replace(/\r/g,"\\r"),n=n.replace(/\t/g,"\\t")):n="<no text>";let s=String(this._type);return e&&(s=e.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+n+"',<"+s+">"+r+","+this._line+":"+this.charPositionInLine+"]"}};ai.EMPTY_SOURCE={source:void 0,stream:void 0};ds([fs.NotNull],ai.prototype,"source",void 0);ds([fs.Override],ai.prototype,"type",null);ds([fs.Override],ai.prototype,"line",null);ds([fs.Override],ai.prototype,"text",null);ds([fs.Override],ai.prototype,"charPositionInLine",null);ds([fs.Override],ai.prototype,"channel",null);ds([fs.Override],ai.prototype,"startIndex",null);ds([fs.Override],ai.prototype,"stopIndex",null);ds([fs.Override],ai.prototype,"tokenIndex",null);ds([fs.Override],ai.prototype,"tokenSource",null);ds([fs.Override],ai.prototype,"inputStream",null);ds([fs.Override],ai.prototype,"toString",null);ds([AB(0,fs.NotNull)],ai,"fromToken",null);ai=ds([AB(2,fs.NotNull)],ai);Pu.CommonToken=ai;(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonTokenFactory=void 0;const r=Pu,n=ui,s=qe;class i{constructor(a=!1){this.copyText=a}create(a,l,u,d,f,g,x,E){let D=new r.CommonToken(l,u,a,d,f,g);return D.line=x,D.charPositionInLine=E,u==null&&this.copyText&&a.stream!=null&&(D.text=a.stream.getText(n.Interval.of(f,g))),D}createSimple(a,l){return new r.CommonToken(a,l)}}e([s.Override],i.prototype,"create",null),e([s.Override],i.prototype,"createSimple",null),t.CommonTokenFactory=i,function(o){o.DEFAULT=new o}(i=t.CommonTokenFactory||(t.CommonTokenFactory={}))})(f1);var Z0={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Z0,"__esModule",{value:!0});Z0.IntegerStack=void 0;const WG=gf;class $G extends WG.IntegerList{constructor(e){super(e)}push(e){this.add(e)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}}Z0.IntegerStack=$G;var wE={},eg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(eg,"__esModule",{value:!0});eg.AcceptStateInfo=void 0;class KG{constructor(e,r){this._prediction=e,this._lexerActionExecutor=r}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}}eg.AcceptStateInfo=KG;var SE={},ml={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(ml,"__esModule",{value:!0});ml.Array2DHashMap=void 0;const IC=Oo;class XG{constructor(e){this.keyComparator=e}hashCode(e){return this.keyComparator.hashCode(e.key)}equals(e,r){return this.keyComparator.equals(e.key,r.key)}}class oy{constructor(e){e instanceof oy?this.backingStore=new IC.Array2DHashSet(e.backingStore):this.backingStore=new IC.Array2DHashSet(new XG(e))}clear(){this.backingStore.clear()}containsKey(e){return this.backingStore.contains({key:e})}get(e){let r=this.backingStore.get({key:e});if(!!r)return r.value}get isEmpty(){return this.backingStore.isEmpty}put(e,r){let n=this.backingStore.get({key:e,value:r}),s;return n?(s=n.value,n.value=r):this.backingStore.add({key:e,value:r}),s}putIfAbsent(e,r){let n=this.backingStore.get({key:e,value:r}),s;return n?s=n.value:this.backingStore.add({key:e,value:r}),s}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(e){return e instanceof oy?this.backingStore.equals(e.backingStore):!1}}ml.Array2DHashMap=oy;var r_={},n_={},_h={},Ta={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ta,"__esModule",{value:!0});Ta.DecisionState=void 0;const YG=ba;class qG extends YG.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}}Ta.DecisionState=qG;var bE={},kE={},MC;function db(){return MC||(MC=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(l,u,d,f){var g=arguments.length,x=g<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,d):f,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,u,d,f);else for(var D=l.length-1;D>=0;D--)(E=l[D])&&(x=(g<3?E(x):g>3?E(u,d,x):E(u,d))||x);return g>3&&x&&Object.defineProperty(u,d,x),x};Object.defineProperty(t,"__esModule",{value:!0}),t.PredictionContextCache=void 0;const r=ml,n=qe,s=Hs,i=Bo(),o=Gs;class a{constructor(u=!0){this.contexts=new r.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.childContexts=new r.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.joinContexts=new r.Array2DHashMap(s.ObjectEqualityComparator.INSTANCE),this.enableCache=u}getAsCached(u){if(!this.enableCache)return u;let d=this.contexts.get(u);return d||(d=u,this.contexts.put(u,u)),d}getChild(u,d){if(!this.enableCache)return u.getChild(d);let f=new a.PredictionContextAndInt(u,d),g=this.childContexts.get(f);return g||(g=u.getChild(d),g=this.getAsCached(g),this.childContexts.put(f,g)),g}join(u,d){if(!this.enableCache)return i.PredictionContext.join(u,d,this);let f=new a.IdentityCommutativePredictionContextOperands(u,d),g=this.joinContexts.get(f);return g||(g=i.PredictionContext.join(u,d,this),g=this.getAsCached(g),this.joinContexts.put(f,g),g)}}t.PredictionContextCache=a,a.UNCACHED=new a(!1),function(l){class u{constructor(g,x){this.obj=g,this.value=x}equals(g){if(g instanceof u){if(g===this)return!0}else return!1;let x=g;return this.value===x.value&&(this.obj===x.obj||this.obj!=null&&this.obj.equals(x.obj))}hashCode(){let g=5;return g=7*g+(this.obj!=null?this.obj.hashCode():0),g=7*g+this.value,g}}e([n.Override],u.prototype,"equals",null),e([n.Override],u.prototype,"hashCode",null),l.PredictionContextAndInt=u;class d{constructor(g,x){o(g!=null),o(x!=null),this._x=g,this._y=x}get x(){return this._x}get y(){return this._y}equals(g){if(g instanceof d){if(this===g)return!0}else return!1;let x=g;return this._x===x._x&&this._y===x._y||this._x===x._y&&this._y===x._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}e([n.Override],d.prototype,"equals",null),e([n.Override],d.prototype,"hashCode",null),l.IdentityCommutativePredictionContextOperands=d}(a=t.PredictionContextCache||(t.PredictionContextCache={}))}(kE)),kE}var LC;function Bo(){return LC||(LC=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(D,A,R,P){var O=arguments.length,F=O<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,R):P,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(D,A,R,P);else for(var B=D.length-1;B>=0;B--)(U=D[B])&&(F=(O<3?U(F):O>3?U(A,R,F):U(A,R))||F);return O>3&&F&&Object.defineProperty(A,R,F),F},r=K&&K.__param||function(D,A){return function(R,P){A(R,P,D)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SingletonPredictionContext=t.PredictionContext=void 0;const n=ml,s=Oo,i=c1,o=un,a=qe,l=db(),u=Gs,d=1;class f{constructor(A){this.cachedHashCode=A}static calculateEmptyHashCode(){let A=o.MurmurHash.initialize(d);return A=o.MurmurHash.finish(A,0),A}static calculateSingleHashCode(A,R){let P=o.MurmurHash.initialize(d);return P=o.MurmurHash.update(P,A),P=o.MurmurHash.update(P,R),P=o.MurmurHash.finish(P,2),P}static calculateHashCode(A,R){let P=o.MurmurHash.initialize(d);for(let O of A)P=o.MurmurHash.update(P,O);for(let O of R)P=o.MurmurHash.update(P,O);return P=o.MurmurHash.finish(P,2*A.length),P}static fromRuleContext(A,R,P=!0){if(R.isEmpty)return P?f.EMPTY_FULL:f.EMPTY_LOCAL;let O;R._parent?O=f.fromRuleContext(A,R._parent,P):O=P?f.EMPTY_FULL:f.EMPTY_LOCAL;let U=A.states[R.invokingState].transition(0);return O.getChild(U.followState.stateNumber)}static addEmptyContext(A){return A.addEmptyContext()}static removeEmptyContext(A){return A.removeEmptyContext()}static join(A,R,P=l.PredictionContextCache.UNCACHED){if(A===R)return A;if(A.isEmpty)return f.isEmptyLocal(A)?A:f.addEmptyContext(R);if(R.isEmpty)return f.isEmptyLocal(R)?R:f.addEmptyContext(A);let O=A.size,F=R.size;if(O===1&&F===1&&A.getReturnState(0)===R.getReturnState(0)){let Z=P.join(A.getParent(0),R.getParent(0));return Z===A.getParent(0)?A:Z===R.getParent(0)?R:Z.getChild(A.getReturnState(0))}let U=0,B=new Array(O+F),N=new Array(B.length),T=0,M=0,$=!0,J=!0;for(;T<O&&M<F;)A.getReturnState(T)===R.getReturnState(M)?(B[U]=P.join(A.getParent(T),R.getParent(M)),N[U]=A.getReturnState(T),$=$&&B[U]===A.getParent(T),J=J&&B[U]===R.getParent(M),T++,M++):A.getReturnState(T)<R.getReturnState(M)?(B[U]=A.getParent(T),N[U]=A.getReturnState(T),J=!1,T++):(u(R.getReturnState(M)<A.getReturnState(T)),B[U]=R.getParent(M),N[U]=R.getReturnState(M),$=!1,M++),U++;for(;T<O;)B[U]=A.getParent(T),N[U]=A.getReturnState(T),T++,J=!1,U++;for(;M<F;)B[U]=R.getParent(M),N[U]=R.getReturnState(M),M++,$=!1,U++;return $?A:J?R:(U<B.length&&(B=B.slice(0,U),N=N.slice(0,U)),B.length===0?f.EMPTY_FULL:B.length===1?new E(B[0],N[0]):new x(B,N))}static isEmptyLocal(A){return A===f.EMPTY_LOCAL}static getCachedContext(A,R,P){if(A.isEmpty)return A;let O=P.get(A);if(O)return O;if(O=R.get(A),O)return P.put(A,O),O;let F=!1,U=new Array(A.size);for(let N=0;N<U.length;N++){let T=f.getCachedContext(A.getParent(N),R,P);if(F||T!==A.getParent(N)){if(!F){U=new Array(A.size);for(let M=0;M<A.size;M++)U[M]=A.getParent(M);F=!0}U[N]=T}}if(!F)return O=R.putIfAbsent(A,A),P.put(A,O!=null?O:A),A;let B;if(U.length===1)B=new E(U[0],A.getReturnState(0));else{let N=new Array(A.size);for(let T=0;T<A.size;T++)N[T]=A.getReturnState(T);B=new x(U,N,A.hashCode())}return O=R.putIfAbsent(B,B),P.put(B,O||B),P.put(A,O||B),B}appendSingleContext(A,R){return this.appendContext(f.EMPTY_FULL.getChild(A),R)}getChild(A){return new E(this,A)}hashCode(){return this.cachedHashCode}toStrings(A,R,P=f.EMPTY_FULL){let O=[];e:for(let F=0;;F++){let U=0,B=!0,N=this,T=R,M="";for(M+="[";!N.isEmpty&&N!==P;){let $=0;if(N.size>0){let J=1;for(;1<<J>>>0<N.size;)J++;let Z=(1<<J>>>0)-1;if($=F>>U&Z,B=B&&$>=N.size-1,$>=N.size)continue e;U+=J}if(A){M.length>1&&(M+=" ");let Z=A.atn.states[T],re=A.ruleNames[Z.ruleIndex];M+=re}else N.getReturnState($)!==f.EMPTY_FULL_STATE_KEY&&(N.isEmpty||(M.length>1&&(M+=" "),M+=N.getReturnState($)));T=N.getReturnState($),N=N.getParent($)}if(M+="]",O.push(M),B)break}return O}}e([a.Override],f.prototype,"hashCode",null),e([r(0,a.NotNull),r(1,a.NotNull),r(2,a.NotNull)],f,"join",null),e([r(0,a.NotNull),r(1,a.NotNull),r(2,a.NotNull)],f,"getCachedContext",null),t.PredictionContext=f;class g extends f{constructor(A){super(f.calculateEmptyHashCode()),this.fullContext=A}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(A){throw new Error("index out of bounds")}getReturnState(A){throw new Error("index out of bounds")}findReturnState(A){return-1}get size(){return 0}appendSingleContext(A,R){return R.getChild(this,A)}appendContext(A,R){return A}get isEmpty(){return!0}get hasEmpty(){return!0}equals(A){return this===A}toStrings(A,R,P){return["[]"]}}e([a.Override],g.prototype,"addEmptyContext",null),e([a.Override],g.prototype,"removeEmptyContext",null),e([a.Override],g.prototype,"getParent",null),e([a.Override],g.prototype,"getReturnState",null),e([a.Override],g.prototype,"findReturnState",null),e([a.Override],g.prototype,"size",null),e([a.Override],g.prototype,"appendSingleContext",null),e([a.Override],g.prototype,"appendContext",null),e([a.Override],g.prototype,"isEmpty",null),e([a.Override],g.prototype,"hasEmpty",null),e([a.Override],g.prototype,"equals",null),e([a.Override],g.prototype,"toStrings",null);let x=class ec extends f{constructor(A,R,P){super(P||f.calculateHashCode(A,R)),u(A.length===R.length),u(R.length>1||R[0]!==f.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=A,this.returnStates=R}getParent(A){return this.parents[A]}getReturnState(A){return this.returnStates[A]}findReturnState(A){return i.Arrays.binarySearch(this.returnStates,A)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===f.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let A=this.parents.slice(0),R=this.returnStates.slice(0);return A.push(f.EMPTY_FULL),R.push(f.EMPTY_FULL_STATE_KEY),new ec(A,R)}removeEmptyContext(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new E(this.parents[0],this.returnStates[0]);{let A=this.parents.slice(0,this.parents.length-1),R=this.returnStates.slice(0,this.returnStates.length-1);return new ec(A,R)}}appendContext(A,R){return ec.appendContextImpl(this,A,new f.IdentityHashMap)}static appendContextImpl(A,R,P){if(R.isEmpty){if(f.isEmptyLocal(R)){if(A.hasEmpty)return f.EMPTY_LOCAL;throw new Error("what to do here?")}return A}if(R.size!==1)throw new Error("Appending a tree suffix is not yet supported.");let O=P.get(A);if(!O){if(A.isEmpty)O=R;else{let F=A.size;A.hasEmpty&&F--;let U=new Array(F),B=new Array(F);for(let N=0;N<F;N++)B[N]=A.getReturnState(N);for(let N=0;N<F;N++)U[N]=ec.appendContextImpl(A.getParent(N),R,P);U.length===1?O=new E(U[0],B[0]):(u(U.length>1),O=new ec(U,B)),A.hasEmpty&&(O=f.join(O,R))}P.put(A,O)}return O}equals(A){if(this===A)return!0;if(!(A instanceof ec)||this.hashCode()!==A.hashCode())return!1;let R=A;return this.equalsImpl(R,new s.Array2DHashSet)}equalsImpl(A,R){let P=[],O=[];for(P.push(this),O.push(A);;){let F=P.pop(),U=O.pop();if(!F||!U)break;let B=new l.PredictionContextCache.IdentityCommutativePredictionContextOperands(F,U);if(!R.add(B))continue;let N=B.x.size;if(N===0){if(!B.x.equals(B.y))return!1;continue}let T=B.y.size;if(N!==T)return!1;for(let M=0;M<N;M++){if(B.x.getReturnState(M)!==B.y.getReturnState(M))return!1;let $=B.x.getParent(M),J=B.y.getParent(M);if($.hashCode()!==J.hashCode())return!1;$!==J&&(P.push($),O.push(J))}}return!0}};e([a.NotNull],x.prototype,"parents",void 0),e([a.NotNull],x.prototype,"returnStates",void 0),e([a.Override],x.prototype,"getParent",null),e([a.Override],x.prototype,"getReturnState",null),e([a.Override],x.prototype,"findReturnState",null),e([a.Override],x.prototype,"size",null),e([a.Override],x.prototype,"isEmpty",null),e([a.Override],x.prototype,"hasEmpty",null),e([a.Override],x.prototype,"addEmptyContext",null),e([a.Override],x.prototype,"removeEmptyContext",null),e([a.Override],x.prototype,"appendContext",null),e([a.Override],x.prototype,"equals",null),x=e([r(0,a.NotNull)],x);let E=class wB extends f{constructor(A,R){super(f.calculateSingleHashCode(A,R)),this.parent=A,this.returnState=R}getParent(A){return this.parent}getReturnState(A){return this.returnState}findReturnState(A){return this.returnState===A?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(A,R){return R.getChild(this.parent.appendContext(A,R),this.returnState)}addEmptyContext(){let A=[this.parent,f.EMPTY_FULL],R=[this.returnState,f.EMPTY_FULL_STATE_KEY];return new x(A,R)}removeEmptyContext(){return this}equals(A){if(A===this)return!0;if(!(A instanceof wB))return!1;let R=A;return this.hashCode()!==R.hashCode()?!1:this.returnState===R.returnState&&this.parent.equals(R.parent)}};e([a.NotNull],E.prototype,"parent",void 0),e([a.Override],E.prototype,"getParent",null),e([a.Override],E.prototype,"getReturnState",null),e([a.Override],E.prototype,"findReturnState",null),e([a.Override],E.prototype,"size",null),e([a.Override],E.prototype,"isEmpty",null),e([a.Override],E.prototype,"hasEmpty",null),e([a.Override],E.prototype,"appendContext",null),e([a.Override],E.prototype,"addEmptyContext",null),e([a.Override],E.prototype,"removeEmptyContext",null),e([a.Override],E.prototype,"equals",null),E=e([r(0,a.NotNull)],E),t.SingletonPredictionContext=E,function(D){D.EMPTY_LOCAL=new g(!1),D.EMPTY_FULL=new g(!0),D.EMPTY_LOCAL_STATE_KEY=-(1<<31>>>0),D.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;class A extends n.Array2DHashMap{constructor(){super(R.INSTANCE)}}D.IdentityHashMap=A;class R{IdentityEqualityComparator(){}hashCode(O){return O.hashCode()}equals(O,F){return O===F}}R.INSTANCE=new R,e([a.Override],R.prototype,"hashCode",null),e([a.Override],R.prototype,"equals",null),D.IdentityEqualityComparator=R}(f=t.PredictionContext||(t.PredictionContext={}))}(bE)),bE}/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Sn=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Fs=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(_h,"__esModule",{value:!0});_h.ATNConfig=void 0;const QG=ml,JG=Ta,Wa=un,Fr=qe,ZG=Hs,UC=Bo(),tc=hh,GC=Gs,TE=2147483648;let qi=class rp{constructor(e,r,n){typeof r=="number"?(GC((r&16777215)===r),this._state=e,this.altAndOuterContextDepth=r,this._context=n):(this._state=e,this.altAndOuterContextDepth=r.altAndOuterContextDepth,this._context=n)}static create(e,r,n,s=tc.SemanticContext.NONE,i){return s!==tc.SemanticContext.NONE?i!=null?new jd(i,s,e,r,n,!1):new jc(s,e,r,n):i!=null?new Hd(i,e,r,n,!1):new rp(e,r,n)}get state(){return this._state}get alt(){return this.altAndOuterContextDepth&16777215}get context(){return this._context}set context(e){this._context=e}get reachesIntoOuterContext(){return this.outerContextDepth!==0}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(e){GC(e>=0),e=Math.min(e,127),this.altAndOuterContextDepth=e<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}get lexerActionExecutor(){}get semanticContext(){return tc.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(e,r,n){return n==null?this.transformImpl(e,this._context,this.semanticContext,r,this.lexerActionExecutor):n instanceof UC.PredictionContext?this.transformImpl(e,n,this.semanticContext,r,this.lexerActionExecutor):n instanceof tc.SemanticContext?this.transformImpl(e,this._context,n,r,this.lexerActionExecutor):this.transformImpl(e,this._context,this.semanticContext,r,n)}transformImpl(e,r,n,s,i){let o=s&&rp.checkNonGreedyDecision(this,e);return n!==tc.SemanticContext.NONE?i!=null||o?new jd(i,n,e,this,r,o):new jc(n,e,this,r):i!=null||o?new Hd(i,e,this,r,o):new rp(e,this,r)}static checkNonGreedyDecision(e,r){return e.hasPassedThroughNonGreedyDecision||r instanceof JG.DecisionState&&r.nonGreedy}appendContext(e,r){if(typeof e=="number"){let n=this.context.appendSingleContext(e,r);return this.transform(this.state,!1,n)}else{let n=this.context.appendContext(e,r);return this.transform(this.state,!1,n)}}contains(e){if(this.state.stateNumber!==e.state.stateNumber||this.alt!==e.alt||!this.semanticContext.equals(e.semanticContext))return!1;let r=[],n=[];for(r.push(this.context),n.push(e.context);;){let s=r.pop(),i=n.pop();if(!s||!i)break;if(s===i)return!0;if(s.size<i.size)return!1;if(i.isEmpty)return s.hasEmpty;for(let o=0;o<i.size;o++){let a=s.findReturnState(i.getReturnState(o));if(a<0)return!1;r.push(s.getParent(a)),n.push(i.getParent(o))}}return!1}get isPrecedenceFilterSuppressed(){return(this.altAndOuterContextDepth&TE)!==0}set isPrecedenceFilterSuppressed(e){e?this.altAndOuterContextDepth|=TE:this.altAndOuterContextDepth&=~TE}equals(e){return this===e?!0:e instanceof rp?this.state.stateNumber===e.state.stateNumber&&this.alt===e.alt&&this.reachesIntoOuterContext===e.reachesIntoOuterContext&&this.context.equals(e.context)&&this.semanticContext.equals(e.semanticContext)&&this.isPrecedenceFilterSuppressed===e.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===e.hasPassedThroughNonGreedyDecision&&ZG.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,e.lexerActionExecutor):!1}hashCode(){let e=Wa.MurmurHash.initialize(7);return e=Wa.MurmurHash.update(e,this.state.stateNumber),e=Wa.MurmurHash.update(e,this.alt),e=Wa.MurmurHash.update(e,this.reachesIntoOuterContext?1:0),e=Wa.MurmurHash.update(e,this.context),e=Wa.MurmurHash.update(e,this.semanticContext),e=Wa.MurmurHash.update(e,this.hasPassedThroughNonGreedyDecision?1:0),e=Wa.MurmurHash.update(e,this.lexerActionExecutor),e=Wa.MurmurHash.finish(e,7),e}toDotString(){let e="";e+=`digraph G {
`,e+=`rankdir=LR;
`;let r=new QG.Array2DHashMap(UC.PredictionContext.IdentityEqualityComparator.INSTANCE),n=[];function s(i){let o=r.size,a=r.putIfAbsent(i,o);return a!=null?a:(n.push(i),o)}for(n.push(this.context),r.put(this.context,0);;){let i=n.pop();if(!i)break;for(let o=0;o<i.size;o++)e+="  s"+s(i),e+="->",e+="s"+s(i.getParent(o)),e+='[label="'+i.getReturnState(o)+`"];
`}return e+=`}
`,e.toString()}toString(e,r,n){n==null&&(n=r!=null),r==null&&(r=!0);let s="",i;n?i=this.context.toStrings(e,this.state.stateNumber):i=["?"];let o=!0;for(let a of i)o?o=!1:s+=", ",s+="(",s+=this.state,r&&(s+=",",s+=this.alt),this.context&&(s+=",",s+=a),this.semanticContext!==tc.SemanticContext.NONE&&(s+=",",s+=this.semanticContext),this.reachesIntoOuterContext&&(s+=",up="+this.outerContextDepth),s+=")";return s.toString()}};Sn([Fr.NotNull],qi.prototype,"_state",void 0);Sn([Fr.NotNull],qi.prototype,"_context",void 0);Sn([Fr.NotNull],qi.prototype,"state",null);Sn([Fr.NotNull,Fs(0,Fr.NotNull)],qi.prototype,"context",null);Sn([Fr.NotNull],qi.prototype,"semanticContext",null);Sn([Fr.Override],qi.prototype,"clone",null);Sn([Fs(0,Fr.NotNull),Fs(2,Fr.NotNull)],qi.prototype,"transformImpl",null);Sn([Fr.Override],qi.prototype,"equals",null);Sn([Fr.Override],qi.prototype,"hashCode",null);Sn([Fs(0,Fr.NotNull),Fs(3,Fr.NotNull)],qi,"create",null);qi=Sn([Fs(0,Fr.NotNull),Fs(2,Fr.NotNull)],qi);_h.ATNConfig=qi;let jc=class extends qi{constructor(e,r,n,s){typeof n=="number"?super(r,n,s):super(r,n,s),this._semanticContext=e}get semanticContext(){return this._semanticContext}};Sn([Fr.NotNull],jc.prototype,"_semanticContext",void 0);Sn([Fr.Override],jc.prototype,"semanticContext",null);jc=Sn([Fs(1,Fr.NotNull),Fs(2,Fr.NotNull)],jc);let Hd=class extends qi{constructor(e,r,n,s,i){if(typeof n=="number")super(r,n,s);else if(super(r,n,s),n.semanticContext!==tc.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=i}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};Sn([Fr.Override],Hd.prototype,"lexerActionExecutor",null);Sn([Fr.Override],Hd.prototype,"hasPassedThroughNonGreedyDecision",null);Hd=Sn([Fs(1,Fr.NotNull),Fs(2,Fr.NotNull)],Hd);let jd=class extends jc{constructor(e,r,n,s,i,o){typeof s=="number"?super(r,n,s,i):super(r,n,s,i),this._lexerActionExecutor=e,this.passedThroughNonGreedyDecision=o}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};Sn([Fr.Override],jd.prototype,"lexerActionExecutor",null);Sn([Fr.Override],jd.prototype,"hasPassedThroughNonGreedyDecision",null);jd=Sn([Fs(1,Fr.NotNull),Fs(2,Fr.NotNull)],jd);var No={};const eH=GS(sG);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(No,"__esModule",{value:!0});No.BitSet=void 0;const tH=eH,rH=un,i_=new Uint16Array(0);function vs(t){return t>>>4}function Yh(t){return t*16}function ZA(t){let e=1;for(let r=0;r<16;r++){if((t&e)!==0)return r;e=e<<1>>>0}throw new RangeError("No specified bit found")}function HC(t){let e=32768;for(let r=15;r>=0;r--){if((t&e)!==0)return r;e=e>>>1}throw new RangeError("No specified bit found")}function Xs(t,e){return t&=15,e&=15,t===e?1<<t>>>0:65535>>>15-e^65535>>>16-t}const ew=new Uint8Array(65536);for(let t=0;t<16;t++){const e=1<<t>>>0;let r=0;for(;r<ew.length;){r+=e;for(let n=0;n<e;n++)ew[r]++,r++}}class Jh{constructor(e){if(!e)this.data=i_;else if(typeof e=="number"){if(e<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(vs(e-1)+1)}else if(e instanceof Jh)this.data=e.data.slice(0);else{let r=-1;for(let n of e)r<n&&(r=n);this.data=new Uint16Array(vs(r-1)+1);for(let n of e)this.set(n)}}and(e){const r=this.data,n=e.data,s=Math.min(r.length,n.length);let i=-1;for(let o=0;o<s;o++)(r[o]&=n[o])!==0&&(i=o);i===-1&&(this.data=i_),i<r.length-1&&(this.data=r.slice(0,i+1))}andNot(e){const r=this.data,n=e.data,s=Math.min(r.length,n.length);let i=-1;for(let o=0;o<s;o++)(r[o]&=n[o]^65535)!==0&&(i=o);i===-1&&(this.data=i_),i<r.length-1&&(this.data=r.slice(0,i+1))}cardinality(){if(this.isEmpty)return 0;const e=this.data,r=e.length;let n=0;for(let s=0;s<r;s++)n+=ew[e[s]];return n}clear(e,r){e==null?this.data.fill(0):r==null?this.set(e,!1):this.set(e,r,!1)}flip(e,r){if(r==null&&(r=e),e<0||r<e)throw new RangeError;let n=vs(e);const s=vs(r);if(n===s)this.data[n]^=Xs(e,r);else{for(this.data[n++]^=Xs(e,15);n<s;)this.data[n++]^=65535;this.data[n++]^=Xs(0,r)}}get(e,r){if(r===void 0)return!!(this.data[vs(e)]&Xs(e,e));{let n=new Jh(r+1);for(let s=e;s<=r;s++)n.set(s,this.get(s));return n}}intersects(e){let r=Math.min(this.length(),e.length());if(r===0)return!1;let n=vs(r-1);for(let s=0;s<=n;s++)if((this.data[s]&e.data[s])!==0)return!0;return!1}get isEmpty(){return this.length()===0}length(){return this.data.length?this.previousSetBit(Yh(this.data.length)-1)+1:0}nextClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const r=this.data,n=r.length;let s=vs(e);if(s>n)return-1;let i=65535^Xs(e,15);if((r[s]|i)===65535){for(s++,i=0;s<n&&r[s]===65535;s++);if(s===n)return-1}return Yh(s)+ZA((r[s]|i)^65535)}nextSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const r=this.data,n=r.length;let s=vs(e);if(s>n)return-1;let i=Xs(e,15);if((r[s]&i)===0){for(s++,i=65535;s<n&&r[s]===0;s++);if(s>=n)return-1}return Yh(s)+ZA(r[s]&i)}or(e){const r=this.data,n=e.data,s=Math.min(r.length,n.length),i=Math.max(r.length,n.length),o=r.length===i?r:new Uint16Array(i);let a=-1;for(let u=0;u<s;u++)(o[u]=r[u]|n[u])!==0&&(a=u);const l=r.length>n.length?r:n;for(let u=s;u<i;u++)(o[u]=l[u])!==0&&(a=u);a===-1?this.data=i_:o.length===a+1?this.data=o:this.data=o.slice(0,a)}previousClearBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const r=this.data,n=r.length;let s=vs(e);s>=n&&(s=n-1);let i=65535^Xs(0,e);if((r[s]|i)===65535){for(i=0,s--;s>=0&&r[s]===65535;s--);if(s<0)return-1}return Yh(s)+HC((r[s]|i)^65535)}previousSetBit(e){if(e<0)throw new RangeError("fromIndex cannot be negative");const r=this.data,n=r.length;let s=vs(e);s>=n&&(s=n-1);let i=Xs(0,e);if((r[s]&i)===0){for(s--,i=65535;s>=0&&r[s]===0;s--);if(s<0)return-1}return Yh(s)+HC(r[s]&i)}set(e,r,n){if(r===void 0?(r=e,n=!0):typeof r=="boolean"&&(n=r,r=e),n===void 0&&(n=!0),e<0||e>r)throw new RangeError;let s=vs(e),i=vs(r);if(n&&i>=this.data.length){let o=new Uint16Array(i+1);this.data.forEach((a,l)=>o[l]=a),this.data=o}else if(!n){if(s>=this.data.length)return;i>=this.data.length&&(i=this.data.length-1,r=this.data.length*16-1)}if(s===i)this._setBits(s,n,Xs(e,r));else{for(this._setBits(s++,n,Xs(e,15));s<i;)this.data[s++]=n?65535:0;this._setBits(s,n,Xs(0,r))}}_setBits(e,r,n){r?this.data[e]|=n:this.data[e]&=65535^n}get size(){return this.data.byteLength*8}hashCode(){return rH.MurmurHash.hashCode(this.data,22)}equals(e){if(e===this)return!0;if(!(e instanceof Jh))return!1;const r=this.length();if(r!==e.length())return!1;if(r===0)return!0;let n=vs(r-1);for(let s=0;s<=n;s++)if(this.data[s]!==e.data[s])return!1;return!0}toString(){let e="{",r=!0;for(let n=this.nextSetBit(0);n>=0;n=this.nextSetBit(n+1))r?r=!1:e+=", ",e+=n;return e+="}",e}xor(e){const r=this.data,n=e.data,s=Math.min(r.length,n.length),i=Math.max(r.length,n.length),o=r.length===i?r:new Uint16Array(i);let a=-1;for(let u=0;u<s;u++)(o[u]=r[u]^n[u])!==0&&(a=u);const l=r.length>n.length?r:n;for(let u=s;u<i;u++)(o[u]=l[u])!==0&&(a=u);a===-1?this.data=i_:o.length===a+1?this.data=o:this.data=o.slice(0,a+1)}clone(){return new Jh(this)}[Symbol.iterator](){return new nH(this.data)}[tH.inspect.custom](){return"BitSet "+this.toString()}}No.BitSet=Jh;class nH{constructor(e){this.data=e,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const e=this.data[this.index]&this.mask;if(e!==0){const r=Yh(this.index)+ZA(e);return this.mask=Xs(r+1,15),{done:!1,value:r}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}var jC;function tg(){if(jC)return n_;jC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(R,P,O,F){var U=arguments.length,B=U<3?P:F===null?F=Object.getOwnPropertyDescriptor(P,O):F,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,P,O,F);else for(var T=R.length-1;T>=0;T--)(N=R[T])&&(B=(U<3?N(B):U>3?N(P,O,B):N(P,O))||B);return U>3&&B&&Object.defineProperty(P,O,B),B};Object.defineProperty(n_,"__esModule",{value:!0}),n_.ATNConfigSet=void 0;const e=ml,r=Oo,n=dh,s=Pa(),i=_h,o=No,a=qe,l=Hs,u=Bo(),d=db(),f=hh,g=Gs,x=Cn;class E{hashCode(P){return P.state^P.alt}equals(P,O){return P.state===O.state&&P.alt===O.alt}}E.INSTANCE=new E;function D(R){return R?new e.Array2DHashMap(R):new e.Array2DHashMap(E.INSTANCE)}class A{constructor(P,O){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,P?(O?(this.mergedConfigs=void 0,this.unmerged=void 0):P.isReadOnly?(this.mergedConfigs=D(),this.unmerged=[]):(this.mergedConfigs=D(P.mergedConfigs),this.unmerged=P.unmerged.slice(0)),this.configs=P.configs.slice(0),this._dipsIntoOuterContext=P._dipsIntoOuterContext,this._hasSemanticContext=P._hasSemanticContext,this.outermostConfigSet=P.outermostConfigSet,(O||!P.isReadOnly)&&(this._uniqueAlt=P._uniqueAlt,this._conflictInfo=P._conflictInfo)):(this.mergedConfigs=D(),this.unmerged=[],this.configs=[],this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();let P=new o.BitSet;for(let O of this)P.set(O.alt);return P}get isReadOnly(){return this.mergedConfigs==null}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(P){if(this.outermostConfigSet&&!P)throw new Error("IllegalStateException");g(!P||!this._dipsIntoOuterContext),this.outermostConfigSet=P}getStates(){let P=new r.Array2DHashSet(l.ObjectEqualityComparator.INSTANCE);for(let O of this.configs)P.add(O.state);return P}optimizeConfigs(P){if(this.configs.length!==0)for(let O of this.configs)O.context=P.atn.getCachedContext(O.context)}clone(P){let O=new A(this,P);return!P&&this.isReadOnly&&O.addAll(this.configs),O}get size(){return this.configs.length}get isEmpty(){return this.configs.length===0}contains(P){if(!(P instanceof i.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let O=P,F=this.getKey(O),U=this.mergedConfigs.get(F);if(U!=null&&this.canMerge(O,F,U))return U.contains(O);for(let B of this.unmerged)if(B.contains(P))return!0}else for(let O of this.configs)if(O.contains(P))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(P,O){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");g(!this.outermostConfigSet||!P.reachesIntoOuterContext),O==null&&(O=d.PredictionContextCache.UNCACHED);let F,U=this.getKey(P),B=this.mergedConfigs.get(U);if(F=B==null,B!=null&&this.canMerge(P,U,B)){B.outerContextDepth=Math.max(B.outerContextDepth,P.outerContextDepth),P.isPrecedenceFilterSuppressed&&(B.isPrecedenceFilterSuppressed=!0);let N=u.PredictionContext.join(B.context,P.context,O);return this.updatePropertiesForMergedConfig(P),B.context===N?!1:(B.context=N,!0)}for(let N=0;N<this.unmerged.length;N++){let T=this.unmerged[N];if(this.canMerge(P,U,T)){T.outerContextDepth=Math.max(T.outerContextDepth,P.outerContextDepth),P.isPrecedenceFilterSuppressed&&(T.isPrecedenceFilterSuppressed=!0);let M=u.PredictionContext.join(T.context,P.context,O);return this.updatePropertiesForMergedConfig(P),T.context===M?!1:(T.context=M,F&&(this.mergedConfigs.put(U,T),this.unmerged.splice(N,1)),!0)}}return this.configs.push(P),F?this.mergedConfigs.put(U,P):this.unmerged.push(P),this.updatePropertiesForAddedConfig(P),!0}updatePropertiesForMergedConfig(P){this._dipsIntoOuterContext=this._dipsIntoOuterContext||P.reachesIntoOuterContext,g(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(P){this.configs.length===1?this._uniqueAlt=P.alt:this._uniqueAlt!==P.alt&&(this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!f.SemanticContext.NONE.equals(P.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||P.reachesIntoOuterContext,g(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(P,O,F){return P.state.stateNumber!==F.state.stateNumber||O.alt!==F.alt?!1:P.semanticContext.equals(F.semanticContext)}getKey(P){return{state:P.state.stateNumber,alt:P.alt}}containsAll(P){for(let O of P)if(!(O instanceof i.ATNConfig)||!this.contains(O))return!1;return!0}addAll(P,O){this.ensureWritable();let F=!1;for(let U of P)this.add(U,O)&&(F=!0);return F}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=s.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(P){return this===P?!0:P instanceof A?this.outermostConfigSet===P.outermostConfigSet&&x.equals(this._conflictInfo,P._conflictInfo)&&n.ArrayEqualityComparator.INSTANCE.equals(this.configs,P.configs):!1}hashCode(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;let P=1;return P=5*P^(this.outermostConfigSet?1:0),P=5*P^n.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=P),P}toString(P){P==null&&(P=!1);let O="",F=this.configs.slice(0);F.sort((U,B)=>U.alt!==B.alt?U.alt-B.alt:U.state.stateNumber!==B.state.stateNumber?U.state.stateNumber-B.state.stateNumber:U.semanticContext.toString().localeCompare(B.semanticContext.toString())),O+="[";for(let U=0;U<F.length;U++)U>0&&(O+=", "),O+=F[U].toString(void 0,!0,P);return O+="]",this._hasSemanticContext&&(O+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==s.ATN.INVALID_ALT_NUMBER&&(O+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(O+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(O+="*")),this._dipsIntoOuterContext&&(O+=",dipsIntoOuterContext"),O.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(P){this.ensureWritable(),this._hasSemanticContext=P}get conflictInfo(){return this._conflictInfo}set conflictInfo(P){this.ensureWritable(),this._conflictInfo=P}get conflictingAlts(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}get isExactConflict(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(P){return this.configs[P]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}}return t([a.NotNull],A.prototype,"getRepresentedAlternatives",null),t([a.Override],A.prototype,"size",null),t([a.Override],A.prototype,"isEmpty",null),t([a.Override],A.prototype,"contains",null),t([a.Override],A.prototype,Symbol.iterator,null),t([a.Override],A.prototype,"toArray",null),t([a.Override],A.prototype,"containsAll",null),t([a.Override],A.prototype,"clear",null),t([a.Override],A.prototype,"equals",null),t([a.Override],A.prototype,"hashCode",null),n_.ATNConfigSet=A,n_}var s_={},CE={},PE={},VC;function _1(){return VC||(VC=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(d,f,g,x){var E=arguments.length,D=E<3?f:x===null?x=Object.getOwnPropertyDescriptor(f,g):x,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(d,f,g,x);else for(var R=d.length-1;R>=0;R--)(A=d[R])&&(D=(E<3?A(D):E>3?A(f,g,D):A(f,g))||D);return E>3&&D&&Object.defineProperty(f,g,D),D},r=K&&K.__param||function(d,f){return function(g,x){f(g,x,d)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DFAState=void 0;const n=Pa(),s=No,i=un,o=qe,a=Bo(),l=Gs;class u{constructor(f){this.stateNumber=-1,this.configs=f,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(f){return this.isContextSensitive?this.contextSymbols.get(f):!1}setContextSymbol(f){l(this.isContextSensitive),this.contextSymbols.set(f)}setContextSensitive(f){l(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new s.BitSet))}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(f){this._acceptStateInfo=f}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:n.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(!!this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(f){return this.edges.get(f)}setTarget(f,g){this.edges.set(f,g)}getEdgeMap(){return this.edges}getContextTarget(f){return f===a.PredictionContext.EMPTY_FULL_STATE_KEY&&(f=-1),this.contextEdges.get(f)}setContextTarget(f,g){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");f===a.PredictionContext.EMPTY_FULL_STATE_KEY&&(f=-1),this.contextEdges.set(f,g)}getContextEdgeMap(){let f=new Map(this.contextEdges),g=f.get(-1);if(g!==void 0)if(f.size===1){let x=new Map;return x.set(a.PredictionContext.EMPTY_FULL_STATE_KEY,g),x}else f.delete(-1),f.set(a.PredictionContext.EMPTY_FULL_STATE_KEY,g);return f}hashCode(){let f=i.MurmurHash.initialize(7);return f=i.MurmurHash.update(f,this.configs.hashCode()),f=i.MurmurHash.finish(f,1),f}equals(f){if(this===f)return!0;if(!(f instanceof u))return!1;let g=f;return this.configs.equals(g.configs)}toString(){let f="";return f+=this.stateNumber+":"+this.configs,this.isAcceptState&&(f+="=>",this.predicates?f+=this.predicates:f+=this.prediction),f.toString()}}e([o.NotNull],u.prototype,"configs",void 0),e([o.NotNull],u.prototype,"edges",void 0),e([o.NotNull],u.prototype,"contextEdges",void 0),e([o.Override],u.prototype,"hashCode",null),e([o.Override],u.prototype,"equals",null),e([o.Override],u.prototype,"toString",null),t.DFAState=u,function(d){let f=class{constructor(x,E){this.alt=E,this.pred=x}toString(){return"("+this.pred+", "+this.alt+")"}};e([o.NotNull],f.prototype,"pred",void 0),e([o.Override],f.prototype,"toString",null),f=e([r(0,o.NotNull)],f),d.PredPrediction=f}(u=t.DFAState||(t.DFAState={}))}(PE)),PE}var zC;function p1(){return zC||(zC=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(l,u,d,f){var g=arguments.length,x=g<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,d):f,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(l,u,d,f);else for(var D=l.length-1;D>=0;D--)(E=l[D])&&(x=(g<3?E(x):g>3?E(u,d,x):E(u,d))||x);return g>3&&x&&Object.defineProperty(u,d,x),x},r=K&&K.__param||function(l,u){return function(d,f){u(d,f,l)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ATNSimulator=void 0;const n=tg(),s=_1(),i=qe,o=Bo();let a=class np{constructor(u){this.atn=u}static get ERROR(){return np._ERROR||(np._ERROR=new s.DFAState(new n.ATNConfigSet),np._ERROR.stateNumber=o.PredictionContext.EMPTY_FULL_STATE_KEY),np._ERROR}clearDFA(){this.atn.clearDFA()}};e([i.NotNull],a.prototype,"atn",void 0),e([i.NotNull],a,"ERROR",null),a=e([r(0,i.NotNull)],a),t.ATNSimulator=a,function(l){}(a=t.ATNSimulator||(t.ATNSimulator={})),t.ATNSimulator=a}(CE)),CE}var Du={},rg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(rg,"__esModule",{value:!0});rg.ConsoleErrorListener=void 0;class tw{syntaxError(e,r,n,s,i,o){console.error(`line ${n}:${s} ${i}`)}}rg.ConsoleErrorListener=tw;tw.INSTANCE=new tw;var mf={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var iH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},WC=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(mf,"__esModule",{value:!0});mf.ProxyErrorListener=void 0;const DE=qe;class SB{constructor(e){if(this.delegates=e,!e)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(e,r,n,s,i,o){this.delegates.forEach(a=>{a.syntaxError&&a.syntaxError(e,r,n,s,i,o)})}}iH([DE.Override,WC(0,DE.NotNull),WC(4,DE.NotNull)],SB.prototype,"syntaxError",null);mf.ProxyErrorListener=SB;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ca=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},g1=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(Du,"__esModule",{value:!0});Du.Recognizer=void 0;const sH=rg,oH=mf,Is=qe,$C=yr,aH=Cn;class Rn{constructor(){this._listeners=[sH.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let e=this.vocabulary,r=Rn.tokenTypeMapCache.get(e);if(r==null){let n=new Map;for(let s=0;s<=this.atn.maxTokenType;s++){let i=e.getLiteralName(s);i!=null&&n.set(i,s);let o=e.getSymbolicName(s);o!=null&&n.set(o,s)}n.set("EOF",$C.Token.EOF),r=n,Rn.tokenTypeMapCache.set(e,r)}return r}getRuleIndexMap(){let e=this.ruleNames;if(e==null)throw new Error("The current recognizer does not provide a list of rule names.");let r=Rn.ruleIndexMapCache.get(e);return r==null&&(r=aH.toMap(e),Rn.ruleIndexMapCache.set(e,r)),r}getTokenType(e){let r=this.getTokenTypeMap().get(e);return r!=null?r:$C.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(e){this._interp=e}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(e){let r=e.getOffendingToken();if(!r)return"";let n=r.line,s=r.charPositionInLine;return"line "+n+":"+s}addErrorListener(e){if(!e)throw new TypeError("listener must not be null");this._listeners.push(e)}removeErrorListener(e){let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new oH.ProxyErrorListener(this.getErrorListeners())}sempred(e,r,n){return!0}precpred(e,r){return!0}action(e,r,n){}get state(){return this._stateNumber}set state(e){this._stateNumber=e}}Rn.EOF=-1;Rn.tokenTypeMapCache=new WeakMap;Rn.ruleIndexMapCache=new WeakMap;Ca([Is.SuppressWarnings("serial"),Is.NotNull],Rn.prototype,"_listeners",void 0);Ca([Is.NotNull],Rn.prototype,"getTokenTypeMap",null);Ca([Is.NotNull],Rn.prototype,"getRuleIndexMap",null);Ca([Is.NotNull],Rn.prototype,"serializedATN",null);Ca([Is.NotNull],Rn.prototype,"atn",null);Ca([Is.NotNull,g1(0,Is.NotNull)],Rn.prototype,"interpreter",null);Ca([Is.NotNull,g1(0,Is.NotNull)],Rn.prototype,"getErrorHeader",null);Ca([g1(0,Is.NotNull)],Rn.prototype,"addErrorListener",null);Ca([g1(0,Is.NotNull)],Rn.prototype,"removeErrorListener",null);Ca([Is.NotNull],Rn.prototype,"getErrorListeners",null);Du.Recognizer=Rn;var xl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ru=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(xl,"__esModule",{value:!0});var fb=xl.VocabularyImpl=void 0;const ul=qe,lH=yr;class Co{constructor(e,r,n){this.literalNames=e,this.symbolicNames=r,this.displayNames=n,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(e){if(e>=0&&e<this.literalNames.length)return this.literalNames[e]}getSymbolicName(e){if(e>=0&&e<this.symbolicNames.length)return this.symbolicNames[e];if(e===lH.Token.EOF)return"EOF"}getDisplayName(e){if(e>=0&&e<this.displayNames.length){let s=this.displayNames[e];if(s)return s}let r=this.getLiteralName(e);if(r)return r;let n=this.getSymbolicName(e);return n||String(e)}}Co.EMPTY_VOCABULARY=new Co([],[],[]);Ru([ul.NotNull],Co.prototype,"literalNames",void 0);Ru([ul.NotNull],Co.prototype,"symbolicNames",void 0);Ru([ul.NotNull],Co.prototype,"displayNames",void 0);Ru([ul.Override],Co.prototype,"maxTokenType",null);Ru([ul.Override],Co.prototype,"getLiteralName",null);Ru([ul.Override],Co.prototype,"getSymbolicName",null);Ru([ul.Override,ul.NotNull],Co.prototype,"getDisplayName",null);Ru([ul.NotNull],Co,"EMPTY_VOCABULARY",void 0);fb=xl.VocabularyImpl=Co;var KC;function bB(){if(KC)return s_;KC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(a,l,u,d){var f=arguments.length,g=f<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,l,u,d);else for(var E=a.length-1;E>=0;E--)(x=a[E])&&(g=(f<3?x(g):f>3?x(l,u,g):x(l,u))||g);return f>3&&g&&Object.defineProperty(l,u,g),g};Object.defineProperty(s_,"__esModule",{value:!0}),s_.DFASerializer=void 0;const e=p1(),r=qe,n=Bo(),s=Du,i=xl;class o{constructor(l,u,d,f){u instanceof s.Recognizer?(d=u.ruleNames,f=u.atn,u=u.vocabulary):u||(u=i.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=l,this.vocabulary=u,this.ruleNames=d,this.atn=f}toString(){if(!this.dfa.s0)return"";let l="";if(this.dfa.states){let d=new Array(...this.dfa.states.toArray());d.sort((f,g)=>f.stateNumber-g.stateNumber);for(let f of d){let g=f.getEdgeMap(),x=[...g.keys()].sort((A,R)=>A-R),E=f.getContextEdgeMap(),D=[...E.keys()].sort((A,R)=>A-R);for(let A of x){let R=g.get(A);if((R==null||R===e.ATNSimulator.ERROR)&&!f.isContextSymbol(A))continue;let P=!1;l+=this.getStateString(f)+"-"+this.getEdgeLabel(A)+"->",f.isContextSymbol(A)&&(l+="!",P=!0);let O=R;O&&O.stateNumber!==e.ATNSimulator.ERROR.stateNumber?l+=this.getStateString(O)+`
`:P&&(l+=`ctx
`)}if(f.isContextSensitive)for(let A of D)l+=this.getStateString(f)+"-"+this.getContextLabel(A)+"->"+this.getStateString(E.get(A))+`
`}}let u=l;return u.length===0?"":u}getContextLabel(l){if(l===n.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(l===n.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&l>0&&l<=this.atn.states.length){let d=this.atn.states[l].ruleIndex;if(this.ruleNames&&d>=0&&d<this.ruleNames.length)return"ctx:"+String(l)+"("+this.ruleNames[d]+")"}return"ctx:"+String(l)}getEdgeLabel(l){return this.vocabulary.getDisplayName(l)}getStateString(l){if(l===e.ATNSimulator.ERROR)return"ERROR";let u=l.stateNumber,d="s"+u;if(l.isAcceptState&&(l.predicates?d=":s"+u+"=>"+l.predicates:d=":s"+u+"=>"+l.prediction),l.isContextSensitive){d+="*";for(let f of l.configs)if(f.reachesIntoOuterContext){d+="*";break}}return d}}return t([r.NotNull],o.prototype,"dfa",void 0),t([r.NotNull],o.prototype,"vocabulary",void 0),t([r.Override],o.prototype,"toString",null),s_.DFASerializer=o,s_}var o_={},XC;function uH(){if(XC)return o_;XC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f},e=K&&K.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(o_,"__esModule",{value:!0}),o_.LexerDFASerializer=void 0;const r=bB(),n=qe,s=xl;let i=class extends r.DFASerializer{constructor(a){super(a,s.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(a){return"'"+String.fromCodePoint(a)+"'"}};return t([n.Override,n.NotNull],i.prototype,"getEdgeLabel",null),i=t([e(0,n.NotNull)],i),o_.LexerDFASerializer=i,o_}var xf={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var cH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(xf,"__esModule",{value:!0});xf.StarLoopEntryState=void 0;const hH=Xn,dH=No,fH=Ta,_H=qe;class kB extends fH.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new dH.BitSet}get stateType(){return hH.ATNStateType.STAR_LOOP_ENTRY}}cH([_H.Override],kB.prototype,"stateType",null);xf.StarLoopEntryState=kB;var YC;function TB(){if(YC)return r_;YC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(g,x,E,D){var A=arguments.length,R=A<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,E):D,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(g,x,E,D);else for(var O=g.length-1;O>=0;O--)(P=g[O])&&(R=(A<3?P(R):A>3?P(x,E,R):P(x,E))||R);return A>3&&R&&Object.defineProperty(x,E,R),R},e=K&&K.__param||function(g,x){return function(E,D){x(E,D,g)}};Object.defineProperty(r_,"__esModule",{value:!0}),r_.DFA=void 0;const r=Oo,n=tg(),s=bB(),i=_1(),o=uH(),a=qe,l=Hs,u=xf,d=xl;let f=class{constructor(x,E=0){if(this.states=new r.Array2DHashSet(l.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!x.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=x,this.atn=x.atn,this.decision=E;let D=!1;x instanceof u.StarLoopEntryState&&x.precedenceRuleDecision&&(D=!0,this.s0=new i.DFAState(new n.ATNConfigSet),this.s0full=new i.DFAState(new n.ATNConfigSet)),this.precedenceDfa=D}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(x,E){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return E?this.s0full.getTarget(x):this.s0.getTarget(x)}setPrecedenceStartState(x,E,D){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");x<0||(E?this.s0full.setTarget(x,D):this.s0.setTarget(x,D))}get isEmpty(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}addState(x){return x.stateNumber=this.nextStateNumber++,this.states.getOrAdd(x)}toString(x,E){if(x||(x=d.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let D;return E?D=new s.DFASerializer(this,x,E,this.atnStartState.atn):D=new s.DFASerializer(this,x),D.toString()}toLexerString(){return this.s0?new o.LexerDFASerializer(this).toString():""}};return t([a.NotNull],f.prototype,"states",void 0),t([a.NotNull],f.prototype,"atnStartState",void 0),t([a.NotNull],f.prototype,"atn",void 0),f=t([e(0,a.NotNull)],f),r_.DFA=f,r_}var ng={},ig={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var pH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(ig,"__esModule",{value:!0});ig.BasicState=void 0;const gH=ba,mH=Xn,xH=qe;class CB extends gH.ATNState{get stateType(){return mH.ATNStateType.BASIC}}pH([xH.Override],CB.prototype,"stateType",null);ig.BasicState=CB;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var yH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(ng,"__esModule",{value:!0});ng.InvalidState=void 0;const vH=Xn,EH=ig,AH=qe;class PB extends EH.BasicState{get stateType(){return vH.ATNStateType.INVALID_TYPE}}yH([AH.Override],PB.prototype,"stateType",null);ng.InvalidState=PB;var a_={},l_={},u_={},qC;function _b(){if(qC)return u_;qC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(a,l,u,d){var f=arguments.length,g=f<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,l,u,d);else for(var E=a.length-1;E>=0;E--)(x=a[E])&&(g=(f<3?x(g):f>3?x(l,u,g):x(l,u))||g);return f>3&&g&&Object.defineProperty(l,u,g),g},e=K&&K.__param||function(a,l){return function(u,d){l(u,d,a)}};Object.defineProperty(u_,"__esModule",{value:!0}),u_.SetTransition=void 0;const r=yh(),n=qe,s=yr,i=Ro;let o=class extends i.Transition{constructor(l,u){super(l),u==null&&(u=r.IntervalSet.of(s.Token.INVALID_TYPE)),this.set=u}get serializationType(){return 7}get label(){return this.set}matches(l,u,d){return this.set.contains(l)}toString(){return this.set.toString()}};return t([n.NotNull],o.prototype,"set",void 0),t([n.Override],o.prototype,"serializationType",null),t([n.Override,n.NotNull],o.prototype,"label",null),t([n.Override],o.prototype,"matches",null),t([n.Override,n.NotNull],o.prototype,"toString",null),o=t([e(0,n.NotNull),e(1,n.Nullable)],o),u_.SetTransition=o,u_}var QC;function pb(){if(QC)return l_;QC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(l_,"__esModule",{value:!0}),l_.NotSetTransition=void 0;const r=qe,n=_b();let s=class extends n.SetTransition{constructor(o,a){super(o,a)}get serializationType(){return 8}matches(o,a,l){return o>=a&&o<=l&&!super.matches(o,a,l)}toString(){return"~"+super.toString()}};return t([r.Override],s.prototype,"serializationType",null),t([r.Override],s.prototype,"matches",null),t([r.Override],s.prototype,"toString",null),s=t([e(0,r.NotNull),e(1,r.Nullable)],s),l_.NotSetTransition=s,l_}var Ou={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var DB=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.RuleStopState=void 0;const wH=ba,SH=Xn,RB=qe;class gb extends wH.ATNState{get nonStopStateNumber(){return-1}get stateType(){return SH.ATNStateType.RULE_STOP}}DB([RB.Override],gb.prototype,"nonStopStateNumber",null);DB([RB.Override],gb.prototype,"stateType",null);Ou.RuleStopState=gb;var yf={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var sg=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},JC=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(yf,"__esModule",{value:!0});yf.RuleTransition=void 0;const Vd=qe,bH=Ro;let Vc=class extends bH.Transition{constructor(e,r,n,s){super(e),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=r,this.precedence=n,this.followState=s}get serializationType(){return 3}get isEpsilon(){return!0}matches(e,r,n){return!1}};sg([Vd.NotNull],Vc.prototype,"followState",void 0);sg([Vd.Override],Vc.prototype,"serializationType",null);sg([Vd.Override],Vc.prototype,"isEpsilon",null);sg([Vd.Override],Vc.prototype,"matches",null);Vc=sg([JC(0,Vd.NotNull),JC(3,Vd.NotNull)],Vc);yf.RuleTransition=Vc;var og={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var m1=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},kH=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(og,"__esModule",{value:!0});og.WildcardTransition=void 0;const g0=qe,TH=Ro;let zd=class extends TH.Transition{constructor(e){super(e)}get serializationType(){return 9}matches(e,r,n){return e>=r&&e<=n}toString(){return"."}};m1([g0.Override],zd.prototype,"serializationType",null);m1([g0.Override],zd.prototype,"matches",null);m1([g0.Override,g0.NotNull],zd.prototype,"toString",null);zd=m1([kH(0,g0.NotNull)],zd);og.WildcardTransition=zd;var ZC;function CH(){if(ZC)return a_;ZC=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(A,R,P,O){var F=arguments.length,U=F<3?R:O===null?O=Object.getOwnPropertyDescriptor(R,P):O,B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(A,R,P,O);else for(var N=A.length-1;N>=0;N--)(B=A[N])&&(U=(F<3?B(U):F>3?B(R,P,U):B(R,P))||U);return F>3&&U&&Object.defineProperty(R,P,U),U},e=K&&K.__param||function(A,R){return function(P,O){R(P,O,A)}};Object.defineProperty(a_,"__esModule",{value:!0}),a_.LL1Analyzer=void 0;const r=pf,n=Oo,s=_h,i=No,o=yh(),a=qe,l=pb(),u=Hs,d=Bo(),f=Ou,g=yf,x=yr,E=og;let D=class rw{constructor(R){this.atn=R}getDecisionLookahead(R){if(R==null)return;let P=new Array(R.numberOfTransitions);for(let O=0;O<R.numberOfTransitions;O++){let F=new o.IntervalSet;P[O]=F;let U=new n.Array2DHashSet(u.ObjectEqualityComparator.INSTANCE),B=!1;this._LOOK(R.transition(O).target,void 0,d.PredictionContext.EMPTY_LOCAL,F,U,new i.BitSet,B,!1),(F.size===0||F.contains(rw.HIT_PRED))&&(F=void 0,P[O]=F)}return P}LOOK(R,P,O){if(O===void 0){if(R.atn==null)throw new Error("Illegal state");O=R.atn.ruleToStopState[R.ruleIndex]}else O===null&&(O=void 0);let F=new o.IntervalSet,U=!0,B=!0;return this._LOOK(R,O,P,F,new n.Array2DHashSet,new i.BitSet,U,B),F}_LOOK(R,P,O,F,U,B,N,T){let M=s.ATNConfig.create(R,0,O);if(!U.add(M))return;if(R===P){if(d.PredictionContext.isEmptyLocal(O)){F.add(x.Token.EPSILON);return}else if(O.isEmpty){T&&F.add(x.Token.EOF);return}}if(R instanceof f.RuleStopState){if(O.isEmpty&&!d.PredictionContext.isEmptyLocal(O)){T&&F.add(x.Token.EOF);return}let J=B.get(R.ruleIndex);try{B.clear(R.ruleIndex);for(let Z=0;Z<O.size;Z++){if(O.getReturnState(Z)===d.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let re=this.atn.states[O.getReturnState(Z)];this._LOOK(re,P,O.getParent(Z),F,U,B,N,T)}}finally{J&&B.set(R.ruleIndex)}}let $=R.numberOfTransitions;for(let J=0;J<$;J++){let Z=R.transition(J);if(Z instanceof g.RuleTransition){if(B.get(Z.ruleIndex))continue;let re=O.getChild(Z.followState.stateNumber);try{B.set(Z.ruleIndex),this._LOOK(Z.target,P,re,F,U,B,N,T)}finally{B.clear(Z.ruleIndex)}}else if(Z instanceof r.AbstractPredicateTransition)N?this._LOOK(Z.target,P,O,F,U,B,N,T):F.add(rw.HIT_PRED);else if(Z.isEpsilon)this._LOOK(Z.target,P,O,F,U,B,N,T);else if(Z instanceof E.WildcardTransition)F.addAll(o.IntervalSet.of(x.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let re=Z.label;re!=null&&(Z instanceof l.NotSetTransition&&(re=re.complement(o.IntervalSet.of(x.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),F.addAll(re))}}}};return D.HIT_PRED=x.Token.INVALID_TYPE,t([a.NotNull],D.prototype,"atn",void 0),t([a.NotNull,e(0,a.NotNull),e(1,a.NotNull)],D.prototype,"LOOK",null),t([e(0,a.NotNull),e(2,a.NotNull),e(3,a.NotNull),e(4,a.NotNull),e(5,a.NotNull)],D.prototype,"_LOOK",null),D=t([e(0,a.NotNull)],D),a_.LL1Analyzer=D,a_}var eP;function Pa(){return eP||(eP=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(E,D,A,R){var P=arguments.length,O=P<3?D:R===null?R=Object.getOwnPropertyDescriptor(D,A):R,F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(E,D,A,R);else for(var U=E.length-1;U>=0;U--)(F=E[U])&&(O=(P<3?F(O):P>3?F(D,A,O):F(D,A))||O);return P>3&&O&&Object.defineProperty(D,A,O),O},r=K&&K.__param||function(E,D){return function(A,R){D(A,R,E)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ATN=void 0;const n=ml,s=TB(),i=yh(),o=ng,a=CH(),l=qe,u=Hs,d=Bo(),f=yr,g=Gs;let x=class{constructor(D,A){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new n.Array2DHashMap(u.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=D,this.maxTokenType=A}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let D=0;D<this.decisionToDFA.length;D++)this.decisionToDFA[D]=new s.DFA(this.decisionToState[D],D);this.modeToDFA=new Array(this.modeToStartState.length);for(let D=0;D<this.modeToDFA.length;D++)this.modeToDFA[D]=new s.DFA(this.modeToStartState[D]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(D){return d.PredictionContext.getCachedContext(D,this.contextCache,new d.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return g(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(D,A){return A?new a.LL1Analyzer(this).LOOK(D,A):(D.nextTokenWithinRule||(D.nextTokenWithinRule=this.nextTokens(D,d.PredictionContext.EMPTY_LOCAL),D.nextTokenWithinRule.setReadonly(!0)),D.nextTokenWithinRule)}addState(D){D.atn=this,D.stateNumber=this.states.length,this.states.push(D)}removeState(D){let A=new o.InvalidState;A.atn=this,A.stateNumber=D.stateNumber,this.states[D.stateNumber]=A}defineMode(D,A){this.modeNameToStartState.set(D,A),this.modeToStartState.push(A),this.modeToDFA.push(new s.DFA(A)),this.defineDecisionState(A)}defineDecisionState(D){return this.decisionToState.push(D),D.decision=this.decisionToState.length-1,this.decisionToDFA.push(new s.DFA(D,D.decision)),D.decision}getDecisionState(D){if(this.decisionToState.length>0)return this.decisionToState[D]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(D,A){if(D<0||D>=this.states.length)throw new RangeError("Invalid state number.");let R=A,P=this.states[D],O=this.nextTokens(P);if(!O.contains(f.Token.EPSILON))return O;let F=new i.IntervalSet;for(F.addAll(O),F.remove(f.Token.EPSILON);R!=null&&R.invokingState>=0&&O.contains(f.Token.EPSILON);){let B=this.states[R.invokingState].transition(0);O=this.nextTokens(B.followState),F.addAll(O),F.remove(f.Token.EPSILON),R=R._parent}return O.contains(f.Token.EPSILON)&&F.add(f.Token.EOF),F}};e([l.NotNull],x.prototype,"states",void 0),e([l.NotNull],x.prototype,"decisionToState",void 0),e([l.NotNull],x.prototype,"modeNameToStartState",void 0),e([l.NotNull],x.prototype,"modeToStartState",void 0),e([l.NotNull],x.prototype,"decisionToDFA",void 0),e([l.NotNull],x.prototype,"modeToDFA",void 0),e([l.NotNull],x.prototype,"nextTokens",null),e([r(0,l.NotNull)],x.prototype,"removeState",null),e([r(0,l.NotNull),r(1,l.NotNull)],x.prototype,"defineMode",null),e([r(0,l.NotNull)],x.prototype,"defineDecisionState",null),e([l.NotNull],x.prototype,"getExpectedTokens",null),x=e([r(0,l.NotNull)],x),t.ATN=x,function(E){E.INVALID_ALT_NUMBER=0}(x=t.ATN||(t.ATN={})),t.ATN=x}(SE)),SE}var x1={},y1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ph=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},PH=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(y1,"__esModule",{value:!0});y1.LexerIndexedCustomAction=void 0;const om=un,gh=qe;let cl=class OB{constructor(e,r){this._offset=e,this._action=r}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(e){this._action.execute(e)}hashCode(){let e=om.MurmurHash.initialize();return e=om.MurmurHash.update(e,this._offset),e=om.MurmurHash.update(e,this._action),om.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof OB?this._offset===e._offset&&this._action.equals(e._action):!1}};ph([gh.NotNull],cl.prototype,"action",null);ph([gh.Override],cl.prototype,"actionType",null);ph([gh.Override],cl.prototype,"isPositionDependent",null);ph([gh.Override],cl.prototype,"execute",null);ph([gh.Override],cl.prototype,"hashCode",null);ph([gh.Override],cl.prototype,"equals",null);cl=ph([PH(1,gh.NotNull)],cl);y1.LexerIndexedCustomAction=cl;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var mh=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},mb=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(x1,"__esModule",{value:!0});x1.LexerActionExecutor=void 0;const DH=dh,RE=y1,OE=un,Eu=qe;let hl=class ip{constructor(e){this._lexerActions=e;let r=OE.MurmurHash.initialize();for(let n of e)r=OE.MurmurHash.update(r,n);this.cachedHashCode=OE.MurmurHash.finish(r,e.length)}static append(e,r){if(!e)return new ip([r]);let n=e._lexerActions.slice(0);return n.push(r),new ip(n)}fixOffsetBeforeMatch(e){let r;for(let n=0;n<this._lexerActions.length;n++)this._lexerActions[n].isPositionDependent&&!(this._lexerActions[n]instanceof RE.LexerIndexedCustomAction)&&(r||(r=this._lexerActions.slice(0)),r[n]=new RE.LexerIndexedCustomAction(e,this._lexerActions[n]));return r?new ip(r):this}get lexerActions(){return this._lexerActions}execute(e,r,n){let s=!1,i=r.index;try{for(let o of this._lexerActions){if(o instanceof RE.LexerIndexedCustomAction){let a=o.offset;r.seek(n+a),o=o.action,s=n+a!==i}else o.isPositionDependent&&(r.seek(i),s=!1);o.execute(e)}}finally{s&&r.seek(i)}}hashCode(){return this.cachedHashCode}equals(e){return e===this?!0:e instanceof ip?this.cachedHashCode===e.cachedHashCode&&DH.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,e._lexerActions):!1}};mh([Eu.NotNull],hl.prototype,"_lexerActions",void 0);mh([Eu.NotNull],hl.prototype,"lexerActions",null);mh([mb(0,Eu.NotNull)],hl.prototype,"execute",null);mh([Eu.Override],hl.prototype,"hashCode",null);mh([Eu.Override],hl.prototype,"equals",null);mh([Eu.NotNull,mb(1,Eu.NotNull)],hl,"append",null);hl=mh([mb(0,Eu.NotNull)],hl);x1.LexerActionExecutor=hl;var xh={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var xb=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},RH=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(xh,"__esModule",{value:!0});xh.LexerNoViableAltException=void 0;const OH=ka,yb=qe,BH=ui,NH=Cn;let m0=class extends OH.RecognitionException{constructor(e,r,n,s){super(e,r),this._startIndex=n,this._deadEndConfigs=s}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let e="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(e=this.inputStream.getText(BH.Interval.of(this._startIndex,this._startIndex)),e=NH.escapeWhitespace(e,!1)),`LexerNoViableAltException('${e}')`}};xb([yb.Override],m0.prototype,"inputStream",null);xb([yb.Override],m0.prototype,"toString",null);m0=xb([RH(1,yb.NotNull)],m0);xh.LexerNoViableAltException=m0;var c_={},tP;function FH(){if(tP)return c_;tP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var f=s.length-1;f>=0;f--)(d=s[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(c_,"__esModule",{value:!0}),c_.OrderedATNConfigSet=void 0;const e=tg(),r=qe;class n extends e.ATNConfigSet{constructor(i,o){i!=null&&o!=null?super(i,o):super()}clone(i){let o=new n(this,i);return!i&&this.isReadOnly&&o.addAll(this),o}getKey(i){return{state:0,alt:i.hashCode()}}canMerge(i,o,a){return i.equals(a)}}return t([r.Override],n.prototype,"clone",null),t([r.Override],n.prototype,"getKey",null),t([r.Override],n.prototype,"canMerge",null),c_.OrderedATNConfigSet=n,c_}var rP;function v1(){return rP||(rP=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(U,B,N,T){var M=arguments.length,$=M<3?B:T===null?T=Object.getOwnPropertyDescriptor(B,N):T,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(U,B,N,T);else for(var Z=U.length-1;Z>=0;Z--)(J=U[Z])&&($=(M<3?J($):M>3?J(B,N,$):J(B,N))||$);return M>3&&$&&Object.defineProperty(B,N,$),$},r=K&&K.__param||function(U,B){return function(N,T){B(N,T,U)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LexerATNSimulator=void 0;const n=eg,s=Pa(),i=_h,o=tg(),a=p1(),l=_1(),u=ui,d=gl,f=Bu(),g=x1,x=xh,E=qe,D=FH(),A=Bo(),R=Ou,P=yr,O=Gs;let F=class As extends a.ATNSimulator{constructor(B,N){super(B),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=f.Lexer.DEFAULT_MODE,this.prevAccept=new As.SimState,this.recog=N}copyState(B){this._charPositionInLine=B.charPositionInLine,this._line=B._line,this.mode=B.mode,this.startIndex=B.startIndex}match(B,N){this.mode=N;let T=B.mark();try{this.startIndex=B.index,this.prevAccept.reset();let M=this.atn.modeToDFA[N].s0;return M==null?this.matchATN(B):this.execATN(B,M)}finally{B.release(T)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=f.Lexer.DEFAULT_MODE}matchATN(B){let N=this.atn.modeToStartState[this.mode];As.debug&&console.log(`matchATN mode ${this.mode} start: ${N}`);let T=this.mode,M=this.computeStartState(B,N),$=M.hasSemanticContext;$&&(M.hasSemanticContext=!1);let J=this.addDFAState(M);if(!$){let re=this.atn.modeToDFA[this.mode];re.s0?J=re.s0:re.s0=J}let Z=this.execATN(B,J);return As.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[T].toLexerString()}`),Z}execATN(B,N){As.debug&&console.log(`start state closure=${N.configs}`),N.isAcceptState&&this.captureSimState(this.prevAccept,B,N);let T=B.LA(1),M=N;for(;;){As.debug&&console.log(`execATN loop starting closure: ${M.configs}`);let $=this.getExistingTargetState(M,T);if($==null&&($=this.computeTargetState(B,M,T)),$===a.ATNSimulator.ERROR||(T!==d.IntStream.EOF&&this.consume(B),$.isAcceptState&&(this.captureSimState(this.prevAccept,B,$),T===d.IntStream.EOF)))break;T=B.LA(1),M=$}return this.failOrAccept(this.prevAccept,B,M.configs,T)}getExistingTargetState(B,N){let T=B.getTarget(N);return As.debug&&T!=null&&console.log("reuse state "+B.stateNumber+" edge to "+T.stateNumber),T}computeTargetState(B,N,T){let M=new D.OrderedATNConfigSet;return this.getReachableConfigSet(B,N.configs,M,T),M.isEmpty?(M.hasSemanticContext||this.addDFAEdge(N,T,a.ATNSimulator.ERROR),a.ATNSimulator.ERROR):this.addDFAEdge(N,T,M)}failOrAccept(B,N,T,M){if(B.dfaState!=null){let $=B.dfaState.lexerActionExecutor;return this.accept(N,$,this.startIndex,B.index,B.line,B.charPos),B.dfaState.prediction}else{if(M===d.IntStream.EOF&&N.index===this.startIndex)return P.Token.EOF;throw new x.LexerNoViableAltException(this.recog,N,this.startIndex,T)}}getReachableConfigSet(B,N,T,M){let $=s.ATN.INVALID_ALT_NUMBER;for(let J of N){let Z=J.alt===$;if(Z&&J.hasPassedThroughNonGreedyDecision)continue;As.debug&&console.log(`testing ${this.getTokenName(M)} at ${J.toString(this.recog,!0)}`);let re=J.state.numberOfOptimizedTransitions;for(let ge=0;ge<re;ge++){let Fe=J.state.getOptimizedTransition(ge),Ze=this.getReachableTarget(Fe,M);if(Ze!=null){let ze=J.lexerActionExecutor,Le;ze!=null?(ze=ze.fixOffsetBeforeMatch(B.index-this.startIndex),Le=J.transform(Ze,!0,ze)):(O(J.lexerActionExecutor==null),Le=J.transform(Ze,!0));let it=M===d.IntStream.EOF;if(this.closure(B,Le,T,Z,!0,it)){$=J.alt;break}}}}}accept(B,N,T,M,$,J){As.debug&&console.log(`ACTION ${N}`),B.seek(M),this._line=$,this._charPositionInLine=J,N!=null&&this.recog!=null&&N.execute(this.recog,B,T)}getReachableTarget(B,N){if(B.matches(N,f.Lexer.MIN_CHAR_VALUE,f.Lexer.MAX_CHAR_VALUE))return B.target}computeStartState(B,N){let T=A.PredictionContext.EMPTY_FULL,M=new D.OrderedATNConfigSet;for(let $=0;$<N.numberOfTransitions;$++){let J=N.transition($).target,Z=i.ATNConfig.create(J,$+1,T);this.closure(B,Z,M,!1,!1,!1)}return M}closure(B,N,T,M,$,J){if(As.debug&&console.log("closure("+N.toString(this.recog,!0)+")"),N.state instanceof R.RuleStopState){As.debug&&(this.recog!=null?console.log(`closure at ${this.recog.ruleNames[N.state.ruleIndex]} rule stop ${N}`):console.log(`closure at rule stop ${N}`));let re=N.context;if(re.isEmpty)return T.add(N),!0;re.hasEmpty&&(T.add(N.transform(N.state,!0,A.PredictionContext.EMPTY_FULL)),M=!0);for(let ge=0;ge<re.size;ge++){let Fe=re.getReturnState(ge);if(Fe===A.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let Ze=re.getParent(ge),ze=this.atn.states[Fe],Le=N.transform(ze,!1,Ze);M=this.closure(B,Le,T,M,$,J)}return M}N.state.onlyHasEpsilonTransitions||(!M||!N.hasPassedThroughNonGreedyDecision)&&T.add(N);let Z=N.state;for(let re=0;re<Z.numberOfOptimizedTransitions;re++){let ge=Z.getOptimizedTransition(re),Fe=this.getEpsilonTarget(B,N,ge,T,$,J);Fe!=null&&(M=this.closure(B,Fe,T,M,$,J))}return M}getEpsilonTarget(B,N,T,M,$,J){let Z;switch(T.serializationType){case 3:let re=T;if(this.optimize_tail_calls&&re.optimizedTailCall&&!N.context.hasEmpty)Z=N.transform(T.target,!0);else{let Fe=N.context.getChild(re.followState.stateNumber);Z=N.transform(T.target,!0,Fe)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let ge=T;As.debug&&console.log("EVAL rule "+ge.ruleIndex+":"+ge.predIndex),M.hasSemanticContext=!0,this.evaluatePredicate(B,ge.ruleIndex,ge.predIndex,$)?Z=N.transform(T.target,!0):Z=void 0;break;case 6:if(N.context.hasEmpty){let Fe=g.LexerActionExecutor.append(N.lexerActionExecutor,this.atn.lexerActions[T.actionIndex]);Z=N.transform(T.target,!0,Fe);break}else{Z=N.transform(T.target,!0);break}case 1:Z=N.transform(T.target,!0);break;case 5:case 2:case 7:if(J&&T.matches(d.IntStream.EOF,f.Lexer.MIN_CHAR_VALUE,f.Lexer.MAX_CHAR_VALUE)){Z=N.transform(T.target,!1);break}Z=void 0;break;default:Z=void 0;break}return Z}evaluatePredicate(B,N,T,M){if(this.recog==null)return!0;if(!M)return this.recog.sempred(void 0,N,T);let $=this._charPositionInLine,J=this._line,Z=B.index,re=B.mark();try{return this.consume(B),this.recog.sempred(void 0,N,T)}finally{this._charPositionInLine=$,this._line=J,B.seek(Z),B.release(re)}}captureSimState(B,N,T){B.index=N.index,B.line=this._line,B.charPos=this._charPositionInLine,B.dfaState=T}addDFAEdge(B,N,T){if(T instanceof o.ATNConfigSet){let M=T.hasSemanticContext;M&&(T.hasSemanticContext=!1);let $=this.addDFAState(T);return M||this.addDFAEdge(B,N,$),$}else As.debug&&console.log("EDGE "+B+" -> "+T+" upon "+String.fromCharCode(N)),B!=null&&B.setTarget(N,T)}addDFAState(B){O(!B.hasSemanticContext);let N=new l.DFAState(B),T=this.atn.modeToDFA[this.mode].states.get(N);if(T!=null)return T;B.optimizeConfigs(this);let M=new l.DFAState(B.clone(!0)),$;for(let J of B)if(J.state instanceof R.RuleStopState){$=J;break}if($!=null){let J=this.atn.ruleToTokenType[$.state.ruleIndex],Z=$.lexerActionExecutor;M.acceptStateInfo=new n.AcceptStateInfo(J,Z)}return this.atn.modeToDFA[this.mode].addState(M)}getDFA(B){return this.atn.modeToDFA[B]}getText(B){return B.getText(u.Interval.of(this.startIndex,B.index-1))}get line(){return this._line}set line(B){this._line=B}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(B){this._charPositionInLine=B}consume(B){B.LA(1)===`
`.charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,B.consume()}getTokenName(B){return B===-1?"EOF":"'"+String.fromCharCode(B)+"'"}};e([E.NotNull],F.prototype,"prevAccept",void 0),e([r(0,E.NotNull)],F.prototype,"copyState",null),e([r(0,E.NotNull)],F.prototype,"match",null),e([E.Override],F.prototype,"reset",null),e([r(0,E.NotNull)],F.prototype,"matchATN",null),e([r(0,E.NotNull),r(1,E.NotNull)],F.prototype,"execATN",null),e([r(0,E.NotNull)],F.prototype,"getExistingTargetState",null),e([E.NotNull,r(0,E.NotNull),r(1,E.NotNull)],F.prototype,"computeTargetState",null),e([r(0,E.NotNull),r(1,E.NotNull),r(2,E.NotNull)],F.prototype,"getReachableConfigSet",null),e([r(0,E.NotNull)],F.prototype,"accept",null),e([E.NotNull,r(0,E.NotNull),r(1,E.NotNull)],F.prototype,"computeStartState",null),e([r(0,E.NotNull),r(1,E.NotNull),r(2,E.NotNull)],F.prototype,"closure",null),e([r(0,E.NotNull),r(1,E.NotNull),r(2,E.NotNull),r(3,E.NotNull)],F.prototype,"getEpsilonTarget",null),e([r(0,E.NotNull)],F.prototype,"evaluatePredicate",null),e([r(0,E.NotNull),r(1,E.NotNull),r(2,E.NotNull)],F.prototype,"captureSimState",null),e([E.NotNull,r(0,E.NotNull)],F.prototype,"addDFAState",null),e([E.NotNull],F.prototype,"getDFA",null),e([E.NotNull,r(0,E.NotNull)],F.prototype,"getText",null),e([r(0,E.NotNull)],F.prototype,"consume",null),e([E.NotNull],F.prototype,"getTokenName",null),F=e([r(0,E.NotNull)],F),t.LexerATNSimulator=F,function(U){U.debug=!1,U.dfa_debug=!1;class B{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}U.SimState=B}(F=t.LexerATNSimulator||(t.LexerATNSimulator={})),t.LexerATNSimulator=F}(wE)),wE}var nP;function Bu(){if(nP)return t_;nP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(f,g,x,E){var D=arguments.length,A=D<3?g:E===null?E=Object.getOwnPropertyDescriptor(g,x):E,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(f,g,x,E);else for(var P=f.length-1;P>=0;P--)(R=f[P])&&(A=(D<3?R(A):D>3?R(g,x,A):R(g,x))||A);return D>3&&A&&Object.defineProperty(g,x,A),A};Object.defineProperty(t_,"__esModule",{value:!0}),t_.Lexer=void 0;const e=f1,r=Z0,n=ui,s=gl,i=v1(),o=xh,a=qe,l=Du,u=yr;class d extends l.Recognizer{constructor(g){super(),this._factory=e.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new r.IntegerStack,this._mode=d.DEFAULT_MODE,this._input=g,this._tokenFactorySourcePair={source:this,stream:g}}static get DEFAULT_TOKEN_CHANNEL(){return u.Token.DEFAULT_CHANNEL}static get HIDDEN(){return u.Token.HIDDEN_CHANNEL}reset(g){(g===void 0||g)&&this._input.seek(0),this._token=void 0,this._type=u.Token.INVALID_TYPE,this._channel=u.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=d.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");let g=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=u.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=u.Token.INVALID_TYPE;let x;try{x=this.interpreter.match(this._input,this._mode)}catch(E){if(E instanceof o.LexerNoViableAltException)this.notifyListeners(E),this.recover(E),x=d.SKIP;else throw E}if(this._input.LA(1)===s.IntStream.EOF&&(this._hitEOF=!0),this._type===u.Token.INVALID_TYPE&&(this._type=x),this._type===d.SKIP)continue e}while(this._type===d.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(g)}}skip(){this._type=d.SKIP}more(){this._type=d.MORE}mode(g){this._mode=g}pushMode(g){i.LexerATNSimulator.debug&&console.log("pushMode "+g),this._modeStack.push(this._mode),this.mode(g)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return i.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(g){this._factory=g}get inputStream(){return this._input}set inputStream(g){this.reset(!1),this._input=g,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(g){return g||(g=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=g,g}emitEOF(){let g=this.charPositionInLine,x=this.line,E=this._factory.create(this._tokenFactorySourcePair,u.Token.EOF,void 0,u.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,x,g);return this.emit(E),E}get line(){return this.interpreter.line}set line(g){this.interpreter.line=g}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(g){this.interpreter.charPositionInLine=g}get charIndex(){return this._input.index}get text(){return this._text!=null?this._text:this.interpreter.getText(this._input)}set text(g){this._text=g}get token(){return this._token}set token(g){this._token=g}set type(g){this._type=g}get type(){return this._type}set channel(g){this._channel=g}get channel(){return this._channel}getAllTokens(){let g=[],x=this.nextToken();for(;x.type!==u.Token.EOF;)g.push(x),x=this.nextToken();return g}notifyListeners(g){let x=this._input.getText(n.Interval.of(this._tokenStartCharIndex,this._input.index)),E="token recognition error at: '"+this.getErrorDisplay(x)+"'",D=this.getErrorListenerDispatch();D.syntaxError&&D.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,E,g)}getErrorDisplay(g){if(typeof g=="number"){switch(g){case u.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(g)}return g.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(g){return"'"+this.getErrorDisplay(g)+"'"}recover(g){g instanceof o.LexerNoViableAltException?this._input.LA(1)!==s.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}}return d.DEFAULT_MODE=0,d.MORE=-2,d.SKIP=-3,d.MIN_CHAR_VALUE=0,d.MAX_CHAR_VALUE=1114111,t([a.Override],d.prototype,"nextToken",null),t([a.Override],d.prototype,"tokenFactory",null),t([a.Override],d.prototype,"inputStream",null),t([a.Override],d.prototype,"sourceName",null),t([a.Override],d.prototype,"line",null),t([a.Override],d.prototype,"charPositionInLine",null),t_.Lexer=d,t_}var iP;function yh(){if(iP)return e_;iP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(d,f,g,x){var E=arguments.length,D=E<3?f:x===null?x=Object.getOwnPropertyDescriptor(f,g):x,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(d,f,g,x);else for(var R=d.length-1;R>=0;R--)(A=d[R])&&(D=(E<3?A(D):E>3?A(f,g,D):A(f,g))||D);return E>3&&D&&Object.defineProperty(f,g,D),D},e=K&&K.__param||function(d,f){return function(g,x){f(g,x,d)}};Object.defineProperty(e_,"__esModule",{value:!0}),e_.IntervalSet=void 0;const r=dh,n=gf,s=ui,i=Bu(),o=un,a=qe,l=yr;class u{constructor(f){this.readonly=!1,f!=null?this._intervals=f.slice(0):this._intervals=[]}static get COMPLETE_CHAR_SET(){return u._COMPLETE_CHAR_SET===void 0&&(u._COMPLETE_CHAR_SET=u.of(i.Lexer.MIN_CHAR_VALUE,i.Lexer.MAX_CHAR_VALUE),u._COMPLETE_CHAR_SET.setReadonly(!0)),u._COMPLETE_CHAR_SET}static get EMPTY_SET(){return u._EMPTY_SET==null&&(u._EMPTY_SET=new u,u._EMPTY_SET.setReadonly(!0)),u._EMPTY_SET}static of(f,g=f){let x=new u;return x.add(f,g),x}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(f,g=f){this.addRange(s.Interval.of(f,g))}addRange(f){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(f.b<f.a)){for(let g=0;g<this._intervals.length;g++){let x=this._intervals[g];if(f.equals(x))return;if(f.adjacent(x)||!f.disjoint(x)){let E=f.union(x);for(this._intervals[g]=E;g<this._intervals.length-1;){g++;let D=this._intervals[g];if(!E.adjacent(D)&&E.disjoint(D))break;this._intervals.splice(g,1),g--,this._intervals[g]=E.union(D)}return}if(f.startsBeforeDisjoint(x)){this._intervals.splice(g,0,f);return}}this._intervals.push(f)}}static or(f){let g=new u;for(let x of f)g.addAll(x);return g}addAll(f){if(f==null)return this;if(f instanceof u){let g=f,x=g._intervals.length;for(let E=0;E<x;E++){let D=g._intervals[E];this.add(D.a,D.b)}}else for(let g of f.toArray())this.add(g);return this}complementRange(f,g){return this.complement(u.of(f,g))}complement(f){if(f.isNil)return u.EMPTY_SET;let g;return f instanceof u?g=f:(g=new u,g.addAll(f)),g.subtract(this)}subtract(f){if(f==null||f.isNil)return new u(this._intervals);if(f instanceof u)return u.subtract(this,f);let g=new u;return g.addAll(f),u.subtract(this,g)}static subtract(f,g){if(f.isNil)return new u;let x=new u(f._intervals);if(g.isNil)return x;let E=0,D=0;for(;E<x._intervals.length&&D<g._intervals.length;){let A=x._intervals[E],R=g._intervals[D];if(R.b<A.a){D++;continue}if(R.a>A.b){E++;continue}let P,O;if(R.a>A.a&&(P=new s.Interval(A.a,R.a-1)),R.b<A.b&&(O=new s.Interval(R.b+1,A.b)),P)if(O){x._intervals[E]=P,x._intervals.splice(E+1,0,O),E++,D++;continue}else{x._intervals[E]=P,E++;continue}else if(O){x._intervals[E]=O,D++;continue}else{x._intervals.splice(E,1);continue}}return x}or(f){let g=new u;return g.addAll(this),g.addAll(f),g}and(f){if(f.isNil)return new u;let g=this._intervals,x=f._intervals,E,D=g.length,A=x.length,R=0,P=0;for(;R<D&&P<A;){let O=g[R],F=x[P];O.startsBeforeDisjoint(F)?R++:F.startsBeforeDisjoint(O)?P++:O.properlyContains(F)?(E||(E=new u),E.addRange(O.intersection(F)),P++):F.properlyContains(O)?(E||(E=new u),E.addRange(O.intersection(F)),R++):O.disjoint(F)||(E||(E=new u),E.addRange(O.intersection(F)),O.startsAfterNonDisjoint(F)?P++:F.startsAfterNonDisjoint(O)&&R++)}return E||new u}contains(f){let g=this._intervals.length,x=0,E=g-1;for(;x<=E;){let D=x+E>>1,A=this._intervals[D],R=A.a;if(A.b<f)x=D+1;else if(R>f)E=D-1;else return!0}return!1}get isNil(){return this._intervals==null||this._intervals.length===0}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let f=o.MurmurHash.initialize();for(let g of this._intervals)f=o.MurmurHash.update(f,g.a),f=o.MurmurHash.update(f,g.b);return f=o.MurmurHash.finish(f,this._intervals.length*2),f}equals(f){return f==null||!(f instanceof u)?!1:r.ArrayEqualityComparator.INSTANCE.equals(this._intervals,f._intervals)}toString(f=!1){let g="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(g+="{");let x=!0;for(let E of this._intervals){x?x=!1:g+=", ";let D=E.a,A=E.b;D===A?D===l.Token.EOF?g+="<EOF>":f?g+="'"+String.fromCodePoint(D)+"'":g+=D:f?g+="'"+String.fromCodePoint(D)+"'..'"+String.fromCodePoint(A)+"'":g+=D+".."+A}return this.size>1&&(g+="}"),g}toStringVocabulary(f){if(this._intervals==null||this._intervals.length===0)return"{}";let g="";this.size>1&&(g+="{");let x=!0;for(let E of this._intervals){x?x=!1:g+=", ";let D=E.a,A=E.b;if(D===A)g+=this.elementName(f,D);else for(let R=D;R<=A;R++)R>D&&(g+=", "),g+=this.elementName(f,R)}return this.size>1&&(g+="}"),g}elementName(f,g){return g===l.Token.EOF?"<EOF>":g===l.Token.EPSILON?"<EPSILON>":f.getDisplayName(g)}get size(){let f=0,g=this._intervals.length;if(g===1){let x=this._intervals[0];return x.b-x.a+1}for(let x=0;x<g;x++){let E=this._intervals[x];f+=E.b-E.a+1}return f}toIntegerList(){let f=new n.IntegerList(this.size),g=this._intervals.length;for(let x=0;x<g;x++){let E=this._intervals[x],D=E.a,A=E.b;for(let R=D;R<=A;R++)f.add(R)}return f}toSet(){let f=new Set;for(let g of this._intervals){let x=g.a,E=g.b;for(let D=x;D<=E;D++)f.add(D)}return f}toArray(){let f=new Array,g=this._intervals.length;for(let x=0;x<g;x++){let E=this._intervals[x],D=E.a,A=E.b;for(let R=D;R<=A;R++)f.push(R)}return f}remove(f){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let g=this._intervals.length;for(let x=0;x<g;x++){let E=this._intervals[x],D=E.a,A=E.b;if(f<D)break;if(f===D&&f===A){this._intervals.splice(x,1);break}if(f===D){this._intervals[x]=s.Interval.of(E.a+1,E.b);break}if(f===A){this._intervals[x]=s.Interval.of(E.a,E.b-1);break}if(f>D&&f<A){let R=E.b;this._intervals[x]=s.Interval.of(E.a,f-1),this.add(f+1,R)}}}get isReadonly(){return this.readonly}setReadonly(f){if(this.readonly&&!f)throw new Error("can't alter readonly IntervalSet");this.readonly=f}}return t([a.Override],u.prototype,"addAll",null),t([a.Override],u.prototype,"complement",null),t([a.Override],u.prototype,"subtract",null),t([a.Override],u.prototype,"or",null),t([a.Override],u.prototype,"and",null),t([a.Override],u.prototype,"contains",null),t([a.Override],u.prototype,"isNil",null),t([a.Override],u.prototype,"hashCode",null),t([a.Override],u.prototype,"equals",null),t([e(0,a.NotNull)],u.prototype,"toStringVocabulary",null),t([a.NotNull,e(0,a.NotNull)],u.prototype,"elementName",null),t([a.Override],u.prototype,"size",null),t([a.Override],u.prototype,"remove",null),t([a.NotNull],u,"of",null),t([a.NotNull],u,"subtract",null),e_.IntervalSet=u,e_}var h_={},d_={},ag={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var IH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(ag,"__esModule",{value:!0});ag.ATNDeserializationOptions=void 0;const MH=qe;class nu{constructor(e){this.readOnly=!1,e?(this.verifyATN=e.verifyATN,this.generateRuleBypassTransitions=e.generateRuleBypassTransitions,this.optimize=e.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return nu._defaultOptions==null&&(nu._defaultOptions=new nu,nu._defaultOptions.makeReadOnly()),nu._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(e){this.throwIfReadOnly(),this.verifyATN=e}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(e){this.throwIfReadOnly(),this.generateRuleBypassTransitions=e}get isOptimize(){return this.optimize}set isOptimize(e){this.throwIfReadOnly(),this.optimize=e}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}}IH([MH.NotNull],nu,"defaultOptions",null);ag.ATNDeserializationOptions=nu;var f_={},lg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var ug=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},LH=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(lg,"__esModule",{value:!0});lg.ActionTransition=void 0;const cg=qe,UH=Ro;let zc=class extends UH.Transition{constructor(e,r,n=-1,s=!1){super(e),this.ruleIndex=r,this.actionIndex=n,this.isCtxDependent=s}get serializationType(){return 6}get isEpsilon(){return!0}matches(e,r,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};ug([cg.Override],zc.prototype,"serializationType",null);ug([cg.Override],zc.prototype,"isEpsilon",null);ug([cg.Override],zc.prototype,"matches",null);ug([cg.Override],zc.prototype,"toString",null);zc=ug([LH(0,cg.NotNull)],zc);lg.ActionTransition=zc;var hg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var dg=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},GH=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(hg,"__esModule",{value:!0});hg.AtomTransition=void 0;const HH=yh(),Wc=qe,jH=Ro;let $c=class extends jH.Transition{constructor(e,r){super(e),this._label=r}get serializationType(){return 5}get label(){return HH.IntervalSet.of(this._label)}matches(e,r,n){return this._label===e}toString(){return String(this.label)}};dg([Wc.Override],$c.prototype,"serializationType",null);dg([Wc.Override,Wc.NotNull],$c.prototype,"label",null);dg([Wc.Override],$c.prototype,"matches",null);dg([Wc.Override,Wc.NotNull],$c.prototype,"toString",null);$c=dg([GH(0,Wc.NotNull)],$c);hg.AtomTransition=$c;var E1={},vh={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(vh,"__esModule",{value:!0});vh.BlockStartState=void 0;const VH=Ta;class zH extends VH.DecisionState{}vh.BlockStartState=zH;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var WH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(E1,"__esModule",{value:!0});E1.BasicBlockStartState=void 0;const $H=Xn,KH=vh,XH=qe;class BB extends KH.BlockStartState{get stateType(){return $H.ATNStateType.BLOCK_START}}WH([XH.Override],BB.prototype,"stateType",null);E1.BasicBlockStartState=BB;var A1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var YH=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(A1,"__esModule",{value:!0});A1.BlockEndState=void 0;const qH=ba,QH=Xn,JH=qe;class NB extends qH.ATNState{get stateType(){return QH.ATNStateType.BLOCK_END}}YH([JH.Override],NB.prototype,"stateType",null);A1.BlockEndState=NB;var w1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var fg=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},ZH=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(w1,"__esModule",{value:!0});w1.EpsilonTransition=void 0;const Wd=qe,ej=Ro;let Kc=class extends ej.Transition{constructor(e,r=-1){super(e),this._outermostPrecedenceReturn=r}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(e,r,n){return!1}toString(){return"epsilon"}};fg([Wd.Override],Kc.prototype,"serializationType",null);fg([Wd.Override],Kc.prototype,"isEpsilon",null);fg([Wd.Override],Kc.prototype,"matches",null);fg([Wd.Override,Wd.NotNull],Kc.prototype,"toString",null);Kc=fg([ZH(0,Wd.NotNull)],Kc);w1.EpsilonTransition=Kc;var S1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var vf=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},tj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(S1,"__esModule",{value:!0});S1.LexerChannelAction=void 0;const am=un,Xc=qe;class yl{constructor(e){this._channel=e}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(e){e.channel=this._channel}hashCode(){let e=am.MurmurHash.initialize();return e=am.MurmurHash.update(e,this.actionType),e=am.MurmurHash.update(e,this._channel),am.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof yl?this._channel===e._channel:!1}toString(){return`channel(${this._channel})`}}vf([Xc.Override],yl.prototype,"actionType",null);vf([Xc.Override],yl.prototype,"isPositionDependent",null);vf([Xc.Override,tj(0,Xc.NotNull)],yl.prototype,"execute",null);vf([Xc.Override],yl.prototype,"hashCode",null);vf([Xc.Override],yl.prototype,"equals",null);vf([Xc.Override],yl.prototype,"toString",null);S1.LexerChannelAction=yl;var b1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var _g=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},rj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(b1,"__esModule",{value:!0});b1.LexerCustomAction=void 0;const __=un,$d=qe;class Nu{constructor(e,r){this._ruleIndex=e,this._actionIndex=r}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(e){e.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let e=__.MurmurHash.initialize();return e=__.MurmurHash.update(e,this.actionType),e=__.MurmurHash.update(e,this._ruleIndex),e=__.MurmurHash.update(e,this._actionIndex),__.MurmurHash.finish(e,3)}equals(e){return e===this?!0:e instanceof Nu?this._ruleIndex===e._ruleIndex&&this._actionIndex===e._actionIndex:!1}}_g([$d.Override],Nu.prototype,"actionType",null);_g([$d.Override],Nu.prototype,"isPositionDependent",null);_g([$d.Override,rj(0,$d.NotNull)],Nu.prototype,"execute",null);_g([$d.Override],Nu.prototype,"hashCode",null);_g([$d.Override],Nu.prototype,"equals",null);b1.LexerCustomAction=Nu;var k1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ef=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},nj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(k1,"__esModule",{value:!0});k1.LexerModeAction=void 0;const lm=un,Yc=qe;class vl{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(e){e.mode(this._mode)}hashCode(){let e=lm.MurmurHash.initialize();return e=lm.MurmurHash.update(e,this.actionType),e=lm.MurmurHash.update(e,this._mode),lm.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof vl?this._mode===e._mode:!1}toString(){return`mode(${this._mode})`}}Ef([Yc.Override],vl.prototype,"actionType",null);Ef([Yc.Override],vl.prototype,"isPositionDependent",null);Ef([Yc.Override,nj(0,Yc.NotNull)],vl.prototype,"execute",null);Ef([Yc.Override],vl.prototype,"hashCode",null);Ef([Yc.Override],vl.prototype,"equals",null);Ef([Yc.Override],vl.prototype,"toString",null);k1.LexerModeAction=vl;var FB={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f},r=K&&K.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LexerMoreAction=void 0;const n=un,s=qe;class i{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(a){a.more()}hashCode(){let a=n.MurmurHash.initialize();return a=n.MurmurHash.update(a,this.actionType),n.MurmurHash.finish(a,1)}equals(a){return a===this}toString(){return"more"}}e([s.Override],i.prototype,"actionType",null),e([s.Override],i.prototype,"isPositionDependent",null),e([s.Override,r(0,s.NotNull)],i.prototype,"execute",null),e([s.Override],i.prototype,"hashCode",null),e([s.Override],i.prototype,"equals",null),e([s.Override],i.prototype,"toString",null),t.LexerMoreAction=i,function(o){o.INSTANCE=new o}(i=t.LexerMoreAction||(t.LexerMoreAction={}))})(FB);var IB={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f},r=K&&K.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LexerPopModeAction=void 0;const n=un,s=qe;class i{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(a){a.popMode()}hashCode(){let a=n.MurmurHash.initialize();return a=n.MurmurHash.update(a,this.actionType),n.MurmurHash.finish(a,1)}equals(a){return a===this}toString(){return"popMode"}}e([s.Override],i.prototype,"actionType",null),e([s.Override],i.prototype,"isPositionDependent",null),e([s.Override,r(0,s.NotNull)],i.prototype,"execute",null),e([s.Override],i.prototype,"hashCode",null),e([s.Override],i.prototype,"equals",null),e([s.Override],i.prototype,"toString",null),t.LexerPopModeAction=i,function(o){o.INSTANCE=new o}(i=t.LexerPopModeAction||(t.LexerPopModeAction={}))})(IB);var T1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Af=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},ij=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(T1,"__esModule",{value:!0});T1.LexerPushModeAction=void 0;const um=un,qc=qe;class El{constructor(e){this._mode=e}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(e){e.pushMode(this._mode)}hashCode(){let e=um.MurmurHash.initialize();return e=um.MurmurHash.update(e,this.actionType),e=um.MurmurHash.update(e,this._mode),um.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof El?this._mode===e._mode:!1}toString(){return`pushMode(${this._mode})`}}Af([qc.Override],El.prototype,"actionType",null);Af([qc.Override],El.prototype,"isPositionDependent",null);Af([qc.Override,ij(0,qc.NotNull)],El.prototype,"execute",null);Af([qc.Override],El.prototype,"hashCode",null);Af([qc.Override],El.prototype,"equals",null);Af([qc.Override],El.prototype,"toString",null);T1.LexerPushModeAction=El;var MB={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f},r=K&&K.__param||function(o,a){return function(l,u){a(l,u,o)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LexerSkipAction=void 0;const n=un,s=qe;class i{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(a){a.skip()}hashCode(){let a=n.MurmurHash.initialize();return a=n.MurmurHash.update(a,this.actionType),n.MurmurHash.finish(a,1)}equals(a){return a===this}toString(){return"skip"}}e([s.Override],i.prototype,"actionType",null),e([s.Override],i.prototype,"isPositionDependent",null),e([s.Override,r(0,s.NotNull)],i.prototype,"execute",null),e([s.Override],i.prototype,"hashCode",null),e([s.Override],i.prototype,"equals",null),e([s.Override],i.prototype,"toString",null),t.LexerSkipAction=i,function(o){o.INSTANCE=new o}(i=t.LexerSkipAction||(t.LexerSkipAction={}))})(MB);var C1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var wf=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},sj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(C1,"__esModule",{value:!0});C1.LexerTypeAction=void 0;const cm=un,Qc=qe;class Al{constructor(e){this._type=e}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(e){e.type=this._type}hashCode(){let e=cm.MurmurHash.initialize();return e=cm.MurmurHash.update(e,this.actionType),e=cm.MurmurHash.update(e,this._type),cm.MurmurHash.finish(e,2)}equals(e){return e===this?!0:e instanceof Al?this._type===e._type:!1}toString(){return`type(${this._type})`}}wf([Qc.Override],Al.prototype,"actionType",null);wf([Qc.Override],Al.prototype,"isPositionDependent",null);wf([Qc.Override,sj(0,Qc.NotNull)],Al.prototype,"execute",null);wf([Qc.Override],Al.prototype,"hashCode",null);wf([Qc.Override],Al.prototype,"equals",null);wf([Qc.Override],Al.prototype,"toString",null);C1.LexerTypeAction=Al;var pg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var oj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(pg,"__esModule",{value:!0});pg.LoopEndState=void 0;const aj=ba,lj=Xn,uj=qe;class LB extends aj.ATNState{get stateType(){return lj.ATNStateType.LOOP_END}}oj([uj.Override],LB.prototype,"stateType",null);pg.LoopEndState=LB;var p_={},P1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var UB=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(P1,"__esModule",{value:!0});P1.ConflictInfo=void 0;const GB=qe,cj=Cn;class gg{constructor(e,r){this._conflictedAlts=e,this.exact=r}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(e){return e===this?!0:e instanceof gg?this.isExact===e.isExact&&cj.equals(this.conflictedAlts,e.conflictedAlts):!1}hashCode(){return this.conflictedAlts.hashCode()}}UB([GB.Override],gg.prototype,"equals",null);UB([GB.Override],gg.prototype,"hashCode",null);P1.ConflictInfo=gg;var g_={},Sf={},wl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Da=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(wl,"__esModule",{value:!0});wl.TerminalNode=void 0;const hj=ui,Ra=qe,dj=yr;class Fo{constructor(e){this._symbol=e}getChild(e){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(e){this._parent=e}get payload(){return this._symbol}get sourceInterval(){let e=this._symbol.tokenIndex;return new hj.Interval(e,e)}get childCount(){return 0}accept(e){return e.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(e){return this.toString()}toString(){return this._symbol.type===dj.Token.EOF?"<EOF>":this._symbol.text||""}}Da([Ra.Override],Fo.prototype,"getChild",null);Da([Ra.Override],Fo.prototype,"parent",null);Da([Ra.Override],Fo.prototype,"setParent",null);Da([Ra.Override],Fo.prototype,"payload",null);Da([Ra.Override],Fo.prototype,"sourceInterval",null);Da([Ra.Override],Fo.prototype,"childCount",null);Da([Ra.Override],Fo.prototype,"accept",null);Da([Ra.Override],Fo.prototype,"text",null);Da([Ra.Override],Fo.prototype,"toStringTree",null);Da([Ra.Override],Fo.prototype,"toString",null);wl.TerminalNode=Fo;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var fj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.ErrorNode=void 0;const _j=qe,pj=wl;class HB extends pj.TerminalNode{constructor(e){super(e)}accept(e){return e.visitErrorNode(this)}}fj([_j.Override],HB.prototype,"accept",null);Sf.ErrorNode=HB;var m_={},bf={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(bf,"__esModule",{value:!0});bf.RuleNode=void 0;class gj{}bf.RuleNode=gj;var x_={},sP;function Eh(){if(sP)return x_;sP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(x,E,D,A){var R=arguments.length,P=R<3?E:A===null?A=Object.getOwnPropertyDescriptor(E,D):A,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,E,D,A);else for(var F=x.length-1;F>=0;F--)(O=x[F])&&(P=(R<3?O(P):R>3?O(E,D,P):O(E,D))||P);return R>3&&P&&Object.defineProperty(E,D,P),P},e=K&&K.__param||function(x,E){return function(D,A){E(D,A,x)}};Object.defineProperty(x_,"__esModule",{value:!0}),x_.Trees=void 0;const r=Pa(),n=Pu,s=Sf,i=qe,o=Tg(),a=Io(),l=bf,u=wl,d=yr,f=Cn;class g{static toStringTree(E,D){let A;D instanceof o.Parser?A=D.ruleNames:A=D;let R=f.escapeWhitespace(this.getNodeText(E,A),!1);if(E.childCount===0)return R;let P="";P+="(",R=f.escapeWhitespace(this.getNodeText(E,A),!1),P+=R,P+=" ";for(let O=0;O<E.childCount;O++)O>0&&(P+=" "),P+=this.toStringTree(E.getChild(O),A);return P+=")",P}static getNodeText(E,D){let A;if(D instanceof o.Parser)A=D.ruleNames;else if(D)A=D;else{let R=E.payload;return typeof R.text=="string"?R.text:E.payload.toString()}if(E instanceof l.RuleNode){let R=E.ruleContext,P=R.ruleIndex,O=A[P],F=R.altNumber;return F!==r.ATN.INVALID_ALT_NUMBER?O+":"+F:O}else{if(E instanceof s.ErrorNode)return E.toString();if(E instanceof u.TerminalNode)return E.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(E){let D=[];for(let A=0;A<E.childCount;A++)D.push(E.getChild(A));return D}static getAncestors(E){let D=[],A=E.parent;for(;A;)D.unshift(A),A=A.parent;return D}static isAncestorOf(E,D){if(!E||!D||!E.parent)return!1;let A=D.parent;for(;A;){if(E===A)return!0;A=A.parent}return!1}static findAllTokenNodes(E,D){return g.findAllNodes(E,D,!0)}static findAllRuleNodes(E,D){return g.findAllNodes(E,D,!1)}static findAllNodes(E,D,A){let R=[];return g._findAllNodes(E,D,A,R),R}static _findAllNodes(E,D,A,R){A&&E instanceof u.TerminalNode?E.symbol.type===D&&R.push(E):!A&&E instanceof a.ParserRuleContext&&E.ruleIndex===D&&R.push(E);for(let P=0;P<E.childCount;P++)g._findAllNodes(E.getChild(P),D,A,R)}static getDescendants(E){let D=[];function A(R){D.push(R);const P=R.childCount;for(let O=0;O<P;O++)A(R.getChild(O))}return A(E),D}static getRootOfSubtreeEnclosingRegion(E,D,A){let R=E.childCount;for(let P=0;P<R;P++){let O=E.getChild(P),F=g.getRootOfSubtreeEnclosingRegion(O,D,A);if(F)return F}if(E instanceof a.ParserRuleContext){let P=E.stop;if(D>=E.start.tokenIndex&&(P==null||A<=P.tokenIndex))return E}}static stripChildrenOutOfRange(E,D,A,R){if(!E)return;let P=E.childCount;for(let O=0;O<P;O++){let F=E.getChild(O),U=F.sourceInterval;if(F instanceof a.ParserRuleContext&&(U.b<A||U.a>R)&&g.isAncestorOf(F,D)){let B=new n.CommonToken(d.Token.INVALID_TYPE,"...");E.children[O]=new u.TerminalNode(B)}}}static findNodeSuchThat(E,D){if(D(E))return E;let A=E.childCount;for(let R=0;R<A;R++){let P=g.findNodeSuchThat(E.getChild(R),D);if(P!==void 0)return P}}}return t([e(0,i.NotNull)],g,"toStringTree",null),t([i.NotNull,e(0,i.NotNull)],g,"getAncestors",null),t([e(0,i.NotNull)],g,"getRootOfSubtreeEnclosingRegion",null),x_.Trees=g,x_}var oP;function jB(){if(oP)return m_;oP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(u,d,f,g){var x=arguments.length,E=x<3?d:g===null?g=Object.getOwnPropertyDescriptor(d,f):g,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,d,f,g);else for(var A=u.length-1;A>=0;A--)(D=u[A])&&(E=(x<3?D(E):x>3?D(d,f,E):D(d,f))||E);return x>3&&E&&Object.defineProperty(d,f,E),E};Object.defineProperty(m_,"__esModule",{value:!0}),m_.RuleContext=void 0;const e=Pa(),r=Du,n=bf,s=ui,i=qe,o=Eh(),a=Io();class l extends n.RuleNode{constructor(d,f){super(),this._parent=d,this.invokingState=f!=null?f:-1}static getChildContext(d,f){return new l(d,f)}depth(){let d=0,f=this;for(;f;)f=f._parent,d++;return d}get isEmpty(){return this.invokingState===-1}get sourceInterval(){return s.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(d){this._parent=d}get payload(){return this}get text(){if(this.childCount===0)return"";let d="";for(let f=0;f<this.childCount;f++)d+=this.getChild(f).text;return d.toString()}get ruleIndex(){return-1}get altNumber(){return e.ATN.INVALID_ALT_NUMBER}set altNumber(d){}getChild(d){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(d){return d.visitChildren(this)}toStringTree(d){return o.Trees.toStringTree(this,d)}toString(d,f){const g=d instanceof r.Recognizer?d.ruleNames:d;f=f||a.ParserRuleContext.emptyContext();let x="",E=this;for(x+="[";E&&E!==f;){if(!g)E.isEmpty||(x+=E.invokingState);else{let D=E.ruleIndex,A=D>=0&&D<g.length?g[D]:D.toString();x+=A}E._parent&&(g||!E._parent.isEmpty)&&(x+=" "),E=E._parent}return x+="]",x.toString()}}return t([i.Override],l.prototype,"sourceInterval",null),t([i.Override],l.prototype,"ruleContext",null),t([i.Override],l.prototype,"parent",null),t([i.Override],l.prototype,"setParent",null),t([i.Override],l.prototype,"payload",null),t([i.Override],l.prototype,"text",null),t([i.Override],l.prototype,"getChild",null),t([i.Override],l.prototype,"childCount",null),t([i.Override],l.prototype,"accept",null),t([i.Override],l.prototype,"toStringTree",null),m_.RuleContext=l,m_}var aP;function Io(){if(aP)return g_;aP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(a,l,u,d){var f=arguments.length,g=f<3?l:d===null?d=Object.getOwnPropertyDescriptor(l,u):d,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(a,l,u,d);else for(var E=a.length-1;E>=0;E--)(x=a[E])&&(g=(f<3?x(g):f>3?x(l,u,g):x(l,u))||g);return f>3&&g&&Object.defineProperty(l,u,g),g};Object.defineProperty(g_,"__esModule",{value:!0}),g_.ParserRuleContext=void 0;const e=Sf,r=ui,n=qe,s=jB(),i=wl;class o extends s.RuleContext{constructor(l,u){u==null?super():super(l,u)}static emptyContext(){return o.EMPTY}copyFrom(l){if(this._parent=l._parent,this.invokingState=l.invokingState,this._start=l._start,this._stop=l._stop,l.children){this.children=[];for(let u of l.children)u instanceof e.ErrorNode&&this.addChild(u)}}enterRule(l){}exitRule(l){}addAnyChild(l){return this.children?this.children.push(l):this.children=[l],l}addChild(l){if(l instanceof i.TerminalNode){l.setParent(this),this.addAnyChild(l);return}else if(l instanceof s.RuleContext){this.addAnyChild(l);return}else return l=new i.TerminalNode(l),this.addAnyChild(l),l.setParent(this),l}addErrorNode(l){if(l instanceof e.ErrorNode){const u=l;return u.setParent(this),this.addAnyChild(u)}else{const u=l;let d=new e.ErrorNode(u);return this.addAnyChild(d),d.setParent(this),d}}removeLastChild(){this.children&&this.children.pop()}get parent(){let l=super.parent;if(l===void 0||l instanceof o)return l;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(l,u){if(!this.children||l<0||l>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(u==null)return this.children[l];let d=this.tryGetChild(l,u);if(d===void 0)throw new Error("The specified node does not exist");return d}tryGetChild(l,u){if(!this.children||l<0||l>=this.children.length)return;let d=-1;for(let f of this.children)if(f instanceof u&&(d++,d===l))return f}getToken(l,u){let d=this.tryGetToken(l,u);if(d===void 0)throw new Error("The specified token does not exist");return d}tryGetToken(l,u){if(!this.children||u<0||u>=this.children.length)return;let d=-1;for(let f of this.children)if(f instanceof i.TerminalNode&&f.symbol.type===l&&(d++,d===u))return f}getTokens(l){let u=[];if(!this.children)return u;for(let d of this.children)d instanceof i.TerminalNode&&d.symbol.type===l&&u.push(d);return u}get ruleContext(){return this}getRuleContext(l,u){return this.getChild(l,u)}tryGetRuleContext(l,u){return this.tryGetChild(l,u)}getRuleContexts(l){let u=[];if(!this.children)return u;for(let d of this.children)d instanceof l&&u.push(d);return u}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?r.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):r.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):r.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(l){return"ParserRuleContext"+l.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}}return o.EMPTY=new o,t([n.Override],o.prototype,"parent",null),t([n.Override],o.prototype,"childCount",null),t([n.Override],o.prototype,"sourceInterval",null),g_.ParserRuleContext=o,g_}var VB={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(t,"__esModule",{value:!0}),t.PredictionMode=void 0;const r=ml,n=un,s=qe,i=Ou;(function(o){o[o.SLL=0]="SLL",o[o.LL=1]="LL",o[o.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(t.PredictionMode||(t.PredictionMode={})),function(o){class a extends r.Array2DHashMap{constructor(){super(l.INSTANCE)}}class l{AltAndContextConfigEqualityComparator(){}hashCode(g){let x=n.MurmurHash.initialize(7);return x=n.MurmurHash.update(x,g.state.stateNumber),x=n.MurmurHash.update(x,g.context),x=n.MurmurHash.finish(x,2),x}equals(g,x){return g===x?!0:g==null||x==null?!1:g.state.stateNumber===x.state.stateNumber&&g.context.equals(x.context)}}l.INSTANCE=new l,e([s.Override],l.prototype,"hashCode",null),e([s.Override],l.prototype,"equals",null);function u(f){for(let g of f)if(g.state instanceof i.RuleStopState)return!0;return!1}o.hasConfigInRuleStopState=u;function d(f){for(let g of f)if(!(g.state instanceof i.RuleStopState))return!1;return!0}o.allConfigsInRuleStopStates=d}(t.PredictionMode||(t.PredictionMode={}))})(VB);var y_={},lP;function zB(){if(lP)return y_;lP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(y_,"__esModule",{value:!0}),y_.SimulatorState=void 0;const r=qe,n=Io();let s=class{constructor(o,a,l,u){this.outerContext=o!=null?o:n.ParserRuleContext.emptyContext(),this.s0=a,this.useContext=l,this.remainingOuterContext=u}};return s=t([e(1,r.NotNull)],s),y_.SimulatorState=s,y_}var uP;function mg(){if(uP)return p_;uP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(Rt,te,oe,ae){var we=arguments.length,Se=we<3?te:ae===null?ae=Object.getOwnPropertyDescriptor(te,oe):ae,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(Rt,te,oe,ae);else for(var De=Rt.length-1;De>=0;De--)(_e=Rt[De])&&(Se=(we<3?_e(Se):we>3?_e(te,oe,Se):_e(te,oe))||Se);return we>3&&Se&&Object.defineProperty(te,oe,Se),Se},e=K&&K.__param||function(Rt,te){return function(oe,ae){te(oe,ae,Rt)}};Object.defineProperty(p_,"__esModule",{value:!0}),p_.ParserATNSimulator=void 0;const r=eg,n=lg,s=Oo,i=c1,o=Pa(),a=_h,l=tg(),u=p1(),d=Xn,f=hg,g=No,x=P1,E=Ta,D=_1(),A=gf,R=ui,P=gl,O=qe,F=pb(),U=z1(),B=Hs,N=Io(),T=Bo(),M=db(),$=VB,J=Ou,Z=yf,re=hh,ge=_b(),Fe=zB(),Ze=yr,ze=xl,Le=Gs,it=65535,_t=-(1<<31>>>0);let st=class Jt extends u.ATNSimulator{constructor(te,oe){super(te),this.predictionMode=$.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=oe}getPredictionMode(){return this.predictionMode}setPredictionMode(te){this.predictionMode=te}reset(){}adaptivePredict(te,oe,ae,we){we===void 0&&(we=!1);let Se=this.atn.decisionToDFA[oe];if(Le(Se!=null),this.optimize_ll1&&!Se.isPrecedenceDfa&&!Se.isEmpty){let ee=te.LA(1);if(ee>=0&&ee<=65535){let He=(oe<<16>>>0)+ee,I=this.atn.LL1Table.get(He);if(I!=null)return I}}this.dfa=Se,this.force_global_context?we=!0:this.always_try_local_context||(we=we||Se.isContextSensitive),this.userWantsCtxSensitive=we||this.predictionMode!==$.PredictionMode.SLL&&ae!=null&&!this.atn.decisionToState[oe].sll,ae==null&&(ae=N.ParserRuleContext.emptyContext());let _e;Se.isEmpty||(_e=this.getStartState(Se,te,ae,we)),_e==null&&(ae==null&&(ae=N.ParserRuleContext.emptyContext()),Jt.debug&&console.log("ATN decision "+Se.decision+" exec LA(1)=="+this.getLookaheadName(te)+", outerContext="+ae.toString(this._parser)),_e=this.computeStartState(Se,ae,we));let De=te.mark(),Ve=te.index;try{let ee=this.execDFA(Se,te,Ve,_e);return Jt.debug&&console.log("DFA after predictATN: "+Se.toString(this._parser.vocabulary,this._parser.ruleNames)),ee}finally{this.dfa=void 0,te.seek(Ve),te.release(De)}}getStartState(te,oe,ae,we){if(!we)if(te.isPrecedenceDfa){let De=te.getPrecedenceStartState(this._parser.precedence,!1);return De==null?void 0:new Fe.SimulatorState(ae,De,!1,ae)}else return te.s0==null?void 0:new Fe.SimulatorState(ae,te.s0,!1,ae);if(!this.enable_global_context_dfa)return;let Se=ae;Le(ae!=null);let _e;for(te.isPrecedenceDfa?_e=te.getPrecedenceStartState(this._parser.precedence,!0):_e=te.s0full;Se!=null&&_e!=null&&_e.isContextSensitive;)Se=this.skipTailCalls(Se),_e=_e.getContextTarget(this.getReturnState(Se)),Se.isEmpty?Le(_e==null||!_e.isContextSensitive):Se=Se.parent;if(_e!=null)return new Fe.SimulatorState(ae,_e,we,Se)}execDFA(te,oe,ae,we){let Se=we.outerContext;Jt.dfa_debug&&console.log("DFA decision "+te.decision+" exec LA(1)=="+this.getLookaheadName(oe)+", outerContext="+Se.toString(this._parser)),Jt.dfa_debug&&console.log(te.toString(this._parser.vocabulary,this._parser.ruleNames));let _e=we.s0,De=oe.LA(1),Ve=we.remainingOuterContext;for(;;){if(Jt.dfa_debug&&console.log("DFA state "+_e.stateNumber+" LA(1)=="+this.getLookaheadName(oe)),we.useContext)for(;_e.isContextSymbol(De);){let I;if(Ve!=null&&(Ve=this.skipTailCalls(Ve),I=_e.getContextTarget(this.getReturnState(Ve))),I==null){let j=new Fe.SimulatorState(we.outerContext,_e,we.useContext,Ve);return this.execATN(te,oe,ae,j)}Le(Ve!=null),Ve=Ve.parent,_e=I}if(this.isAcceptState(_e,we.useContext)){_e.predicates!=null?Jt.dfa_debug&&console.log("accept "+_e):Jt.dfa_debug&&console.log("accept; predict "+_e.prediction+" in state "+_e.stateNumber);break}Le(!this.isAcceptState(_e,we.useContext));let He=this.getExistingTargetState(_e,De);if(He==null){Jt.dfa_debug&&De>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(De));let I;if(Jt.dfa_debug){let W=R.Interval.of(ae,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(W)+" at DFA state "+_e.stateNumber)}let j=new Fe.SimulatorState(Se,_e,we.useContext,Ve);return I=this.execATN(te,oe,ae,j),Jt.dfa_debug&&console.log("back from DFA update, alt="+I+`, dfa=
`+te.toString(this._parser.vocabulary,this._parser.ruleNames)),Jt.dfa_debug&&console.log("DFA decision "+te.decision+" predicts "+I),I}else if(He===u.ATNSimulator.ERROR){let I=new Fe.SimulatorState(Se,_e,we.useContext,Ve);return this.handleNoViableAlt(oe,ae,I)}_e=He,!this.isAcceptState(_e,we.useContext)&&De!==P.IntStream.EOF&&(oe.consume(),De=oe.LA(1))}if(!we.useContext&&_e.configs.conflictInfo!=null&&te.atnStartState instanceof E.DecisionState&&!(!this.userWantsCtxSensitive||!_e.configs.dipsIntoOuterContext&&_e.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&oe.index===ae)){Le(!we.useContext);let He,I=_e.predicates;if(I!=null){let j=oe.index;if(j!==ae&&oe.seek(ae),He=this.evalSemanticContext(I,Se,!0),He.cardinality()===1)return He.nextSetBit(0);j!==ae&&oe.seek(j)}if(this.reportAmbiguities){let j=new Fe.SimulatorState(Se,_e,we.useContext,Ve);this.reportAttemptingFullContext(te,He,j,ae,oe.index)}return oe.seek(ae),this.adaptivePredict(oe,te.decision,Se,!0)}let ee=_e.predicates;if(ee!=null){let He=oe.index;ae!==He&&oe.seek(ae);let I=this.evalSemanticContext(ee,Se,this.reportAmbiguities&&this.predictionMode===$.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(I.cardinality()){case 0:throw this.noViableAlt(oe,Se,_e.configs,ae);case 1:return I.nextSetBit(0);default:return ae!==He&&oe.seek(He),this.reportAmbiguity(te,_e,ae,He,_e.configs.isExactConflict,I,_e.configs),I.nextSetBit(0)}}return Jt.dfa_debug&&console.log("DFA decision "+te.decision+" predicts "+_e.prediction),_e.prediction}isAcceptState(te,oe){return te.isAcceptState?te.configs.conflictingAlts==null?!0:oe&&this.predictionMode===$.PredictionMode.LL_EXACT_AMBIG_DETECTION?te.configs.isExactConflict:!0:!1}execATN(te,oe,ae,we){Jt.debug&&console.log("execATN decision "+te.decision+" exec LA(1)=="+this.getLookaheadName(oe));let Se=we.outerContext,_e=we.useContext,De=oe.LA(1),Ve=we,ee=new M.PredictionContextCache;for(;;){let He=this.computeReachSet(te,Ve,De,ee);if(He==null)return this.setDFAEdge(Ve.s0,oe.LA(1),u.ATNSimulator.ERROR),this.handleNoViableAlt(oe,ae,Ve);let I=He.s0;if(Le(I.isAcceptState||I.prediction===o.ATN.INVALID_ALT_NUMBER),Le(I.isAcceptState||I.configs.conflictInfo==null),this.isAcceptState(I,_e)){let j=I.configs.conflictingAlts,W=j==null?I.prediction:o.ATN.INVALID_ALT_NUMBER;if(W!==o.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&oe.index===ae&&!te.isPrecedenceDfa&&He.outerContext===He.remainingOuterContext&&te.decision>=0&&!I.configs.hasSemanticContext&&De>=0&&De<=it){let fe=(te.decision<<16>>>0)+De;this.atn.LL1Table.set(fe,W)}_e&&this.always_try_local_context&&this.reportContextSensitivity(te,W,He,ae,oe.index)}W=I.prediction;let ne=j!=null&&this.userWantsCtxSensitive;if(ne&&(ne=!_e&&(I.configs.dipsIntoOuterContext||!I.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||oe.index!==ae)),I.configs.hasSemanticContext){let fe=I.predicates;if(fe!=null){let Ee=oe.index;switch(Ee!==ae&&oe.seek(ae),j=this.evalSemanticContext(fe,Se,ne||this.reportAmbiguities),j.cardinality()){case 0:throw this.noViableAlt(oe,Se,I.configs,ae);case 1:return j.nextSetBit(0)}Ee!==ae&&oe.seek(Ee)}}if(ne){Le(!_e),Le(this.isAcceptState(I,!1)),Jt.debug&&console.log("RETRY with outerContext="+Se);let fe=this.computeStartState(te,Se,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(te,j,He,ae,oe.index),oe.seek(ae),this.execATN(te,oe,ae,fe)}else return j!=null&&(this.reportAmbiguities&&j.cardinality()>1&&this.reportAmbiguity(te,I,ae,oe.index,I.configs.isExactConflict,j,I.configs),W=j.nextSetBit(0)),W}Ve=He,De!==P.IntStream.EOF&&(oe.consume(),De=oe.LA(1))}}handleNoViableAlt(te,oe,ae){if(ae.s0!=null){let we=new g.BitSet,Se=0;for(let _e of ae.s0.configs)(_e.reachesIntoOuterContext||_e.state instanceof J.RuleStopState)&&(we.set(_e.alt),Se=Math.max(Se,_e.alt));switch(we.cardinality()){case 0:break;case 1:return we.nextSetBit(0);default:if(!ae.s0.configs.hasSemanticContext)return we.nextSetBit(0);let _e=new l.ATNConfigSet;for(let Ve of ae.s0.configs)(Ve.reachesIntoOuterContext||Ve.state instanceof J.RuleStopState)&&_e.add(Ve);let De=this.getPredsForAmbigAlts(we,_e,Se);if(De!=null){let Ve=this.getPredicatePredictions(we,De);if(Ve!=null){let ee=te.index;try{te.seek(oe);let He=this.evalSemanticContext(Ve,ae.outerContext,!1);if(!He.isEmpty)return He.nextSetBit(0)}finally{te.seek(ee)}}}return we.nextSetBit(0)}}throw this.noViableAlt(te,ae.outerContext,ae.s0.configs,oe)}computeReachSet(te,oe,ae,we){let Se=oe.useContext,_e=oe.remainingOuterContext,De=oe.s0;if(Se)for(;De.isContextSymbol(ae);){let He;if(_e!=null&&(_e=this.skipTailCalls(_e),He=De.getContextTarget(this.getReturnState(_e))),He==null)break;Le(_e!=null),_e=_e.parent,De=He}if(Le(!this.isAcceptState(De,Se)),this.isAcceptState(De,Se))return new Fe.SimulatorState(oe.outerContext,De,Se,_e);let Ve=De,ee=this.getExistingTargetState(Ve,ae);if(ee==null){let He=this.computeTargetState(te,Ve,_e,ae,Se,we);ee=He[0],_e=He[1]}if(ee!==u.ATNSimulator.ERROR)return Le(!Se||!ee.configs.dipsIntoOuterContext),new Fe.SimulatorState(oe.outerContext,ee,Se,_e)}getExistingTargetState(te,oe){return te.getTarget(oe)}computeTargetState(te,oe,ae,we,Se,_e){let De=oe.configs.toArray(),Ve,ee=new l.ATNConfigSet,He;do{let j=!Se||ae!=null;j||(ee.isOutermostConfigSet=!0);let W=new l.ATNConfigSet,ne;for(let le of De){if(Jt.debug&&console.log("testing "+this.getTokenName(we)+" at "+le.toString()),le.state instanceof J.RuleStopState){Le(le.context.isEmpty),(Se&&!le.reachesIntoOuterContext||we===P.IntStream.EOF)&&(ne==null&&(ne=[]),ne.push(le));continue}let ue=le.state.numberOfOptimizedTransitions;for(let be=0;be<ue;be++){let Re=le.state.getOptimizedTransition(be),Qe=this.getReachableTarget(le,Re,we);Qe!=null&&W.add(le.transform(Qe,!1),_e)}}if(this.optimize_unique_closure&&ne==null&&we!==Ze.Token.EOF&&W.uniqueAlt!==o.ATN.INVALID_ALT_NUMBER){W.isOutermostConfigSet=ee.isOutermostConfigSet,ee=W;break}let fe=!1,Ee=we===Ze.Token.EOF;if(this.closure(W,ee,fe,j,_e,Ee),He=ee.dipsIntoOuterContext,we===P.IntStream.EOF&&(ee=this.removeAllConfigsNotInRuleStopState(ee,_e)),ne!=null&&(!Se||!$.PredictionMode.hasConfigInRuleStopState(ee))){Le(ne.length>0);for(let le of ne)ee.add(le,_e)}if(Se&&He){ee.clear(),ae=ae,ae=this.skipTailCalls(ae);let le=this.getReturnState(ae);if(Ve==null&&(Ve=new A.IntegerList),ae.isEmpty?ae=void 0:ae=ae.parent,Ve.add(le),le!==T.PredictionContext.EMPTY_FULL_STATE_KEY)for(let ue=0;ue<De.length;ue++)De[ue]=De[ue].appendContext(le,_e)}}while(Se&&He);return ee.isEmpty?(this.setDFAEdge(oe,we,u.ATNSimulator.ERROR),[u.ATNSimulator.ERROR,ae]):[this.addDFAEdge(te,oe,we,Ve,ee,_e),ae]}removeAllConfigsNotInRuleStopState(te,oe){if($.PredictionMode.allConfigsInRuleStopStates(te))return te;let ae=new l.ATNConfigSet;for(let we of te)we.state instanceof J.RuleStopState&&ae.add(we,oe);return ae}computeStartState(te,oe,ae){let we=te.isPrecedenceDfa?te.getPrecedenceStartState(this._parser.precedence,ae):ae?te.s0full:te.s0;if(we!=null){if(!ae)return new Fe.SimulatorState(oe,we,ae,oe);we.setContextSensitive(this.atn)}te.decision;let Se=te.atnStartState,_e=0,De=oe,Ve=ae?T.PredictionContext.EMPTY_FULL:T.PredictionContext.EMPTY_LOCAL,ee=new M.PredictionContextCache;if(ae){if(!this.enable_global_context_dfa)for(;De!=null;)De.isEmpty?(_e=T.PredictionContext.EMPTY_FULL_STATE_KEY,De=void 0):(_e=this.getReturnState(De),Ve=Ve.appendSingleContext(_e,ee),De=De.parent);for(;we!=null&&we.isContextSensitive&&De!=null;){let I;if(De=this.skipTailCalls(De),De.isEmpty?(I=we.getContextTarget(T.PredictionContext.EMPTY_FULL_STATE_KEY),_e=T.PredictionContext.EMPTY_FULL_STATE_KEY,De=void 0):(_e=this.getReturnState(De),I=we.getContextTarget(_e),Ve=Ve.appendSingleContext(_e,ee),De=De.parent),I==null)break;we=I}}if(we!=null&&!we.isContextSensitive)return new Fe.SimulatorState(oe,we,ae,De);let He=new l.ATNConfigSet;for(;;){let I=new l.ATNConfigSet,j=Se.numberOfTransitions;for(let ue=0;ue<j;ue++){let be=Se.transition(ue).target;I.add(a.ATNConfig.create(be,ue+1,Ve))}let W=De!=null;W||(He.isOutermostConfigSet=!0);let ne=!0;this.closure(I,He,ne,W,ee,!1);let fe=He.dipsIntoOuterContext,Ee;if(ae&&!this.enable_global_context_dfa){we=this.addDFAState(te,He,ee);break}else we==null?te.isPrecedenceDfa?(He=this.applyPrecedenceFilter(He,oe,ee),Ee=this.addDFAState(te,He,ee),te.setPrecedenceStartState(this._parser.precedence,ae,Ee)):(Ee=this.addDFAState(te,He,ee),ae?te.s0full?Ee=te.s0full:te.s0full=Ee:te.s0?Ee=te.s0:te.s0=Ee):(te.isPrecedenceDfa&&(He=this.applyPrecedenceFilter(He,oe,ee)),Ee=this.addDFAState(te,He,ee),we.setContextTarget(_e,Ee));if(we=Ee,!ae||!fe)break;Ee.setContextSensitive(this.atn),De=De,He.clear(),De=this.skipTailCalls(De);let le=this.getReturnState(De);De.isEmpty?De=void 0:De=De.parent,le!==T.PredictionContext.EMPTY_FULL_STATE_KEY&&(Ve=Ve.appendSingleContext(le,ee)),_e=le}return new Fe.SimulatorState(oe,we,ae,De)}applyPrecedenceFilter(te,oe,ae){let we=new Map,Se=new l.ATNConfigSet;for(let _e of te){if(_e.alt!==1)continue;let De=_e.semanticContext.evalPrecedence(this._parser,oe);De!=null&&(we.set(_e.state.stateNumber,_e.context),De!==_e.semanticContext?Se.add(_e.transform(_e.state,!1,De),ae):Se.add(_e,ae))}for(let _e of te)if(_e.alt!==1){if(!_e.isPrecedenceFilterSuppressed){let De=we.get(_e.state.stateNumber);if(De!=null&&De.equals(_e.context))continue}Se.add(_e,ae)}return Se}getReachableTarget(te,oe,ae){if(oe.matches(ae,0,this.atn.maxTokenType))return oe.target}predicateDFAState(te,oe,ae){let we=this.getConflictingAltsFromConfigSet(oe);if(!we)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");Jt.debug&&console.log("predicateDFAState "+te);let Se=this.getPredsForAmbigAlts(we,oe,ae),_e;return Se!=null&&(_e=this.getPredicatePredictions(we,Se),te.predicates=_e),_e}getPredsForAmbigAlts(te,oe,ae){let we=new Array(ae+1),Se=we.length;for(let Ve of oe)te.get(Ve.alt)&&(we[Ve.alt]=re.SemanticContext.or(we[Ve.alt],Ve.semanticContext));let _e=0;for(let Ve=0;Ve<Se;Ve++)we[Ve]==null?we[Ve]=re.SemanticContext.NONE:we[Ve]!==re.SemanticContext.NONE&&_e++;let De=we;return _e===0&&(De=void 0),Jt.debug&&console.log("getPredsForAmbigAlts result "+(De?i.Arrays.toString(De):"undefined")),De}getPredicatePredictions(te,oe){let ae=[],we=!1;for(let Se=1;Se<oe.length;Se++){let _e=oe[Se];Le(_e!=null),te!=null&&te.get(Se)&&_e===re.SemanticContext.NONE?ae.push(new D.DFAState.PredPrediction(_e,Se)):_e!==re.SemanticContext.NONE&&(we=!0,ae.push(new D.DFAState.PredPrediction(_e,Se)))}if(!!we)return ae}evalSemanticContext(te,oe,ae){let we=new g.BitSet;for(let Se of te){if(Se.pred===re.SemanticContext.NONE){if(we.set(Se.alt),!ae)break;continue}let _e=this.evalSemanticContextImpl(Se.pred,oe,Se.alt);if((Jt.debug||Jt.dfa_debug)&&console.log("eval pred "+Se+"="+_e),_e&&((Jt.debug||Jt.dfa_debug)&&console.log("PREDICT "+Se.alt),we.set(Se.alt),!ae))break}return we}evalSemanticContextImpl(te,oe,ae){return te.eval(this._parser,oe)}closure(te,oe,ae,we,Se,_e){Se==null&&(Se=M.PredictionContextCache.UNCACHED);let De=te,Ve=new s.Array2DHashSet(B.ObjectEqualityComparator.INSTANCE);for(;De.size>0;){let ee=new l.ATNConfigSet;for(let He of De)this.closureImpl(He,oe,ee,Ve,ae,we,Se,0,_e);De=ee}}closureImpl(te,oe,ae,we,Se,_e,De,Ve,ee){if(Jt.debug&&console.log("closure("+te.toString(this._parser,!0)+")"),te.state instanceof J.RuleStopState)if(te.context.isEmpty)if(_e)Jt.debug&&console.log("FALLING off rule "+this.getRuleName(te.state.ruleIndex)),te.context===T.PredictionContext.EMPTY_FULL?te=te.transform(te.state,!1,T.PredictionContext.EMPTY_LOCAL):!te.reachesIntoOuterContext&&T.PredictionContext.isEmptyLocal(te.context)&&oe.add(te,De);else{oe.add(te,De);return}else{let I=te.context.hasEmpty,j=te.context.size-(I?1:0);for(let W=0;W<j;W++){let ne=te.context.getParent(W),fe=this.atn.states[te.context.getReturnState(W)],Ee=a.ATNConfig.create(fe,te.alt,ne,te.semanticContext);Ee.outerContextDepth=te.outerContextDepth,Ee.isPrecedenceFilterSuppressed=te.isPrecedenceFilterSuppressed,Le(Ve>_t),this.closureImpl(Ee,oe,ae,we,Se,_e,De,Ve-1,ee)}if(!I||!_e)return;te=te.transform(te.state,!1,T.PredictionContext.EMPTY_LOCAL)}let He=te.state;He.onlyHasEpsilonTransitions||(oe.add(te,De),Jt.debug&&console.log("added config "+oe));for(let I=0;I<He.numberOfOptimizedTransitions;I++){if(I===0&&He.stateType===d.ATNStateType.STAR_LOOP_ENTRY&&He.precedenceRuleDecision&&!te.context.hasEmpty){let fe=He,Ee=!0;for(let le=0;le<te.context.size;le++)if(!fe.precedenceLoopbackStates.get(te.context.getReturnState(le))){Ee=!1;break}if(Ee)continue}let j=He.getOptimizedTransition(I),W=!(j instanceof n.ActionTransition)&&Se,ne=this.getEpsilonTarget(te,j,W,Ve===0,De,ee);if(ne!=null){if(j instanceof Z.RuleTransition&&ae!=null&&!Se){ae.add(ne,De);continue}let fe=Ve;if(te.state instanceof J.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa&&j.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(ne.isPrecedenceFilterSuppressed=!0),ne.outerContextDepth=ne.outerContextDepth+1,!we.add(ne))continue;Le(fe>_t),fe--,Jt.debug&&console.log("dips into outer ctx: "+ne)}else if(j instanceof Z.RuleTransition)this.optimize_tail_calls&&j.optimizedTailCall&&(!this.tail_call_preserves_sll||!T.PredictionContext.isEmptyLocal(te.context))?(Le(ne.context===te.context),fe===0&&(fe--,!this.tail_call_preserves_sll&&T.PredictionContext.isEmptyLocal(te.context)&&(ne.outerContextDepth=ne.outerContextDepth+1))):fe>=0&&fe++;else if(!j.isEpsilon&&!we.add(ne))continue;this.closureImpl(ne,oe,ae,we,W,_e,De,fe,ee)}}}getRuleName(te){return this._parser!=null&&te>=0?this._parser.ruleNames[te]:"<rule "+te+">"}getEpsilonTarget(te,oe,ae,we,Se,_e){switch(oe.serializationType){case 3:return this.ruleTransition(te,oe,Se);case 10:return this.precedenceTransition(te,oe,ae,we);case 4:return this.predTransition(te,oe,ae,we);case 6:return this.actionTransition(te,oe);case 1:return te.transform(oe.target,!1);case 5:case 2:case 7:return _e&&oe.matches(Ze.Token.EOF,0,1)?te.transform(oe.target,!1):void 0;default:return}}actionTransition(te,oe){return Jt.debug&&console.log("ACTION edge "+oe.ruleIndex+":"+oe.actionIndex),te.transform(oe.target,!1)}precedenceTransition(te,oe,ae,we){Jt.debug&&(console.log("PRED (collectPredicates="+ae+") "+oe.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Se;if(ae&&we){let _e=re.SemanticContext.and(te.semanticContext,oe.predicate);Se=te.transform(oe.target,!1,_e)}else Se=te.transform(oe.target,!1);return Jt.debug&&console.log("config from pred transition="+Se),Se}predTransition(te,oe,ae,we){Jt.debug&&(console.log("PRED (collectPredicates="+ae+") "+oe.ruleIndex+":"+oe.predIndex+", ctx dependent="+oe.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));let Se;if(ae&&(!oe.isCtxDependent||oe.isCtxDependent&&we)){let _e=re.SemanticContext.and(te.semanticContext,oe.predicate);Se=te.transform(oe.target,!1,_e)}else Se=te.transform(oe.target,!1);return Jt.debug&&console.log("config from pred transition="+Se),Se}ruleTransition(te,oe,ae){Jt.debug&&console.log("CALL rule "+this.getRuleName(oe.target.ruleIndex)+", ctx="+te.context);let we=oe.followState,Se;return this.optimize_tail_calls&&oe.optimizedTailCall&&(!this.tail_call_preserves_sll||!T.PredictionContext.isEmptyLocal(te.context))?Se=te.context:ae!=null?Se=ae.getChild(te.context,we.stateNumber):Se=te.context.getChild(we.stateNumber),te.transform(oe.target,!1,Se)}isConflicted(te,oe){if(te.uniqueAlt!==o.ATN.INVALID_ALT_NUMBER||te.size<=1)return;let ae=te.toArray();ae.sort(Jt.STATE_ALT_SORT_COMPARATOR);let we=!te.dipsIntoOuterContext,Se=new g.BitSet,_e=ae[0].alt;Se.set(_e);let De=ae[0].state.nonStopStateNumber;for(let j of ae){let W=j.state.nonStopStateNumber;if(W!==De){if(j.alt!==_e)return;De=W}}let Ve;if(we){De=ae[0].state.nonStopStateNumber,Ve=new g.BitSet;let j=_e;for(let ne of ae){if(ne.state.nonStopStateNumber!==De)break;let fe=ne.alt;Ve.set(fe),j=fe}De=ae[0].state.nonStopStateNumber;let W=_e;for(let ne of ae){let fe=ne.state.nonStopStateNumber,Ee=ne.alt;if(fe!==De){if(W!==j){we=!1;break}De=fe,W=_e}else if(Ee!==W){if(Ee!==Ve.nextSetBit(W+1)){we=!1;break}W=Ee}}}De=ae[0].state.nonStopStateNumber;let ee=0,He=0,I=ae[0].context;for(let j=1;j<ae.length;j++){let W=ae[j];if(W.alt!==_e||W.state.nonStopStateNumber!==De)break;He=j,I=oe.join(I,ae[j].context)}for(let j=He+1;j<ae.length;j++){let W=ae[j],ne=W.state;if(Se.set(W.alt),ne.nonStopStateNumber!==De){De=ne.nonStopStateNumber,ee=j,He=j,I=W.context;for(let be=ee+1;be<ae.length;be++){let Re=ae[be];if(Re.alt!==_e||Re.state.nonStopStateNumber!==De)break;He=be,I=oe.join(I,Re.context)}j=He;continue}let fe=W.context,Ee=W.alt,le=j;for(let be=le+1;be<ae.length;be++){let Re=ae[be];if(Re.alt!==Ee||Re.state.nonStopStateNumber!==De)break;le=be,fe=oe.join(fe,Re.context)}j=le;let ue=oe.join(I,fe);if(!I.equals(ue))return;we=we&&I.equals(fe)}return new x.ConflictInfo(Se,we)}getConflictingAltsFromConfigSet(te){let oe=te.conflictingAlts;return oe==null&&te.uniqueAlt!==o.ATN.INVALID_ALT_NUMBER&&(oe=new g.BitSet,oe.set(te.uniqueAlt)),oe}getTokenName(te){if(te===Ze.Token.EOF)return"EOF";let ae=(this._parser!=null?this._parser.vocabulary:ze.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(te);return ae===String(te)?ae:ae+"<"+te+">"}getLookaheadName(te){return this.getTokenName(te.LA(1))}dumpDeadEndConfigs(te){console.log("dead end configs: ");let oe=te.deadEndConfigs;if(!!oe)for(let ae of oe){let we="no edges";if(ae.state.numberOfOptimizedTransitions>0){let Se=ae.state.getOptimizedTransition(0);Se instanceof f.AtomTransition?we="Atom "+this.getTokenName(Se._label):Se instanceof ge.SetTransition&&(we=(Se instanceof F.NotSetTransition?"~":"")+"Set "+Se.set.toString())}console.log(ae.toString(this._parser,!0)+":"+we)}}noViableAlt(te,oe,ae,we){return new U.NoViableAltException(this._parser,te,te.get(we),te.LT(1),ae,oe)}getUniqueAlt(te){let oe=o.ATN.INVALID_ALT_NUMBER;for(let ae of te)if(oe===o.ATN.INVALID_ALT_NUMBER)oe=ae.alt;else if(ae.alt!==oe)return o.ATN.INVALID_ALT_NUMBER;return oe}configWithAltAtStopState(te,oe){for(let ae of te)if(ae.alt===oe&&ae.state instanceof J.RuleStopState)return!0;return!1}addDFAEdge(te,oe,ae,we,Se,_e){Le(we==null||we.isEmpty||te.isContextSensitive);let De=oe,Ve=this.addDFAState(te,Se,_e);if(we!=null)for(let ee of we.toArray()){if(ee===T.PredictionContext.EMPTY_FULL_STATE_KEY&&De.configs.isOutermostConfigSet)continue;De.setContextSensitive(this.atn),De.setContextSymbol(ae);let He=De.getContextTarget(ee);if(He!=null){De=He;continue}He=this.addDFAContextState(te,De.configs,ee,_e),Le(ee!==T.PredictionContext.EMPTY_FULL_STATE_KEY||He.configs.isOutermostConfigSet),De.setContextTarget(ee,He),De=He}return Jt.debug&&console.log("EDGE "+De+" -> "+Ve+" upon "+this.getTokenName(ae)),this.setDFAEdge(De,ae,Ve),Jt.debug&&console.log(`DFA=
`+te.toString(this._parser!=null?this._parser.vocabulary:ze.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),Ve}setDFAEdge(te,oe,ae){te!=null&&te.setTarget(oe,ae)}addDFAContextState(te,oe,ae,we){if(ae!==T.PredictionContext.EMPTY_FULL_STATE_KEY){let Se=new l.ATNConfigSet;for(let _e of oe)Se.add(_e.appendContext(ae,we));return this.addDFAState(te,Se,we)}else return Le(!oe.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),oe=oe.clone(!0),oe.isOutermostConfigSet=!0,this.addDFAState(te,oe,we)}addDFAState(te,oe,ae){let we=this.enable_global_context_dfa||!oe.isOutermostConfigSet;if(we){oe.isReadOnly||oe.optimizeConfigs(this);let ee=this.createDFAState(te,oe),He=te.states.get(ee);if(He!=null)return He}oe.isReadOnly||oe.conflictInfo==null&&(oe.conflictInfo=this.isConflicted(oe,ae));let Se=this.createDFAState(te,oe.clone(!0)),_e=this.atn.getDecisionState(te.decision),De=this.getUniqueAlt(oe);if(De!==o.ATN.INVALID_ALT_NUMBER)Se.acceptStateInfo=new r.AcceptStateInfo(De);else if(oe.conflictingAlts!=null){let ee=oe.conflictingAlts;ee&&(Se.acceptStateInfo=new r.AcceptStateInfo(ee.nextSetBit(0)))}if(Se.isAcceptState&&oe.hasSemanticContext&&this.predicateDFAState(Se,oe,_e.numberOfTransitions),!we)return Se;let Ve=te.addState(Se);return Jt.debug&&Ve===Se&&console.log("adding new DFA state: "+Se),Ve}createDFAState(te,oe){return new D.DFAState(oe)}reportAttemptingFullContext(te,oe,ae,we,Se){if(Jt.debug||Jt.retry_debug){let _e=R.Interval.of(we,Se);console.log("reportAttemptingFullContext decision="+te.decision+":"+ae.s0.configs+", input="+this._parser.inputStream.getText(_e))}if(this._parser!=null){let _e=this._parser.getErrorListenerDispatch();_e.reportAttemptingFullContext&&_e.reportAttemptingFullContext(this._parser,te,we,Se,oe,ae)}}reportContextSensitivity(te,oe,ae,we,Se){if(Jt.debug||Jt.retry_debug){let _e=R.Interval.of(we,Se);console.log("reportContextSensitivity decision="+te.decision+":"+ae.s0.configs+", input="+this._parser.inputStream.getText(_e))}if(this._parser!=null){let _e=this._parser.getErrorListenerDispatch();_e.reportContextSensitivity&&_e.reportContextSensitivity(this._parser,te,we,Se,oe,ae)}}reportAmbiguity(te,oe,ae,we,Se,_e,De){if(Jt.debug||Jt.retry_debug){let Ve=R.Interval.of(ae,we);console.log("reportAmbiguity "+_e+":"+De+", input="+this._parser.inputStream.getText(Ve))}if(this._parser!=null){let Ve=this._parser.getErrorListenerDispatch();Ve.reportAmbiguity&&Ve.reportAmbiguity(this._parser,te,ae,we,Se,_e,De)}}getReturnState(te){return te.isEmpty?T.PredictionContext.EMPTY_FULL_STATE_KEY:this.atn.states[te.invokingState].transition(0).followState.stateNumber}skipTailCalls(te){if(!this.optimize_tail_calls)return te;for(;!te.isEmpty;){let oe=this.atn.states[te.invokingState];if(Le(oe.numberOfTransitions===1&&oe.transition(0).serializationType===3),!oe.transition(0).tailCall)break;te=te.parent}return te}get parser(){return this._parser}};return st.debug=!1,st.dfa_debug=!1,st.retry_debug=!1,st.STATE_ALT_SORT_COMPARATOR=(Rt,te)=>{let oe=Rt.state.nonStopStateNumber-te.state.nonStopStateNumber;return oe!==0||(oe=Rt.alt-te.alt,oe!==0)?oe:0},t([O.NotNull],st.prototype,"predictionMode",void 0),t([O.NotNull],st.prototype,"getPredictionMode",null),t([e(0,O.NotNull)],st.prototype,"setPredictionMode",null),t([O.Override],st.prototype,"reset",null),t([e(0,O.NotNull)],st.prototype,"adaptivePredict",null),t([e(0,O.NotNull),e(1,O.NotNull),e(2,O.NotNull)],st.prototype,"getStartState",null),t([e(0,O.NotNull),e(1,O.NotNull),e(3,O.NotNull)],st.prototype,"execDFA",null),t([e(0,O.NotNull),e(1,O.NotNull),e(3,O.NotNull)],st.prototype,"execATN",null),t([e(0,O.NotNull),e(2,O.NotNull)],st.prototype,"handleNoViableAlt",null),t([e(0,O.NotNull)],st.prototype,"getExistingTargetState",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"computeTargetState",null),t([O.NotNull,e(0,O.NotNull)],st.prototype,"removeAllConfigsNotInRuleStopState",null),t([O.NotNull],st.prototype,"computeStartState",null),t([O.NotNull,e(0,O.NotNull)],st.prototype,"applyPrecedenceFilter",null),t([e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"getReachableTarget",null),t([e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"getPredsForAmbigAlts",null),t([e(0,O.NotNull)],st.prototype,"evalSemanticContext",null),t([e(0,O.NotNull)],st.prototype,"evalSemanticContextImpl",null),t([e(1,O.NotNull),e(4,O.Nullable)],st.prototype,"closure",null),t([e(0,O.NotNull),e(1,O.NotNull),e(2,O.Nullable),e(3,O.NotNull),e(6,O.NotNull)],st.prototype,"closureImpl",null),t([O.NotNull],st.prototype,"getRuleName",null),t([e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"getEpsilonTarget",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"actionTransition",null),t([O.Nullable,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"precedenceTransition",null),t([O.Nullable,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"predTransition",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull),e(2,O.Nullable)],st.prototype,"ruleTransition",null),t([e(0,O.NotNull)],st.prototype,"isConflicted",null),t([O.NotNull],st.prototype,"getTokenName",null),t([e(0,O.NotNull)],st.prototype,"dumpDeadEndConfigs",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull),e(2,O.NotNull)],st.prototype,"noViableAlt",null),t([e(0,O.NotNull)],st.prototype,"getUniqueAlt",null),t([e(0,O.NotNull)],st.prototype,"configWithAltAtStopState",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull),e(4,O.NotNull)],st.prototype,"addDFAEdge",null),t([e(0,O.Nullable),e(2,O.Nullable)],st.prototype,"setDFAEdge",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"addDFAContextState",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"addDFAState",null),t([O.NotNull,e(0,O.NotNull),e(1,O.NotNull)],st.prototype,"createDFAState",null),t([e(0,O.NotNull),e(2,O.NotNull)],st.prototype,"reportAttemptingFullContext",null),t([e(0,O.NotNull),e(2,O.NotNull)],st.prototype,"reportContextSensitivity",null),t([e(0,O.NotNull),e(5,O.NotNull),e(6,O.NotNull)],st.prototype,"reportAmbiguity",null),st=t([e(0,O.NotNull)],st),p_.ParserATNSimulator=st,p_}var D1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var mj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(D1,"__esModule",{value:!0});D1.PlusBlockStartState=void 0;const xj=Xn,yj=vh,vj=qe;class WB extends yj.BlockStartState{get stateType(){return xj.ATNStateType.PLUS_BLOCK_START}}mj([vj.Override],WB.prototype,"stateType",null);D1.PlusBlockStartState=WB;var R1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ej=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(R1,"__esModule",{value:!0});R1.PlusLoopbackState=void 0;const Aj=Xn,wj=Ta,Sj=qe;class $B extends wj.DecisionState{get stateType(){return Aj.ATNStateType.PLUS_LOOP_BACK}}Ej([Sj.Override],$B.prototype,"stateType",null);R1.PlusLoopbackState=$B;var O1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var xg=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},bj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(O1,"__esModule",{value:!0});O1.PrecedencePredicateTransition=void 0;const kj=pf,yg=qe,Tj=hh;let Jc=class extends kj.AbstractPredicateTransition{constructor(e,r){super(e),this.precedence=r}get serializationType(){return 10}get isEpsilon(){return!0}matches(e,r,n){return!1}get predicate(){return new Tj.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};xg([yg.Override],Jc.prototype,"serializationType",null);xg([yg.Override],Jc.prototype,"isEpsilon",null);xg([yg.Override],Jc.prototype,"matches",null);xg([yg.Override],Jc.prototype,"toString",null);Jc=xg([bj(0,yg.NotNull)],Jc);O1.PrecedencePredicateTransition=Jc;var B1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var vg=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Cj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(B1,"__esModule",{value:!0});B1.RangeTransition=void 0;const Pj=yh(),Zc=qe,Dj=Ro;let eh=class extends Dj.Transition{constructor(e,r,n){super(e),this.from=r,this.to=n}get serializationType(){return 2}get label(){return Pj.IntervalSet.of(this.from,this.to)}matches(e,r,n){return e>=this.from&&e<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};vg([Zc.Override],eh.prototype,"serializationType",null);vg([Zc.Override,Zc.NotNull],eh.prototype,"label",null);vg([Zc.Override],eh.prototype,"matches",null);vg([Zc.Override,Zc.NotNull],eh.prototype,"toString",null);eh=vg([Cj(0,Zc.NotNull)],eh);B1.RangeTransition=eh;var N1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Rj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(N1,"__esModule",{value:!0});N1.RuleStartState=void 0;const Oj=ba,Bj=Xn,Nj=qe;class KB extends Oj.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return Bj.ATNStateType.RULE_START}}Rj([Nj.Override],KB.prototype,"stateType",null);N1.RuleStartState=KB;var F1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Fj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(F1,"__esModule",{value:!0});F1.StarBlockStartState=void 0;const Ij=Xn,Mj=vh,Lj=qe;class XB extends Mj.BlockStartState{get stateType(){return Ij.ATNStateType.STAR_BLOCK_START}}Fj([Lj.Override],XB.prototype,"stateType",null);F1.StarBlockStartState=XB;var I1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Uj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(I1,"__esModule",{value:!0});I1.StarLoopbackState=void 0;const Gj=ba,Hj=Xn,jj=qe;class YB extends Gj.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return Hj.ATNStateType.STAR_LOOP_BACK}}Uj([jj.Override],YB.prototype,"stateType",null);I1.StarLoopbackState=YB;var M1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Vj=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(M1,"__esModule",{value:!0});M1.TokensStartState=void 0;const zj=Xn,Wj=Ta,$j=qe;class qB extends Wj.DecisionState{get stateType(){return zj.ATNStateType.TOKEN_START}}Vj([$j.Override],qB.prototype,"stateType",null);M1.TokensStartState=qB;var L1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(L1,"__esModule",{value:!0});L1.UUID=void 0;const Kj=un;class ay{constructor(e,r,n,s){this.data=new Uint32Array(4),this.data[0]=e,this.data[1]=r,this.data[2]=n,this.data[3]=s}static fromString(e){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(e))throw new Error("Incorrectly formatted UUID");let r=e.split("-"),n=parseInt(r[0],16),s=(parseInt(r[1],16)<<16>>>0)+parseInt(r[2],16),i=(parseInt(r[3],16)<<16>>>0)+parseInt(r[4].substr(0,4),16),o=parseInt(r[4].substr(-8),16);return new ay(n,s,i,o)}hashCode(){return Kj.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(e){return e===this?!0:e instanceof ay?this.data[0]===e.data[0]&&this.data[1]===e.data[1]&&this.data[2]===e.data[2]&&this.data[3]===e.data[3]:!1}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}L1.UUID=ay;var cP;function vb(){if(cP)return f_;cP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(He,I,j,W){var ne=arguments.length,fe=ne<3?I:W===null?W=Object.getOwnPropertyDescriptor(I,j):W,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")fe=Reflect.decorate(He,I,j,W);else for(var le=He.length-1;le>=0;le--)(Ee=He[le])&&(fe=(ne<3?Ee(fe):ne>3?Ee(I,j,fe):Ee(I,j))||fe);return ne>3&&fe&&Object.defineProperty(I,j,fe),fe},e=K&&K.__param||function(He,I){return function(j,W){I(j,W,He)}};Object.defineProperty(f_,"__esModule",{value:!0}),f_.ATNDeserializer=void 0;const r=lg,n=Oo,s=Pa(),i=ag,o=Xn,a=hg,l=E1,u=ig,d=No,f=A1,g=vh,x=Ta,E=TB(),D=w1,A=yh(),R=ng,P=S1,O=b1,F=k1,U=FB,B=IB,N=T1,T=MB,M=C1,$=pg,J=qe,Z=pb(),re=mg(),ge=D1,Fe=R1,Ze=O1,ze=Q0,Le=B1,it=N1,_t=Ou,st=yf,Rt=_b(),te=F1,oe=I1,ae=xf,we=yr,Se=M1,_e=L1,De=og;var Ve;(function(He){He[He.UNICODE_BMP=0]="UNICODE_BMP",He[He.UNICODE_SMP=1]="UNICODE_SMP"})(Ve||(Ve={}));class ee{constructor(I){I===void 0&&(I=i.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=I}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(I,j){let W=ee.SUPPORTED_UUIDS.findIndex(ne=>ne.equals(I));return W<0?!1:ee.SUPPORTED_UUIDS.findIndex(ne=>ne.equals(j))>=W}static getUnicodeDeserializer(I){return I===0?{readUnicode:(j,W)=>ee.toInt(j[W]),size:1}:{readUnicode:(j,W)=>ee.toInt32(j,W),size:2}}deserialize(I){I=I.slice(0);for(let Me=1;Me<I.length;Me++)I[Me]=I[Me]-2&65535;let j=0,W=ee.toInt(I[j++]);if(W!==ee.SERIALIZED_VERSION){let Me=`Could not deserialize ATN with version ${W} (expected ${ee.SERIALIZED_VERSION}).`;throw new Error(Me)}let ne=ee.toUUID(I,j);if(j+=8,ee.SUPPORTED_UUIDS.findIndex(Me=>Me.equals(ne))<0){let Me=`Could not deserialize ATN with UUID ${ne} (expected ${ee.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(Me)}let fe=ee.isFeatureSupported(ee.ADDED_LEXER_ACTIONS,ne),Ee=ee.toInt(I[j++]),le=ee.toInt(I[j++]),ue=new s.ATN(Ee,le),be=[],Re=[],Qe=ee.toInt(I[j++]);for(let Me=0;Me<Qe;Me++){let yt=ee.toInt(I[j++]);if(yt===o.ATNStateType.INVALID_TYPE){ue.addState(new R.InvalidState);continue}let vt=ee.toInt(I[j++]);vt===65535&&(vt=-1);let St=this.stateFactory(yt,vt);if(yt===o.ATNStateType.LOOP_END){let $t=ee.toInt(I[j++]);be.push([St,$t])}else if(St instanceof g.BlockStartState){let $t=ee.toInt(I[j++]);Re.push([St,$t])}ue.addState(St)}for(let Me of be)Me[0].loopBackState=ue.states[Me[1]];for(let Me of Re)Me[0].endState=ue.states[Me[1]];let Xe=ee.toInt(I[j++]);for(let Me=0;Me<Xe;Me++){let yt=ee.toInt(I[j++]);ue.states[yt].nonGreedy=!0}let et=ee.toInt(I[j++]);for(let Me=0;Me<et;Me++){let yt=ee.toInt(I[j++]);ue.states[yt].sll=!0}let Ye=ee.toInt(I[j++]);for(let Me=0;Me<Ye;Me++){let yt=ee.toInt(I[j++]);ue.states[yt].isPrecedenceRule=!0}let nt=ee.toInt(I[j++]);ue.grammarType===0&&(ue.ruleToTokenType=new Int32Array(nt)),ue.ruleToStartState=new Array(nt);for(let Me=0;Me<nt;Me++){let yt=ee.toInt(I[j++]),vt=ue.states[yt];if(vt.leftFactored=ee.toInt(I[j++])!==0,ue.ruleToStartState[Me]=vt,ue.grammarType===0){let St=ee.toInt(I[j++]);St===65535&&(St=we.Token.EOF),ue.ruleToTokenType[Me]=St,ee.isFeatureSupported(ee.ADDED_LEXER_ACTIONS,ne)||ee.toInt(I[j++])}}ue.ruleToStopState=new Array(nt);for(let Me of ue.states)Me instanceof _t.RuleStopState&&(ue.ruleToStopState[Me.ruleIndex]=Me,ue.ruleToStartState[Me.ruleIndex].stopState=Me);let mt=ee.toInt(I[j++]);for(let Me=0;Me<mt;Me++){let yt=ee.toInt(I[j++]);ue.modeToStartState.push(ue.states[yt])}ue.modeToDFA=new Array(mt);for(let Me=0;Me<mt;Me++)ue.modeToDFA[Me]=new E.DFA(ue.modeToStartState[Me]);let ot=[];j=this.deserializeSets(I,j,ot,ee.getUnicodeDeserializer(0)),ee.isFeatureSupported(ee.ADDED_UNICODE_SMP,ne)&&(j=this.deserializeSets(I,j,ot,ee.getUnicodeDeserializer(1)));let bt=ee.toInt(I[j++]);for(let Me=0;Me<bt;Me++){let yt=ee.toInt(I[j]),vt=ee.toInt(I[j+1]),St=ee.toInt(I[j+2]),$t=ee.toInt(I[j+3]),gn=ee.toInt(I[j+4]),Tr=ee.toInt(I[j+5]),Sr=this.edgeFactory(ue,St,yt,vt,$t,gn,Tr,ot);ue.states[yt].addTransition(Sr),j+=6}let Lt=new n.Array2DHashSet({hashCode:Me=>Me.stopState^Me.returnState^Me.outermostPrecedenceReturn,equals:(Me,yt)=>Me.stopState===yt.stopState&&Me.returnState===yt.returnState&&Me.outermostPrecedenceReturn===yt.outermostPrecedenceReturn}),Ft=[];for(let Me of ue.states){let yt=Me.ruleIndex>=0&&ue.ruleToStartState[Me.ruleIndex].leftFactored;for(let vt=0;vt<Me.numberOfTransitions;vt++){let St=Me.transition(vt);if(!(St instanceof st.RuleTransition))continue;let $t=St;if(!ue.ruleToStartState[$t.target.ruleIndex].leftFactored&&yt)continue;let Tr=-1;ue.ruleToStartState[$t.target.ruleIndex].isPrecedenceRule&&$t.precedence===0&&(Tr=$t.target.ruleIndex);let Sr={stopState:$t.target.ruleIndex,returnState:$t.followState.stateNumber,outermostPrecedenceReturn:Tr};Lt.add(Sr)&&Ft.push(Sr)}}for(let Me of Ft){let yt=new D.EpsilonTransition(ue.states[Me.returnState],Me.outermostPrecedenceReturn);ue.ruleToStopState[Me.stopState].addTransition(yt)}for(let Me of ue.states){if(Me instanceof g.BlockStartState){if(Me.endState===void 0)throw new Error("IllegalStateException");if(Me.endState.startState!==void 0)throw new Error("IllegalStateException");Me.endState.startState=Me}if(Me instanceof Fe.PlusLoopbackState){let yt=Me;for(let vt=0;vt<yt.numberOfTransitions;vt++){let St=yt.transition(vt).target;St instanceof ge.PlusBlockStartState&&(St.loopBackState=yt)}}else if(Me instanceof oe.StarLoopbackState){let yt=Me;for(let vt=0;vt<yt.numberOfTransitions;vt++){let St=yt.transition(vt).target;St instanceof ae.StarLoopEntryState&&(St.loopBackState=yt)}}}let Vt=ee.toInt(I[j++]);for(let Me=1;Me<=Vt;Me++){let yt=ee.toInt(I[j++]),vt=ue.states[yt];ue.decisionToState.push(vt),vt.decision=Me-1}if(ue.grammarType===0)if(fe){ue.lexerActions=new Array(ee.toInt(I[j++]));for(let Me=0;Me<ue.lexerActions.length;Me++){let yt=ee.toInt(I[j++]),vt=ee.toInt(I[j++]);vt===65535&&(vt=-1);let St=ee.toInt(I[j++]);St===65535&&(St=-1);let $t=this.lexerActionFactory(yt,vt,St);ue.lexerActions[Me]=$t}}else{let Me=[];for(let yt of ue.states)for(let vt=0;vt<yt.numberOfTransitions;vt++){let St=yt.transition(vt);if(!(St instanceof r.ActionTransition))continue;let $t=St.ruleIndex,gn=St.actionIndex,Tr=new O.LexerCustomAction($t,gn);yt.setTransition(vt,new r.ActionTransition(St.target,$t,Me.length,!1)),Me.push(Tr)}ue.lexerActions=Me}this.markPrecedenceDecisions(ue),ue.decisionToDFA=new Array(Vt);for(let Me=0;Me<Vt;Me++)ue.decisionToDFA[Me]=new E.DFA(ue.decisionToState[Me],Me);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(ue),this.deserializationOptions.isGenerateRuleBypassTransitions&&ue.grammarType===1){ue.ruleToTokenType=new Int32Array(ue.ruleToStartState.length);for(let Me=0;Me<ue.ruleToStartState.length;Me++)ue.ruleToTokenType[Me]=ue.maxTokenType+Me+1;for(let Me=0;Me<ue.ruleToStartState.length;Me++){let yt=new l.BasicBlockStartState;yt.ruleIndex=Me,ue.addState(yt);let vt=new f.BlockEndState;vt.ruleIndex=Me,ue.addState(vt),yt.endState=vt,ue.defineDecisionState(yt),vt.startState=yt;let St,$t;if(ue.ruleToStartState[Me].isPrecedenceRule){St=void 0;for(let Tr of ue.states){if(Tr.ruleIndex!==Me||!(Tr instanceof ae.StarLoopEntryState))continue;let Sr=Tr.transition(Tr.numberOfTransitions-1).target;if(Sr instanceof $.LoopEndState&&Sr.epsilonOnlyTransitions&&Sr.transition(0).target instanceof _t.RuleStopState){St=Tr;break}}if(!St)throw new Error("Couldn't identify final state of the precedence rule prefix section.");$t=St.loopBackState.transition(0)}else St=ue.ruleToStopState[Me];for(let Tr of ue.states)for(let Sr=0;Sr<Tr.numberOfTransitions;Sr++){let bn=Tr.transition(Sr);bn!==$t&&bn.target===St&&(bn.target=vt)}for(;ue.ruleToStartState[Me].numberOfTransitions>0;){let Tr=ue.ruleToStartState[Me].removeTransition(ue.ruleToStartState[Me].numberOfTransitions-1);yt.addTransition(Tr)}ue.ruleToStartState[Me].addTransition(new D.EpsilonTransition(yt)),vt.addTransition(new D.EpsilonTransition(St));let gn=new u.BasicState;ue.addState(gn),gn.addTransition(new a.AtomTransition(vt,ue.ruleToTokenType[Me])),yt.addTransition(new D.EpsilonTransition(gn))}this.deserializationOptions.isVerifyATN&&this.verifyATN(ue)}if(this.deserializationOptions.isOptimize){for(;;){let Me=0;Me+=ee.inlineSetRules(ue),Me+=ee.combineChainedEpsilons(ue);let yt=ue.grammarType===0;if(Me+=ee.optimizeSets(ue,yt),Me===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(ue)}return ee.identifyTailCalls(ue),ue}deserializeSets(I,j,W,ne){let fe=ee.toInt(I[j++]);for(let Ee=0;Ee<fe;Ee++){let le=ee.toInt(I[j]);j++;let ue=new A.IntervalSet;W.push(ue),ee.toInt(I[j++])!==0&&ue.add(-1);for(let Re=0;Re<le;Re++){let Qe=ne.readUnicode(I,j);j+=ne.size;let Xe=ne.readUnicode(I,j);j+=ne.size,ue.add(Qe,Xe)}}return j}markPrecedenceDecisions(I){let j=new Map;for(let W of I.states)if(W instanceof ae.StarLoopEntryState&&I.ruleToStartState[W.ruleIndex].isPrecedenceRule){let ne=W.transition(W.numberOfTransitions-1).target;ne instanceof $.LoopEndState&&ne.epsilonOnlyTransitions&&ne.transition(0).target instanceof _t.RuleStopState&&(j.set(W.ruleIndex,W),W.precedenceRuleDecision=!0,W.precedenceLoopbackStates=new d.BitSet(I.states.length))}for(let W of j)for(let ne of I.ruleToStopState[W[0]].getTransitions())ne.serializationType!==1||ne.outermostPrecedenceReturn!==-1||W[1].precedenceLoopbackStates.set(ne.target.stateNumber)}verifyATN(I){for(let j of I.states)if(this.checkCondition(j!==void 0,"ATN states should not be undefined."),j.stateType!==o.ATNStateType.INVALID_TYPE){if(this.checkCondition(j.onlyHasEpsilonTransitions||j.numberOfTransitions<=1),j instanceof ge.PlusBlockStartState&&this.checkCondition(j.loopBackState!==void 0),j instanceof ae.StarLoopEntryState){let W=j;if(this.checkCondition(W.loopBackState!==void 0),this.checkCondition(W.numberOfTransitions===2),W.transition(0).target instanceof te.StarBlockStartState)this.checkCondition(W.transition(1).target instanceof $.LoopEndState),this.checkCondition(!W.nonGreedy);else if(W.transition(0).target instanceof $.LoopEndState)this.checkCondition(W.transition(1).target instanceof te.StarBlockStartState),this.checkCondition(W.nonGreedy);else throw new Error("IllegalStateException")}if(j instanceof oe.StarLoopbackState&&(this.checkCondition(j.numberOfTransitions===1),this.checkCondition(j.transition(0).target instanceof ae.StarLoopEntryState)),j instanceof $.LoopEndState&&this.checkCondition(j.loopBackState!==void 0),j instanceof it.RuleStartState&&this.checkCondition(j.stopState!==void 0),j instanceof g.BlockStartState&&this.checkCondition(j.endState!==void 0),j instanceof f.BlockEndState&&this.checkCondition(j.startState!==void 0),j instanceof x.DecisionState){let W=j;this.checkCondition(W.numberOfTransitions<=1||W.decision>=0)}else this.checkCondition(j.numberOfTransitions<=1||j instanceof _t.RuleStopState)}}checkCondition(I,j){if(!I)throw new Error("IllegalStateException: "+j)}static inlineSetRules(I){let j=0,W=new Array(I.ruleToStartState.length);for(let ne=0;ne<I.ruleToStartState.length;ne++){let Ee=I.ruleToStartState[ne];for(;Ee.onlyHasEpsilonTransitions&&Ee.numberOfOptimizedTransitions===1&&Ee.getOptimizedTransition(0).serializationType===1;)Ee=Ee.getOptimizedTransition(0).target;if(Ee.numberOfOptimizedTransitions!==1)continue;let le=Ee.getOptimizedTransition(0),ue=le.target;if(!(le.isEpsilon||!ue.onlyHasEpsilonTransitions||ue.numberOfOptimizedTransitions!==1||!(ue.getOptimizedTransition(0).target instanceof _t.RuleStopState)))switch(le.serializationType){case 5:case 2:case 7:W[ne]=le;break;case 8:case 9:continue;default:continue}}for(let ne of I.states){if(ne.ruleIndex<0)continue;let fe;for(let Ee=0;Ee<ne.numberOfOptimizedTransitions;Ee++){let le=ne.getOptimizedTransition(Ee);if(!(le instanceof st.RuleTransition)){fe!==void 0&&fe.push(le);continue}let ue=le,be=W[ue.target.ruleIndex];if(be===void 0){fe!==void 0&&fe.push(le);continue}if(fe===void 0){fe=[];for(let Xe=0;Xe<Ee;Xe++)fe.push(ne.getOptimizedTransition(Ee))}j++;let Re=ue.followState,Qe=new u.BasicState;switch(Qe.setRuleIndex(Re.ruleIndex),I.addState(Qe),fe.push(new D.EpsilonTransition(Qe)),be.serializationType){case 5:Qe.addTransition(new a.AtomTransition(Re,be._label));break;case 2:Qe.addTransition(new Le.RangeTransition(Re,be.from,be.to));break;case 7:Qe.addTransition(new Rt.SetTransition(Re,be.label));break;default:throw new Error("UnsupportedOperationException")}}if(fe!==void 0){if(ne.isOptimized)for(;ne.numberOfOptimizedTransitions>0;)ne.removeOptimizedTransition(ne.numberOfOptimizedTransitions-1);for(let Ee of fe)ne.addOptimizedTransition(Ee)}}return re.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+j+" rule invocations by inlining sets."),j}static combineChainedEpsilons(I){let j=0;for(let W of I.states){if(!W.onlyHasEpsilonTransitions||W instanceof _t.RuleStopState)continue;let ne;e:for(let fe=0;fe<W.numberOfOptimizedTransitions;fe++){let Ee=W.getOptimizedTransition(fe),le=Ee.target;if(Ee.serializationType!==1||Ee.outermostPrecedenceReturn!==-1||le.stateType!==o.ATNStateType.BASIC||!le.onlyHasEpsilonTransitions){ne!==void 0&&ne.push(Ee);continue e}for(let ue=0;ue<le.numberOfOptimizedTransitions;ue++)if(le.getOptimizedTransition(ue).serializationType!==1||le.getOptimizedTransition(ue).outermostPrecedenceReturn!==-1){ne!==void 0&&ne.push(Ee);continue e}if(j++,ne===void 0){ne=[];for(let ue=0;ue<fe;ue++)ne.push(W.getOptimizedTransition(ue))}for(let ue=0;ue<le.numberOfOptimizedTransitions;ue++){let be=le.getOptimizedTransition(ue).target;ne.push(new D.EpsilonTransition(be))}}if(ne!==void 0){if(W.isOptimized)for(;W.numberOfOptimizedTransitions>0;)W.removeOptimizedTransition(W.numberOfOptimizedTransitions-1);for(let fe of ne)W.addOptimizedTransition(fe)}}return re.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+j+" transitions by combining chained epsilon transitions."),j}static optimizeSets(I,j){if(j)return 0;let W=0,ne=I.decisionToState;for(let fe of ne){let Ee=new A.IntervalSet;for(let Xe=0;Xe<fe.numberOfOptimizedTransitions;Xe++){let et=fe.getOptimizedTransition(Xe);if(!(et instanceof D.EpsilonTransition)||et.target.numberOfOptimizedTransitions!==1)continue;let Ye=et.target.getOptimizedTransition(0);Ye.target instanceof f.BlockEndState&&(Ye instanceof Z.NotSetTransition||(Ye instanceof a.AtomTransition||Ye instanceof Le.RangeTransition||Ye instanceof Rt.SetTransition)&&Ee.add(Xe))}if(Ee.size<=1)continue;let le=[];for(let Xe=0;Xe<fe.numberOfOptimizedTransitions;Xe++)Ee.contains(Xe)||le.push(fe.getOptimizedTransition(Xe));let ue=fe.getOptimizedTransition(Ee.minElement).target.getOptimizedTransition(0).target,be=new A.IntervalSet;for(let Xe of Ee.intervals)for(let et=Xe.a;et<=Xe.b;et++){let Ye=fe.getOptimizedTransition(et).target.getOptimizedTransition(0);if(Ye instanceof Z.NotSetTransition)throw new Error("Not yet implemented.");be.addAll(Ye.label)}let Re;if(be.intervals.length===1)if(be.size===1)Re=new a.AtomTransition(ue,be.minElement);else{let Xe=be.intervals[0];Re=new Le.RangeTransition(ue,Xe.a,Xe.b)}else Re=new Rt.SetTransition(ue,be);let Qe=new u.BasicState;if(Qe.setRuleIndex(fe.ruleIndex),I.addState(Qe),Qe.addTransition(Re),le.push(new D.EpsilonTransition(Qe)),W+=fe.numberOfOptimizedTransitions-le.length,fe.isOptimized)for(;fe.numberOfOptimizedTransitions>0;)fe.removeOptimizedTransition(fe.numberOfOptimizedTransitions-1);for(let Xe of le)fe.addOptimizedTransition(Xe)}return re.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+W+" paths by collapsing sets."),W}static identifyTailCalls(I){for(let j of I.states){for(let W=0;W<j.numberOfTransitions;W++){let ne=j.transition(W);ne instanceof st.RuleTransition&&(ne.tailCall=this.testTailCall(I,ne,!1),ne.optimizedTailCall=this.testTailCall(I,ne,!0))}if(!!j.isOptimized)for(let W=0;W<j.numberOfOptimizedTransitions;W++){let ne=j.getOptimizedTransition(W);ne instanceof st.RuleTransition&&(ne.tailCall=this.testTailCall(I,ne,!1),ne.optimizedTailCall=this.testTailCall(I,ne,!0))}}}static testTailCall(I,j,W){if(!W&&j.tailCall||W&&j.optimizedTailCall)return!0;let ne=new d.BitSet(I.states.length),fe=[];for(fe.push(j.followState);;){let Ee=fe.pop();if(!Ee)break;if(ne.get(Ee.stateNumber)||Ee instanceof _t.RuleStopState)continue;if(!Ee.onlyHasEpsilonTransitions)return!1;let le=W?Ee.numberOfOptimizedTransitions:Ee.numberOfTransitions;for(let ue=0;ue<le;ue++){let be=W?Ee.getOptimizedTransition(ue):Ee.transition(ue);if(be.serializationType!==1)return!1;fe.push(be.target)}}return!0}static toInt(I){return I}static toInt32(I,j){return(I[j]|I[j+1]<<16)>>>0}static toUUID(I,j){let W=ee.toInt32(I,j),ne=ee.toInt32(I,j+2),fe=ee.toInt32(I,j+4),Ee=ee.toInt32(I,j+6);return new _e.UUID(Ee,fe,ne,W)}edgeFactory(I,j,W,ne,fe,Ee,le,ue){let be=I.states[ne];switch(j){case 1:return new D.EpsilonTransition(be);case 2:return le!==0?new Le.RangeTransition(be,we.Token.EOF,Ee):new Le.RangeTransition(be,fe,Ee);case 3:return new st.RuleTransition(I.states[fe],Ee,le,be);case 4:return new ze.PredicateTransition(be,fe,Ee,le!==0);case 10:return new Ze.PrecedencePredicateTransition(be,fe);case 5:return le!==0?new a.AtomTransition(be,we.Token.EOF):new a.AtomTransition(be,fe);case 6:return new r.ActionTransition(be,fe,Ee,le!==0);case 7:return new Rt.SetTransition(be,ue[fe]);case 8:return new Z.NotSetTransition(be,ue[fe]);case 9:return new De.WildcardTransition(be)}throw new Error("The specified transition type is not valid.")}stateFactory(I,j){let W;switch(I){case o.ATNStateType.INVALID_TYPE:return new R.InvalidState;case o.ATNStateType.BASIC:W=new u.BasicState;break;case o.ATNStateType.RULE_START:W=new it.RuleStartState;break;case o.ATNStateType.BLOCK_START:W=new l.BasicBlockStartState;break;case o.ATNStateType.PLUS_BLOCK_START:W=new ge.PlusBlockStartState;break;case o.ATNStateType.STAR_BLOCK_START:W=new te.StarBlockStartState;break;case o.ATNStateType.TOKEN_START:W=new Se.TokensStartState;break;case o.ATNStateType.RULE_STOP:W=new _t.RuleStopState;break;case o.ATNStateType.BLOCK_END:W=new f.BlockEndState;break;case o.ATNStateType.STAR_LOOP_BACK:W=new oe.StarLoopbackState;break;case o.ATNStateType.STAR_LOOP_ENTRY:W=new ae.StarLoopEntryState;break;case o.ATNStateType.PLUS_LOOP_BACK:W=new Fe.PlusLoopbackState;break;case o.ATNStateType.LOOP_END:W=new $.LoopEndState;break;default:let ne=`The specified state type ${I} is not valid.`;throw new Error(ne)}return W.ruleIndex=j,W}lexerActionFactory(I,j,W){switch(I){case 0:return new P.LexerChannelAction(j);case 1:return new O.LexerCustomAction(j,W);case 2:return new F.LexerModeAction(j);case 3:return U.LexerMoreAction.INSTANCE;case 4:return B.LexerPopModeAction.INSTANCE;case 5:return new N.LexerPushModeAction(j);case 6:return T.LexerSkipAction.INSTANCE;case 7:return new M.LexerTypeAction(j);default:let ne=`The specified lexer action type ${I} is not valid.`;throw new Error(ne)}}}return ee.BASE_SERIALIZED_UUID=_e.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),ee.ADDED_LEXER_ACTIONS=_e.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),ee.ADDED_UNICODE_SMP=_e.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),ee.SUPPORTED_UUIDS=[ee.BASE_SERIALIZED_UUID,ee.ADDED_LEXER_ACTIONS,ee.ADDED_UNICODE_SMP],ee.SERIALIZED_UUID=ee.ADDED_UNICODE_SMP,t([J.NotNull],ee.prototype,"deserializationOptions",void 0),t([e(0,J.NotNull)],ee.prototype,"deserialize",null),t([e(0,J.NotNull)],ee.prototype,"markPrecedenceDecisions",null),t([J.NotNull,e(0,J.NotNull)],ee.prototype,"edgeFactory",null),f_.ATNDeserializer=ee,f_}var U1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Eb=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},Xj=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(U1,"__esModule",{value:!0});U1.ParseInfo=void 0;const Ab=qe;let x0=class{constructor(e){this.atnSimulator=e}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let e=this.atnSimulator.getDecisionInfo(),r=[];for(let n=0;n<e.length;n++)e[n].LL_Fallback>0&&r.push(n);return r}getTotalTimeInPrediction(){let e=this.atnSimulator.getDecisionInfo(),r=0;for(let n of e)r+=n.timeInPrediction;return r}getTotalSLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),r=0;for(let n of e)r+=n.SLL_TotalLook;return r}getTotalLLLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),r=0;for(let n of e)r+=n.LL_TotalLook;return r}getTotalSLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),r=0;for(let n of e)r+=n.SLL_ATNTransitions;return r}getTotalLLATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),r=0;for(let n of e)r+=n.LL_ATNTransitions;return r}getTotalATNLookaheadOps(){let e=this.atnSimulator.getDecisionInfo(),r=0;for(let n of e)r+=n.SLL_ATNTransitions,r+=n.LL_ATNTransitions;return r}getDFASize(e){if(e)return this.atnSimulator.atn.decisionToDFA[e].states.size;{let r=0,n=this.atnSimulator.atn.decisionToDFA;for(let s=0;s<n.length;s++)r+=this.getDFASize(s);return r}}};Eb([Ab.NotNull],x0.prototype,"getDecisionInfo",null);Eb([Ab.NotNull],x0.prototype,"getLLDecisions",null);x0=Eb([Xj(0,Ab.NotNull)],x0);U1.ParseInfo=x0;var Eg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var wb=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.ProxyParserErrorListener=void 0;const Yj=mf,Sb=qe;class G1 extends Yj.ProxyErrorListener{constructor(e){super(e)}reportAmbiguity(e,r,n,s,i,o,a){this.getDelegates().forEach(l=>{l.reportAmbiguity&&l.reportAmbiguity(e,r,n,s,i,o,a)})}reportAttemptingFullContext(e,r,n,s,i,o){this.getDelegates().forEach(a=>{a.reportAttemptingFullContext&&a.reportAttemptingFullContext(e,r,n,s,i,o)})}reportContextSensitivity(e,r,n,s,i,o){this.getDelegates().forEach(a=>{a.reportContextSensitivity&&a.reportContextSensitivity(e,r,n,s,i,o)})}}wb([Sb.Override],G1.prototype,"reportAmbiguity",null);wb([Sb.Override],G1.prototype,"reportAttemptingFullContext",null);wb([Sb.Override],G1.prototype,"reportContextSensitivity",null);Eg.ProxyParserErrorListener=G1;var BE={},H1={},bb={},lu={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(lu,"__esModule",{value:!0});lu.isSupplementaryCodePoint=lu.isLowSurrogate=lu.isHighSurrogate=void 0;function qj(t){return t>=55296&&t<=56319}lu.isHighSurrogate=qj;function Qj(t){return t>=56320&&t<=57343}lu.isLowSurrogate=Qj;function Jj(t){return t>=65536}lu.isSupplementaryCodePoint=Jj;(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CodePointBuffer=void 0;const e=Gs,r=lu;class n{constructor(i,o){this.buffer=i,this._position=0,this._size=o}static withArray(i){return new n(i,i.length)}get position(){return this._position}set position(i){if(i<0||i>this._size)throw new RangeError;this._position=i}get remaining(){return this._size-this.position}get(i){return this.buffer[i]}array(){return this.buffer.slice(0,this._size)}static builder(i){return new n.Builder(i)}}t.CodePointBuffer=n,function(s){let i;(function(a){a[a.BYTE=0]="BYTE",a[a.CHAR=1]="CHAR",a[a.INT=2]="INT"})(i||(i={}));class o{constructor(l){this.type=0,this.buffer=new Uint8Array(l),this.prevHighSurrogate=-1,this.position=0}build(){return new s(this.buffer,this.position)}static roundUpToNextPowerOfTwo(l){let u=32-Math.clz32(l-1);return Math.pow(2,u)}ensureRemaining(l){switch(this.type){case 0:if(this.buffer.length-this.position<l){let u=o.roundUpToNextPowerOfTwo(this.buffer.length+l),d=new Uint8Array(u);d.set(this.buffer.subarray(0,this.position),0),this.buffer=d}break;case 1:if(this.buffer.length-this.position<l){let u=o.roundUpToNextPowerOfTwo(this.buffer.length+l),d=new Uint16Array(u);d.set(this.buffer.subarray(0,this.position),0),this.buffer=d}break;case 2:if(this.buffer.length-this.position<l){let u=o.roundUpToNextPowerOfTwo(this.buffer.length+l),d=new Int32Array(u);d.set(this.buffer.subarray(0,this.position),0),this.buffer=d}break}}append(l){this.ensureRemaining(l.length),this.appendArray(l)}appendArray(l){switch(this.type){case 0:this.appendArrayByte(l);break;case 1:this.appendArrayChar(l);break;case 2:this.appendArrayInt(l);break}}appendArrayByte(l){e(this.prevHighSurrogate===-1);let u=l,d=0,f=l.length,g=this.buffer,x=this.position;for(;d<f;){let E=u[d];if(E<=255)g[x]=E;else if(l=l.subarray(d,f),this.position=x,r.isHighSurrogate(E)){this.byteToIntBuffer(l.length),this.appendArrayInt(l);return}else{this.byteToCharBuffer(l.length),this.appendArrayChar(l);return}d++,x++}this.position=x}appendArrayChar(l){e(this.prevHighSurrogate===-1);let u=l,d=0,f=l.length,g=this.buffer,x=this.position;for(;d<f;){let E=u[d];if(!r.isHighSurrogate(E))g[x]=E;else{l=l.subarray(d,f),this.position=x,this.charToIntBuffer(l.length),this.appendArrayInt(l);return}d++,x++}this.position=x}appendArrayInt(l){let u=l,d=0,f=l.length,g=this.buffer,x=this.position;for(;d<f;){let E=u[d];d++,this.prevHighSurrogate!==-1?r.isLowSurrogate(E)?(g[x]=String.fromCharCode(this.prevHighSurrogate,E).codePointAt(0),x++,this.prevHighSurrogate=-1):(g[x]=this.prevHighSurrogate,x++,r.isHighSurrogate(E)?this.prevHighSurrogate=E:(g[x]=E,x++,this.prevHighSurrogate=-1)):r.isHighSurrogate(E)?this.prevHighSurrogate=E:(g[x]=E,x++)}this.prevHighSurrogate!==-1&&(g[x]=this.prevHighSurrogate,x++),this.position=x}byteToCharBuffer(l){let u=new Uint16Array(Math.max(this.position+l,this.buffer.length>>1));u.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=u}byteToIntBuffer(l){let u=new Int32Array(Math.max(this.position+l,this.buffer.length>>2));u.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=u}charToIntBuffer(l){let u=new Int32Array(Math.max(this.position+l,this.buffer.length>>1));u.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=u}}s.Builder=o}(n=t.CodePointBuffer||(t.CodePointBuffer={}))})(bb);var Ag={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Oa=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.CodePointCharStream=void 0;const hP=Gs,hm=gl,Zj=ui,Ba=qe;class js{constructor(e,r,n,s){hP(r===0),this._array=e,this._size=n,this._name=s,this._position=0}get internalStorage(){return this._array}static fromBuffer(e,r){return(r===void 0||r.length===0)&&(r=hm.IntStream.UNKNOWN_SOURCE_NAME),new js(e.array(),e.position,e.remaining,r)}consume(){if(this._size-this._position===0)throw hP(this.LA(1)===hm.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(e){}seek(e){this._position=e}get sourceName(){return this._name}toString(){return this.getText(Zj.Interval.of(0,this.size-1))}LA(e){let r;switch(Math.sign(e)){case-1:return r=this.index+e,r<0?hm.IntStream.EOF:this._array[r];case 0:return 0;case 1:return r=this.index+e-1,r>=this.size?hm.IntStream.EOF:this._array[r]}throw new RangeError("Not reached")}getText(e){const r=Math.min(e.a,this.size),n=Math.min(e.b-e.a+1,this.size-r);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(r,r+n))):String.fromCharCode(...Array.from(this._array.subarray(r,r+n)))}}Oa([Ba.Override],js.prototype,"consume",null);Oa([Ba.Override],js.prototype,"index",null);Oa([Ba.Override],js.prototype,"size",null);Oa([Ba.Override],js.prototype,"mark",null);Oa([Ba.Override],js.prototype,"release",null);Oa([Ba.Override],js.prototype,"seek",null);Oa([Ba.Override],js.prototype,"sourceName",null);Oa([Ba.Override],js.prototype,"toString",null);Oa([Ba.Override],js.prototype,"LA",null);Oa([Ba.Override],js.prototype,"getText",null);Ag.CodePointCharStream=js;(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CharStreams=void 0;const e=bb,r=Ag,n=gl;(function(s){function i(o,a){(a===void 0||a.length===0)&&(a=n.IntStream.UNKNOWN_SOURCE_NAME);let l=e.CodePointBuffer.builder(o.length),u=new Uint16Array(o.length);for(let d=0;d<o.length;d++)u[d]=o.charCodeAt(d);return l.append(u),r.CodePointCharStream.fromBuffer(l.build(),a)}s.fromString=i})(t.CharStreams||(t.CharStreams={}))})(H1);var kf={},wg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Zi=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},eV=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(wg,"__esModule",{value:!0});wg.BufferedTokenStream=void 0;const dP=Gs,fP=Pu,NE=ui,FE=Bu(),$n=qe,Yu=yr;let li=class{constructor(e){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,e==null)throw new Error("tokenSource cannot be null");this._tokenSource=e}get tokenSource(){return this._tokenSource}set tokenSource(e){this._tokenSource=e,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(e){}seek(e){this.lazyInit(),this.p=this.adjustSeekIndex(e)}get size(){return this.tokens.length}consume(){let e;if(this.p>=0?this.fetchedEOF?e=this.p<this.tokens.length-1:e=this.p<this.tokens.length:e=!1,!e&&this.LA(1)===Yu.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(e){dP(e>=0);let r=e-this.tokens.length+1;return r>0?this.fetch(r)>=r:!0}fetch(e){if(this.fetchedEOF)return 0;for(let r=0;r<e;r++){let n=this.tokenSource.nextToken();if(this.isWritableToken(n)&&(n.tokenIndex=this.tokens.length),this.tokens.push(n),n.type===Yu.Token.EOF)return this.fetchedEOF=!0,r+1}return e}get(e){if(e<0||e>=this.tokens.length)throw new RangeError("token index "+e+" out of range 0.."+(this.tokens.length-1));return this.tokens[e]}getRange(e,r){if(e<0||r<0)return[];this.lazyInit();let n=new Array;r>=this.tokens.length&&(r=this.tokens.length-1);for(let s=e;s<=r;s++){let i=this.tokens[s];if(i.type===Yu.Token.EOF)break;n.push(i)}return n}LA(e){let r=this.LT(e);return r?r.type:Yu.Token.INVALID_TYPE}tryLB(e){if(!(this.p-e<0))return this.tokens[this.p-e]}LT(e){let r=this.tryLT(e);if(r===void 0)throw new RangeError("requested lookback index out of range");return r}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let r=this.p+e-1;return this.sync(r),r>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[r]}adjustSeekIndex(e){return e}lazyInit(){this.p===-1&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(e,r,n){if(this.lazyInit(),e===void 0)return dP(r===void 0&&n===void 0),this.tokens;if(r===void 0&&(r=this.tokens.length-1),e<0||r>=this.tokens.length||r<0||e>=this.tokens.length)throw new RangeError("start "+e+" or stop "+r+" not in 0.."+(this.tokens.length-1));if(e>r)return[];if(n===void 0)return this.tokens.slice(e,r+1);typeof n=="number"&&(n=new Set().add(n));let s=n,i=this.tokens.slice(e,r+1);return i=i.filter(o=>s.has(o.type)),i}nextTokenOnChannel(e,r){if(this.sync(e),e>=this.size)return this.size-1;let n=this.tokens[e];for(;n.channel!==r;){if(n.type===Yu.Token.EOF)return e;e++,this.sync(e),n=this.tokens[e]}return e}previousTokenOnChannel(e,r){if(this.sync(e),e>=this.size)return this.size-1;for(;e>=0;){let n=this.tokens[e];if(n.type===Yu.Token.EOF||n.channel===r)return e;e--}return e}getHiddenTokensToRight(e,r=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));let n=this.nextTokenOnChannel(e+1,FE.Lexer.DEFAULT_TOKEN_CHANNEL),s,i=e+1;return n===-1?s=this.size-1:s=n,this.filterForChannel(i,s,r)}getHiddenTokensToLeft(e,r=-1){if(this.lazyInit(),e<0||e>=this.tokens.length)throw new RangeError(e+" not in 0.."+(this.tokens.length-1));if(e===0)return[];let n=this.previousTokenOnChannel(e-1,FE.Lexer.DEFAULT_TOKEN_CHANNEL);if(n===e-1)return[];let s=n+1,i=e-1;return this.filterForChannel(s,i,r)}filterForChannel(e,r,n){let s=new Array;for(let i=e;i<=r;i++){let o=this.tokens[i];n===-1?o.channel!==FE.Lexer.DEFAULT_TOKEN_CHANNEL&&s.push(o):o.channel===n&&s.push(o)}return s}get sourceName(){return this.tokenSource.sourceName}getText(e){e===void 0?e=NE.Interval.of(0,this.size-1):e instanceof NE.Interval||(e=e.sourceInterval);let r=e.a,n=e.b;if(r<0||n<0)return"";this.fill(),n>=this.tokens.length&&(n=this.tokens.length-1);let s="";for(let i=r;i<=n;i++){let o=this.tokens[i];if(o.type===Yu.Token.EOF)break;s+=o.text}return s.toString()}getTextFromRange(e,r){return this.isToken(e)&&this.isToken(r)?this.getText(NE.Interval.of(e.tokenIndex,r.tokenIndex)):""}fill(){this.lazyInit();const e=1e3;for(;;)if(this.fetch(e)<e)return}isWritableToken(e){return e instanceof fP.CommonToken}isToken(e){return e instanceof fP.CommonToken}};Zi([$n.NotNull],li.prototype,"_tokenSource",void 0);Zi([$n.Override],li.prototype,"tokenSource",null);Zi([$n.Override],li.prototype,"index",null);Zi([$n.Override],li.prototype,"mark",null);Zi([$n.Override],li.prototype,"release",null);Zi([$n.Override],li.prototype,"seek",null);Zi([$n.Override],li.prototype,"size",null);Zi([$n.Override],li.prototype,"consume",null);Zi([$n.Override],li.prototype,"get",null);Zi([$n.Override],li.prototype,"LA",null);Zi([$n.NotNull,$n.Override],li.prototype,"LT",null);Zi([$n.Override],li.prototype,"sourceName",null);Zi([$n.NotNull,$n.Override],li.prototype,"getText",null);Zi([$n.NotNull,$n.Override],li.prototype,"getTextFromRange",null);li=Zi([eV(0,$n.NotNull)],li);wg.BufferedTokenStream=li;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var j1=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},tV=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(kf,"__esModule",{value:!0});kf.CommonTokenStream=void 0;const rV=wg,V1=qe,_P=yr;let Kd=class extends rV.BufferedTokenStream{constructor(e,r=_P.Token.DEFAULT_CHANNEL){super(e),this.channel=r}adjustSeekIndex(e){return this.nextTokenOnChannel(e,this.channel)}tryLB(e){if(this.p-e<0)return;let r=this.p,n=1;for(;n<=e&&r>0;)r=this.previousTokenOnChannel(r-1,this.channel),n++;if(!(r<0))return this.tokens[r]}tryLT(e){if(this.lazyInit(),e===0)throw new RangeError("0 is not a valid lookahead index");if(e<0)return this.tryLB(-e);let r=this.p,n=1;for(;n<e;)this.sync(r+1)&&(r=this.nextTokenOnChannel(r+1,this.channel)),n++;return this.tokens[r]}getNumberOfOnChannelTokens(){let e=0;this.fill();for(let r of this.tokens)if(r.channel===this.channel&&e++,r.type===_P.Token.EOF)break;return e}};j1([V1.Override],Kd.prototype,"adjustSeekIndex",null);j1([V1.Override],Kd.prototype,"tryLB",null);j1([V1.Override],Kd.prototype,"tryLT",null);Kd=j1([tV(0,V1.NotNull)],Kd);kf.CommonTokenStream=Kd;var Sg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ah=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},QB=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.ListTokenSource=void 0;const nV=f1,ol=qe,IE=yr;let dl=class{constructor(e,r){if(this.i=0,this._factory=nV.CommonTokenFactory.DEFAULT,e==null)throw new Error("tokens cannot be null");this.tokens=e,this._sourceName=r}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],r=e.text;if(r!=null){let n=r.lastIndexOf(`
`);if(n>=0)return r.length-n-1}return e.charPositionInLine+e.stopIndex-e.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(this.eofToken==null){let r=-1;if(this.tokens.length>0){let s=this.tokens[this.tokens.length-1].stopIndex;s!==-1&&(r=s+1)}let n=Math.max(-1,r-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},IE.Token.EOF,"EOF",IE.Token.DEFAULT_CHANNEL,r,n,this.line,this.charPositionInLine)}return this.eofToken}let e=this.tokens[this.i];return this.i===this.tokens.length-1&&e.type===IE.Token.EOF&&(this.eofToken=e),this.i++,e}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){let e=this.tokens[this.tokens.length-1],r=e.line,n=e.text;if(n!=null)for(let s=0;s<n.length;s++)n.charAt(s)===`
`&&r++;return r}return 1}get inputStream(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}get sourceName(){if(this._sourceName)return this._sourceName;let e=this.inputStream;return e!=null?e.sourceName:"List"}set tokenFactory(e){this._factory=e}get tokenFactory(){return this._factory}};Ah([ol.Override],dl.prototype,"charPositionInLine",null);Ah([ol.Override],dl.prototype,"nextToken",null);Ah([ol.Override],dl.prototype,"line",null);Ah([ol.Override],dl.prototype,"inputStream",null);Ah([ol.Override],dl.prototype,"sourceName",null);Ah([ol.Override,ol.NotNull,QB(0,ol.NotNull)],dl.prototype,"tokenFactory",null);dl=Ah([QB(0,ol.NotNull)],dl);Sg.ListTokenSource=dl;var v_={},pP;function iV(){if(pP)return v_;pP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(v_,"__esModule",{value:!0}),v_.MultiMap=void 0;class t extends Map{constructor(){super()}map(r,n){let s=super.get(r);s||(s=[],super.set(r,s)),s.push(n)}getPairs(){let r=[];return this.forEach((n,s)=>{n.forEach(i=>{r.push([s,i])})}),r}}return v_.MultiMap=t,v_}var bg={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(bg,"__esModule",{value:!0});bg.ParseCancellationException=void 0;class sV extends Error{constructor(e){super(e.message),this.cause=e,this.stack=e.stack}getCause(){return this.cause}}bg.ParseCancellationException=sV;var E_={},A_={},gP;function JB(){if(gP)return A_;gP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var f=s.length-1;f>=0;f--)(d=s[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(A_,"__esModule",{value:!0}),A_.InterpreterRuleContext=void 0;const e=qe,r=Io();class n extends r.ParserRuleContext{constructor(i,o,a){a!==void 0?super(o,a):super(),this._ruleIndex=i}get ruleIndex(){return this._ruleIndex}}return t([e.Override],n.prototype,"ruleIndex",null),A_.InterpreterRuleContext=n,A_}var mP;function ZB(){if(mP)return E_;mP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(R,P,O,F){var U=arguments.length,B=U<3?P:F===null?F=Object.getOwnPropertyDescriptor(P,O):F,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(R,P,O,F);else for(var T=R.length-1;T>=0;T--)(N=R[T])&&(B=(U<3?N(B):U>3?N(P,O,B):N(P,O))||B);return U>3&&B&&Object.defineProperty(P,O,B),B},e=K&&K.__param||function(R,P){return function(O,F){P(O,F,R)}};Object.defineProperty(E_,"__esModule",{value:!0}),E_.ParserInterpreter=void 0;const r=ba,n=Xn,s=No,i=_f,o=fh,a=JB(),l=pg,u=qe,d=qe,f=Tg(),g=mg(),x=ka,E=xf,D=yr;let A=class nw extends f.Parser{constructor(P,O,F,U,B){if(super(P instanceof nw?P.inputStream:B),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,P instanceof nw){let N=P;this._grammarFileName=N._grammarFileName,this._atn=N._atn,this.pushRecursionContextStates=N.pushRecursionContextStates,this._ruleNames=N._ruleNames,this._vocabulary=N._vocabulary,this.interpreter=new g.ParserATNSimulator(this._atn,this)}else{O=O,F=F,U=U,this._grammarFileName=P,this._atn=U,this._ruleNames=F.slice(0),this._vocabulary=O,this.pushRecursionContextStates=new s.BitSet(U.states.length);for(let N of U.states)N instanceof E.StarLoopEntryState&&N.precedenceRuleDecision&&this.pushRecursionContextStates.set(N.stateNumber);this.interpreter=new g.ParserATNSimulator(U,this)}}reset(P){P===void 0?super.reset():super.reset(P),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(P){let O=this._atn.ruleToStartState[P];for(this._rootContext=this.createInterpreterRuleContext(void 0,r.ATNState.INVALID_STATE_NUMBER,P),O.isPrecedenceRule?this.enterRecursionRule(this._rootContext,O.stateNumber,P,0):this.enterRule(this._rootContext,O.stateNumber,P);;){let F=this.atnState;switch(F.stateType){case n.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(O.isPrecedenceRule){let U=this._ctx,B=this._parentContextStack.pop();return this.unrollRecursionContexts(B[0]),U}else return this.exitRule(),this._rootContext;this.visitRuleStopState(F);break;default:try{this.visitState(F)}catch(U){if(U instanceof x.RecognitionException)this.state=this._atn.ruleToStopState[F.ruleIndex].stateNumber,this.context.exception=U,this.errorHandler.reportError(this,U),this.recover(U);else throw U}break}}}enterRecursionRule(P,O,F,U){this._parentContextStack.push([this._ctx,P.invokingState]),super.enterRecursionRule(P,O,F,U)}get atnState(){return this._atn.states[this.state]}visitState(P){let O=1;P.numberOfTransitions>1&&(O=this.visitDecisionState(P));let F=P.transition(O-1);switch(F.serializationType){case 1:if(this.pushRecursionContextStates.get(P.stateNumber)&&!(F.target instanceof l.LoopEndState)){let $=this._parentContextStack[this._parentContextStack.length-1],J=this.createInterpreterRuleContext($[0],$[1],this._ctx.ruleIndex);this.pushNewRecursionContext(J,this._atn.ruleToStartState[P.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(F._label);break;case 2:case 7:case 8:F.matches(this._input.LA(1),D.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let U=F.target,B=U.ruleIndex,N=this.createInterpreterRuleContext(this._ctx,P.stateNumber,B);U.isPrecedenceRule?this.enterRecursionRule(N,U.stateNumber,B,F.precedence):this.enterRule(N,F.target.stateNumber,B);break;case 4:let T=F;if(!this.sempred(this._ctx,T.ruleIndex,T.predIndex))throw new i.FailedPredicateException(this);break;case 6:let M=F;this.action(this._ctx,M.ruleIndex,M.actionIndex);break;case 10:if(!this.precpred(this._ctx,F.precedence)){let $=F.precedence;throw new i.FailedPredicateException(this,`precpred(_ctx, ${$})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=F.target.stateNumber}visitDecisionState(P){let O;this.errorHandler.sync(this);let F=P.decision;return F===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(O=this.overrideDecisionAlt,this.overrideDecisionReached=!0):O=this.interpreter.adaptivePredict(this._input,F,this._ctx),O}createInterpreterRuleContext(P,O,F){return new a.InterpreterRuleContext(F,P,O)}visitRuleStopState(P){if(this._atn.ruleToStartState[P.ruleIndex].isPrecedenceRule){let U=this._parentContextStack.pop();this.unrollRecursionContexts(U[0]),this.state=U[1]}else this.exitRule();let F=this._atn.states[this.state].transition(0);this.state=F.followState.stateNumber}addDecisionOverride(P,O,F){this.overrideDecision=P,this.overrideDecisionInputIndex=O,this.overrideDecisionAlt=F}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(P){let O=this._input.index;if(this.errorHandler.recover(this,P),this._input.index===O){let F=P.getOffendingToken();if(!F)throw new Error("Expected exception to have an offending token");let U=F.tokenSource,B=U!==void 0?U.inputStream:void 0,N={source:U,stream:B};if(P instanceof o.InputMismatchException){let T=P.expectedTokens;if(T===void 0)throw new Error("Expected the exception to provide expected tokens");let M=D.Token.INVALID_TYPE;T.isNil||(M=T.minElement);let $=this.tokenFactory.create(N,M,F.text,D.Token.DEFAULT_CHANNEL,-1,-1,F.line,F.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,$))}else{F.tokenSource;let T=this.tokenFactory.create(N,D.Token.INVALID_TYPE,F.text,D.Token.DEFAULT_CHANNEL,-1,-1,F.line,F.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,T))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};return t([u.NotNull],A.prototype,"_vocabulary",void 0),t([d.Override],A.prototype,"reset",null),t([d.Override],A.prototype,"atn",null),t([d.Override],A.prototype,"vocabulary",null),t([d.Override],A.prototype,"ruleNames",null),t([d.Override],A.prototype,"grammarFileName",null),t([d.Override],A.prototype,"enterRecursionRule",null),A=t([e(1,u.NotNull)],A),E_.ParserInterpreter=A,E_}var w_={},xP;function oV(){if(xP)return w_;xP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var f=s.length-1;f>=0;f--)(d=s[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u},e=K&&K.__param||function(s,i){return function(o,a){i(o,a,s)}};Object.defineProperty(w_,"__esModule",{value:!0}),w_.ParseTreeMatch=void 0;const r=qe;let n=class{constructor(i,o,a,l){if(!i)throw new Error("tree cannot be null");if(!o)throw new Error("pattern cannot be null");if(!a)throw new Error("labels cannot be null");this._tree=i,this._pattern=o,this._labels=a,this._mismatchedNode=l}get(i){let o=this._labels.get(i);if(!(!o||o.length===0))return o[o.length-1]}getAll(i){const o=this._labels.get(i);return o||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};return t([r.NotNull,e(0,r.NotNull)],n.prototype,"getAll",null),t([r.NotNull],n.prototype,"labels",null),t([r.NotNull],n.prototype,"pattern",null),t([r.NotNull],n.prototype,"tree",null),t([r.Override],n.prototype,"toString",null),n=t([e(0,r.NotNull),e(1,r.NotNull),e(2,r.NotNull)],n),w_.ParseTreeMatch=n,w_}var S_={},b_={},k_={},yP;function aV(){if(yP)return k_;yP=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.XPathLexer=void 0;const t=vb(),e=Bu(),r=v1(),n=xl,s=Cn;class i extends e.Lexer{constructor(a){super(a),this._interp=new r.LexerATNSimulator(i._ATN,this)}get vocabulary(){return i.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return i.ruleNames}get serializedATN(){return i._serializedATN}get channelNames(){return i.channelNames}get modeNames(){return i.modeNames}action(a,l,u){switch(l){case 4:this.ID_action(a,u);break}}ID_action(a,l){switch(l){case 0:let u=this.text;u.charAt(0)===u.charAt(0).toUpperCase()?this.type=i.TOKEN_REF:this.type=i.RULE_REF;break}}static get _ATN(){return i.__ATN||(i.__ATN=new t.ATNDeserializer().deserialize(s.toCharArray(i._serializedATN))),i.__ATN}}return k_.XPathLexer=i,i.TOKEN_REF=1,i.RULE_REF=2,i.ANYWHERE=3,i.ROOT=4,i.WILDCARD=5,i.BANG=6,i.ID=7,i.STRING=8,i.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],i.modeNames=["DEFAULT_MODE"],i.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],i._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],i._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],i.VOCABULARY=new n.VocabularyImpl(i._LITERAL_NAMES,i._SYMBOLIC_NAMES,[]),i._serializedATNSegments=2,i._serializedATNSegment0=`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
\u02B6
2;C\\aac|\x81\xA1\xAC\xAC\xAF\xAF\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0302\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u0485\u0489\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u0593\u05BF\u05C1\u05C1\u05C3\u05C4\u05C6\u05C7\u05C9\u05C9\u05D2\u05EC\u05F2\u05F4\u0602\u0607\u0612\u061C\u061E\u061E\u0622\u066B\u0670\u06D5\u06D7\u06DF\u06E1\u06EA\u06EC\u06FE\u0701\u0701\u0711\u074C\u074F\u07B3\u07C2\u07F7\u07FC\u07FC\u0802\u082F\u0842\u085D\u08A2\u08B6\u08B8\u08BF\u08D6\u0965\u0968\u0971\u0973\u0985\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BE\u09C6\u09C9\u09CA\u09CD\u09D0\u09D9\u09D9\u09DE\u09DF\u09E1\u09E5\u09E8\u09F3\u0A03\u0A05\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A3E\u0A3E\u0A40\u0A44\u0A49\u0A4A\u0A4D\u0A4F\u0A53\u0A53\u0A5B\u0A5E\u0A60\u0A60\u0A68\u0A77\u0A83\u0A85\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABE\u0AC7\u0AC9\u0ACB\u0ACD\u0ACF\u0AD2\u0AD2\u0AE2\u0AE5\u0AE8\u0AF1\u0AFB\u0AFB\u0B03\u0B05\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3E\u0B46\u0B49\u0B4A\u0B4D\u0B4F\u0B58\u0B59\u0B5E\u0B5F\u0B61\u0B65\u0B68\u0B71\u0B73\u0B73\u0B84\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BC0\u0BC4\u0BC8\u0BCA\u0BCC\u0BCF\u0BD2\u0BD2\u0BD9\u0BD9\u0BE8\u0BF1\u0C02\u0C05\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C46\u0C48\u0C4A\u0C4C\u0C4F\u0C57\u0C58\u0C5A\u0C5C\u0C62\u0C65\u0C68\u0C71\u0C82\u0C85\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBE\u0CC6\u0CC8\u0CCA\u0CCC\u0CCF\u0CD7\u0CD8\u0CE0\u0CE0\u0CE2\u0CE5\u0CE8\u0CF1\u0CF3\u0CF4\u0D03\u0D05\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D46\u0D48\u0D4A\u0D4C\u0D50\u0D56\u0D59\u0D61\u0D65\u0D68\u0D71\u0D7C\u0D81\u0D84\u0D85\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0DCC\u0DCC\u0DD1\u0DD6\u0DD8\u0DD8\u0DDA\u0DE1\u0DE8\u0DF1\u0DF4\u0DF5\u0E03\u0E3C\u0E42\u0E50\u0E52\u0E5B\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EBB\u0EBD\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0ECA\u0ECF\u0ED2\u0EDB\u0EDE\u0EE1\u0F02\u0F02\u0F1A\u0F1B\u0F22\u0F2B\u0F37\u0F37\u0F39\u0F39\u0F3B\u0F3B\u0F40\u0F49\u0F4B\u0F6E\u0F73\u0F86\u0F88\u0F99\u0F9B\u0FBE\u0FC8\u0FC8\u1002\u104B\u1052\u109F\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u135F\u1361\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1716\u1722\u1736\u1742\u1755\u1762\u176E\u1770\u1772\u1774\u1775\u1782\u17D5\u17D9\u17D9\u17DE\u17DF\u17E2\u17EB\u180D\u1810\u1812\u181B\u1822\u1879\u1882\u18AC\u18B2\u18F7\u1902\u1920\u1922\u192D\u1932\u193D\u1948\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u19D2\u19DB\u1A02\u1A1D\u1A22\u1A60\u1A62\u1A7E\u1A81\u1A8B\u1A92\u1A9B\u1AA9\u1AA9\u1AB2\u1ABF\u1B02\u1B4D\u1B52\u1B5B\u1B6D\u1B75\u1B82\u1BF5\u1C02\u1C39\u1C42\u1C4B\u1C4F\u1C7F\u1C82\u1C8A\u1CD2\u1CD4\u1CD6\u1CF8\u1CFA\u1CFB\u1D02\u1DF7\u1DFD\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u200D\u2011\u202C\u2030\u2041\u2042\u2056\u2056\u2062\u2066\u2068\u2071\u2073\u2073\u2081\u2081\u2092\u209E\u20D2\u20DE\u20E3\u20E3\u20E7\u20F2\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D81\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2DE2\u2E01\u2E31\u2E31\u3007\u3009\u3023\u3031\u3033\u3037\u303A\u303E\u3043\u3098\u309B\u309C\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA62D\uA642\uA671\uA676\uA67F\uA681\uA6F3\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA829\uA842\uA875\uA882\uA8C7\uA8D2\uA8DB\uA8E2\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA902\uA92F\uA932\uA955\uA962\uA97E\uA982\uA9C2\uA9D1\uA9DB\uA9E2\uAA00\uAA02\uAA38\uAA42\uAA4F\uAA52\uAA5B\uAA62\uAA78\uAA7C\uAAC4\uAADD\uAADF\uAAE2\uAAF1\uAAF4\uAAF8\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABEC\uABEE\uABEF\uABF2\uABFB\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE02\uFE11\uFE22\uFE31\uFE35\uFE36\uFE4F\uFE51\uFE72\uFE76\uFE78\uFEFE\uFF01\uFF01\uFF12\uFF1B\uFF23\uFF3C\uFF41\uFF41\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\uFFFB\uFFFD\r(*<>?AOR_\x82\xFC\u0142\u0176\u01FF\u01FF\u0282\u029E\u02A2\u02D2\u02E2\u02E2\u0302\u0321\u0332\u034C\u0352\u037C\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04A2\u04AB\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A05\u0A07\u0A08\u0A0E\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A3A\u0A3C\u0A41\u0A41\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE8\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1002\u1048\u1068\u1071\u1081\u10BC\u10BF\u10BF\u10D2\u10EA\u10F2\u10FB\u1102\u1136\u1138\u1141\u1152\u1175\u1178\u1178\u1182\u11C6\u11CC\u11CE\u11D2\u11DC\u11DE\u11DE\u1202\u1213\u1215\u1239\u1240\u1240\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12EC\u12F2\u12FB\u1302\u1305\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133E\u1346\u1349\u134A\u134D\u134F\u1352\u1352\u1359\u1359\u135F\u1365\u1368\u136E\u1372\u1376\u1402\u144C\u1452\u145B\u1482\u14C7\u14C9\u14C9\u14D2\u14DB\u1582\u15B7\u15BA\u15C2\u15DA\u15DF\u1602\u1642\u1646\u1646\u1652\u165B\u1682\u16B9\u16C2\u16CB\u1702\u171B\u171F\u172D\u1732\u173B\u18A2\u18EB\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C38\u1C3A\u1C42\u1C52\u1C5B\u1C74\u1C91\u1C94\u1CA9\u1CAB\u1CB8\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6A62\u6A6B\u6AD2\u6AEF\u6AF2\u6AF6\u6B02\u6B38\u6B42\u6B45\u6B52\u6B5B\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F80\u6F91\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uBC9F\uBCA0\uBCA2\uBCA5\uD167\uD16B\uD16F\uD184\uD187\uD18D\uD1AC\uD1AF\uD244\uD246\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uD7D0\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1\uE002\uE008\uE00A\uE01A\uE01D\uE023\uE025\uE026\uE028\uE02C\uE802\uE8C6\uE8D2\uE8D8\uE902\uE94C\uE952\uE95B\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F"\x81\u0102\u01F1\u0240C\\c|\xAC\xAC\xB7\xB7\xBC\xBC\xC2\xD8\xDA\xF8\xFA\u02C3\u02C8\u02D3\u02E2\u02E6\u02EE\u02EE\u02F0\u02F0\u0372\u0376\u0378\u0379\u037C\u037F\u0381\u0381\u0388\u0388\u038A\u038C\u038E\u038E\u0390\u03A3\u03A5\u03F7\u03F9\u0483\u048C\u0531\u0533\u0558\u055B\u055B\u0563\u0589\u05D2\u05EC\u05F2\u05F4\u0622\u064C\u0670\u0671\u0673\u06D5\u06D7\u06D7\u06E7\u06E8\u06F0\u06F1\u06FC\u06FE\u0701\u0701\u0712\u0712\u0714\u0731\u074F\u07A7\u07B3\u07B3\u07CC\u07EC\u07F6\u07F7\u07FC\u07FC\u0802\u0817\u081C\u081C\u0826\u0826\u082A\u082A\u0842\u085A\u08A2\u08B6\u08B8\u08BF\u0906\u093B\u093F\u093F\u0952\u0952\u095A\u0963\u0973\u0982\u0987\u098E\u0991\u0992\u0995\u09AA\u09AC\u09B2\u09B4\u09B4\u09B8\u09BB\u09BF\u09BF\u09D0\u09D0\u09DE\u09DF\u09E1\u09E3\u09F2\u09F3\u0A07\u0A0C\u0A11\u0A12\u0A15\u0A2A\u0A2C\u0A32\u0A34\u0A35\u0A37\u0A38\u0A3A\u0A3B\u0A5B\u0A5E\u0A60\u0A60\u0A74\u0A76\u0A87\u0A8F\u0A91\u0A93\u0A95\u0AAA\u0AAC\u0AB2\u0AB4\u0AB5\u0AB7\u0ABB\u0ABF\u0ABF\u0AD2\u0AD2\u0AE2\u0AE3\u0AFB\u0AFB\u0B07\u0B0E\u0B11\u0B12\u0B15\u0B2A\u0B2C\u0B32\u0B34\u0B35\u0B37\u0B3B\u0B3F\u0B3F\u0B5E\u0B5F\u0B61\u0B63\u0B73\u0B73\u0B85\u0B85\u0B87\u0B8C\u0B90\u0B92\u0B94\u0B97\u0B9B\u0B9C\u0B9E\u0B9E\u0BA0\u0BA1\u0BA5\u0BA6\u0BAA\u0BAC\u0BB0\u0BBB\u0BD2\u0BD2\u0C07\u0C0E\u0C10\u0C12\u0C14\u0C2A\u0C2C\u0C3B\u0C3F\u0C3F\u0C5A\u0C5C\u0C62\u0C63\u0C82\u0C82\u0C87\u0C8E\u0C90\u0C92\u0C94\u0CAA\u0CAC\u0CB5\u0CB7\u0CBB\u0CBF\u0CBF\u0CE0\u0CE0\u0CE2\u0CE3\u0CF3\u0CF4\u0D07\u0D0E\u0D10\u0D12\u0D14\u0D3C\u0D3F\u0D3F\u0D50\u0D50\u0D56\u0D58\u0D61\u0D63\u0D7C\u0D81\u0D87\u0D98\u0D9C\u0DB3\u0DB5\u0DBD\u0DBF\u0DBF\u0DC2\u0DC8\u0E03\u0E32\u0E34\u0E35\u0E42\u0E48\u0E83\u0E84\u0E86\u0E86\u0E89\u0E8A\u0E8C\u0E8C\u0E8F\u0E8F\u0E96\u0E99\u0E9B\u0EA1\u0EA3\u0EA5\u0EA7\u0EA7\u0EA9\u0EA9\u0EAC\u0EAD\u0EAF\u0EB2\u0EB4\u0EB5\u0EBF\u0EBF\u0EC2\u0EC6\u0EC8\u0EC8\u0EDE\u0EE1\u0F02\u0F02\u0F42\u0F49\u0F4B\u0F6E\u0F8A\u0F8E\u1002\u102C\u1041\u1041\u1052\u1057\u105C\u105F\u1063\u1063\u1067\u1068\u1070\u1072\u1077\u1083\u1090\u1090\u10A2\u10C7\u10C9\u10C9\u10CF\u10CF\u10D2\u10FC\u10FE\u124A\u124C\u124F\u1252\u1258\u125A\u125A\u125C\u125F\u1262\u128A\u128C\u128F\u1292\u12B2\u12B4\u12B7\u12BA\u12C0\u12C2\u12C2\u12C4\u12C7\u12CA\u12D8\u12DA\u1312\u1314\u1317\u131A\u135C\u1382\u1391\u13A2\u13F7\u13FA\u13FF\u1403\u166E\u1671\u1681\u1683\u169C\u16A2\u16EC\u16F0\u16FA\u1702\u170E\u1710\u1713\u1722\u1733\u1742\u1753\u1762\u176E\u1770\u1772\u1782\u17B5\u17D9\u17D9\u17DE\u17DE\u1822\u1879\u1882\u1886\u1889\u18AA\u18AC\u18AC\u18B2\u18F7\u1902\u1920\u1952\u196F\u1972\u1976\u1982\u19AD\u19B2\u19CB\u1A02\u1A18\u1A22\u1A56\u1AA9\u1AA9\u1B07\u1B35\u1B47\u1B4D\u1B85\u1BA2\u1BB0\u1BB1\u1BBC\u1BE7\u1C02\u1C25\u1C4F\u1C51\u1C5C\u1C7F\u1C82\u1C8A\u1CEB\u1CEE\u1CF0\u1CF3\u1CF7\u1CF8\u1D02\u1DC1\u1E02\u1F17\u1F1A\u1F1F\u1F22\u1F47\u1F4A\u1F4F\u1F52\u1F59\u1F5B\u1F5B\u1F5D\u1F5D\u1F5F\u1F5F\u1F61\u1F7F\u1F82\u1FB6\u1FB8\u1FBE\u1FC0\u1FC0\u1FC4\u1FC6\u1FC8\u1FCE\u1FD2\u1FD5\u1FD8\u1FDD\u1FE2\u1FEE\u1FF4\u1FF6\u1FF8\u1FFE\u2073\u2073\u2081\u2081\u2092\u209E\u2104\u2104\u2109\u2109\u210C\u2115\u2117\u2117\u211B\u211F\u2126\u2126\u2128\u2128\u212A\u212A\u212C\u212F\u2131\u213B\u213E\u2141\u2147\u214B\u2150\u2150\u2162\u218A\u2C02\u2C30\u2C32\u2C60\u2C62\u2CE6\u2CED\u2CF0\u2CF4\u2CF5\u2D02\u2D27\u2D29\u2D29\u2D2F\u2D2F\u2D32\u2D69\u2D71\u2D71\u2D82\u2D98\u2DA2\u2DA8\u2DAA\u2DB0\u2DB2\u2DB8\u2DBA\u2DC0\u2DC2\u2DC8\u2DCA\u2DD0\u2DD2\u2DD8\u2DDA\u2DE0\u2E31\u2E31\u3007\u3009\u3023\u302B\u3033\u3037\u303A\u303E\u3043\u3098\u309F\u30A1\u30A3\u30FC\u30FE\u3101\u3107\u312F\u3133\u3190\u31A2\u31BC\u31F2\u3201\u3402\u4DB7\u4E02\u9FD7\uA002\uA48E\uA4D2\uA4FF\uA502\uA60E\uA612\uA621\uA62C\uA62D\uA642\uA670\uA681\uA69F\uA6A2\uA6F1\uA719\uA721\uA724\uA78A\uA78D\uA7B0\uA7B2\uA7B9\uA7F9\uA803\uA805\uA807\uA809\uA80C\uA80E\uA824\uA842\uA875\uA884\uA8B5\uA8F4\uA8F9\uA8FD\uA8FD\uA8FF\uA8FF\uA90C\uA927\uA932\uA948\uA962\uA97E\uA986\uA9B4\uA9D1\uA9D1\uA9E2\uA9E6\uA9E8\uA9F1\uA9FC\uAA00\uAA02\uAA2A\uAA42\uAA44\uAA46\uAA4D\uAA62\uAA78\uAA7C\uAA7C\uAA80\uAAB1\uAAB3\uAAB3\uAAB7\uAAB8\uAABB\uAABF\uAAC2\uAAC2\uAAC4\uAAC4\uAADD\uAADF\uAAE2\uAAEC\uAAF4\uAAF6\uAB03\uAB08\uAB0B\uAB10\uAB13\uAB18\uAB22\uAB28\uAB2A\uAB30\uAB32\uAB5C\uAB5E\uAB67\uAB72\uABE4\uAC02\uD7A5\uD7B2\uD7C8\uD7CD\uD7FD\uF902\uFA6F\uFA72\uFADB\uFB02\uFB08\uFB15\uFB19\uFB1F\uFB1F\uFB21\uFB2A\uFB2C\uFB38\uFB3A\uFB3E\uFB40\uFB40\uFB42\uFB43\uFB45\uFB46\uFB48\uFBB3\uFBD5\uFD3F\uFD52\uFD91\uFD94\uFDC9\uFDF2\uFDFD\uFE72\uFE76\uFE78\uFEFE\uFF23\uFF3C\uFF43\uFF5C\uFF68\uFFC0\uFFC4\uFFC9\uFFCC\uFFD1\uFFD4\uFFD9\uFFDC\uFFDE\r(*<>?AOR_\x82\xFC\u0142\u0176\u0282\u029E\u02A2\u02D2\u0302\u0321\u0332\u034C\u0352\u0377\u0382\u039F\u03A2\u03C5\u03CA\u03D1\u03D3\u03D7\u0402\u049F\u04B2\u04D5\u04DA\u04FD\u0502\u0529\u0532\u0565\u0602\u0738\u0742\u0757\u0762\u0769\u0802\u0807\u080A\u080A\u080C\u0837\u0839\u083A\u083E\u083E\u0841\u0857\u0862\u0878\u0882\u08A0\u08E2\u08F4\u08F6\u08F7\u0902\u0917\u0922\u093B\u0982\u09B9\u09C0\u09C1\u0A02\u0A02\u0A12\u0A15\u0A17\u0A19\u0A1B\u0A35\u0A62\u0A7E\u0A82\u0A9E\u0AC2\u0AC9\u0ACB\u0AE6\u0B02\u0B37\u0B42\u0B57\u0B62\u0B74\u0B82\u0B93\u0C02\u0C4A\u0C82\u0CB4\u0CC2\u0CF4\u1005\u1039\u1085\u10B1\u10D2\u10EA\u1105\u1128\u1152\u1174\u1178\u1178\u1185\u11B4\u11C3\u11C6\u11DC\u11DC\u11DE\u11DE\u1202\u1213\u1215\u122D\u1282\u1288\u128A\u128A\u128C\u128F\u1291\u129F\u12A1\u12AA\u12B2\u12E0\u1307\u130E\u1311\u1312\u1315\u132A\u132C\u1332\u1334\u1335\u1337\u133B\u133F\u133F\u1352\u1352\u135F\u1363\u1402\u1436\u1449\u144C\u1482\u14B1\u14C6\u14C7\u14C9\u14C9\u1582\u15B0\u15DA\u15DD\u1602\u1631\u1646\u1646\u1682\u16AC\u1702\u171B\u18A2\u18E1\u1901\u1901\u1AC2\u1AFA\u1C02\u1C0A\u1C0C\u1C30\u1C42\u1C42\u1C74\u1C91\u2002\u239B\u2402\u2470\u2482\u2545\u3002\u3430\u4402\u4648\u6802\u6A3A\u6A42\u6A60\u6AD2\u6AEF\u6B02\u6B31\u6B42\u6B45\u6B65\u6B79\u6B7F\u6B91\u6F02\u6F46\u6F52\u6F52\u6F95\u6FA1\u6FE2\u6FE2\u7002\u87EE\u8802\u8AF4\uB002\uB003\uBC02\uBC6C\uBC72\uBC7E\uBC82\uBC8A\uBC92\uBC9B\uD402\uD456\uD458\uD49E\uD4A0\uD4A1\uD4A4\uD4A4\uD4A7\uD4A8\uD4AB\uD4AE\uD4B0\uD4BB\uD4BD\uD4BD\uD4BF\uD4C5\uD4C7\uD507\uD509\uD50C\uD50F\uD516\uD518\uD51E\uD520\uD53B\uD53D\uD540\uD542\uD546\uD548\uD548`,i._serializedATNSegment1=`\uD54C\uD552\uD554\uD6A7\uD6AA\uD6C2\uD6C4\uD6DC\uD6DE\uD6FC\uD6FE\uD716\uD718\uD736\uD738\uD750\uD752\uD770\uD772\uD78A\uD78C\uD7AA\uD7AC\uD7C4\uD7C6\uD7CD\uE802\uE8C6\uE902\uE945\uEE02\uEE05\uEE07\uEE21\uEE23\uEE24\uEE26\uEE26\uEE29\uEE29\uEE2B\uEE34\uEE36\uEE39\uEE3B\uEE3B\uEE3D\uEE3D\uEE44\uEE44\uEE49\uEE49\uEE4B\uEE4B\uEE4D\uEE4D\uEE4F\uEE51\uEE53\uEE54\uEE56\uEE56\uEE59\uEE59\uEE5B\uEE5B\uEE5D\uEE5D\uEE5F\uEE5F\uEE61\uEE61\uEE63\uEE64\uEE66\uEE66\uEE69\uEE6C\uEE6E\uEE74\uEE76\uEE79\uEE7B\uEE7E\uEE80\uEE80\uEE82\uEE8B\uEE8D\uEE9D\uEEA3\uEEA5\uEEA7\uEEAB\uEEAD\uEEBD\uA6D8\uA702\uB736\uB742\uB81F\uB822\uCEA3\uF802\uFA1F1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,i._serializedATN=s.join([i._serializedATNSegment0,i._serializedATNSegment1],""),k_}var T_={},vP;function lV(){if(vP)return T_;vP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(n,s,i,o){var a=arguments.length,l=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,s,i,o);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(l=(a<3?u(l):a>3?u(s,i,l):u(s,i))||l);return a>3&&l&&Object.defineProperty(s,i,l),l};Object.defineProperty(T_,"__esModule",{value:!0}),T_.XPathLexerErrorListener=void 0;const e=qe;class r{syntaxError(s,i,o,a,l,u){}}return t([e.Override],r.prototype,"syntaxError",null),T_.XPathLexerErrorListener=r,T_}var C_={},P_={},EP;function Tf(){if(EP)return P_;EP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(n,s,i,o){var a=arguments.length,l=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,s,i,o);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(l=(a<3?u(l):a>3?u(s,i,l):u(s,i))||l);return a>3&&l&&Object.defineProperty(s,i,l),l};Object.defineProperty(P_,"__esModule",{value:!0}),P_.XPathElement=void 0;const e=qe;class r{constructor(s){this.nodeName=s,this.invert=!1}toString(){let s=this.invert?"!":"";return Object.constructor.name+"["+s+this.nodeName+"]"}}return t([e.Override],r.prototype,"toString",null),P_.XPathElement=r,P_}var AP;function uV(){if(AP)return C_;AP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d};Object.defineProperty(C_,"__esModule",{value:!0}),C_.XPathRuleAnywhereElement=void 0;const e=qe,r=Eh(),n=Tf();class s extends n.XPathElement{constructor(o,a){super(o),this.ruleIndex=a}evaluate(o){return r.Trees.findAllRuleNodes(o,this.ruleIndex)}}return t([e.Override],s.prototype,"evaluate",null),C_.XPathRuleAnywhereElement=s,C_}var D_={},wP;function cV(){if(wP)return D_;wP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(D_,"__esModule",{value:!0}),D_.XPathRuleElement=void 0;const e=Io(),r=qe,n=Eh(),s=Tf();class i extends s.XPathElement{constructor(a,l){super(a),this.ruleIndex=l}evaluate(a){let l=[];for(let u of n.Trees.getChildren(a))u instanceof e.ParserRuleContext&&(u.ruleIndex===this.ruleIndex&&!this.invert||u.ruleIndex!==this.ruleIndex&&this.invert)&&l.push(u);return l}}return t([r.Override],i.prototype,"evaluate",null),D_.XPathRuleElement=i,D_}var R_={},SP;function hV(){if(SP)return R_;SP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d};Object.defineProperty(R_,"__esModule",{value:!0}),R_.XPathTokenAnywhereElement=void 0;const e=qe,r=Eh(),n=Tf();class s extends n.XPathElement{constructor(o,a){super(o),this.tokenType=a}evaluate(o){return r.Trees.findAllTokenNodes(o,this.tokenType)}}return t([e.Override],s.prototype,"evaluate",null),R_.XPathTokenAnywhereElement=s,R_}var O_={},bP;function dV(){if(bP)return O_;bP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(O_,"__esModule",{value:!0}),O_.XPathTokenElement=void 0;const e=qe,r=wl,n=Eh(),s=Tf();class i extends s.XPathElement{constructor(a,l){super(a),this.tokenType=l}evaluate(a){let l=[];for(let u of n.Trees.getChildren(a))u instanceof r.TerminalNode&&(u.symbol.type===this.tokenType&&!this.invert||u.symbol.type!==this.tokenType&&this.invert)&&l.push(u);return l}}return t([e.Override],i.prototype,"evaluate",null),O_.XPathTokenElement=i,O_}var B_={},kP;function fV(){if(kP)return B_;kP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(B_,"__esModule",{value:!0}),B_.XPathWildcardAnywhereElement=void 0;const e=qe,r=Eh(),n=kb(),s=Tf();class i extends s.XPathElement{constructor(){super(n.XPath.WILDCARD)}evaluate(a){return this.invert?[]:r.Trees.getDescendants(a)}}return t([e.Override],i.prototype,"evaluate",null),B_.XPathWildcardAnywhereElement=i,B_}var N_={},TP;function _V(){if(TP)return N_;TP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(N_,"__esModule",{value:!0}),N_.XPathWildcardElement=void 0;const e=qe,r=Eh(),n=kb(),s=Tf();class i extends s.XPathElement{constructor(){super(n.XPath.WILDCARD)}evaluate(a){let l=[];if(this.invert)return l;for(let u of r.Trees.getChildren(a))l.push(u);return l}}return t([e.Override],i.prototype,"evaluate",null),N_.XPathWildcardElement=i,N_}var CP;function kb(){if(CP)return b_;CP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(b_,"__esModule",{value:!0}),b_.XPath=void 0;const t=H1,e=kf,r=xh,n=Io(),s=yr,i=aV(),o=lV(),a=uV(),l=cV(),u=hV(),d=dV(),f=fV(),g=_V();class x{constructor(D,A){this.parser=D,this.path=A,this.elements=this.split(A)}split(D){let A=new i.XPathLexer(t.CharStreams.fromString(D));A.recover=B=>{throw B},A.removeErrorListeners(),A.addErrorListener(new o.XPathLexerErrorListener);let R=new e.CommonTokenStream(A);try{R.fill()}catch(B){if(B instanceof r.LexerNoViableAltException){let T="Invalid tokens or characters at index "+A.charPositionInLine+" in path '"+D+"' -- "+B.message;throw new RangeError(T)}throw B}let P=R.getTokens(),O=[],F=P.length,U=0;e:for(;U<F;){let B=P[U],N;switch(B.type){case i.XPathLexer.ROOT:case i.XPathLexer.ANYWHERE:let T=B.type===i.XPathLexer.ANYWHERE;U++,N=P[U];let M=N.type===i.XPathLexer.BANG;M&&(U++,N=P[U]);let $=this.getXPathElement(N,T);$.invert=M,O.push($),U++;break;case i.XPathLexer.TOKEN_REF:case i.XPathLexer.RULE_REF:case i.XPathLexer.WILDCARD:O.push(this.getXPathElement(B,!1)),U++;break;case s.Token.EOF:break e;default:throw new Error("Unknowth path element "+B)}}return O}getXPathElement(D,A){if(D.type===s.Token.EOF)throw new Error("Missing path element at end of path");let R=D.text;if(R==null)throw new Error("Expected wordToken to have text content.");let P=this.parser.getTokenType(R),O=this.parser.getRuleIndex(R);switch(D.type){case i.XPathLexer.WILDCARD:return A?new f.XPathWildcardAnywhereElement:new g.XPathWildcardElement;case i.XPathLexer.TOKEN_REF:case i.XPathLexer.STRING:if(P===s.Token.INVALID_TYPE)throw new Error(R+" at index "+D.startIndex+" isn't a valid token name");return A?new u.XPathTokenAnywhereElement(R,P):new d.XPathTokenElement(R,P);default:if(O===-1)throw new Error(R+" at index "+D.startIndex+" isn't a valid rule name");return A?new a.XPathRuleAnywhereElement(R,O):new l.XPathRuleElement(R,O)}}static findAll(D,A,R){return new x(R,A).evaluate(D)}evaluate(D){let A=new n.ParserRuleContext;A.addChild(D);let R=new Set([A]),P=0;for(;P<this.elements.length;){let O=new Set;for(let F of R)F.childCount>0&&this.elements[P].evaluate(F).forEach(O.add,O);P++,R=O}return R}}return b_.XPath=x,x.WILDCARD="*",x.NOT="!",b_}var PP;function pV(){if(PP)return S_;PP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(S_,"__esModule",{value:!0}),S_.ParseTreePattern=void 0;const r=qe,n=kb();let s=class{constructor(o,a,l,u){this._matcher=o,this._patternRuleIndex=l,this._pattern=a,this._patternTree=u}match(o){return this._matcher.match(o,this)}matches(o){return this._matcher.match(o,this).succeeded}findAll(o,a){let l=n.XPath.findAll(o,a,this._matcher.parser),u=[];for(let d of l){let f=this.match(d);f.succeeded&&u.push(f)}return u}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};return t([r.NotNull],s.prototype,"_pattern",void 0),t([r.NotNull],s.prototype,"_patternTree",void 0),t([r.NotNull],s.prototype,"_matcher",void 0),t([r.NotNull,e(0,r.NotNull)],s.prototype,"match",null),t([e(0,r.NotNull)],s.prototype,"matches",null),t([r.NotNull,e(0,r.NotNull),e(1,r.NotNull)],s.prototype,"findAll",null),t([r.NotNull],s.prototype,"matcher",null),t([r.NotNull],s.prototype,"pattern",null),t([r.NotNull],s.prototype,"patternTree",null),s=t([e(0,r.NotNull),e(1,r.NotNull),e(3,r.NotNull)],s),S_.ParseTreePattern=s,S_}var F_={},DP;function gV(){if(DP)return F_;DP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(F_,"__esModule",{value:!0}),F_.RuleTagToken=void 0;const r=qe,n=yr;let s=class{constructor(o,a,l){if(o==null||o.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=o,this.bypassTokenType=a,this._label=l}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return n.Token.DEFAULT_CHANNEL}get text(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};return t([r.NotNull],s.prototype,"ruleName",null),t([r.Override],s.prototype,"channel",null),t([r.Override],s.prototype,"text",null),t([r.Override],s.prototype,"type",null),t([r.Override],s.prototype,"line",null),t([r.Override],s.prototype,"charPositionInLine",null),t([r.Override],s.prototype,"tokenIndex",null),t([r.Override],s.prototype,"startIndex",null),t([r.Override],s.prototype,"stopIndex",null),t([r.Override],s.prototype,"tokenSource",null),t([r.Override],s.prototype,"inputStream",null),t([r.Override],s.prototype,"toString",null),s=t([e(0,r.NotNull)],s),F_.RuleTagToken=s,F_}var I_={},M_={},RP;function eN(){if(RP)return M_;RP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(M_,"__esModule",{value:!0}),M_.Chunk=void 0;class t{}return M_.Chunk=t,M_}var OP;function mV(){if(OP)return I_;OP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var f=s.length-1;f>=0;f--)(d=s[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u};Object.defineProperty(I_,"__esModule",{value:!0}),I_.TagChunk=void 0;const e=eN(),r=qe;class n extends e.Chunk{constructor(i,o){if(super(),i==null||i.length===0)throw new Error("tag cannot be null or empty");this._tag=i,this._label=o}get tag(){return this._tag}get label(){return this._label}toString(){return this._label!=null?this._label+":"+this._tag:this._tag}}return t([r.NotNull],n.prototype,"tag",null),t([r.Override],n.prototype,"toString",null),I_.TagChunk=n,I_}var L_={},BP;function xV(){if(BP)return L_;BP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(L_,"__esModule",{value:!0}),L_.TextChunk=void 0;const r=eN(),n=qe;let s=class extends r.Chunk{constructor(o){if(super(),o==null)throw new Error("text cannot be null");this._text=o}get text(){return this._text}toString(){return"'"+this._text+"'"}};return t([n.NotNull],s.prototype,"_text",void 0),t([n.NotNull],s.prototype,"text",null),t([n.Override],s.prototype,"toString",null),s=t([e(0,n.NotNull)],s),L_.TextChunk=s,L_}var U_={},NP;function yV(){if(NP)return U_;NP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(U_,"__esModule",{value:!0}),U_.TokenTagToken=void 0;const r=Pu,n=qe;let s=class extends r.CommonToken{constructor(o,a,l){super(a),this._tokenName=o,this._label=l}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};return t([n.NotNull],s.prototype,"_tokenName",void 0),t([n.NotNull],s.prototype,"tokenName",null),t([n.Override],s.prototype,"text",null),t([n.Override],s.prototype,"toString",null),s=t([e(0,n.NotNull)],s),U_.TokenTagToken=s,U_}var FP;function vV(){return FP||(FP=1,function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__decorate||function(N,T,M,$){var J=arguments.length,Z=J<3?T:$===null?$=Object.getOwnPropertyDescriptor(T,M):$,re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(N,T,M,$);else for(var ge=N.length-1;ge>=0;ge--)(re=N[ge])&&(Z=(J<3?re(Z):J>3?re(T,M,Z):re(T,M))||Z);return J>3&&Z&&Object.defineProperty(T,M,Z),Z},r=K&&K.__param||function(N,T){return function(M,$){T(M,$,N)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ParseTreePatternMatcher=void 0;const n=tN(),s=H1,i=kf,o=Sg,a=iV(),l=qe,u=bg,d=ZB(),f=Io(),g=oV(),x=pV(),E=ka,D=bf,A=gV(),R=mV(),P=wl,O=xV(),F=yr,U=yV();class B{constructor(T,M){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=T,this._parser=M}setDelimiters(T,M,$){if(!T)throw new Error("start cannot be null or empty");if(!M)throw new Error("stop cannot be null or empty");this.start=T,this.stop=M,this.escape=$,this.escapeRE=new RegExp($.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(T,M,$=0){if(typeof M=="string"){let J=this.compile(M,$);return this.matches(T,J)}else{let J=new a.MultiMap;return!this.matchImpl(T,M.patternTree,J)}}match(T,M,$=0){if(typeof M=="string"){let J=this.compile(M,$);return this.match(T,J)}else{let J=new a.MultiMap,Z=this.matchImpl(T,M.patternTree,J);return new g.ParseTreeMatch(T,M,J,Z)}}compile(T,M){let $=this.tokenize(T),J=new o.ListTokenSource($),Z=new i.CommonTokenStream(J);const re=this._parser;let ge=new d.ParserInterpreter(re.grammarFileName,re.vocabulary,re.ruleNames,re.getATNWithBypassAlts(),Z),Fe;try{ge.errorHandler=new n.BailErrorStrategy,Fe=ge.parse(M)}catch(Ze){throw Ze instanceof u.ParseCancellationException?Ze.getCause():Ze instanceof E.RecognitionException?Ze:Ze instanceof Error?new B.CannotInvokeStartRule(Ze):Ze}if(Z.LA(1)!==F.Token.EOF)throw new B.StartRuleDoesNotConsumeFullPattern;return new x.ParseTreePattern(this,T,M,Fe)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(T,M,$){if(!T)throw new TypeError("tree cannot be null");if(!M)throw new TypeError("patternTree cannot be null");if(T instanceof P.TerminalNode&&M instanceof P.TerminalNode){let J;if(T.symbol.type===M.symbol.type)if(M.symbol instanceof U.TokenTagToken){let Z=M.symbol;$.map(Z.tokenName,T);const re=Z.label;re&&$.map(re,T)}else T.text===M.text||J||(J=T);else J||(J=T);return J}if(T instanceof f.ParserRuleContext&&M instanceof f.ParserRuleContext){let J,Z=this.getRuleTagToken(M);if(Z){if(T.ruleContext.ruleIndex===M.ruleContext.ruleIndex){$.map(Z.ruleName,T);const ge=Z.label;ge&&$.map(ge,T)}else J||(J=T);return J}if(T.childCount!==M.childCount)return J||(J=T),J;let re=T.childCount;for(let ge=0;ge<re;ge++){let Fe=this.matchImpl(T.getChild(ge),M.getChild(ge),$);if(Fe)return Fe}return J}return T}getRuleTagToken(T){if(T instanceof D.RuleNode&&T.childCount===1&&T.getChild(0)instanceof P.TerminalNode){let M=T.getChild(0);if(M.symbol instanceof A.RuleTagToken)return M.symbol}}tokenize(T){let M=this.split(T),$=[];for(let J of M)if(J instanceof R.TagChunk){let Z=J;const re=Z.tag.substr(0,1);if(re===re.toUpperCase()){let ge=this._parser.getTokenType(Z.tag);if(ge===F.Token.INVALID_TYPE)throw new Error("Unknown token "+Z.tag+" in pattern: "+T);let Fe=new U.TokenTagToken(Z.tag,ge,Z.label);$.push(Fe)}else if(re===re.toLowerCase()){let ge=this._parser.getRuleIndex(Z.tag);if(ge===-1)throw new Error("Unknown rule "+Z.tag+" in pattern: "+T);let Fe=this._parser.getATNWithBypassAlts().ruleToTokenType[ge];$.push(new A.RuleTagToken(Z.tag,Fe,Z.label))}else throw new Error("invalid tag: "+Z.tag+" in pattern: "+T)}else{let Z=J;this._lexer.inputStream=s.CharStreams.fromString(Z.text);let re=this._lexer.nextToken();for(;re.type!==F.Token.EOF;)$.push(re),re=this._lexer.nextToken()}return $}split(T){let M=0,$=T.length,J=[],Z=[],re=[];for(;M<$;)M===T.indexOf(this.escape+this.start,M)?M+=this.escape.length+this.start.length:M===T.indexOf(this.escape+this.stop,M)?M+=this.escape.length+this.stop.length:M===T.indexOf(this.start,M)?(Z.push(M),M+=this.start.length):M===T.indexOf(this.stop,M)?(re.push(M),M+=this.stop.length):M++;if(Z.length>re.length)throw new Error("unterminated tag in pattern: "+T);if(Z.length<re.length)throw new Error("missing start tag in pattern: "+T);let ge=Z.length;for(let Fe=0;Fe<ge;Fe++)if(Z[Fe]>=re[Fe])throw new Error("tag delimiters out of order in pattern: "+T);if(ge===0){let Fe=T.substring(0,$);J.push(new O.TextChunk(Fe))}if(ge>0&&Z[0]>0){let Fe=T.substring(0,Z[0]);J.push(new O.TextChunk(Fe))}for(let Fe=0;Fe<ge;Fe++){let Ze=T.substring(Z[Fe]+this.start.length,re[Fe]),ze=Ze,Le,it=Ze.indexOf(":");if(it>=0&&(Le=Ze.substring(0,it),ze=Ze.substring(it+1,Ze.length)),J.push(new R.TagChunk(ze,Le)),Fe+1<ge){let _t=T.substring(re[Fe]+this.stop.length,Z[Fe+1]);J.push(new O.TextChunk(_t))}}if(ge>0){let Fe=re[ge-1]+this.stop.length;if(Fe<$){let Ze=T.substring(Fe,$);J.push(new O.TextChunk(Ze))}}for(let Fe=0;Fe<J.length;Fe++){let Ze=J[Fe];if(Ze instanceof O.TextChunk){let ze=Ze.text.replace(this.escapeRE,"");ze.length<Ze.text.length&&(J[Fe]=new O.TextChunk(ze))}}return J}}e([l.NotNull,r(1,l.NotNull)],B.prototype,"match",null),e([l.NotNull],B.prototype,"lexer",null),e([l.NotNull],B.prototype,"parser",null),e([r(0,l.NotNull),r(1,l.NotNull),r(2,l.NotNull)],B.prototype,"matchImpl",null),t.ParseTreePatternMatcher=B,function(N){class T extends Error{constructor(J){super(`CannotInvokeStartRule: ${J}`),this.error=J}}N.CannotInvokeStartRule=T;class M extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}N.StartRuleDoesNotConsumeFullPattern=M}(B=t.ParseTreePatternMatcher||(t.ParseTreePatternMatcher={}))}(BE)),BE}var G_={},H_={},j_={},IP;function kg(){if(IP)return j_;IP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(s,i,o,a){var l=arguments.length,u=l<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,i,o,a);else for(var f=s.length-1;f>=0;f--)(d=s[f])&&(u=(l<3?d(u):l>3?d(i,o,u):d(i,o))||u);return l>3&&u&&Object.defineProperty(i,o,u),u},e=K&&K.__param||function(s,i){return function(o,a){i(o,a,s)}};Object.defineProperty(j_,"__esModule",{value:!0}),j_.DecisionEventInfo=void 0;const r=qe;let n=class{constructor(i,o,a,l,u,d){this.decision=i,this.fullCtx=d,this.stopIndex=u,this.input=a,this.startIndex=l,this.state=o}};return t([r.NotNull],n.prototype,"input",void 0),n=t([e(2,r.NotNull)],n),j_.DecisionEventInfo=n,j_}var MP;function EV(){if(MP)return H_;MP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(H_,"__esModule",{value:!0}),H_.AmbiguityInfo=void 0;const r=kg(),n=qe;let s=class extends r.DecisionEventInfo{constructor(o,a,l,u,d,f){super(o,a,u,d,f,a.useContext),this.ambigAlts=l}get ambiguousAlternatives(){return this.ambigAlts}};return t([n.NotNull],s.prototype,"ambigAlts",void 0),t([n.NotNull],s.prototype,"ambiguousAlternatives",null),s=t([e(1,n.NotNull),e(2,n.NotNull),e(3,n.NotNull)],s),H_.AmbiguityInfo=s,H_}var V_={},LP;function AV(){if(LP)return V_;LP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(V_,"__esModule",{value:!0}),V_.ContextSensitivityInfo=void 0;const r=kg(),n=qe;let s=class extends r.DecisionEventInfo{constructor(o,a,l,u,d){super(o,a,l,u,d,!0)}};return s=t([e(1,n.NotNull),e(2,n.NotNull)],s),V_.ContextSensitivityInfo=s,V_}var z_={},UP;function wV(){if(UP)return z_;UP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(n,s,i,o){var a=arguments.length,l=a<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,i):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,s,i,o);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(l=(a<3?u(l):a>3?u(s,i,l):u(s,i))||l);return a>3&&l&&Object.defineProperty(s,i,l),l};Object.defineProperty(z_,"__esModule",{value:!0}),z_.DecisionInfo=void 0;const e=qe;class r{constructor(s){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=s}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}}return t([e.Override],r.prototype,"toString",null),z_.DecisionInfo=r,z_}var W_={},GP;function SV(){if(GP)return W_;GP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(W_,"__esModule",{value:!0}),W_.ErrorInfo=void 0;const r=kg(),n=qe;let s=class extends r.DecisionEventInfo{constructor(o,a,l,u,d){super(o,a,l,u,d,a.useContext)}};return s=t([e(1,n.NotNull),e(2,n.NotNull)],s),W_.ErrorInfo=s,W_}var $_={},HP;function bV(){if(HP)return $_;HP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty($_,"__esModule",{value:!0}),$_.LookaheadEventInfo=void 0;const r=kg(),n=qe;let s=class extends r.DecisionEventInfo{constructor(o,a,l,u,d,f,g){super(o,a,u,d,f,g),this.predictedAlt=l}};return s=t([e(3,n.NotNull)],s),$_.LookaheadEventInfo=s,$_}var K_={},jP;function kV(){if(jP)return K_;jP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d},e=K&&K.__param||function(i,o){return function(a,l){o(a,l,i)}};Object.defineProperty(K_,"__esModule",{value:!0}),K_.PredicateEvalInfo=void 0;const r=kg(),n=qe;let s=class extends r.DecisionEventInfo{constructor(o,a,l,u,d,f,g,x){super(a,o,l,u,d,o.useContext),this.semctx=f,this.evalResult=g,this.predictedAlt=x}};return s=t([e(0,n.NotNull),e(2,n.NotNull),e(5,n.NotNull)],s),K_.PredicateEvalInfo=s,K_}var VP;function zP(){if(VP)return G_;VP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(D,A,R,P){var O=arguments.length,F=O<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,R):P,U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(D,A,R,P);else for(var B=D.length-1;B>=0;B--)(U=D[B])&&(F=(O<3?U(F):O>3?U(A,R,F):U(A,R))||F);return O>3&&F&&Object.defineProperty(A,R,F),F},e=K&&K.__param||function(D,A){return function(R,P){A(R,P,D)}};Object.defineProperty(G_,"__esModule",{value:!0}),G_.ProfilingATNSimulator=void 0;const r=EV(),n=Pa(),s=p1(),i=AV(),o=wV(),a=SV(),l=qe,u=bV(),d=mg(),f=kV(),g=hh,x=zB();class E extends d.ParserATNSimulator{constructor(A){super(A.interpreter.atn,A),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let R=0;R<this.numDecisions;R++)this.decisions.push(new o.DecisionInfo(R))}adaptivePredict(A,R,P,O){if(O!==void 0)return super.adaptivePredict(A,R,P,O);try{this._input=A,this._startIndex=A.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=R,this.currentState=void 0,this.conflictingAltResolvedBySLL=n.ATN.INVALID_ALT_NUMBER;let F=process.hrtime(),U=super.adaptivePredict(A,R,P),B=process.hrtime(),N=(B[0]-F[0])*1e9;N===0?N=B[1]-F[1]:N+=1e9-F[1]+B[1],this.decisions[R].timeInPrediction+=N,this.decisions[R].invocations++;let T=this._sllStopIndex-this._startIndex+1;if(this.decisions[R].SLL_TotalLook+=T,this.decisions[R].SLL_MinLook=this.decisions[R].SLL_MinLook===0?T:Math.min(this.decisions[R].SLL_MinLook,T),T>this.decisions[R].SLL_MaxLook&&(this.decisions[R].SLL_MaxLook=T,this.decisions[R].SLL_MaxLookEvent=new u.LookaheadEventInfo(R,void 0,U,A,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let M=this._llStopIndex-this._startIndex+1;this.decisions[R].LL_TotalLook+=M,this.decisions[R].LL_MinLook=this.decisions[R].LL_MinLook===0?M:Math.min(this.decisions[R].LL_MinLook,M),M>this.decisions[R].LL_MaxLook&&(this.decisions[R].LL_MaxLook=M,this.decisions[R].LL_MaxLookEvent=new u.LookaheadEventInfo(R,void 0,U,A,this._startIndex,this._llStopIndex,!0))}return U}finally{this._input=void 0,this.currentDecision=-1}}getStartState(A,R,P,O){let F=super.getStartState(A,R,P,O);return this.currentState=F,F}computeStartState(A,R,P){let O=super.computeStartState(A,R,P);return this.currentState=O,O}computeReachSet(A,R,P,O){if(this._input===void 0)throw new Error("Invalid state");let F=super.computeReachSet(A,R,P,O);return F==null&&this.decisions[this.currentDecision].errors.push(new a.ErrorInfo(this.currentDecision,R,this._input,this._startIndex,this._input.index)),this.currentState=F,F}getExistingTargetState(A,R){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let P=super.getExistingTargetState(A,R);if(P!=null&&(this.currentState=new x.SimulatorState(this.currentState.outerContext,P,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,P===s.ATNSimulator.ERROR)){let O=new x.SimulatorState(this.currentState.outerContext,A,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new a.ErrorInfo(this.currentDecision,O,this._input,this._startIndex,this._input.index))}return P}computeTargetState(A,R,P,O,F,U){let B=super.computeTargetState(A,R,P,O,F,U);return F?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,B}evalSemanticContextImpl(A,R,P){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let O=super.evalSemanticContextImpl(A,R,P);if(!(A instanceof g.SemanticContext.PrecedencePredicate)){let U=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new f.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,U,A,O,P))}return O}reportContextSensitivity(A,R,P,O,F){if(this._input===void 0)throw new Error("Invalid state");R!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new i.ContextSensitivityInfo(this.currentDecision,P,this._input,O,F)),super.reportContextSensitivity(A,R,P,O,F)}reportAttemptingFullContext(A,R,P,O,F){R!=null?this.conflictingAltResolvedBySLL=R.nextSetBit(0):this.conflictingAltResolvedBySLL=P.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(A,R,P,O,F)}reportAmbiguity(A,R,P,O,F,U,B){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");let N;U!=null?N=U.nextSetBit(0):N=B.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==n.ATN.INVALID_ALT_NUMBER&&N!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new i.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,P,O)),this.decisions[this.currentDecision].ambiguities.push(new r.AmbiguityInfo(this.currentDecision,this.currentState,U,this._input,P,O)),super.reportAmbiguity(A,R,P,O,F,U,B)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}}return t([l.Override,e(0,l.NotNull)],E.prototype,"adaptivePredict",null),t([l.Override],E.prototype,"getStartState",null),t([l.Override],E.prototype,"computeStartState",null),t([l.Override],E.prototype,"computeReachSet",null),t([l.Override],E.prototype,"getExistingTargetState",null),t([l.Override],E.prototype,"computeTargetState",null),t([l.Override],E.prototype,"evalSemanticContextImpl",null),t([l.Override],E.prototype,"reportContextSensitivity",null),t([l.Override],E.prototype,"reportAttemptingFullContext",null),t([l.Override,e(0,l.NotNull),e(5,l.NotNull),e(6,l.NotNull)],E.prototype,"reportAmbiguity",null),G_.ProfilingATNSimulator=E,G_}var WP;function Tg(){if(WP)return d_;WP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(O,F,U,B){var N=arguments.length,T=N<3?F:B===null?B=Object.getOwnPropertyDescriptor(F,U):B,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(O,F,U,B);else for(var $=O.length-1;$>=0;$--)(M=O[$])&&(T=(N<3?M(T):N>3?M(F,U,T):M(F,U))||T);return N>3&&T&&Object.defineProperty(F,U,T),T},e=K&&K.__param||function(O,F){return function(U,B){F(U,B,O)}},r=K&&K.__awaiter||function(O,F,U,B){function N(T){return T instanceof U?T:new U(function(M){M(T)})}return new(U||(U=Promise))(function(T,M){function $(re){try{Z(B.next(re))}catch(ge){M(ge)}}function J(re){try{Z(B.throw(re))}catch(ge){M(ge)}}function Z(re){re.done?T(re.value):N(re.value).then($,J)}Z((B=B.apply(O,F||[])).next())})};Object.defineProperty(d_,"__esModule",{value:!0}),d_.Parser=void 0;const n=Cn,s=ag,i=vb(),o=Tb(),a=Sf,l=Z0,u=Bu(),d=qe,f=U1,g=mg(),x=Eg,E=Du,D=wl,A=yr;class R{constructor(F,U){this.ruleNames=F,this.tokenStream=U}enterEveryRule(F){console.log("enter   "+this.ruleNames[F.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(F){console.log("exit    "+this.ruleNames[F.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(F){}visitTerminal(F){let U=F.parent.ruleContext,B=F.symbol;console.log("consume "+B+" rule "+this.ruleNames[U.ruleIndex])}}t([d.Override],R.prototype,"enterEveryRule",null),t([d.Override],R.prototype,"exitEveryRule",null),t([d.Override],R.prototype,"visitErrorNode",null),t([d.Override],R.prototype,"visitTerminal",null);class P extends E.Recognizer{constructor(F){super(),this._errHandler=new o.DefaultErrorStrategy,this._precedenceStack=new l.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=F}reset(F){(F===void 0||F)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let U=this.interpreter;U!=null&&U.reset()}match(F){let U=this.currentToken;return U.type===F?(F===A.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(U=this._errHandler.recoverInline(this),this._buildParseTrees&&U.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,U))),U}matchWildcard(){let F=this.currentToken;return F.type>0?(this._errHandler.reportMatch(this),this.consume()):(F=this._errHandler.recoverInline(this),this._buildParseTrees&&F.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,F))),F}set buildParseTree(F){this._buildParseTrees=F}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(F){if(F==null)throw new TypeError("listener cannot be null");this._parseListeners.push(F)}removeParseListener(F){let U=this._parseListeners.findIndex(B=>B===F);U!==-1&&this._parseListeners.splice(U,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let F of this._parseListeners)F.enterEveryRule&&F.enterEveryRule(this._ctx),this._ctx.enterRule(F)}triggerExitRuleEvent(){for(let F=this._parseListeners.length-1;F>=0;F--){let U=this._parseListeners[F];this._ctx.exitRule(U),U.exitEveryRule&&U.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let F=this.serializedATN;if(F==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");let U=P.bypassAltsAtnCache.get(F);if(U==null){let B=new s.ATNDeserializationOptions;B.isGenerateRuleBypassTransitions=!0,U=new i.ATNDeserializer(B).deserialize(n.toCharArray(F)),P.bypassAltsAtnCache.set(F,U)}return U}compileParseTreePattern(F,U,B){return r(this,void 0,void 0,function*(){if(!B){if(this.inputStream){let $=this.inputStream.tokenSource;$ instanceof u.Lexer&&(B=$)}if(!B)throw new Error("Parser can't discover a lexer to use")}let N=B,T=yield Promise.resolve().then(()=>vV());return new T.ParseTreePatternMatcher(N,this).compile(F,U)})}get errorHandler(){return this._errHandler}set errorHandler(F){this._errHandler=F}get inputStream(){return this._input}set inputStream(F){this.reset(!1),this._input=F}get currentToken(){return this._input.LT(1)}notifyErrorListeners(F,U,B){U===void 0?U=this.currentToken:U===null&&(U=void 0),this._syntaxErrors++;let N=-1,T=-1;U!=null&&(N=U.line,T=U.charPositionInLine);let M=this.getErrorListenerDispatch();M.syntaxError&&M.syntaxError(this,U,N,T,F,B)}consume(){let F=this.currentToken;F.type!==P.EOF&&this.inputStream.consume();let U=this._parseListeners.length!==0;if(this._buildParseTrees||U)if(this._errHandler.inErrorRecoveryMode(this)){let B=this._ctx.addErrorNode(this.createErrorNode(this._ctx,F));if(U)for(let N of this._parseListeners)N.visitErrorNode&&N.visitErrorNode(B)}else{let B=this.createTerminalNode(this._ctx,F);if(this._ctx.addChild(B),U)for(let N of this._parseListeners)N.visitTerminal&&N.visitTerminal(B)}return F}createTerminalNode(F,U){return new D.TerminalNode(U)}createErrorNode(F,U){return new a.ErrorNode(U)}addContextToParseTree(){let F=this._ctx._parent;F!=null&&F.addChild(this._ctx)}enterRule(F,U,B){this.state=U,this._ctx=F,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(F,U,B){if(this.state=U,this._buildParseTrees){let N=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),N._parent=F,F.addChild(N)}this._ctx=F,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(F,U){if(F.altNumber=U,this._buildParseTrees&&this._ctx!==F){let B=this._ctx._parent;B!=null&&(B.removeLastChild(),B.addChild(F))}this._ctx=F}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(F,U,B,N){this.state=U,this._precedenceStack.push(N),this._ctx=F,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(F,U,B){let N=this._ctx;N._parent=F,N.invokingState=U,N._stop=this._input.tryLT(-1),this._ctx=F,this._ctx._start=N._start,this._buildParseTrees&&this._ctx.addChild(N),this.triggerEnterRuleEvent()}unrollRecursionContexts(F){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let U=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==F;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=F;U._parent=F,this._buildParseTrees&&F!=null&&F.addChild(U)}getInvokingContext(F){let U=this._ctx;for(;U&&U.ruleIndex!==F;)U=U._parent;return U}get context(){return this._ctx}set context(F){this._ctx=F}precpred(F,U){return U>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new x.ProxyParserErrorListener(this.getErrorListeners())}inContext(F){return!1}isExpectedToken(F){let U=this.interpreter.atn,B=this._ctx,N=U.states[this.state],T=U.nextTokens(N);if(T.contains(F))return!0;if(!T.contains(A.Token.EPSILON))return!1;for(;B!=null&&B.invokingState>=0&&T.contains(A.Token.EPSILON);){let $=U.states[B.invokingState].transition(0);if(T=U.nextTokens($.followState),T.contains(F))return!0;B=B._parent}return!!(T.contains(A.Token.EPSILON)&&F===A.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let F=this.interpreter.atn,U=F.states[this.state];return F.nextTokens(U)}getRuleIndex(F){let U=this.getRuleIndexMap().get(F);return U!=null?U:-1}get ruleContext(){return this._ctx}getRuleInvocationStack(F=this._ctx){let U=F,B=this.ruleNames,N=[];for(;U!=null;){let T=U.ruleIndex;T<0?N.push("n/a"):N.push(B[T]),U=U._parent}return N}getDFAStrings(){let F=[];for(let U of this._interp.atn.decisionToDFA)F.push(U.toString(this.vocabulary,this.ruleNames));return F}dumpDFA(){let F=!1;for(let U of this._interp.atn.decisionToDFA)U.isEmpty||(F&&console.log(),console.log("Decision "+U.decision+":"),process.stdout.write(U.toString(this.vocabulary,this.ruleNames)),F=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>zP()).then(F=>{let U=this.interpreter;if(U instanceof F.ProfilingATNSimulator)return new f.ParseInfo(U)})}setProfile(F){return r(this,void 0,void 0,function*(){let U=yield Promise.resolve().then(()=>zP()),B=this.interpreter;F?B instanceof U.ProfilingATNSimulator||(this.interpreter=new U.ProfilingATNSimulator(this)):B instanceof U.ProfilingATNSimulator&&(this.interpreter=new g.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(B.getPredictionMode())})}set isTrace(F){F?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new R(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return this._tracer!=null}}return P.bypassAltsAtnCache=new Map,t([d.NotNull],P.prototype,"_errHandler",void 0),t([d.NotNull],P.prototype,"match",null),t([d.NotNull],P.prototype,"matchWildcard",null),t([d.NotNull],P.prototype,"getParseListeners",null),t([e(0,d.NotNull)],P.prototype,"addParseListener",null),t([d.NotNull],P.prototype,"getATNWithBypassAlts",null),t([d.NotNull,e(0,d.NotNull)],P.prototype,"errorHandler",null),t([d.Override],P.prototype,"inputStream",null),t([d.NotNull],P.prototype,"currentToken",null),t([e(0,d.NotNull)],P.prototype,"enterRule",null),t([d.Override,e(0,d.Nullable)],P.prototype,"precpred",null),t([d.Override],P.prototype,"getErrorListenerDispatch",null),t([d.NotNull],P.prototype,"getExpectedTokens",null),t([d.NotNull],P.prototype,"getExpectedTokensWithinCurrentRule",null),t([d.Override],P.prototype,"parseInfo",null),d_.Parser=P,d_}var $P;function z1(){if($P)return h_;$P=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(i,o,a,l){var u=arguments.length,d=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(i,o,a,l);else for(var g=i.length-1;g>=0;g--)(f=i[g])&&(d=(u<3?f(d):u>3?f(o,a,d):f(o,a))||d);return u>3&&d&&Object.defineProperty(o,a,d),d};Object.defineProperty(h_,"__esModule",{value:!0}),h_.NoViableAltException=void 0;const e=Tg(),r=ka,n=qe;class s extends r.RecognitionException{constructor(o,a,l,u,d,f){o instanceof e.Parser&&(a===void 0&&(a=o.inputStream),l===void 0&&(l=o.currentToken),u===void 0&&(u=o.currentToken),f===void 0&&(f=o.context)),super(o,a,f),this._deadEndConfigs=d,this._startToken=l,this.setOffendingToken(o,u)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}}return t([n.NotNull],s.prototype,"_startToken",void 0),h_.NoViableAltException=s,h_}var KP;function Tb(){if(KP)return Zf;KP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(g,x,E,D){var A=arguments.length,R=A<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,E):D,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(g,x,E,D);else for(var O=g.length-1;O>=0;O--)(P=g[O])&&(R=(A<3?P(R):A>3?P(x,E,R):P(x,E))||R);return A>3&&R&&Object.defineProperty(x,E,R),R},e=K&&K.__param||function(g,x){return function(E,D){x(E,D,g)}};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.DefaultErrorStrategy=void 0;const r=ba,n=Xn,s=_f,i=fh,o=yh(),a=z1(),l=Bo(),u=yr,d=qe;class f{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=r.ATNState.INVALID_STATE_NUMBER}reset(x){this.endErrorCondition(x)}beginErrorCondition(x){this.errorRecoveryMode=!0}inErrorRecoveryMode(x){return this.errorRecoveryMode}endErrorCondition(x){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(x){this.endErrorCondition(x)}reportError(x,E){this.inErrorRecoveryMode(x)||(this.beginErrorCondition(x),E instanceof a.NoViableAltException?this.reportNoViableAlternative(x,E):E instanceof i.InputMismatchException?this.reportInputMismatch(x,E):E instanceof s.FailedPredicateException?this.reportFailedPredicate(x,E):(console.error(`unknown recognition error type: ${E}`),this.notifyErrorListeners(x,E.toString(),E)))}notifyErrorListeners(x,E,D){let A=D.getOffendingToken(x);A===void 0&&(A=null),x.notifyErrorListeners(E,A,D)}recover(x,E){this.lastErrorIndex===x.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(x.state)&&x.consume(),this.lastErrorIndex=x.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new o.IntervalSet),this.lastErrorStates.add(x.state);let D=this.getErrorRecoverySet(x);this.consumeUntil(x,D)}sync(x){let E=x.interpreter.atn.states[x.state];if(this.inErrorRecoveryMode(x))return;let A=x.inputStream.LA(1),R=x.atn.nextTokens(E);if(R.contains(A)){this.nextTokensContext=void 0,this.nextTokensState=r.ATNState.INVALID_STATE_NUMBER;return}if(R.contains(u.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=x.context,this.nextTokensState=x.state);return}switch(E.stateType){case n.ATNStateType.BLOCK_START:case n.ATNStateType.STAR_BLOCK_START:case n.ATNStateType.PLUS_BLOCK_START:case n.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(x))return;throw new i.InputMismatchException(x);case n.ATNStateType.PLUS_LOOP_BACK:case n.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(x);let O=x.getExpectedTokens().or(this.getErrorRecoverySet(x));this.consumeUntil(x,O);break}}reportNoViableAlternative(x,E){let D=x.inputStream,A;D?E.startToken.type===u.Token.EOF?A="<EOF>":A=D.getTextFromRange(E.startToken,E.getOffendingToken()):A="<unknown input>";let R="no viable alternative at input "+this.escapeWSAndQuote(A);this.notifyErrorListeners(x,R,E)}reportInputMismatch(x,E){let D=E.expectedTokens,A=D?D.toStringVocabulary(x.vocabulary):"",R="mismatched input "+this.getTokenErrorDisplay(E.getOffendingToken(x))+" expecting "+A;this.notifyErrorListeners(x,R,E)}reportFailedPredicate(x,E){let A="rule "+x.ruleNames[x.context.ruleIndex]+" "+E.message;this.notifyErrorListeners(x,A,E)}reportUnwantedToken(x){if(this.inErrorRecoveryMode(x))return;this.beginErrorCondition(x);let E=x.currentToken,D=this.getTokenErrorDisplay(E),A=this.getExpectedTokens(x),R="extraneous input "+D+" expecting "+A.toStringVocabulary(x.vocabulary);x.notifyErrorListeners(R,E,void 0)}reportMissingToken(x){if(this.inErrorRecoveryMode(x))return;this.beginErrorCondition(x);let E=x.currentToken,A="missing "+this.getExpectedTokens(x).toStringVocabulary(x.vocabulary)+" at "+this.getTokenErrorDisplay(E);x.notifyErrorListeners(A,E,void 0)}recoverInline(x){let E=this.singleTokenDeletion(x);if(E)return x.consume(),E;if(this.singleTokenInsertion(x))return this.getMissingSymbol(x);throw this.nextTokensContext===void 0?new i.InputMismatchException(x):new i.InputMismatchException(x,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(x){let E=x.inputStream.LA(1),A=x.interpreter.atn.states[x.state].transition(0).target,R=x.interpreter.atn;return R.nextTokens(A,l.PredictionContext.fromRuleContext(R,x.context)).contains(E)?(this.reportMissingToken(x),!0):!1}singleTokenDeletion(x){let E=x.inputStream.LA(2);if(this.getExpectedTokens(x).contains(E)){this.reportUnwantedToken(x),x.consume();let A=x.currentToken;return this.reportMatch(x),A}}getMissingSymbol(x){let E=x.currentToken,D=this.getExpectedTokens(x),A=u.Token.INVALID_TYPE;D.isNil||(A=D.minElement);let R;A===u.Token.EOF?R="<missing EOF>":R="<missing "+x.vocabulary.getDisplayName(A)+">";let P=E,O=x.inputStream.tryLT(-1);return P.type===u.Token.EOF&&O!=null&&(P=O),this.constructToken(x.inputStream.tokenSource,A,R,P)}constructToken(x,E,D,A){let R=x.tokenFactory,P=A.tokenSource,O=P?P.inputStream:void 0;return R.create({source:x,stream:O},E,D,u.Token.DEFAULT_CHANNEL,-1,-1,A.line,A.charPositionInLine)}getExpectedTokens(x){return x.getExpectedTokens()}getTokenErrorDisplay(x){if(!x)return"<no token>";let E=this.getSymbolText(x);return E||(this.getSymbolType(x)===u.Token.EOF?E="<EOF>":E=`<${this.getSymbolType(x)}>`),this.escapeWSAndQuote(E)}getSymbolText(x){return x.text}getSymbolType(x){return x.type}escapeWSAndQuote(x){return x=x.replace(`
`,"\\n"),x=x.replace("\r","\\r"),x=x.replace("	","\\t"),"'"+x+"'"}getErrorRecoverySet(x){let E=x.interpreter.atn,D=x.context,A=new o.IntervalSet;for(;D&&D.invokingState>=0;){let P=E.states[D.invokingState].transition(0),O=E.nextTokens(P.followState);A.addAll(O),D=D._parent}return A.remove(u.Token.EPSILON),A}consumeUntil(x,E){let D=x.inputStream.LA(1);for(;D!==u.Token.EOF&&!E.contains(D);)x.consume(),D=x.inputStream.LA(1)}}return t([d.Override],f.prototype,"reset",null),t([e(0,d.NotNull)],f.prototype,"beginErrorCondition",null),t([d.Override],f.prototype,"inErrorRecoveryMode",null),t([e(0,d.NotNull)],f.prototype,"endErrorCondition",null),t([d.Override],f.prototype,"reportMatch",null),t([d.Override],f.prototype,"reportError",null),t([e(0,d.NotNull)],f.prototype,"notifyErrorListeners",null),t([d.Override],f.prototype,"recover",null),t([d.Override],f.prototype,"sync",null),t([e(0,d.NotNull),e(1,d.NotNull)],f.prototype,"reportNoViableAlternative",null),t([e(0,d.NotNull),e(1,d.NotNull)],f.prototype,"reportInputMismatch",null),t([e(0,d.NotNull),e(1,d.NotNull)],f.prototype,"reportFailedPredicate",null),t([e(0,d.NotNull)],f.prototype,"reportUnwantedToken",null),t([e(0,d.NotNull)],f.prototype,"reportMissingToken",null),t([d.Override],f.prototype,"recoverInline",null),t([e(0,d.NotNull)],f.prototype,"singleTokenInsertion",null),t([e(0,d.NotNull)],f.prototype,"singleTokenDeletion",null),t([d.NotNull,e(0,d.NotNull)],f.prototype,"getMissingSymbol",null),t([d.NotNull,e(0,d.NotNull)],f.prototype,"getExpectedTokens",null),t([e(0,d.NotNull)],f.prototype,"getSymbolText",null),t([e(0,d.NotNull)],f.prototype,"getSymbolType",null),t([d.NotNull,e(0,d.NotNull)],f.prototype,"escapeWSAndQuote",null),t([d.NotNull,e(0,d.NotNull)],f.prototype,"getErrorRecoverySet",null),t([e(0,d.NotNull),e(1,d.NotNull)],f.prototype,"consumeUntil",null),Zf.DefaultErrorStrategy=f,Zf}var XP;function tN(){if(XP)return Jf;XP=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var t=K&&K.__decorate||function(o,a,l,u){var d=arguments.length,f=d<3?a:u===null?u=Object.getOwnPropertyDescriptor(a,l):u,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,a,l,u);else for(var x=o.length-1;x>=0;x--)(g=o[x])&&(f=(d<3?g(f):d>3?g(a,l,f):g(a,l))||f);return d>3&&f&&Object.defineProperty(a,l,f),f};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.BailErrorStrategy=void 0;const e=Tb(),r=fh,n=qe,s=bg;class i extends e.DefaultErrorStrategy{recover(a,l){for(let u=a.context;u;u=u.parent)u.exception=l;throw new s.ParseCancellationException(l)}recoverInline(a){let l=new r.InputMismatchException(a);for(let u=a.context;u;u=u.parent)u.exception=l;throw new s.ParseCancellationException(l)}sync(a){}}return t([n.Override],i.prototype,"recover",null),t([n.Override],i.prototype,"recoverInline",null),t([n.Override],i.prototype,"sync",null),Jf.BailErrorStrategy=i,Jf}var rN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(rN,"__esModule",{value:!0});var nN={};(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(t,"__esModule",{value:!0}),t.Dependents=void 0,function(e){e[e.SELF=0]="SELF",e[e.PARENTS=1]="PARENTS",e[e.CHILDREN=2]="CHILDREN",e[e.ANCESTORS=3]="ANCESTORS",e[e.DESCENDANTS=4]="DESCENDANTS",e[e.SIBLINGS=5]="SIBLINGS",e[e.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",e[e.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",e[e.PRECEEDING=8]="PRECEEDING",e[e.FOLLOWING=9]="FOLLOWING"}(t.Dependents||(t.Dependents={}))})(nN);var W1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Cf=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},oo=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(W1,"__esModule",{value:!0});W1.DiagnosticErrorListener=void 0;const TV=No,ni=qe,ME=ui;class wh{constructor(e=!0){this.exactOnly=e,this.exactOnly=e}syntaxError(e,r,n,s,i,o){}reportAmbiguity(e,r,n,s,i,o,a){if(this.exactOnly&&!i)return;let l=this.getDecisionDescription(e,r),u=this.getConflictingAlts(o,a),d=e.inputStream.getText(ME.Interval.of(n,s)),f=`reportAmbiguity d=${l}: ambigAlts=${u}, input='${d}'`;e.notifyErrorListeners(f)}reportAttemptingFullContext(e,r,n,s,i,o){let a=this.getDecisionDescription(e,r),l=e.inputStream.getText(ME.Interval.of(n,s)),u=`reportAttemptingFullContext d=${a}, input='${l}'`;e.notifyErrorListeners(u)}reportContextSensitivity(e,r,n,s,i,o){let a=this.getDecisionDescription(e,r),l=e.inputStream.getText(ME.Interval.of(n,s)),u=`reportContextSensitivity d=${a}, input='${l}'`;e.notifyErrorListeners(u)}getDecisionDescription(e,r){let n=r.decision,s=r.atnStartState.ruleIndex,i=e.ruleNames;if(s<0||s>=i.length)return n.toString();let o=i[s];return o?`${n} (${o})`:n.toString()}getConflictingAlts(e,r){if(e!=null)return e;let n=new TV.BitSet;for(let s of r)n.set(s.alt);return n}}Cf([ni.Override],wh.prototype,"syntaxError",null);Cf([ni.Override,oo(0,ni.NotNull),oo(1,ni.NotNull),oo(6,ni.NotNull)],wh.prototype,"reportAmbiguity",null);Cf([ni.Override,oo(0,ni.NotNull),oo(1,ni.NotNull),oo(5,ni.NotNull)],wh.prototype,"reportAttemptingFullContext",null);Cf([ni.Override,oo(0,ni.NotNull),oo(1,ni.NotNull),oo(5,ni.NotNull)],wh.prototype,"reportContextSensitivity",null);Cf([oo(0,ni.NotNull),oo(1,ni.NotNull)],wh.prototype,"getDecisionDescription",null);Cf([ni.NotNull,oo(1,ni.NotNull)],wh.prototype,"getConflictingAlts",null);W1.DiagnosticErrorListener=wh;var $1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Fu=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},CV=K&&K.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty($1,"__esModule",{value:!0});$1.LexerInterpreter=void 0;const PV=Bu(),DV=v1(),iN=qe,Pf=qe;let ya=class extends PV.Lexer{constructor(e,r,n,s,i,o,a){if(super(a),o.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");this._grammarFileName=e,this._atn=o,this._ruleNames=n.slice(0),this._channelNames=s.slice(0),this._modeNames=i.slice(0),this._vocabulary=r,this._interp=new DV.LexerATNSimulator(o,this)}get atn(){return this._atn}get grammarFileName(){return this._grammarFileName}get ruleNames(){return this._ruleNames}get channelNames(){return this._channelNames}get modeNames(){return this._modeNames}get vocabulary(){return this._vocabulary}};Fu([iN.NotNull],ya.prototype,"_vocabulary",void 0);Fu([Pf.Override],ya.prototype,"atn",null);Fu([Pf.Override],ya.prototype,"grammarFileName",null);Fu([Pf.Override],ya.prototype,"ruleNames",null);Fu([Pf.Override],ya.prototype,"channelNames",null);Fu([Pf.Override],ya.prototype,"modeNames",null);Fu([Pf.Override],ya.prototype,"vocabulary",null);ya=Fu([CV(1,iN.NotNull)],ya);$1.LexerInterpreter=ya;var sN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(sN,"__esModule",{value:!0});var K1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var RV=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(K1,"__esModule",{value:!0});K1.RuleContextWithAltNum=void 0;const OV=Pa(),BV=qe,NV=Io();class oN extends NV.ParserRuleContext{constructor(e,r){r!==void 0?super(e,r):super(),this._altNumber=OV.ATN.INVALID_ALT_NUMBER}get altNumber(){return this._altNumber}set altNumber(e){this._altNumber=e}}RV([BV.Override],oN.prototype,"altNumber",null);K1.RuleContextWithAltNum=oN;var X1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(X1,"__esModule",{value:!0});X1.RuleDependency=void 0;function FV(t){return(e,r,n)=>{}}X1.RuleDependency=FV;var Y1={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Y1,"__esModule",{value:!0});Y1.RuleVersion=void 0;function IV(t){return(e,r,n)=>{}}Y1.RuleVersion=IV;var aN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(aN,"__esModule",{value:!0});var lN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(lN,"__esModule",{value:!0});var uN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(uN,"__esModule",{value:!0});var Xd={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var q1=K&&K.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.RewriteOperation=Xd.TokenStreamRewriter=void 0;const YP=ui,Q1=qe,cN=yr;class Ei{constructor(e){this.tokens=e,this.programs=new Map,this.programs.set(Ei.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}getTokenStream(){return this.tokens}rollback(e,r=Ei.DEFAULT_PROGRAM_NAME){let n=this.programs.get(r);n!=null&&this.programs.set(r,n.slice(Ei.MIN_TOKEN_INDEX,e))}deleteProgram(e=Ei.DEFAULT_PROGRAM_NAME){this.rollback(Ei.MIN_TOKEN_INDEX,e)}insertAfter(e,r,n=Ei.DEFAULT_PROGRAM_NAME){let s;typeof e=="number"?s=e:s=e.tokenIndex;let i=this.getProgram(n),o=new qP(this.tokens,s,i.length,r);i.push(o)}insertBefore(e,r,n=Ei.DEFAULT_PROGRAM_NAME){let s;typeof e=="number"?s=e:s=e.tokenIndex;let i=this.getProgram(n),o=new sc(this.tokens,s,i.length,r);i.push(o)}replaceSingle(e,r){typeof e=="number"?this.replace(e,e,r):this.replace(e,e,r)}replace(e,r,n,s=Ei.DEFAULT_PROGRAM_NAME){if(typeof e!="number"&&(e=e.tokenIndex),typeof r!="number"&&(r=r.tokenIndex),e>r||e<0||r<0||r>=this.tokens.size)throw new RangeError(`replace: range invalid: ${e}..${r}(size=${this.tokens.size})`);let i=this.getProgram(s),o=new Zh(this.tokens,e,r,i.length,n);i.push(o)}delete(e,r,n=Ei.DEFAULT_PROGRAM_NAME){r===void 0&&(r=e),typeof e=="number"?this.replace(e,r,"",n):this.replace(e,r,"",n)}getLastRewriteTokenIndex(e=Ei.DEFAULT_PROGRAM_NAME){let r=this.lastRewriteTokenIndexes.get(e);return r==null?-1:r}setLastRewriteTokenIndex(e,r){this.lastRewriteTokenIndexes.set(e,r)}getProgram(e){let r=this.programs.get(e);return r==null&&(r=this.initializeProgram(e)),r}initializeProgram(e){let r=[];return this.programs.set(e,r),r}getText(e,r=Ei.DEFAULT_PROGRAM_NAME){let n;e instanceof YP.Interval?n=e:n=YP.Interval.of(0,this.tokens.size-1),typeof e=="string"&&(r=e);let s=this.programs.get(r),i=n.a,o=n.b;if(o>this.tokens.size-1&&(o=this.tokens.size-1),i<0&&(i=0),s==null||s.length===0)return this.tokens.getText(n);let a=[],l=this.reduceToSingleOperationPerIndex(s),u=i;for(;u<=o&&u<this.tokens.size;){let d=l.get(u);l.delete(u);let f=this.tokens.get(u);d==null?(f.type!==cN.Token.EOF&&a.push(String(f.text)),u++):u=d.execute(a)}if(o===this.tokens.size-1)for(let d of l.values())d.index>=this.tokens.size-1&&a.push(d.text.toString());return a.join("")}reduceToSingleOperationPerIndex(e){for(let n=0;n<e.length;n++){let s=e[n];if(s==null||!(s instanceof Zh))continue;let i=s,o=this.getKindOfOps(e,sc,n);for(let l of o)l.index===i.index?(e[l.instructionIndex]=void 0,i.text=l.text.toString()+(i.text!=null?i.text.toString():"")):l.index>i.index&&l.index<=i.lastIndex&&(e[l.instructionIndex]=void 0);let a=this.getKindOfOps(e,Zh,n);for(let l of a){if(l.index>=i.index&&l.lastIndex<=i.lastIndex){e[l.instructionIndex]=void 0;continue}let u=l.lastIndex<i.index||l.index>i.lastIndex;if(l.text==null&&i.text==null&&!u)e[l.instructionIndex]=void 0,i.index=Math.min(l.index,i.index),i.lastIndex=Math.max(l.lastIndex,i.lastIndex);else if(!u)throw new Error(`replace op boundaries of ${i} overlap with previous ${l}`)}}for(let n=0;n<e.length;n++){let s=e[n];if(s==null||!(s instanceof sc))continue;let i=s,o=this.getKindOfOps(e,sc,n);for(let l of o)l.index===i.index&&(l instanceof qP?(i.text=this.catOpText(l.text,i.text),e[l.instructionIndex]=void 0):l instanceof sc&&(i.text=this.catOpText(i.text,l.text),e[l.instructionIndex]=void 0));let a=this.getKindOfOps(e,Zh,n);for(let l of a){if(i.index===l.index){l.text=this.catOpText(i.text,l.text),e[n]=void 0;continue}if(i.index>=l.index&&i.index<=l.lastIndex)throw new Error(`insert op ${i} within boundaries of previous ${l}`)}}let r=new Map;for(let n of e)if(n!=null){if(r.get(n.index)!=null)throw new Error("should only be one op per index");r.set(n.index,n)}return r}catOpText(e,r){let n="",s="";return e!=null&&(n=e.toString()),r!=null&&(s=r.toString()),n+s}getKindOfOps(e,r,n){let s=[];for(let i=0;i<n&&i<e.length;i++){let o=e[i];o!=null&&o instanceof r&&s.push(o)}return s}}Xd.TokenStreamRewriter=Ei;Ei.DEFAULT_PROGRAM_NAME="default";Ei.PROGRAM_INIT_SIZE=100;Ei.MIN_TOKEN_INDEX=0;class J1{constructor(e,r,n,s){this.tokens=e,this.instructionIndex=n,this.index=r,this.text=s===void 0?"":s}execute(e){return this.index}toString(){let e=this.constructor.name,r=e.indexOf("$");return e=e.substring(r+1,e.length),"<"+e+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}q1([Q1.Override],J1.prototype,"toString",null);Xd.RewriteOperation=J1;class sc extends J1{constructor(e,r,n,s){super(e,r,n,s)}execute(e){return e.push(this.text.toString()),this.tokens.get(this.index).type!==cN.Token.EOF&&e.push(String(this.tokens.get(this.index).text)),this.index+1}}q1([Q1.Override],sc.prototype,"execute",null);class qP extends sc{constructor(e,r,n,s){super(e,r+1,n,s)}}class Zh extends J1{constructor(e,r,n,s,i){super(e,r,s,i),this.lastIndex=n}execute(e){return this.text!=null&&e.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}q1([Q1.Override],Zh.prototype,"execute",null);q1([Q1.Override],Zh.prototype,"toString",null);var hN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(hN,"__esModule",{value:!0});var dN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(dN,"__esModule",{value:!0});(function(t){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=K&&K.__createBinding||(Object.create?function(n,s,i,o){o===void 0&&(o=i),Object.defineProperty(n,o,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,o){o===void 0&&(o=i),n[o]=s[i]}),r=K&&K.__exportStar||function(n,s){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(K3,t),r(X3,t),r(s1,t),r(tN(),t),r(wg,t),r(rN,t),r(H1,t),r(bb,t),r(Ag,t),r(Pu,t),r(f1,t),r(kf,t),r(rg,t),r(Tb(),t),r(nN,t),r(W1,t),r(_f,t),r(fh,t),r(JB(),t),r(gl,t),r(Bu(),t),r($1,t),r(xh,t),r(Sg,t),r(z1(),t),r(Tg(),t),r(sN,t),r(ZB(),t),r(Io(),t),r(mf,t),r(Eg,t),r(ka,t),r(Du,t),r(jB(),t),r(K1,t),r(X1,t),r(Y1,t),r(yr,t),r(aN,t),r(lN,t),r(uN,t),r(Xd,t),r(hN,t),r(xl,t),r(dN,t)})(YA);class QP{constructor(){c(this,"_isValid",!0);c(this,"_errorMessage")}get isValid(){return this._isValid}get errorMessage(){return this._errorMessage}syntaxError(e,r,n,s,i,o){this._isValid=!1,this._errorMessage=`line ${n}:${s} ${i}`}}class Cb extends Qi{constructor(r){super();c(this,"url_");this.url_=r}Accept(r){$e()}EQ(r){return this.url_===r.url_}GetTypeId(){return lr(Cb)}ToString(){return"url("+this.url_+")"}}function MV(t,e,r){const n=fN.get(e);if(!n)return!1;for(let s of n)t.SetPropertyValue(s,r);return!0}const fN=new Map;function Z1(t,e){fN.set(t,e)}Z1(C.kBorderColorProperty,[C.kBorderTopColorProperty,C.kBorderRightColorProperty,C.kBorderBottomColorProperty,C.kBorderLeftColorProperty]);Z1(C.kBorderStyleProperty,[C.kBorderTopStyleProperty,C.kBorderRightStyleProperty,C.kBorderBottomStyleProperty,C.kBorderLeftStyleProperty]);Z1(C.kBorderWidthProperty,[C.kBorderTopWidthProperty,C.kBorderRightWidthProperty,C.kBorderBottomWidthProperty,C.kBorderLeftWidthProperty]);Z1(C.kPaddingProperty,[C.kPaddingTopProperty,C.kPaddingRightProperty,C.kPaddingBottomProperty,C.kPaddingLeftProperty]);class LV{constructor(e){c(this,"currentKey",null);c(this,"currentValue",null);c(this,"terms",[]);c(this,"args",[]);this.style=e}currentKeyIsColor(){return Q(this.currentKey),this.currentKey.endsWith("color")||this.currentKey.endsWith("Color")}visitInlineStyle(e){e.children.forEach(r=>r.accept(this))}visitAny_(e){$e()}visitBadProperty(e){$e()}visitCalc(e){$e()}visitCalcProduct(e){$e()}visitCalcSum(e){$e()}visitCalcValue(e){$e()}visitDeclarationList(e){e.children.forEach(r=>r.accept(this))}visitDimension(e){const{text:r}=e;r.endsWith("px")?this.terms.push(new nr(parseFloat(r),jt.kPixelsUnit)):$e()}visitExpr(e){e.children.length===1?(e.children[0].accept(this),this.currentValue=this.terms[0]):$e(),this.terms.length=0}visitFunction_(e){const r=e.Function_().text;if(r==="rgb("){let n=e.expr();Q(n),Q(n.children),this.args.length=0,n.children.forEach(l=>l.accept(this));const[s,i,o,a]=this.args;this.args.length=0,this.terms.push(new Cr(s,i,o,255))}else if(r==="rgba("){let n=e.expr();Q(n),Q(n.children),this.args.length=0,n.children.forEach(l=>l.accept(this));const[s,i,o,a]=this.args;this.args.length=0,this.terms.push(new Cr(s,i,o,a*255))}else $e()}visitGeneralEnclosed(e){$e()}visitGoodOperator(e){}visitGoodProperty(e){e.ident()?this.currentKey=e.ident().text:$e()}visitHexcolor(e){this.terms.push(Cr.fromHex(e.text))}visitIdent(e){this.terms.push(pe.fromString(e.text))}visitKnownDeclaration(e){if(e.children.forEach(r=>r.accept(this)),this.currentKey&&this.currentValue){const r=z3(this.currentKey);Q(r);const n=this.style.data();MV(n,r,this.currentValue)||n.SetPropertyValue(r,this.currentValue),this.currentKey=null,this.currentValue=null}else $e()}visitKnownTerm(e){e.number()?this.visitNumber(e.number()):e.percentage()?$e():e.dimension()?e.dimension().accept(this):e.String_()?this.terms.push(new i1(e.String_().text)):e.UnicodeRange()?$e():e.ident()?this.currentKeyIsColor()?this.terms.push(Cr.fromString(e.ident().text)):e.ident().accept(this):e.var_()?$e():e.Uri()?this.visitUri(e.Uri()):e.hexcolor()?this.visitHexcolor(e.hexcolor()):e.calc()?$e():e.function_()?this.visitFunction_(e.function_()):$e()}visitNumber(e){this.args.push(+e.text)}visitOperator_(e){$e()}visitPercentage(e){$e()}visitProperty_(e){$e()}visitTerm(e){$e()}visitUnknownDeclaration(e){$e()}visitUnknownDimension(e){$e()}visitUnknownTerm(e){$e()}visitUnused(e){$e()}visitValue(e){$e()}visitVar_(e){$e()}visitWs(e){}visit(e){$e()}visitChildren(e){$e()}visitErrorNode(e){$e()}visitTerminal(e){}visitUri(e){const r=e.text.match(/^url\('?(.+)'?\)$/i);r||gt(),this.terms.push(new Cb(r[1]))}}var _N=vb(),UV=Bu(),GV=v1();const Zn=class extends UV.Lexer{get vocabulary(){return Zn.VOCABULARY}constructor(e){super(e),this._interp=new GV.LexerATNSimulator(Zn._ATN,this)}get grammarFileName(){return"inline.g4"}get ruleNames(){return Zn.ruleNames}get serializedATN(){return Zn._serializedATN}get channelNames(){return Zn.channelNames}get modeNames(){return Zn.modeNames}static get _ATN(){return Zn.__ATN||(Zn.__ATN=new _N.ATNDeserializer().deserialize(ub(Zn._serializedATN))),Zn.__ATN}};let Ht=Zn;c(Ht,"T__0",1),c(Ht,"T__1",2),c(Ht,"T__2",3),c(Ht,"T__3",4),c(Ht,"T__4",5),c(Ht,"T__5",6),c(Ht,"T__6",7),c(Ht,"T__7",8),c(Ht,"T__8",9),c(Ht,"Comment",10),c(Ht,"Space",11),c(Ht,"Includes",12),c(Ht,"DashMatch",13),c(Ht,"Hash",14),c(Ht,"Important",15),c(Ht,"Percentage",16),c(Ht,"Uri",17),c(Ht,"UnicodeRange",18),c(Ht,"Dimension",19),c(Ht,"UnknownDimension",20),c(Ht,"Plus",21),c(Ht,"Minus",22),c(Ht,"Greater",23),c(Ht,"Comma",24),c(Ht,"Tilde",25),c(Ht,"PseudoNot",26),c(Ht,"Number",27),c(Ht,"String_",28),c(Ht,"PrefixMatch",29),c(Ht,"SuffixMatch",30),c(Ht,"SubstringMatch",31),c(Ht,"Or",32),c(Ht,"Calc",33),c(Ht,"Variable",34),c(Ht,"Var",35),c(Ht,"Ident",36),c(Ht,"Function_",37),c(Ht,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),c(Ht,"modeNames",["DEFAULT_MODE"]),c(Ht,"ruleNames",["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","T__8","Hex","NewlineOrSpace","Unicode","Escape","Nmstart","Nmchar","Comment","Name","Url","Space","Whitespace","Newline","ZeroToFourZeros","A","B","C","D","E","F","G","H","I","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","DashChar","Includes","DashMatch","Hash","Important","FontRelative","ViewportRelative","AbsLength","Angle","Time","Freq","Percentage","Uri","UnicodeRange","Resolution","Length","Dimension","UnknownDimension","Nonascii","Plus","Minus","Greater","Comma","Tilde","PseudoNot","Number","String_","PrefixMatch","SuffixMatch","SubstringMatch","Or","VendorPrefix","Calc","Variable","Var","Ident","Function_"]),c(Ht,"_LITERAL_NAMES",[void 0,"';'","'/'","'*'","'_'","':'","')'","'('","'['","']'",void 0,void 0,"'~='","'|='",void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'+'","'-'","'>'","','","'~'",void 0,void 0,void 0,"'^='","'$='","'*='",void 0,"'calc('",void 0,"'var('"]),c(Ht,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"Comment","Space","Includes","DashMatch","Hash","Important","Percentage","Uri","UnicodeRange","Dimension","UnknownDimension","Plus","Minus","Greater","Comma","Tilde","PseudoNot","Number","String_","PrefixMatch","SuffixMatch","SubstringMatch","Or","Calc","Variable","Var","Ident","Function_"]),c(Ht,"VOCABULARY",new fb(Zn._LITERAL_NAMES,Zn._SYMBOLIC_NAMES,[])),c(Ht,"_serializedATNSegments",3),c(Ht,"_serializedATNSegment0",`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241'\u046E\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r													\x1B	\x1B				 	 !	!"	"#	#$	$%	%&	&'	'(	()	)*	*+	+,	,-	-.	./	/0	01	12	23	34	45	56	67	78	89	9:	:;	;<	<=	=>	>?	?@	@A	AB	BC	CD	DE	EF	FG	GH	HI	IJ	JK	KL	LM	MN	NO	OP	PQ	QR	RS	ST	TU	U\x07\x07\b\b		

\v\v\f\f\f\f\f\xC4
\f\r\r\r\r\xC9
\r\r\r\xCC
\r\r\r\xCF
\r\r\r\xD2
\r\r\r\xD5
\r\r\r\xDC
\xE1
\xE6
\x07\xEC
\f\xEF\v\xF2
\r\xF3\x07\xF8
\f\xFB\v\xFE
\r\xFF\x07\u0102
\f\u0105\v\u010A
\r\u010B\x07\u0111
\f\u0114\v\u0117
\r\u0118\u011D
\u0123
\u0126
\u0129
\u012C
\u012F
\u0138
\u013C
\u0145
\u0149
\u0152
\u0156
\x1B\x1B\x1B\x1B\x1B\x1B\x1B\x1B\u015F
\x1B\x1B\x1B\x1B\u0163
\x1B\u016C
\u0170
\u0179
\u017D
\u0186
\u018E
\u0197
\u019F
        \u01A8
        \u01B0
 !!!!!!!!\u01B9
!!!!!!!!\u01C1
!""""""""\u01CA
""""""""\u01D2
"########\u01DB
########\u01E3
#$$$$$$$$\u01EC
$$$$$$$$\u01F4
$%%%%%%%%\u01FD
%%%%%%%%\u0205
%&&&&&&&&\u020E
&&&&&&&&\u0216
&''''''''\u021F
''''''''\u0227
'((((((((\u0230
((((((((\u0238
())))))))\u0241
))))))))\u0249
)********\u0252
********\u025A
*++++++++\u0263
++++++++\u026B
+,,,,,,,,\u0274
,,,,,,,,\u027C
,--------\u0285
--------\u028D
-........\u0296
........\u029E
.////////\u02A7
////////\u02AF
/00000000\u02B8
00000000\u02C0
0111111111\u02CA
1222333444555\x075\u02D8
5\f55\u02DB\v55555555555666666666666666666\u02F8
6777777777777777777777\u030E
78888888888888888888888888888\u032B
899999999999999999999999\u0343
9::::::::\u034C
:;;;;;;;;;;\u0357
;<<<===================\u036E
=>>>>>>\u0375
>>>\u0378
>>>\u037B
>>>\u037E
>>>\u0381
>>>>>>\u0387
>>>\u038A
>>>\u038D
>>>\u0390
>>>\u0393
>>>>>>>\u039A
>>>\u039D
>>>\u03A0
>>>\u03A3
>>>>>>>>\u03AB
>>>\u03AE
>>>\u03B1
>>>>>>>>>\u03BA
>>>\u03BD
>>>>>>>>>>\u03C7
>>\u03C9
>??????????????????\u03DC
?@@@@\u03E1
@AAAAAA\u03E8
ABBBCCDDEEFFGGHHIIIIIIJJ\u0400
J\rJJ\u0401J\x07J\u0405
J\fJJ\u0408\vJJJJ\u040C
J\rJJ\u040DJ\u0410
JKKKKKK\x07K\u0418
K\fKK\u041B\vKKKKKKKK\x07K\u0424
K\fKK\u0427\vKKK\u042A
KLLLMMMNNNOOOPPPPPPPPPPPPPPPPPPPP\u044B
PQQQQQQRRRRR\x07R\u0458
R\fRR\u045B\vRSSSSSTT\u0463
TTT\x07T\u0467
T\fTT\u046A\vTUUUV\x07	\v\x07\r\b	
\v\x1B!\f#%'\r)+-/13579;=?ACEGIKMOQSUWY[]_acegikmoqsuwy{}\x7F\x81\x83\x85\x87\x89\x8B\x8D\x8F\x1B\x91\x93\x95\x97\x99 \x9B!\x9D"\x9F\xA1#\xA3$\xA5%\xA7&\xA9'(2;CHch\v\f""\x07\f\f2;CHchC\\aac|\x07//2;C\\aac|,,,,11##%(,\x80CCccDDddEEeeFFffGGggHHhhIIiiJJjjKKkkMMmmNNnnOOooPPppQQqqRRrrSSssTTttUUuuVVvvWWwwXXxxYYyyZZzz[[{{\\\\||WWww~~\x812;\f\f$$^^\f\f))^^\u04FB\x07	\v\r!'cegiwy{\x81\x83\x87\x89\x8B\x8D\x8F\x91\x93\x95\x97\x99\x9B\x9D\xA1\xA3\xA5\xA7\xA9\xAB\xAD\x07\xAF	\xB1\v\xB3\r\xB5\xB7\xB9\xBB\xBD\xC3\xC5\x1B\xDB\xE0\xE5!\xE7#\u0109%\u0112'\u0116)\u011C+\u0122-\u0125/\u013B1\u01483\u01555\u01627\u016F9\u017C;\u018D=\u019E?\u01AFA\u01C0C\u01D1E\u01E2G\u01F3I\u0204K\u0215M\u0226O\u0237Q\u0248S\u0259U\u026AW\u027BY\u028C[\u029D]\u02AE_\u02BFa\u02C9c\u02CBe\u02CEg\u02D1i\u02D4k\u02F7m\u030Do\u032Aq\u0342s\u034Bu\u0356w\u0358y\u036D{\u03C8}\u03DB\x7F\u03E0\x81\u03E7\x83\u03E9\x85\u03EC\x87\u03EE\x89\u03F0\x8B\u03F2\x8D\u03F4\x8F\u03F6\x91\u03F8\x93\u040F\x95\u0429\x97\u042B\x99\u042E\x9B\u0431\x9D\u0434\x9F\u044A\xA1\u044C\xA3\u0452\xA5\u045C\xA7\u0462\xA9\u046B\xAB\xAC\x07=\xAC\xAD\xAE\x071\xAE\xAF\xB0\x07,\xB0\b\xB1\xB2\x07a\xB2
\xB3\xB4\x07<\xB4\f\xB5\xB6\x07+\xB6\xB7\xB8\x07*\xB8\xB9\xBA\x07]\xBA\xBB\xBC\x07_\xBC\xBD\xBE	\xBE\xBF\xC0\x07\xC0\xC4\x07\f\xC1\xC4	\xC2\xC4\xC3\xBF\xC3\xC1\xC3\xC2\xC4\xC5\xC6\x07^\xC6\xC8\v\xC7\xC9\v\xC8\xC7\xC8\xC9\xC9\xCB\xCA\xCC\v\xCB\xCA\xCB\xCC\xCC\xCE\xCD\xCF\v\xCE\xCD\xCE\xCF\xCF\xD1\xD0\xD2\v\xD1\xD0\xD1\xD2\xD2\xD4\xD3\xD5\v\xD4\xD3\xD4\xD5\xD5\xD6\xD6\xD7\f\xD7\xD8\xDC\r\xD9\xDA\x07^\xDA\xDC
\xDB\xD8\xDB\xD9\xDC\xDD\xE1	\xDE\xE1\x85C\xDF\xE1\x1B\xE0\xDD\xE0\xDE\xE0\xDF\xE1\xE2\xE6	\xE3\xE6\x85C\xE4\xE6\x1B\xE5\xE2\xE5\xE3\xE5\xE4\xE6 \xE7\xE8\x071\xE8\xE9\x07,\xE9\xED\xEA\xEC
\x07\xEB\xEA\xEC\xEF\xED\xEB\xED\xEE\xEE\xF1\xEF\xED\xF0\xF2\x07,\xF1\xF0\xF2\xF3\xF3\xF1\xF3\xF4\xF4\u0103\xF5\xF9
\b\xF6\xF8
\x07\xF7\xF6\xF8\xFB\xF9\xF7\xF9\xFA\xFA\xFD\xFB\xF9\xFC\xFE\x07,\xFD\xFC\xFE\xFF\xFF\xFD\xFF\u0100\u0100\u0102\u0101\xF5\u0102\u0105\u0103\u0101\u0103\u0104\u0104\u0106\u0105\u0103\u0106\u0107\x071\u0107"\u0108\u010A\u0109\u0108\u010A\u010B\u010B\u0109\u010B\u010C\u010C$\u010D\u0111		\u010E\u0111\x85C\u010F\u0111\x1B\u0110\u010D\u0110\u010E\u0110\u010F\u0111\u0114\u0112\u0110\u0112\u0113\u0113&\u0114\u0112\u0115\u0117	\u0116\u0115\u0117\u0118\u0118\u0116\u0118\u0119\u0119(\u011A\u011D'\u011B\u011D\u011C\u011A\u011C\u011B\u011D*\u011E\u0123\x07\f\u011F\u0120\x07\u0120\u0123\x07\f\u0121\u0123\u0122\u011E\u0122\u011F\u0122\u0121\u0123,\u0124\u0126\x072\u0125\u0124\u0125\u0126\u0126\u0128\u0127\u0129\x072\u0128\u0127\u0128\u0129\u0129\u012B\u012A\u012C\x072\u012B\u012A\u012B\u012C\u012C\u012E\u012D\u012F\x072\u012E\u012D\u012E\u012F\u012F.\u0130\u013C	
\u0131\u0132\x07^\u0132\u0137-\u0133\u0134\x076\u0134\u0138\x073\u0135\u0136\x078\u0136\u0138\x073\u0137\u0133\u0137\u0135\u0138\u0139\u0139\u013A\f\u013A\u013C\u013B\u0130\u013B\u0131\u013C0\u013D\u0149	\v\u013E\u013F\x07^\u013F\u0144-\u0140\u0141\x076\u0141\u0145\x074\u0142\u0143\x078\u0143\u0145\x074\u0144\u0140\u0144\u0142\u0145\u0146\u0146\u0147\f\u0147\u0149\u0148\u013D\u0148\u013E\u01492\u014A\u0156	\f\u014B\u014C\x07^\u014C\u0151-\u014D\u014E\x076\u014E\u0152\x075\u014F\u0150\x078\u0150\u0152\x075\u0151\u014D\u0151\u014F\u0152\u0153\u0153\u0154\f\u0154\u0156\u0155\u014A\u0155\u014B\u01564\u0157\u0163	\r\u0158\u0159\x07^\u0159\u015E-\u015A\u015B\x076\u015B\u015F\x076\u015C\u015D\x078\u015D\u015F\x076\u015E\u015A\u015E\u015C\u015F\u0160\u0160\u0161\f\u0161\u0163\u0162\u0157\u0162\u0158\u01636\u0164\u0170	\u0165\u0166\x07^\u0166\u016B-\u0167\u0168`),c(Ht,"_serializedATNSegment1",`\x076\u0168\u016C\x077\u0169\u016A\x078\u016A\u016C\x077\u016B\u0167\u016B\u0169\u016C\u016D\u016D\u016E\f\u016E\u0170\u016F\u0164\u016F\u0165\u01708\u0171\u017D	\u0172\u0173\x07^\u0173\u0178-\u0174\u0175\x076\u0175\u0179\x078\u0176\u0177\x078\u0177\u0179\x078\u0178\u0174\u0178\u0176\u0179\u017A\u017A\u017B\f\u017B\u017D\u017C\u0171\u017C\u0172\u017D:\u017E\u018E	\u017F\u0180\x07^\u0180\u0185-\u0181\u0182\x076\u0182\u0186\x079\u0183\u0184\x078\u0184\u0186\x079\u0185\u0181\u0185\u0183\u0186\u0187\u0187\u0188\f\u0188\u018E\u0189\u018A\x07^\u018A\u018E\x07i\u018B\u018C\x07^\u018C\u018E\x07I\u018D\u017E\u018D\u017F\u018D\u0189\u018D\u018B\u018E<\u018F\u019F	\u0190\u0191\x07^\u0191\u0196-\u0192\u0193\x076\u0193\u0197\x07:\u0194\u0195\x078\u0195\u0197\x07:\u0196\u0192\u0196\u0194\u0197\u0198\u0198\u0199\f\u0199\u019F\u019A\u019B\x07^\u019B\u019F\x07j\u019C\u019D\x07^\u019D\u019F\x07J\u019E\u018F\u019E\u0190\u019E\u019A\u019E\u019C\u019F>\u01A0\u01B0	\u01A1\u01A2\x07^\u01A2\u01A7-\u01A3\u01A4\x076\u01A4\u01A8\x07;\u01A5\u01A6\x078\u01A6\u01A8\x07;\u01A7\u01A3\u01A7\u01A5\u01A8\u01A9\u01A9\u01AA\f\u01AA\u01B0\u01AB\u01AC\x07^\u01AC\u01B0\x07k\u01AD\u01AE\x07^\u01AE\u01B0\x07K\u01AF\u01A0\u01AF\u01A1\u01AF\u01AB\u01AF\u01AD\u01B0@\u01B1\u01C1	\u01B2\u01B3\x07^\u01B3\u01B8-\u01B4\u01B5\x076\u01B5\u01B9\x07d\u01B6\u01B7\x078\u01B7\u01B9\x07d\u01B8\u01B4\u01B8\u01B6\u01B9\u01BA\u01BA\u01BB\f\u01BB\u01C1\u01BC\u01BD\x07^\u01BD\u01C1\x07m\u01BE\u01BF\x07^\u01BF\u01C1\x07M\u01C0\u01B1\u01C0\u01B2\u01C0\u01BC\u01C0\u01BE\u01C1B\u01C2\u01D2	\u01C3\u01C4\x07^\u01C4\u01C9-\u01C5\u01C6\x076\u01C6\u01CA\x07e\u01C7\u01C8\x078\u01C8\u01CA\x07e\u01C9\u01C5\u01C9\u01C7\u01CA\u01CB\u01CB\u01CC\f\u01CC\u01D2\u01CD\u01CE\x07^\u01CE\u01D2\x07n\u01CF\u01D0\x07^\u01D0\u01D2\x07N\u01D1\u01C2\u01D1\u01C3\u01D1\u01CD\u01D1\u01CF\u01D2D\u01D3\u01E3	\u01D4\u01D5\x07^\u01D5\u01DA-\u01D6\u01D7\x076\u01D7\u01DB\x07f\u01D8\u01D9\x078\u01D9\u01DB\x07f\u01DA\u01D6\u01DA\u01D8\u01DB\u01DC\u01DC\u01DD\f\u01DD\u01E3\u01DE\u01DF\x07^\u01DF\u01E3\x07o\u01E0\u01E1\x07^\u01E1\u01E3\x07O\u01E2\u01D3\u01E2\u01D4\u01E2\u01DE\u01E2\u01E0\u01E3F\u01E4\u01F4	\u01E5\u01E6\x07^\u01E6\u01EB-\u01E7\u01E8\x076\u01E8\u01EC\x07g\u01E9\u01EA\x078\u01EA\u01EC\x07g\u01EB\u01E7\u01EB\u01E9\u01EC\u01ED\u01ED\u01EE\f\u01EE\u01F4\u01EF\u01F0\x07^\u01F0\u01F4\x07p\u01F1\u01F2\x07^\u01F2\u01F4\x07P\u01F3\u01E4\u01F3\u01E5\u01F3\u01EF\u01F3\u01F1\u01F4H\u01F5\u0205	\u01F6\u01F7\x07^\u01F7\u01FC-\u01F8\u01F9\x076\u01F9\u01FD\x07h\u01FA\u01FB\x078\u01FB\u01FD\x07h\u01FC\u01F8\u01FC\u01FA\u01FD\u01FE\u01FE\u01FF\f\u01FF\u0205\u0200\u0201\x07^\u0201\u0205\x07q\u0202\u0203\x07^\u0203\u0205\x07Q\u0204\u01F5\u0204\u01F6\u0204\u0200\u0204\u0202\u0205J\u0206\u0216	\u0207\u0208\x07^\u0208\u020D-\u0209\u020A\x077\u020A\u020E\x072\u020B\u020C\x079\u020C\u020E\x072\u020D\u0209\u020D\u020B\u020E\u020F\u020F\u0210\f\u0210\u0216\u0211\u0212\x07^\u0212\u0216\x07r\u0213\u0214\x07^\u0214\u0216\x07R\u0215\u0206\u0215\u0207\u0215\u0211\u0215\u0213\u0216L\u0217\u0227	\u0218\u0219\x07^\u0219\u021E-\u021A\u021B\x077\u021B\u021F\x073\u021C\u021D\x079\u021D\u021F\x073\u021E\u021A\u021E\u021C\u021F\u0220\u0220\u0221\f\u0221\u0227\u0222\u0223\x07^\u0223\u0227\x07s\u0224\u0225\x07^\u0225\u0227\x07S\u0226\u0217\u0226\u0218\u0226\u0222\u0226\u0224\u0227N\u0228\u0238	\u0229\u022A\x07^\u022A\u022F-\u022B\u022C\x077\u022C\u0230\x074\u022D\u022E\x079\u022E\u0230\x074\u022F\u022B\u022F\u022D\u0230\u0231\u0231\u0232\f\u0232\u0238\u0233\u0234\x07^\u0234\u0238\x07t\u0235\u0236\x07^\u0236\u0238\x07T\u0237\u0228\u0237\u0229\u0237\u0233\u0237\u0235\u0238P\u0239\u0249	\x1B\u023A\u023B\x07^\u023B\u0240-\u023C\u023D\x077\u023D\u0241\x075\u023E\u023F\x079\u023F\u0241\x075\u0240\u023C\u0240\u023E\u0241\u0242\u0242\u0243\f\u0243\u0249\u0244\u0245\x07^\u0245\u0249\x07u\u0246\u0247\x07^\u0247\u0249\x07U\u0248\u0239\u0248\u023A\u0248\u0244\u0248\u0246\u0249R\u024A\u025A	\u024B\u024C\x07^\u024C\u0251-\u024D\u024E\x077\u024E\u0252\x076\u024F\u0250\x079\u0250\u0252\x076\u0251\u024D\u0251\u024F\u0252\u0253\u0253\u0254\f\u0254\u025A\u0255\u0256\x07^\u0256\u025A\x07v\u0257\u0258\x07^\u0258\u025A\x07V\u0259\u024A\u0259\u024B\u0259\u0255\u0259\u0257\u025AT\u025B\u026B	\u025C\u025D\x07^\u025D\u0262-\u025E\u025F\x077\u025F\u0263\x077\u0260\u0261\x079\u0261\u0263\x077\u0262\u025E\u0262\u0260\u0263\u0264\u0264\u0265\f\u0265\u026B\u0266\u0267\x07^\u0267\u026B\x07w\u0268\u0269\x07^\u0269\u026B\x07W\u026A\u025B\u026A\u025C\u026A\u0266\u026A\u0268\u026BV\u026C\u027C	\u026D\u026E\x07^\u026E\u0273-\u026F\u0270\x077\u0270\u0274\x078\u0271\u0272\x079\u0272\u0274\x078\u0273\u026F\u0273\u0271\u0274\u0275\u0275\u0276\f\u0276\u027C\u0277\u0278\x07^\u0278\u027C\x07x\u0279\u027A\x07^\u027A\u027C\x07X\u027B\u026C\u027B\u026D\u027B\u0277\u027B\u0279\u027CX\u027D\u028D	\u027E\u027F\x07^\u027F\u0284-\u0280\u0281\x077\u0281\u0285\x079\u0282\u0283\x079\u0283\u0285\x079\u0284\u0280\u0284\u0282\u0285\u0286\u0286\u0287\f\u0287\u028D\u0288\u0289\x07^\u0289\u028D\x07y\u028A\u028B\x07^\u028B\u028D\x07Y\u028C\u027D\u028C\u027E\u028C\u0288\u028C\u028A\u028DZ\u028E\u029E	 \u028F\u0290\x07^\u0290\u0295-\u0291\u0292\x077\u0292\u0296\x07:\u0293\u0294\x079\u0294\u0296\x07:\u0295\u0291\u0295\u0293\u0296\u0297\u0297\u0298\f\u0298\u029E\u0299\u029A\x07^\u029A\u029E\x07z\u029B\u029C\x07^\u029C\u029E\x07Z\u029D\u028E\u029D\u028F\u029D\u0299\u029D\u029B\u029E\\\u029F\u02AF	!\u02A0\u02A1\x07^\u02A1\u02A6-\u02A2\u02A3\x077\u02A3\u02A7\x07;\u02A4\u02A5\x079\u02A5\u02A7\x07;\u02A6\u02A2\u02A6\u02A4\u02A7\u02A8\u02A8\u02A9\f\u02A9\u02AF\u02AA\u02AB\x07^\u02AB\u02AF\x07{\u02AC\u02AD\x07^\u02AD\u02AF\x07[\u02AE\u029F\u02AE\u02A0\u02AE\u02AA\u02AE\u02AC\u02AF^\u02B0\u02C0	"\u02B1\u02B2\x07^\u02B2\u02B7-\u02B3\u02B4\x077\u02B4\u02B8\x07c\u02B5\u02B6\x079\u02B6\u02B8\x07c\u02B7\u02B3\u02B7\u02B5\u02B8\u02B9\u02B9\u02BA\f\u02BA\u02C0\u02BB\u02BC\x07^\u02BC\u02C0\x07|\u02BD\u02BE\x07^\u02BE\u02C0\x07\\\u02BF\u02B0\u02BF\u02B1\u02BF\u02BB\u02BF\u02BD\u02C0\`\u02C1\u02CA\x07/\u02C2\u02C3\x07^\u02C3\u02C4-\u02C4\u02C5\x074\u02C5\u02C6\x07f\u02C6\u02C7\u02C7\u02C8\f\u02C8\u02CA\u02C9\u02C1\u02C9\u02C2\u02CAb\u02CB\u02CC\x07\x80\u02CC\u02CD\x07?\u02CDd\u02CE\u02CF\x07~\u02CF\u02D0\x07?\u02D0f\u02D1\u02D2\x07%\u02D2\u02D3#\u02D3h\u02D4\u02D9\x07#\u02D5\u02D8'\u02D6\u02D8!\u02D7\u02D5\u02D7\u02D6\u02D8\u02DB\u02D9\u02D7\u02D9\u02DA\u02DA\u02DC\u02DB\u02D9\u02DC\u02DD? \u02DD\u02DEE#\u02DE\u02DFK&\u02DF\u02E0I%\u02E0\u02E1O(\u02E1\u02E2S*\u02E2\u02E3/\u02E3\u02E4G$\u02E4\u02E5S*\u02E5j\u02E6\u02E7\x93J\u02E7\u02E87\u02E8\u02E9E#\u02E9\u02F8\u02EA\u02EB\x93J\u02EB\u02EC7\u02EC\u02ED[.\u02ED\u02F8\u02EE\u02EF\x93J\u02EF\u02F03\u02F0\u02F1=\u02F1\u02F8\u02F2\u02F3\x93J\u02F3\u02F4O(\u02F4\u02F57\u02F5\u02F6E#\u02F6\u02F8\u02F7\u02E6\u02F7\u02EA\u02F7\u02EE\u02F7\u02F2\u02F8l\u02F9\u02FA\x93J\u02FA\u02FBW,\u02FB\u02FCY-\u02FC\u030E\u02FD\u02FE\x93J\u02FE\u02FFW,\u02FF\u0300=\u0300\u030E\u0301\u0302\x93J\u0302\u0303W,\u0303\u0304E#\u0304\u0305? \u0305\u0306G$\u0306\u030E\u0307\u0308\x93J\u0308\u0309W,\u0309\u030AE#\u030A\u030B/\u030B\u030C[.\u030C\u030E\u030D\u02F9\u030D\u02FD\u030D\u0301\u030D\u0307\u030En\u030F\u0310\x93J\u0310\u0311K&\u0311\u0312[.\u0312\u032B\u0313\u0314\x93J\u0314\u03153\u0315\u0316E#\u0316\u032B\u0317\u0318\x93J\u0318\u0319E#\u0319\u031AE#\u031A\u032B\u031B\u031C\x93J\u031C\u031D? \u031D\u031EG$\u031E\u032B\u031F\u0320\x93J\u0320\u0321K&\u0321\u0322S*\u0322\u032B\u0323\u0324\x93J\u0324\u0325K&\u0325\u03263\u0326\u032B\u0327\u0328\x93J\u0328\u0329M'\u0329\u032B\u032A\u030F\u032A\u0313\u032A\u0317\u032A\u031B\u032A\u031F\u032A\u0323\u032A\u0327\u032Bp\u032C\u032D\x93J\u032D\u032E5\x1B\u032E\u032F7\u032F\u0330;\u0330\u0343\u0331\u0332\x93J\u0332\u0333O(\u0333\u0334/\u0334\u03355\x1B\u0335\u0343\u0336\u0337\x93J\u0337\u0338;\u0338\u0339O(\u0339\u033A/\u033A\u033B5\x1B\u033B\u0343\u033C\u033D\x93J\u033D\u033ES*\u033E\u033FU+\u033F\u0340O(\u0340\u0341G$\u0341\u0343\u0342\u032C\u0342\u0331\u0342\u0336\u0342\u033C\u0343r\u0344\u0345\x93J\u0345\u0346E#\u0346\u0347Q)\u0347\u034C\u0348\u0349\x93J\u0349\u034AQ)\u034A\u034C\u034B\u0344\u034B\u0348\u034Ct\u034D\u034E\x93J\u034E\u034F=\u034F\u0350_0\u0350\u0357\u0351\u0352\x93J\u0352\u0353A!\u0353\u0354=\u0354\u0355_0\u0355\u0357\u0356\u034D\u0356\u0351\u0357v\u0358\u0359\x93J\u0359\u035A\x07'\u035Ax\u035B\u035CU+\u035C\u035DO(\u035D\u035EC"\u035E\u035F\x07*\u035F\u0360)\u0360\u0361\x95K\u0361\u0362)\u0362\u0363\x07+\u0363\u036E\u0364\u0365U+\u0365\u0366O(\u0366\u0367C"\u0367\u0368\x07*\u0368\u0369)\u0369\u036A%\u036A\u036B)\u036B\u036C\x07+\u036C\u036E\u036D\u035B\u036D\u0364\u036Ez\u036F\u0370	#\u0370\u0371\x07-\u0371\u0372\x07A\u0372\u0374\u0373\u0375\x07A\u0374\u0373\u0374\u0375\u0375\u0377\u0376\u0378\x07A\u0377\u0376\u0377\u0378\u0378\u037A\u0379\u037B\x07A\u037A\u0379\u037A\u037B\u037B\u037D\u037C\u037E\x07A\u037D\u037C\u037D\u037E\u037E\u0380\u037F\u0381\x07A\u0380\u037F\u0380\u0381\u0381\u03C9\u0382\u0383	#\u0383\u0384\x07-\u0384\u0386\v\u0385\u0387\x07A\u0386\u0385\u0386\u0387\u0387\u0389\u0388\u038A\x07A\u0389\u0388\u0389\u038A\u038A\u038C\u038B\u038D\x07A\u038C\u038B\u038C\u038D\u038D\u038F\u038E\u0390\x07A\u038F\u038E\u038F\u0390\u0390\u0392\u0391\u0393\x07A\u0392\u0391\u0392\u0393\u0393\u03C9\u0394\u0395	#\u0395\u0396\x07-\u0396\u0397\v\u0397\u0399\v\u0398\u039A\x07A\u0399\u0398\u0399\u039A\u039A\u039C\u039B\u039D\x07A\u039C\u039B\u039C\u039D\u039D\u039F\u039E\u03A0\x07A\u039F\u039E\u039F\u03A0\u03A0\u03A2\u03A1\u03A3\x07A\u03A2\u03A1\u03A2\u03A3\u03A3\u03C9\u03A4\u03A5	#\u03A5\u03A6\x07-\u03A6\u03A7\v\u03A7\u03A8\v\u03A8\u03AA\v\u03A9\u03AB\x07A\u03AA\u03A9\u03AA\u03AB\u03AB\u03AD\u03AC\u03AE\x07A\u03AD\u03AC\u03AD\u03AE\u03AE\u03B0\u03AF\u03B1\x07A\u03B0\u03AF\u03B0\u03B1\u03B1\u03C9\u03B2\u03B3	#\u03B3\u03B4\x07-\u03B4\u03B5\v\u03B5\u03B6\v\u03B6\u03B7\v\u03B7\u03B9\v\u03B8\u03BA\x07A\u03B9\u03B8\u03B9\u03BA\u03BA\u03BC\u03BB\u03BD\x07A\u03BC\u03BB\u03BC\u03BD\u03BD\u03C9\u03BE\u03BF	#\u03BF\u03C0\x07-\u03C0\u03C1\v\u03C1\u03C2\v\u03C2\u03C3\v\u03C3\u03C4\v\u03C4\u03C6\v\u03C5\u03C7\x07A\u03C6\u03C5\u03C6\u03C7\u03C7\u03C9\u03C8\u036F\u03C8\u0382\u03C8\u0394\u03C8\u03A4\u03C8\u03B2\u03C8\u03BE\u03C9|\u03CA\u03CB\x93J\u03CB\u03CC5\x1B\u03CC\u03CDK&\u03CD\u03CE? \u03CE\u03DC\u03CF\u03D0\x93J\u03D0\u03D15\x1B\u03D1\u03D2K&\u03D2\u03D33\u03D3\u03D4E#\u03D4\u03DC\u03D5\u03D6\x93J\u03D6\u03D75\x1B\u03D7\u03D8K&\u03D8\u03D9K&\u03D9\u03DA[.\u03DA\u03DC\u03DB\u03CA\u03DB\u03CF\u03DB\u03D5\u03DC~\u03DD\u03E1o8\u03DE\u03E1k6\u03DF\u03E1m7\u03E0\u03DD\u03E0\u03DE\u03E0\u03DF\u03E1\x80\u03E2\u03E8\x7F@\u03E3\u03E8s:\u03E4\u03E8u;\u03E5\u03E8}?\u03E6\u03E8q9\u03E7\u03E2\u03E7\u03E3\u03E7\u03E4\u03E7\u03E5\u03E7\u03E6\u03E8\x82\u03E9\u03EA\x93J\u03EA\u03EB\xA7T\u03EB\x84\u03EC\u03ED
$\u03ED\x86\u03EE\u03EF\x07-\u03EF\x88\u03F0\u03F1\x07/\u03F1\x8A\u03F2\u03F3\x07@\u03F3\x8C\u03F4\u03F5\x07.\u03F5\x8E\u03F6\u03F7\x07\x80\u03F7\x90\u03F8\u03F9\x07<\u03F9\u03FAG$\u03FA\u03FBI%\u03FB\u03FCS*\u03FC\u03FD\x07*\u03FD\x92\u03FE\u0400	%\u03FF\u03FE\u0400\u0401\u0401\u03FF\u0401\u0402\u0402\u0410\u0403\u0405	%\u0404\u0403\u0405\u0408\u0406\u0404\u0406\u0407\u0407\u0409\u0408\u0406\u0409\u040B\x070\u040A\u040C	%\u040B\u040A\u040C\u040D\u040D\u040B\u040D\u040E\u040E\u0410\u040F\u03FF\u040F\u0406\u0410\x94\u0411\u0419\x07$\u0412\u0418
&\u0413\u0414\x07^\u0414\u0418+\u0415\u0418\x85C\u0416\u0418\x1B\u0417\u0412\u0417\u0413\u0417\u0415\u0417\u0416\u0418\u041B\u0419\u0417\u0419\u041A\u041A\u041C`),c(Ht,"_serializedATNSegment2","\u041B\u0419\u041C\u042A\x07$\u041D\u0425\x07)\u041E\u0424\n'\u041F\u0420\x07^\u0420\u0424+\u0421\u0424\x85C\u0422\u0424\x1B\u0423\u041E\u0423\u041F\u0423\u0421\u0423\u0422\u0424\u0427\u0425\u0423\u0425\u0426\u0426\u0428\u0427\u0425\u0428\u042A\x07)\u0429\u0411\u0429\u041D\u042A\x96\u042B\u042C\x07`\u042C\u042D\x07?\u042D\x98\u042E\u042F\x07&\u042F\u0430\x07?\u0430\x9A\u0431\u0432\x07,\u0432\u0433\x07?\u0433\x9C\u0434\u0435I%\u0435\u0436O(\u0436\x9E\u0437\u0438\x07/\u0438\u0439E#\u0439\u043AI%\u043A\u043B_0\u043B\u043C\x07/\u043C\u044B\u043D\u043E\x07/\u043E\u043FY-\u043F\u04407\u0440\u04411\u0441\u0442A!\u0442\u0443? \u0443\u0444S*\u0444\u0445\x07/\u0445\u044B\u0446\u0447\x07/\u0447\u0448I%\u0448\u0449\x07/\u0449\u044B\u044A\u0437\u044A\u043D\u044A\u0446\u044B\xA0\u044C\u044D\x07e\u044D\u044E\x07c\u044E\u044F\x07n\u044F\u0450\x07e\u0450\u0451\x07*\u0451\xA2\u0452\u0453\x07/\u0453\u0454\x07/\u0454\u0455\u0455\u0459\u0456\u0458\u0457\u0456\u0458\u045B\u0459\u0457\u0459\u045A\u045A\xA4\u045B\u0459\u045C\u045D\x07x\u045D\u045E\x07c\u045E\u045F\x07t\u045F\u0460\x07*\u0460\xA6\u0461\u0463\x07/\u0462\u0461\u0462\u0463\u0463\u0464\u0464\u0468\u0465\u0467\u0466\u0465\u0467\u046A\u0468\u0466\u0468\u0469\u0469\xA8\u046A\u0468\u046B\u046C\xA7T\u046C\u046D\x07*\u046D\xAA|\xC3\xC8\xCB\xCE\xD1\xD4\xDB\xE0\xE5\xED\xF3\xF9\xFF\u0103\u010B\u0110\u0112\u0118\u011C\u0122\u0125\u0128\u012B\u012E\u0137\u013B\u0144\u0148\u0151\u0155\u015E\u0162\u016B\u016F\u0178\u017C\u0185\u018D\u0196\u019E\u01A7\u01AF\u01B8\u01C0\u01C9\u01D1\u01DA\u01E2\u01EB\u01F3\u01FC\u0204\u020D\u0215\u021E\u0226\u022F\u0237\u0240\u0248\u0251\u0259\u0262\u026A\u0273\u027B\u0284\u028C\u0295\u029D\u02A6\u02AE\u02B7\u02BF\u02C9\u02D7\u02D9\u02F7\u030D\u032A\u0342\u034B\u0356\u036D\u0374\u0377\u037A\u037D\u0380\u0386\u0389\u038C\u038F\u0392\u0399\u039C\u039F\u03A2\u03AA\u03AD\u03B0\u03B9\u03BC\u03C6\u03C8\u03DB\u03E0\u03E7\u0401\u0406\u040D\u040F\u0417\u0419\u0423\u0425\u0429\u044A\u0459\u0462\u0468"),c(Ht,"_serializedATN",gB([Zn._serializedATNSegment0,Zn._serializedATNSegment1,Zn._serializedATNSegment2],"")),c(Ht,"__ATN");var X_=Pa(),Vl=z1(),HV=Tg(),Zr=Io(),jV=mg();const ce=class extends HV.Parser{get vocabulary(){return ce.VOCABULARY}get grammarFileName(){return"inline.g4"}get ruleNames(){return ce.ruleNames}get serializedATN(){return ce._serializedATN}createFailedPredicateException(e,r){return new xB(this,e,r)}constructor(e){super(e),this._interp=new jV.ParserATNSimulator(ce._ATN,this)}inlineStyle(){let e=new VV(this._ctx,this.state);this.enterRule(e,0,ce.RULE_inlineStyle);try{let r;this.enterOuterAlt(e,1);{for(this.state=48,this.ws(),this.state=55,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,1,this._ctx);r!==2&&r!==X_.ATN.INVALID_ALT_NUMBER;){if(r===1)switch(this.state=53,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,0,this._ctx)){case 1:this.state=49,this.declarationList();break;case 2:this.state=50,this.any_();break;case 3:this.state=51,this.match(ce.T__0),this.state=52,this.ws();break}this.state=57,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,1,this._ctx)}this.state=58,this.ws()}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}declarationList(){let e=new iw(this._ctx,this.state);this.enterRule(e,2,ce.RULE_declarationList);let r;try{let n;this.enterOuterAlt(e,1);{for(this.state=64,this._errHandler.sync(this),r=this._input.LA(1);r===ce.T__0;)this.state=60,this.match(ce.T__0),this.state=61,this.ws(),this.state=66,this._errHandler.sync(this),r=this._input.LA(1);for(this.state=67,this.declaration(),this.state=68,this.ws(),this.state=76,this._errHandler.sync(this),n=this.interpreter.adaptivePredict(this._input,4,this._ctx);n!==2&&n!==X_.ATN.INVALID_ALT_NUMBER;){if(n===1)switch(this.state=69,this.match(ce.T__0),this.state=70,this.ws(),this.state=72,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,3,this._ctx)){case 1:this.state=71,this.declaration();break}this.state=78,this._errHandler.sync(this),n=this.interpreter.adaptivePredict(this._input,4,this._ctx)}}}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}operator_(){let e=new ly(this._ctx,this.state);this.enterRule(e,4,ce.RULE_operator_);try{switch(this.state=85,this._errHandler.sync(this),this._input.LA(1)){case ce.T__1:e=new LE(e),this.enterOuterAlt(e,1),this.state=79,this.match(ce.T__1),this.state=80,this.ws();break;case ce.Comma:e=new LE(e),this.enterOuterAlt(e,2),this.state=81,this.match(ce.Comma),this.state=82,this.ws();break;case ce.Space:e=new LE(e),this.enterOuterAlt(e,3),this.state=83,this.match(ce.Space),this.state=84,this.ws();break;default:throw new Vl.NoViableAltException(this)}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}property_(){let e=new Cg(this._ctx,this.state);this.enterRule(e,6,ce.RULE_property_);try{switch(this.state=96,this._errHandler.sync(this),this._input.LA(1)){case ce.Ident:e=new JP(e),this.enterOuterAlt(e,1),this.state=87,this.ident(),this.state=88,this.ws();break;case ce.Variable:e=new JP(e),this.enterOuterAlt(e,2),this.state=90,this.match(ce.Variable),this.state=91,this.ws();break;case ce.T__2:e=new ZP(e),this.enterOuterAlt(e,3),this.state=92,this.match(ce.T__2),this.state=93,this.ident();break;case ce.T__3:e=new ZP(e),this.enterOuterAlt(e,4),this.state=94,this.match(ce.T__3),this.state=95,this.ident();break;default:throw new Vl.NoViableAltException(this)}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}declaration(){let e=new y0(this._ctx,this.state);this.enterRule(e,8,ce.RULE_declaration);try{switch(this.state=108,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,7,this._ctx)){case 1:e=new zV(e),this.enterOuterAlt(e,1),this.state=98,this.property_(),this.state=99,this.match(ce.T__4),this.state=100,this.ws(),this.state=101,this.expr();break;case 2:e=new WV(e),this.enterOuterAlt(e,2),this.state=103,this.property_(),this.state=104,this.match(ce.T__4),this.state=105,this.ws(),this.state=106,this.value();break}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}value(){let e=new pN(this._ctx,this.state);this.enterRule(e,10,ce.RULE_value);try{let r;this.enterOuterAlt(e,1);{this.state=111,this._errHandler.sync(this),r=1;do{switch(r){case 1:this.state=110,this.any_();break;default:throw new Vl.NoViableAltException(this)}this.state=113,this._errHandler.sync(this),r=this.interpreter.adaptivePredict(this._input,8,this._ctx)}while(r!==2&&r!==X_.ATN.INVALID_ALT_NUMBER)}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}expr(){let e=new Pb(this._ctx,this.state);this.enterRule(e,12,ce.RULE_expr);let r;try{let n;for(this.enterOuterAlt(e,1),this.state=115,this.term(),this.state=122,this._errHandler.sync(this),n=this.interpreter.adaptivePredict(this._input,10,this._ctx);n!==2&&n!==X_.ATN.INVALID_ALT_NUMBER;)n===1&&(this.state=117,this._errHandler.sync(this),r=this._input.LA(1),(r&-32)===0&&(1<<r&(1<<ce.T__1|1<<ce.Space|1<<ce.Comma))!==0&&(this.state=116,this.operator_()),this.state=119,this.term()),this.state=124,this._errHandler.sync(this),n=this.interpreter.adaptivePredict(this._input,10,this._ctx)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}term(){let e=new v0(this._ctx,this.state);this.enterRule(e,14,ce.RULE_term);try{switch(this.state=150,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,11,this._ctx)){case 1:e=new _o(e),this.enterOuterAlt(e,1),this.state=125,this.number(),this.state=126,this.ws();break;case 2:e=new _o(e),this.enterOuterAlt(e,2),this.state=128,this.percentage(),this.state=129,this.ws();break;case 3:e=new _o(e),this.enterOuterAlt(e,3),this.state=131,this.dimension(),this.state=132,this.ws();break;case 4:e=new _o(e),this.enterOuterAlt(e,4),this.state=134,this.match(ce.String_),this.state=135,this.ws();break;case 5:e=new _o(e),this.enterOuterAlt(e,5),this.state=136,this.match(ce.UnicodeRange),this.state=137,this.ws();break;case 6:e=new _o(e),this.enterOuterAlt(e,6),this.state=138,this.ident(),this.state=139,this.ws();break;case 7:e=new _o(e),this.enterOuterAlt(e,7),this.state=141,this.var_();break;case 8:e=new _o(e),this.enterOuterAlt(e,8),this.state=142,this.match(ce.Uri),this.state=143,this.ws();break;case 9:e=new _o(e),this.enterOuterAlt(e,9),this.state=144,this.hexcolor();break;case 10:e=new _o(e),this.enterOuterAlt(e,10),this.state=145,this.calc();break;case 11:e=new _o(e),this.enterOuterAlt(e,11),this.state=146,this.function_();break;case 12:e=new $V(e),this.enterOuterAlt(e,12),this.state=147,this.unknownDimension(),this.state=148,this.ws();break}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}function_(){let e=new gN(this._ctx,this.state);this.enterRule(e,16,ce.RULE_function_);try{this.enterOuterAlt(e,1),this.state=152,this.match(ce.Function_),this.state=153,this.ws(),this.state=154,this.expr(),this.state=155,this.match(ce.T__5),this.state=156,this.ws()}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}hexcolor(){let e=new mN(this._ctx,this.state);this.enterRule(e,18,ce.RULE_hexcolor);try{this.enterOuterAlt(e,1),this.state=158,this.match(ce.Hash),this.state=159,this.ws()}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}number(){let e=new Yd(this._ctx,this.state);this.enterRule(e,20,ce.RULE_number);let r;try{this.enterOuterAlt(e,1),this.state=162,this._errHandler.sync(this),r=this._input.LA(1),(r===ce.Plus||r===ce.Minus)&&(this.state=161,r=this._input.LA(1),r===ce.Plus||r===ce.Minus?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)),this.state=164,this.match(ce.Number)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}percentage(){let e=new ev(this._ctx,this.state);this.enterRule(e,22,ce.RULE_percentage);let r;try{this.enterOuterAlt(e,1),this.state=167,this._errHandler.sync(this),r=this._input.LA(1),(r===ce.Plus||r===ce.Minus)&&(this.state=166,r=this._input.LA(1),r===ce.Plus||r===ce.Minus?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)),this.state=169,this.match(ce.Percentage)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}dimension(){let e=new tv(this._ctx,this.state);this.enterRule(e,24,ce.RULE_dimension);let r;try{this.enterOuterAlt(e,1),this.state=172,this._errHandler.sync(this),r=this._input.LA(1),(r===ce.Plus||r===ce.Minus)&&(this.state=171,r=this._input.LA(1),r===ce.Plus||r===ce.Minus?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)),this.state=174,this.match(ce.Dimension)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}unknownDimension(){let e=new rv(this._ctx,this.state);this.enterRule(e,26,ce.RULE_unknownDimension);let r;try{this.enterOuterAlt(e,1),this.state=177,this._errHandler.sync(this),r=this._input.LA(1),(r===ce.Plus||r===ce.Minus)&&(this.state=176,r=this._input.LA(1),r===ce.Plus||r===ce.Minus?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)),this.state=179,this.match(ce.UnknownDimension)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}any_(){let e=new va(this._ctx,this.state);this.enterRule(e,28,ce.RULE_any_);let r;try{switch(this.state=246,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,22,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=181,this.ident(),this.state=182,this.ws();break;case 2:this.enterOuterAlt(e,2),this.state=184,this.number(),this.state=185,this.ws();break;case 3:this.enterOuterAlt(e,3),this.state=187,this.percentage(),this.state=188,this.ws();break;case 4:this.enterOuterAlt(e,4),this.state=190,this.dimension(),this.state=191,this.ws();break;case 5:this.enterOuterAlt(e,5),this.state=193,this.unknownDimension(),this.state=194,this.ws();break;case 6:this.enterOuterAlt(e,6),this.state=196,this.match(ce.String_),this.state=197,this.ws();break;case 7:this.enterOuterAlt(e,7),this.state=198,this.match(ce.Uri),this.state=199,this.ws();break;case 8:this.enterOuterAlt(e,8),this.state=200,this.match(ce.Hash),this.state=201,this.ws();break;case 9:this.enterOuterAlt(e,9),this.state=202,this.match(ce.UnicodeRange),this.state=203,this.ws();break;case 10:this.enterOuterAlt(e,10),this.state=204,this.match(ce.Includes),this.state=205,this.ws();break;case 11:this.enterOuterAlt(e,11),this.state=206,this.match(ce.DashMatch),this.state=207,this.ws();break;case 12:this.enterOuterAlt(e,12),this.state=208,this.match(ce.T__4),this.state=209,this.ws();break;case 13:this.enterOuterAlt(e,13);{for(this.state=210,this.match(ce.Function_),this.state=211,this.ws(),this.state=216,this._errHandler.sync(this),r=this._input.LA(1);(r&-32)===0&&(1<<r&(1<<ce.T__0|1<<ce.T__4|1<<ce.T__6|1<<ce.T__7|1<<ce.Includes|1<<ce.DashMatch|1<<ce.Hash|1<<ce.Percentage|1<<ce.Uri|1<<ce.UnicodeRange|1<<ce.Dimension|1<<ce.UnknownDimension|1<<ce.Plus|1<<ce.Minus|1<<ce.Number|1<<ce.String_))!==0||r===ce.Ident||r===ce.Function_;){switch(this.state=214,this._errHandler.sync(this),this._input.LA(1)){case ce.T__4:case ce.T__6:case ce.T__7:case ce.Includes:case ce.DashMatch:case ce.Hash:case ce.Percentage:case ce.Uri:case ce.UnicodeRange:case ce.Dimension:case ce.UnknownDimension:case ce.Plus:case ce.Minus:case ce.Number:case ce.String_:case ce.Ident:case ce.Function_:this.state=212,this.any_();break;case ce.T__0:this.state=213,this.unused();break;default:throw new Vl.NoViableAltException(this)}this.state=218,this._errHandler.sync(this),r=this._input.LA(1)}this.state=219,this.match(ce.T__5),this.state=220,this.ws()}break;case 14:this.enterOuterAlt(e,14);{for(this.state=222,this.match(ce.T__6),this.state=223,this.ws(),this.state=228,this._errHandler.sync(this),r=this._input.LA(1);(r&-32)===0&&(1<<r&(1<<ce.T__0|1<<ce.T__4|1<<ce.T__6|1<<ce.T__7|1<<ce.Includes|1<<ce.DashMatch|1<<ce.Hash|1<<ce.Percentage|1<<ce.Uri|1<<ce.UnicodeRange|1<<ce.Dimension|1<<ce.UnknownDimension|1<<ce.Plus|1<<ce.Minus|1<<ce.Number|1<<ce.String_))!==0||r===ce.Ident||r===ce.Function_;){switch(this.state=226,this._errHandler.sync(this),this._input.LA(1)){case ce.T__4:case ce.T__6:case ce.T__7:case ce.Includes:case ce.DashMatch:case ce.Hash:case ce.Percentage:case ce.Uri:case ce.UnicodeRange:case ce.Dimension:case ce.UnknownDimension:case ce.Plus:case ce.Minus:case ce.Number:case ce.String_:case ce.Ident:case ce.Function_:this.state=224,this.any_();break;case ce.T__0:this.state=225,this.unused();break;default:throw new Vl.NoViableAltException(this)}this.state=230,this._errHandler.sync(this),r=this._input.LA(1)}this.state=231,this.match(ce.T__5),this.state=232,this.ws()}break;case 15:this.enterOuterAlt(e,15);{for(this.state=234,this.match(ce.T__7),this.state=235,this.ws(),this.state=240,this._errHandler.sync(this),r=this._input.LA(1);(r&-32)===0&&(1<<r&(1<<ce.T__0|1<<ce.T__4|1<<ce.T__6|1<<ce.T__7|1<<ce.Includes|1<<ce.DashMatch|1<<ce.Hash|1<<ce.Percentage|1<<ce.Uri|1<<ce.UnicodeRange|1<<ce.Dimension|1<<ce.UnknownDimension|1<<ce.Plus|1<<ce.Minus|1<<ce.Number|1<<ce.String_))!==0||r===ce.Ident||r===ce.Function_;){switch(this.state=238,this._errHandler.sync(this),this._input.LA(1)){case ce.T__4:case ce.T__6:case ce.T__7:case ce.Includes:case ce.DashMatch:case ce.Hash:case ce.Percentage:case ce.Uri:case ce.UnicodeRange:case ce.Dimension:case ce.UnknownDimension:case ce.Plus:case ce.Minus:case ce.Number:case ce.String_:case ce.Ident:case ce.Function_:this.state=236,this.any_();break;case ce.T__0:this.state=237,this.unused();break;default:throw new Vl.NoViableAltException(this)}this.state=242,this._errHandler.sync(this),r=this._input.LA(1)}this.state=243,this.match(ce.T__8),this.state=244,this.ws()}break}}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}generalEnclosed(){let e=new KV(this._ctx,this.state);this.enterRule(e,30,ce.RULE_generalEnclosed);let r;try{this.enterOuterAlt(e,1);{for(this.state=248,r=this._input.LA(1),r===ce.T__6||r===ce.Function_?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=253,this._errHandler.sync(this),r=this._input.LA(1);(r&-32)===0&&(1<<r&(1<<ce.T__0|1<<ce.T__4|1<<ce.T__6|1<<ce.T__7|1<<ce.Includes|1<<ce.DashMatch|1<<ce.Hash|1<<ce.Percentage|1<<ce.Uri|1<<ce.UnicodeRange|1<<ce.Dimension|1<<ce.UnknownDimension|1<<ce.Plus|1<<ce.Minus|1<<ce.Number|1<<ce.String_))!==0||r===ce.Ident||r===ce.Function_;){switch(this.state=251,this._errHandler.sync(this),this._input.LA(1)){case ce.T__4:case ce.T__6:case ce.T__7:case ce.Includes:case ce.DashMatch:case ce.Hash:case ce.Percentage:case ce.Uri:case ce.UnicodeRange:case ce.Dimension:case ce.UnknownDimension:case ce.Plus:case ce.Minus:case ce.Number:case ce.String_:case ce.Ident:case ce.Function_:this.state=249,this.any_();break;case ce.T__0:this.state=250,this.unused();break;default:throw new Vl.NoViableAltException(this)}this.state=255,this._errHandler.sync(this),r=this._input.LA(1)}this.state=256,this.match(ce.T__5)}}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}unused(){let e=new E0(this._ctx,this.state);this.enterRule(e,32,ce.RULE_unused);try{this.enterOuterAlt(e,1),this.state=258,this.match(ce.T__0),this.state=259,this.ws()}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}var_(){let e=new xN(this._ctx,this.state);this.enterRule(e,34,ce.RULE_var_);try{this.enterOuterAlt(e,1),this.state=261,this.match(ce.Var),this.state=262,this.ws(),this.state=263,this.match(ce.Variable),this.state=264,this.ws(),this.state=265,this.match(ce.T__5),this.state=266,this.ws()}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}calc(){let e=new yN(this._ctx,this.state);this.enterRule(e,36,ce.RULE_calc);try{this.enterOuterAlt(e,1),this.state=268,this.match(ce.Calc),this.state=269,this.ws(),this.state=270,this.calcSum(),this.state=271,this.match(ce.T__5),this.state=272,this.ws()}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}calcSum(){let e=new Db(this._ctx,this.state);this.enterRule(e,38,ce.RULE_calcSum);let r;try{for(this.enterOuterAlt(e,1),this.state=274,this.calcProduct(),this.state=285,this._errHandler.sync(this),r=this._input.LA(1);r===ce.Space;)this.state=275,this.match(ce.Space),this.state=276,this.ws(),this.state=277,r=this._input.LA(1),r===ce.Plus||r===ce.Minus?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this),this.state=278,this.ws(),this.state=279,this.match(ce.Space),this.state=280,this.ws(),this.state=281,this.calcProduct(),this.state=287,this._errHandler.sync(this),r=this._input.LA(1)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}calcProduct(){let e=new sw(this._ctx,this.state);this.enterRule(e,40,ce.RULE_calcProduct);let r;try{for(this.enterOuterAlt(e,1),this.state=288,this.calcValue(),this.state=300,this._errHandler.sync(this),r=this._input.LA(1);r===ce.T__1||r===ce.T__2;){switch(this.state=298,this._errHandler.sync(this),this._input.LA(1)){case ce.T__2:this.state=289,this.match(ce.T__2),this.state=290,this.ws(),this.state=291,this.calcValue();break;case ce.T__1:this.state=293,this.match(ce.T__1),this.state=294,this.ws(),this.state=295,this.number(),this.state=296,this.ws();break;default:throw new Vl.NoViableAltException(this)}this.state=302,this._errHandler.sync(this),r=this._input.LA(1)}}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}calcValue(){let e=new ow(this._ctx,this.state);this.enterRule(e,42,ce.RULE_calcValue);try{switch(this.state=321,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,28,this._ctx)){case 1:this.enterOuterAlt(e,1),this.state=303,this.number(),this.state=304,this.ws();break;case 2:this.enterOuterAlt(e,2),this.state=306,this.dimension(),this.state=307,this.ws();break;case 3:this.enterOuterAlt(e,3),this.state=309,this.unknownDimension(),this.state=310,this.ws();break;case 4:this.enterOuterAlt(e,4),this.state=312,this.percentage(),this.state=313,this.ws();break;case 5:this.enterOuterAlt(e,5),this.state=315,this.match(ce.T__6),this.state=316,this.ws(),this.state=317,this.calcSum(),this.state=318,this.match(ce.T__5),this.state=319,this.ws();break}}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ident(){let e=new Pg(this._ctx,this.state);this.enterRule(e,44,ce.RULE_ident);try{this.enterOuterAlt(e,1),this.state=323,this.match(ce.Ident)}catch(r){if(r instanceof zr)e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r);else throw r}finally{this.exitRule()}return e}ws(){let e=new Ir(this._ctx,this.state);this.enterRule(e,46,ce.RULE_ws);let r;try{let n;for(this.enterOuterAlt(e,1),this.state=328,this._errHandler.sync(this),n=this.interpreter.adaptivePredict(this._input,29,this._ctx);n!==2&&n!==X_.ATN.INVALID_ALT_NUMBER;)n===1&&(this.state=325,r=this._input.LA(1),r===ce.Comment||r===ce.Space?(this._input.LA(1)===yr.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)),this.state=330,this._errHandler.sync(this),n=this.interpreter.adaptivePredict(this._input,29,this._ctx)}catch(n){if(n instanceof zr)e.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return e}static get _ATN(){return ce.__ATN||(ce.__ATN=new _N.ATNDeserializer().deserialize(ub(ce._serializedATN))),ce.__ATN}};let We=ce;c(We,"T__0",1),c(We,"T__1",2),c(We,"T__2",3),c(We,"T__3",4),c(We,"T__4",5),c(We,"T__5",6),c(We,"T__6",7),c(We,"T__7",8),c(We,"T__8",9),c(We,"Comment",10),c(We,"Space",11),c(We,"Includes",12),c(We,"DashMatch",13),c(We,"Hash",14),c(We,"Important",15),c(We,"Percentage",16),c(We,"Uri",17),c(We,"UnicodeRange",18),c(We,"Dimension",19),c(We,"UnknownDimension",20),c(We,"Plus",21),c(We,"Minus",22),c(We,"Greater",23),c(We,"Comma",24),c(We,"Tilde",25),c(We,"PseudoNot",26),c(We,"Number",27),c(We,"String_",28),c(We,"PrefixMatch",29),c(We,"SuffixMatch",30),c(We,"SubstringMatch",31),c(We,"Or",32),c(We,"Calc",33),c(We,"Variable",34),c(We,"Var",35),c(We,"Ident",36),c(We,"Function_",37),c(We,"RULE_inlineStyle",0),c(We,"RULE_declarationList",1),c(We,"RULE_operator_",2),c(We,"RULE_property_",3),c(We,"RULE_declaration",4),c(We,"RULE_value",5),c(We,"RULE_expr",6),c(We,"RULE_term",7),c(We,"RULE_function_",8),c(We,"RULE_hexcolor",9),c(We,"RULE_number",10),c(We,"RULE_percentage",11),c(We,"RULE_dimension",12),c(We,"RULE_unknownDimension",13),c(We,"RULE_any_",14),c(We,"RULE_generalEnclosed",15),c(We,"RULE_unused",16),c(We,"RULE_var_",17),c(We,"RULE_calc",18),c(We,"RULE_calcSum",19),c(We,"RULE_calcProduct",20),c(We,"RULE_calcValue",21),c(We,"RULE_ident",22),c(We,"RULE_ws",23),c(We,"ruleNames",["inlineStyle","declarationList","operator_","property_","declaration","value","expr","term","function_","hexcolor","number","percentage","dimension","unknownDimension","any_","generalEnclosed","unused","var_","calc","calcSum","calcProduct","calcValue","ident","ws"]),c(We,"_LITERAL_NAMES",[void 0,"';'","'/'","'*'","'_'","':'","')'","'('","'['","']'",void 0,void 0,"'~='","'|='",void 0,void 0,void 0,void 0,void 0,void 0,void 0,"'+'","'-'","'>'","','","'~'",void 0,void 0,void 0,"'^='","'$='","'*='",void 0,"'calc('",void 0,"'var('"]),c(We,"_SYMBOLIC_NAMES",[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"Comment","Space","Includes","DashMatch","Hash","Important","Percentage","Uri","UnicodeRange","Dimension","UnknownDimension","Plus","Minus","Greater","Comma","Tilde","PseudoNot","Number","String_","PrefixMatch","SuffixMatch","SubstringMatch","Or","Calc","Variable","Var","Ident","Function_"]),c(We,"VOCABULARY",new fb(ce._LITERAL_NAMES,ce._SYMBOLIC_NAMES,[])),c(We,"_serializedATN",`\uC91D\uCABA\u058D\uAFBA\u4F53\u0607\uEA8B\uC241'\u014E					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r												\x078
\f;\v\x07A
\fD\vK
\x07M
\fP\vX
c
o
\x07\x07r
\x07\r\x07\x07s\b\b\bx
\b\b\x07\b{
\b\f\b\b~\v\b																										\x99
	





\v\v\v\f\f\xA5
\f\f\f\r\r\xAA
\r\r\r\xAF
\xB4
\x07\xD9
\f\xDC\v\x07\xE5
\f\xE8\v\x07\xF1
\f\xF4\v\xF9
\x07\xFE
\f\u0101\v\x07\u011E
\f\u0121\v\x07\u012D
\f\u0130\v\u0144
\x07\u0149
\f\u014C\v\b
\f "$&(*,.0		''\f\r\u01712BW\bb
n\fqu\x98\x9A\xA0\xA4\xA9\xAE\xB3\xF8 \xFA"\u0104$\u0107&\u010E(\u0114*\u0122,\u0143.\u01450\u014A290384856\x076807374758;979::<;9<=0=>?\x07?A0@>ADB@BCCEDBEF
FN0GH\x07HJ0IK
JIJKKMLGMPNLNOOPNQR\x07RX0ST\x07TX0UV\x07\rVX0WQWSWUX\x07YZ.Z[0[c\\]\x07$]c0^_\x07_c.\`a\x07ac.bYb\\b^b\`c	de\bef\x07\x07fg0gh\bhoij\bjk\x07\x07kl0lm\f\x07mondnio\vprqprssqstt\ru|	vxwvwxxyy{	zw{~|z|}}~|\x7F\x80\f\x80\x810\x81\x99\x82\x83\r\x83\x840\x84\x99\x85\x86\x86\x870\x87\x99\x88\x89\x07\x89\x990\x8A\x8B\x07\x8B\x990\x8C\x8D.\x8D\x8E0\x8E\x99\x8F\x99$\x90\x91\x07\x91\x990\x92\x99\v\x93\x99&\x94\x99
\x95\x96\x96\x970\x97\x99\x98\x7F\x98\x82\x98\x85\x98\x88\x98\x8A\x98\x8C\x98\x8F\x98\x90\x98\x92\x98\x93\x98\x94\x98\x95\x99\x9A\x9B\x07'\x9B\x9C0\x9C\x9D\b\x9D\x9E\x07\b\x9E\x9F0\x9F\xA0\xA1\x07\xA1\xA20\xA2\xA3\xA5	\xA4\xA3\xA4\xA5\xA5\xA6\xA6\xA7\x07\xA7\xA8\xAA	\xA9\xA8\xA9\xAA\xAA\xAB\xAB\xAC\x07\xAC\xAD\xAF	\xAE\xAD\xAE\xAF\xAF\xB0\xB0\xB1\x07\xB1\x1B\xB2\xB4	\xB3\xB2\xB3\xB4\xB4\xB5\xB5\xB6\x07\xB6\xB7\xB8.\xB8\xB90\xB9\xF9\xBA\xBB\f\xBB\xBC0\xBC\xF9\xBD\xBE\r\xBE\xBF0\xBF\xF9\xC0\xC1\xC1\xC20\xC2\xF9\xC3\xC4\xC4\xC50\xC5\xF9\xC6\xC7\x07\xC7\xF90\xC8\xC9\x07\xC9\xF90\xCA\xCB\x07\xCB\xF90\xCC\xCD\x07\xCD\xF90\xCE\xCF\x07\xCF\xF90\xD0\xD1\x07\xD1\xF90\xD2\xD3\x07\x07\xD3\xF90\xD4\xD5\x07'\xD5\xDA0\xD6\xD9\xD7\xD9"\xD8\xD6\xD8\xD7\xD9\xDC\xDA\xD8\xDA\xDB\xDB\xDD\xDC\xDA\xDD\xDE\x07\b\xDE\xDF0\xDF\xF9\xE0\xE1\x07	\xE1\xE60\xE2\xE5\xE3\xE5"\xE4\xE2\xE4\xE3\xE5\xE8\xE6\xE4\xE6\xE7\xE7\xE9\xE8\xE6\xE9\xEA\x07\b\xEA\xEB0\xEB\xF9\xEC\xED\x07
\xED\xF20\xEE\xF1\xEF\xF1"\xF0\xEE\xF0\xEF\xF1\xF4\xF2\xF0\xF2\xF3\xF3\xF5\xF4\xF2\xF5\xF6\x07\v\xF6\xF70\xF7\xF9\xF8\xB7\xF8\xBA\xF8\xBD\xF8\xC0\xF8\xC3\xF8\xC6\xF8\xC8\xF8\xCA\xF8\xCC\xF8\xCE\xF8\xD0\xF8\xD2\xF8\xD4\xF8\xE0\xF8\xEC\xF9\xFA\xFF	\xFB\xFE\xFC\xFE"\xFD\xFB\xFD\xFC\xFE\u0101\xFF\xFD\xFF\u0100\u0100\u0102\u0101\xFF\u0102\u0103\x07\b\u0103!\u0104\u0105\x07\u0105\u01060\u0106#\u0107\u0108\x07%\u0108\u01090\u0109\u010A\x07$\u010A\u010B0\u010B\u010C\x07\b\u010C\u010D0\u010D%\u010E\u010F\x07#\u010F\u01100\u0110\u0111(\u0111\u0112\x07\b\u0112\u01130\u0113'\u0114\u011F*\u0115\u0116\x07\r\u0116\u01170\u0117\u0118	\u0118\u01190\u0119\u011A\x07\r\u011A\u011B0\u011B\u011C*\u011C\u011E\u011D\u0115\u011E\u0121\u011F\u011D\u011F\u0120\u0120)\u0121\u011F\u0122\u012E,\u0123\u0124\x07\u0124\u01250\u0125\u0126,\u0126\u012D\u0127\u0128\x07\u0128\u01290\u0129\u012A\f\u012A\u012B0\u012B\u012D\u012C\u0123\u012C\u0127\u012D\u0130\u012E\u012C\u012E\u012F\u012F+\u0130\u012E\u0131\u0132\f\u0132\u01330\u0133\u0144\u0134\u0135\u0135\u01360\u0136\u0144\u0137\u0138\u0138\u01390\u0139\u0144\u013A\u013B\r\u013B\u013C0\u013C\u0144\u013D\u013E\x07	\u013E\u013F0\u013F\u0140(\u0140\u0141\x07\b\u0141\u01420\u0142\u0144\u0143\u0131\u0143\u0134\u0143\u0137\u0143\u013A\u0143\u013D\u0144-\u0145\u0146\x07&\u0146/\u0147\u0149	\u0148\u0147\u0149\u014C\u014A\u0148\u014A\u014B\u014B1\u014C\u014A 79BJNWbnsw|\x98\xA4\xA9\xAE\xB3\xD8\xDA\xE4\xE6\xF0\xF2\xF8\xFD\xFF\u011F\u012C\u012E\u0143\u014A`),c(We,"__ATN");class VV extends Zr.ParserRuleContext{ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}declarationList(e){return e===void 0?this.getRuleContexts(iw):this.getRuleContext(e,iw)}any_(e){return e===void 0?this.getRuleContexts(va):this.getRuleContext(e,va)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_inlineStyle}enterRule(e){e.enterInlineStyle&&e.enterInlineStyle(this)}exitRule(e){e.exitInlineStyle&&e.exitInlineStyle(this)}accept(e){return e.visitInlineStyle?e.visitInlineStyle(this):e.visitChildren(this)}}class iw extends Zr.ParserRuleContext{declaration(e){return e===void 0?this.getRuleContexts(y0):this.getRuleContext(e,y0)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_declarationList}enterRule(e){e.enterDeclarationList&&e.enterDeclarationList(this)}exitRule(e){e.exitDeclarationList&&e.exitDeclarationList(this)}accept(e){return e.visitDeclarationList?e.visitDeclarationList(this):e.visitChildren(this)}}class ly extends Zr.ParserRuleContext{constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_operator_}copyFrom(e){super.copyFrom(e)}}class LE extends ly{ws(){return this.getRuleContext(0,Ir)}Comma(){return this.tryGetToken(We.Comma,0)}Space(){return this.tryGetToken(We.Space,0)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterGoodOperator&&e.enterGoodOperator(this)}exitRule(e){e.exitGoodOperator&&e.exitGoodOperator(this)}accept(e){return e.visitGoodOperator?e.visitGoodOperator(this):e.visitChildren(this)}}class Cg extends Zr.ParserRuleContext{constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_property_}copyFrom(e){super.copyFrom(e)}}class JP extends Cg{ident(){return this.tryGetRuleContext(0,Pg)}ws(){return this.getRuleContext(0,Ir)}Variable(){return this.tryGetToken(We.Variable,0)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterGoodProperty&&e.enterGoodProperty(this)}exitRule(e){e.exitGoodProperty&&e.exitGoodProperty(this)}accept(e){return e.visitGoodProperty?e.visitGoodProperty(this):e.visitChildren(this)}}class ZP extends Cg{ident(){return this.getRuleContext(0,Pg)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterBadProperty&&e.enterBadProperty(this)}exitRule(e){e.exitBadProperty&&e.exitBadProperty(this)}accept(e){return e.visitBadProperty?e.visitBadProperty(this):e.visitChildren(this)}}class y0 extends Zr.ParserRuleContext{constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_declaration}copyFrom(e){super.copyFrom(e)}}class zV extends y0{property_(){return this.getRuleContext(0,Cg)}ws(){return this.getRuleContext(0,Ir)}expr(){return this.getRuleContext(0,Pb)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterKnownDeclaration&&e.enterKnownDeclaration(this)}exitRule(e){e.exitKnownDeclaration&&e.exitKnownDeclaration(this)}accept(e){return e.visitKnownDeclaration?e.visitKnownDeclaration(this):e.visitChildren(this)}}class WV extends y0{property_(){return this.getRuleContext(0,Cg)}ws(){return this.getRuleContext(0,Ir)}value(){return this.getRuleContext(0,pN)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterUnknownDeclaration&&e.enterUnknownDeclaration(this)}exitRule(e){e.exitUnknownDeclaration&&e.exitUnknownDeclaration(this)}accept(e){return e.visitUnknownDeclaration?e.visitUnknownDeclaration(this):e.visitChildren(this)}}class pN extends Zr.ParserRuleContext{any_(e){return e===void 0?this.getRuleContexts(va):this.getRuleContext(e,va)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_value}enterRule(e){e.enterValue&&e.enterValue(this)}exitRule(e){e.exitValue&&e.exitValue(this)}accept(e){return e.visitValue?e.visitValue(this):e.visitChildren(this)}}class Pb extends Zr.ParserRuleContext{term(e){return e===void 0?this.getRuleContexts(v0):this.getRuleContext(e,v0)}operator_(e){return e===void 0?this.getRuleContexts(ly):this.getRuleContext(e,ly)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_expr}enterRule(e){e.enterExpr&&e.enterExpr(this)}exitRule(e){e.exitExpr&&e.exitExpr(this)}accept(e){return e.visitExpr?e.visitExpr(this):e.visitChildren(this)}}class v0 extends Zr.ParserRuleContext{constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_term}copyFrom(e){super.copyFrom(e)}}class _o extends v0{number(){return this.tryGetRuleContext(0,Yd)}ws(){return this.tryGetRuleContext(0,Ir)}percentage(){return this.tryGetRuleContext(0,ev)}dimension(){return this.tryGetRuleContext(0,tv)}String_(){return this.tryGetToken(We.String_,0)}UnicodeRange(){return this.tryGetToken(We.UnicodeRange,0)}ident(){return this.tryGetRuleContext(0,Pg)}var_(){return this.tryGetRuleContext(0,xN)}Uri(){return this.tryGetToken(We.Uri,0)}hexcolor(){return this.tryGetRuleContext(0,mN)}calc(){return this.tryGetRuleContext(0,yN)}function_(){return this.tryGetRuleContext(0,gN)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterKnownTerm&&e.enterKnownTerm(this)}exitRule(e){e.exitKnownTerm&&e.exitKnownTerm(this)}accept(e){return e.visitKnownTerm?e.visitKnownTerm(this):e.visitChildren(this)}}class $V extends v0{unknownDimension(){return this.getRuleContext(0,rv)}ws(){return this.getRuleContext(0,Ir)}constructor(e){super(e.parent,e.invokingState),this.copyFrom(e)}enterRule(e){e.enterUnknownTerm&&e.enterUnknownTerm(this)}exitRule(e){e.exitUnknownTerm&&e.exitUnknownTerm(this)}accept(e){return e.visitUnknownTerm?e.visitUnknownTerm(this):e.visitChildren(this)}}class gN extends Zr.ParserRuleContext{Function_(){return this.getToken(We.Function_,0)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}expr(){return this.getRuleContext(0,Pb)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_function_}enterRule(e){e.enterFunction_&&e.enterFunction_(this)}exitRule(e){e.exitFunction_&&e.exitFunction_(this)}accept(e){return e.visitFunction_?e.visitFunction_(this):e.visitChildren(this)}}class mN extends Zr.ParserRuleContext{Hash(){return this.getToken(We.Hash,0)}ws(){return this.getRuleContext(0,Ir)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_hexcolor}enterRule(e){e.enterHexcolor&&e.enterHexcolor(this)}exitRule(e){e.exitHexcolor&&e.exitHexcolor(this)}accept(e){return e.visitHexcolor?e.visitHexcolor(this):e.visitChildren(this)}}class Yd extends Zr.ParserRuleContext{Number(){return this.getToken(We.Number,0)}Plus(){return this.tryGetToken(We.Plus,0)}Minus(){return this.tryGetToken(We.Minus,0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_number}enterRule(e){e.enterNumber&&e.enterNumber(this)}exitRule(e){e.exitNumber&&e.exitNumber(this)}accept(e){return e.visitNumber?e.visitNumber(this):e.visitChildren(this)}}class ev extends Zr.ParserRuleContext{Percentage(){return this.getToken(We.Percentage,0)}Plus(){return this.tryGetToken(We.Plus,0)}Minus(){return this.tryGetToken(We.Minus,0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_percentage}enterRule(e){e.enterPercentage&&e.enterPercentage(this)}exitRule(e){e.exitPercentage&&e.exitPercentage(this)}accept(e){return e.visitPercentage?e.visitPercentage(this):e.visitChildren(this)}}class tv extends Zr.ParserRuleContext{Dimension(){return this.getToken(We.Dimension,0)}Plus(){return this.tryGetToken(We.Plus,0)}Minus(){return this.tryGetToken(We.Minus,0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_dimension}enterRule(e){e.enterDimension&&e.enterDimension(this)}exitRule(e){e.exitDimension&&e.exitDimension(this)}accept(e){return e.visitDimension?e.visitDimension(this):e.visitChildren(this)}}class rv extends Zr.ParserRuleContext{UnknownDimension(){return this.getToken(We.UnknownDimension,0)}Plus(){return this.tryGetToken(We.Plus,0)}Minus(){return this.tryGetToken(We.Minus,0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_unknownDimension}enterRule(e){e.enterUnknownDimension&&e.enterUnknownDimension(this)}exitRule(e){e.exitUnknownDimension&&e.exitUnknownDimension(this)}accept(e){return e.visitUnknownDimension?e.visitUnknownDimension(this):e.visitChildren(this)}}class va extends Zr.ParserRuleContext{ident(){return this.tryGetRuleContext(0,Pg)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}number(){return this.tryGetRuleContext(0,Yd)}percentage(){return this.tryGetRuleContext(0,ev)}dimension(){return this.tryGetRuleContext(0,tv)}unknownDimension(){return this.tryGetRuleContext(0,rv)}String_(){return this.tryGetToken(We.String_,0)}Uri(){return this.tryGetToken(We.Uri,0)}Hash(){return this.tryGetToken(We.Hash,0)}UnicodeRange(){return this.tryGetToken(We.UnicodeRange,0)}Includes(){return this.tryGetToken(We.Includes,0)}DashMatch(){return this.tryGetToken(We.DashMatch,0)}Function_(){return this.tryGetToken(We.Function_,0)}any_(e){return e===void 0?this.getRuleContexts(va):this.getRuleContext(e,va)}unused(e){return e===void 0?this.getRuleContexts(E0):this.getRuleContext(e,E0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_any_}enterRule(e){e.enterAny_&&e.enterAny_(this)}exitRule(e){e.exitAny_&&e.exitAny_(this)}accept(e){return e.visitAny_?e.visitAny_(this):e.visitChildren(this)}}class KV extends Zr.ParserRuleContext{Function_(){return this.getToken(We.Function_,0)}any_(e){return e===void 0?this.getRuleContexts(va):this.getRuleContext(e,va)}unused(e){return e===void 0?this.getRuleContexts(E0):this.getRuleContext(e,E0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_generalEnclosed}enterRule(e){e.enterGeneralEnclosed&&e.enterGeneralEnclosed(this)}exitRule(e){e.exitGeneralEnclosed&&e.exitGeneralEnclosed(this)}accept(e){return e.visitGeneralEnclosed?e.visitGeneralEnclosed(this):e.visitChildren(this)}}class E0 extends Zr.ParserRuleContext{ws(){return this.getRuleContext(0,Ir)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_unused}enterRule(e){e.enterUnused&&e.enterUnused(this)}exitRule(e){e.exitUnused&&e.exitUnused(this)}accept(e){return e.visitUnused?e.visitUnused(this):e.visitChildren(this)}}class xN extends Zr.ParserRuleContext{Var(){return this.getToken(We.Var,0)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}Variable(){return this.getToken(We.Variable,0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_var_}enterRule(e){e.enterVar_&&e.enterVar_(this)}exitRule(e){e.exitVar_&&e.exitVar_(this)}accept(e){return e.visitVar_?e.visitVar_(this):e.visitChildren(this)}}class yN extends Zr.ParserRuleContext{Calc(){return this.getToken(We.Calc,0)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}calcSum(){return this.getRuleContext(0,Db)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_calc}enterRule(e){e.enterCalc&&e.enterCalc(this)}exitRule(e){e.exitCalc&&e.exitCalc(this)}accept(e){return e.visitCalc?e.visitCalc(this):e.visitChildren(this)}}class Db extends Zr.ParserRuleContext{calcProduct(e){return e===void 0?this.getRuleContexts(sw):this.getRuleContext(e,sw)}Space(e){return e===void 0?this.getTokens(We.Space):this.getToken(We.Space,e)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}Plus(e){return e===void 0?this.getTokens(We.Plus):this.getToken(We.Plus,e)}Minus(e){return e===void 0?this.getTokens(We.Minus):this.getToken(We.Minus,e)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_calcSum}enterRule(e){e.enterCalcSum&&e.enterCalcSum(this)}exitRule(e){e.exitCalcSum&&e.exitCalcSum(this)}accept(e){return e.visitCalcSum?e.visitCalcSum(this):e.visitChildren(this)}}class sw extends Zr.ParserRuleContext{calcValue(e){return e===void 0?this.getRuleContexts(ow):this.getRuleContext(e,ow)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}number(e){return e===void 0?this.getRuleContexts(Yd):this.getRuleContext(e,Yd)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_calcProduct}enterRule(e){e.enterCalcProduct&&e.enterCalcProduct(this)}exitRule(e){e.exitCalcProduct&&e.exitCalcProduct(this)}accept(e){return e.visitCalcProduct?e.visitCalcProduct(this):e.visitChildren(this)}}class ow extends Zr.ParserRuleContext{number(){return this.tryGetRuleContext(0,Yd)}ws(e){return e===void 0?this.getRuleContexts(Ir):this.getRuleContext(e,Ir)}dimension(){return this.tryGetRuleContext(0,tv)}unknownDimension(){return this.tryGetRuleContext(0,rv)}percentage(){return this.tryGetRuleContext(0,ev)}calcSum(){return this.tryGetRuleContext(0,Db)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_calcValue}enterRule(e){e.enterCalcValue&&e.enterCalcValue(this)}exitRule(e){e.exitCalcValue&&e.exitCalcValue(this)}accept(e){return e.visitCalcValue?e.visitCalcValue(this):e.visitChildren(this)}}class Pg extends Zr.ParserRuleContext{Ident(){return this.getToken(We.Ident,0)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_ident}enterRule(e){e.enterIdent&&e.enterIdent(this)}exitRule(e){e.exitIdent&&e.exitIdent(this)}accept(e){return e.visitIdent?e.visitIdent(this):e.visitChildren(this)}}class Ir extends Zr.ParserRuleContext{Comment(e){return e===void 0?this.getTokens(We.Comment):this.getToken(We.Comment,e)}Space(e){return e===void 0?this.getTokens(We.Space):this.getToken(We.Space,e)}constructor(e,r){super(e,r)}get ruleIndex(){return We.RULE_ws}enterRule(e){e.enterWs&&e.enterWs(this)}exitRule(e){e.exitWs&&e.exitWs(this)}accept(e){return e.visitWs?e.visitWs(this):e.visitChildren(this)}}class XV{apply(e,r){const n=YA.CharStreams.fromString(r),s=new Ht(n),i=new QP;s.addErrorListener(i);const o=new YA.CommonTokenStream(s),a=new We(o);a.buildParseTree=!0;const l=new QP;a.addErrorListener(l);const u=a.inlineStyle(),d=new LV(e);u.accept(d)}}class YV extends W3{constructor(r){super();c(this,"data_");c(this,"css_parser_");c(this,"mutation_observer_");r&&r instanceof rm?this.data_=r:this.data_=new rm,this.css_parser_=new XV}data(){return Q(this.data_),this.data_}setProperty(r,n){Q(this.css_parser_),this.data_||(this.data_=new rm),this.css_parser_.apply(this,`${r} : ${n};`),this.RecordMutation()}GetDeclaredPropertyValueStringByKey(r){return r>C.kMaxLonghandPropertyKey?(jr(r,C.kMaxEveryPropertyKey),$e(),En(oi,'Unsupported property query for "',at(r),'": Returning of property value strings is not ',"supported for shorthand properties."),""):this.data_&&r!=C.kNoneProperty?this.data_.GetPropertyValueString(r):""}AssignFrom(r){if(!r.data_){this.data_=void 0;return}this.data_||(this.data_=new rm),this.data_.AssignFrom(r.data_)}RecordMutation(){this.mutation_observer_&&this.mutation_observer_.OnCSSMutation()}set_mutation_observer(r){this.mutation_observer_=r}toString(){var r;return(r=this.data_)==null?void 0:r.toString()}}class qV{constructor(){c(this,"declared_property_values_",new Map);c(this,"has_declared_inherited_properties_",!1);c(this,"parent_computed_style_declaration_",null);c(this,"is_inline_before_blockification_",!0);c(this,"declared_properties_inherited_from_parent_",[])}GetPropertyValueReference(e){return C.kNoneProperty,jr(e,C.kMaxLonghandPropertyKey),this.declared_property_values_.has(e)?this.declared_property_values_.get(e):this.parent_computed_style_declaration_&&XA(e)===ry.kInheritedYes&&this.parent_computed_style_declaration_.HasInheritedProperties()?this.parent_computed_style_declaration_.GetInheritedPropertyValueReference(e):this.GetComputedInitialValue(e)}GetComputedInitialValue(e){switch(e){case C.kAllProperty:case C.kAlignContentProperty:case C.kAlignItemsProperty:case C.kAlignSelfProperty:case C.kBackgroundColorProperty:case C.kBackgroundImageProperty:case C.kBackgroundPositionProperty:case C.kBackgroundProperty:case C.kBackgroundRepeatProperty:case C.kBackgroundSizeProperty:case C.kBorderBottomLeftRadiusProperty:case C.kBorderBottomProperty:case C.kBorderBottomRightRadiusProperty:case C.kBorderBottomStyleProperty:case C.kBorderColorProperty:case C.kBorderLeftProperty:case C.kBorderLeftStyleProperty:case C.kBorderProperty:case C.kBorderRadiusProperty:case C.kBorderRightProperty:case C.kBorderRightStyleProperty:case C.kBorderStyleProperty:case C.kBorderTopLeftRadiusProperty:case C.kBorderTopProperty:case C.kBorderTopRightRadiusProperty:case C.kBorderTopStyleProperty:case C.kBorderWidthProperty:case C.kBottomProperty:case C.kBoxShadowProperty:case C.kColorProperty:case C.kContentProperty:case C.kDisplayProperty:case C.kFilterProperty:case C.kFlexProperty:case C.kFlexBasisProperty:case C.kFlexDirectionProperty:case C.kFlexFlowProperty:case C.kFlexGrowProperty:case C.kFlexShrinkProperty:case C.kFlexWrapProperty:case C.kFontProperty:case C.kFontFamilyProperty:case C.kFontStyleProperty:case C.kFontWeightProperty:case C.kFontSizeProperty:case C.kHeightProperty:case C.kIntersectionObserverRootMarginProperty:case C.kJustifyContentProperty:case C.kLeftProperty:case C.kLineHeightProperty:case C.kMarginBottomProperty:case C.kMarginLeftProperty:case C.kMarginProperty:case C.kMarginRightProperty:case C.kMarginTopProperty:case C.kMaxHeightProperty:case C.kMaxWidthProperty:case C.kMinHeightProperty:case C.kMinWidthProperty:case C.kNoneProperty:case C.kOpacityProperty:case C.kOrderProperty:case C.kOutlineProperty:case C.kOutlineStyleProperty:case C.kOverflowProperty:case C.kOverflowWrapProperty:case C.kPaddingBottomProperty:case C.kPaddingLeftProperty:case C.kPaddingProperty:case C.kPaddingRightProperty:case C.kPaddingTopProperty:case C.kPointerEventsProperty:case C.kPositionProperty:case C.kRightProperty:case C.kSrcProperty:case C.kTextAlignProperty:case C.kTextDecorationLineProperty:case C.kTextDecorationProperty:case C.kTextIndentProperty:case C.kTextOverflowProperty:case C.kTextShadowProperty:case C.kTextTransformProperty:case C.kTopProperty:case C.kTransformOriginProperty:case C.kTransformProperty:case C.kUnicodeRangeProperty:case C.kVerticalAlignProperty:case C.kVisibilityProperty:case C.kWhiteSpaceProperty:case C.kWidthProperty:case C.kWordWrapProperty:case C.kZIndexProperty:break}return XS(e)}get align_content(){return this.GetPropertyValueReference(C.kAlignContentProperty)}get align_items(){return this.GetPropertyValueReference(C.kAlignItemsProperty)}get background_color(){return this.GetPropertyValueReference(C.kBackgroundColorProperty)}get background_image(){return this.GetPropertyValueReference(C.kBackgroundImageProperty)}get background_position(){return this.GetPropertyValueReference(C.kBackgroundPositionProperty)}get background_repeat(){return this.GetPropertyValueReference(C.kBackgroundRepeatProperty)}get background_size(){return this.GetPropertyValueReference(C.kBackgroundSizeProperty)}get border_top_color(){return this.GetPropertyValueReference(C.kBorderTopColorProperty)}get border_right_color(){return this.GetPropertyValueReference(C.kBorderRightColorProperty)}get border_bottom_color(){return this.GetPropertyValueReference(C.kBorderBottomColorProperty)}get border_left_color(){return this.GetPropertyValueReference(C.kBorderLeftColorProperty)}get border_top_style(){return this.GetPropertyValueReference(C.kBorderTopStyleProperty)}get border_right_style(){return this.GetPropertyValueReference(C.kBorderRightStyleProperty)}get border_bottom_style(){return this.GetPropertyValueReference(C.kBorderBottomStyleProperty)}get border_left_style(){return this.GetPropertyValueReference(C.kBorderLeftStyleProperty)}get border_top_width(){return this.GetPropertyValueReference(C.kBorderTopWidthProperty)}get border_right_width(){return this.GetPropertyValueReference(C.kBorderRightWidthProperty)}get border_bottom_width(){return this.GetPropertyValueReference(C.kBorderBottomWidthProperty)}get border_left_width(){return this.GetPropertyValueReference(C.kBorderLeftWidthProperty)}get border_top_left_radius(){return this.GetPropertyValueReference(C.kBorderTopLeftRadiusProperty)}get border_top_right_radius(){return this.GetPropertyValueReference(C.kBorderTopRightRadiusProperty)}get border_bottom_right_radius(){return this.GetPropertyValueReference(C.kBorderBottomRightRadiusProperty)}get border_bottom_left_radius(){return this.GetPropertyValueReference(C.kBorderBottomLeftRadiusProperty)}get bottom(){return this.GetPropertyValueReference(C.kBottomProperty)}get box_shadow(){return this.GetPropertyValueReference(C.kBoxShadowProperty)}get color(){return this.GetPropertyValueReference(C.kColorProperty)}get content(){return this.GetPropertyValueReference(C.kContentProperty)}get display(){return this.GetPropertyValueReference(C.kDisplayProperty)}get filter(){return this.GetPropertyValueReference(C.kFilterProperty)}get flex_basis(){return this.GetPropertyValueReference(C.kFlexBasisProperty)}get flex_direction(){return this.GetPropertyValueReference(C.kFlexDirectionProperty)}get flex_grow(){return this.GetPropertyValueReference(C.kFlexGrowProperty)}get flex_shrink(){return this.GetPropertyValueReference(C.kFlexShrinkProperty)}get flex_wrap(){return this.GetPropertyValueReference(C.kFlexWrapProperty)}get font_family(){return this.GetPropertyValueReference(C.kFontFamilyProperty)}get font_size(){return this.GetPropertyValueReference(C.kFontSizeProperty)}get font_style(){return this.GetPropertyValueReference(C.kFontStyleProperty)}get font_weight(){return this.GetPropertyValueReference(C.kFontWeightProperty)}get height(){return this.GetPropertyValueReference(C.kHeightProperty)}get justify_content(){return this.GetPropertyValueReference(C.kJustifyContentProperty)}get left(){return this.GetPropertyValueReference(C.kLeftProperty)}get line_height(){return this.GetPropertyValueReference(C.kLineHeightProperty)}get margin_bottom(){return this.GetPropertyValueReference(C.kMarginBottomProperty)}get margin_left(){return this.GetPropertyValueReference(C.kMarginLeftProperty)}get margin_right(){return this.GetPropertyValueReference(C.kMarginRightProperty)}get margin_top(){return this.GetPropertyValueReference(C.kMarginTopProperty)}get max_height(){return this.GetPropertyValueReference(C.kMaxHeightProperty)}get max_width(){return this.GetPropertyValueReference(C.kMaxWidthProperty)}get min_height(){return this.GetPropertyValueReference(C.kMinHeightProperty)}get min_width(){return this.GetPropertyValueReference(C.kMinWidthProperty)}get opacity(){return this.GetPropertyValueReference(C.kOpacityProperty)}get order(){return this.GetPropertyValueReference(C.kOrderProperty)}get outline_color(){return this.GetPropertyValueReference(C.kOutlineColorProperty)}get outline_style(){return this.GetPropertyValueReference(C.kOutlineStyleProperty)}get outline_width(){return this.GetPropertyValueReference(C.kOutlineWidthProperty)}get overflow(){return this.GetPropertyValueReference(C.kOverflowProperty)}get overflow_wrap(){return this.GetPropertyValueReference(C.kOverflowWrapProperty)}get padding_bottom(){return this.GetPropertyValueReference(C.kPaddingBottomProperty)}get padding_left(){return this.GetPropertyValueReference(C.kPaddingLeftProperty)}get padding_right(){return this.GetPropertyValueReference(C.kPaddingRightProperty)}get padding_top(){return this.GetPropertyValueReference(C.kPaddingTopProperty)}get pointer_events(){return this.GetPropertyValueReference(C.kPointerEventsProperty)}get position(){return this.GetPropertyValueReference(C.kPositionProperty)}get right(){return this.GetPropertyValueReference(C.kRightProperty)}get text_align(){return this.GetPropertyValueReference(C.kTextAlignProperty)}get text_decoration_color(){return this.GetPropertyValueReference(C.kTextDecorationColorProperty)}get text_decoration_line(){return this.GetPropertyValueReference(C.kTextDecorationLineProperty)}get text_indent(){return this.GetPropertyValueReference(C.kTextIndentProperty)}get text_overflow(){return this.GetPropertyValueReference(C.kTextOverflowProperty)}get text_shadow(){return this.GetPropertyValueReference(C.kTextShadowProperty)}get text_transform(){return this.GetPropertyValueReference(C.kTextTransformProperty)}get top(){return this.GetPropertyValueReference(C.kTopProperty)}get transform(){return this.GetPropertyValueReference(C.kTransformProperty)}get transform_origin(){return this.GetPropertyValueReference(C.kTransformOriginProperty)}get vertical_align(){return this.GetPropertyValueReference(C.kVerticalAlignProperty)}get visibility(){return this.GetPropertyValueReference(C.kVisibilityProperty)}get white_space(){return this.GetPropertyValueReference(C.kWhiteSpaceProperty)}get width(){return this.GetPropertyValueReference(C.kWidthProperty)}get z_index(){return this.GetPropertyValueReference(C.kZIndexProperty)}SetPropertyValue(e,r){C.kNoneProperty,jr(e,C.kMaxLonghandPropertyKey),r?(this.declared_property_values_.set(e,r),this.has_declared_inherited_properties_=this.has_declared_inherited_properties_||XA(e)==ry.kInheritedYes&&r!=pe.GetInherit()):this.declared_property_values_.has(e)&&this.declared_property_values_.delete(e)}GetPropertyValue(e){return this.GetPropertyValueReference(e)}set_is_inline_before_blockification(e){this.is_inline_before_blockification_=e}set_background_image(e){this.SetPropertyValue(C.kBackgroundImageProperty,e)}has_declared_inherited_properties(){return this.has_declared_inherited_properties_}GetParentComputedStyleDeclaration(){return this.parent_computed_style_declaration_}IsPositioned(){return this.position!=pe.GetStatic()}IsTransformed(){return this.transform!=pe.GetNone()}is_inline_before_blockification(){return this.is_inline_before_blockification_}IsContainingBlockForPositionAbsoluteElements(){return this.IsPositioned()||this.IsTransformed()}IsDeclared(e){return this.declared_property_values_.has(e)}declared_property_values(){return this.declared_property_values_}GetDeclaredPropertyValueReference(e){return C.kNoneProperty,jr(e,C.kMaxLonghandPropertyKey),Q(this.declared_property_values_.has(e)),this.declared_property_values_.get(e)}AddDeclaredPropertyInheritedFromParent(e){C.kNoneProperty,jr(e,C.kMaxLonghandPropertyKey),this.declared_properties_inherited_from_parent_.push(e)}AreDeclaredPropertiesInheritedFromParentValid(){if(this.declared_properties_inherited_from_parent_.length==0)return!0;if(!this.parent_computed_style_declaration_)return!1;let e=this.parent_computed_style_declaration_.data();if(!e)return!1;Q(e.AreDeclaredPropertiesInheritedFromParentValid());for(let r of this.declared_properties_inherited_from_parent_)if(this.GetPropertyValueReference(r)!==e.GetPropertyValueReference(r))return!1;return!0}AssignFrom(e){this.declared_property_values_=e.declared_property_values_,this.has_declared_inherited_properties_=e.has_declared_inherited_properties_,this.declared_properties_inherited_from_parent_=e.declared_properties_inherited_from_parent_,this.parent_computed_style_declaration_=e.parent_computed_style_declaration_,this.is_inline_before_blockification_=e.is_inline_before_blockification_}DoDeclaredPropertiesMatch(e){er(this.declared_property_values_.size,e.declared_property_values_.size);for(let r of this.declared_property_values_.keys())if(this.declared_property_values_.get(r)!==e.declared_property_values_.get(r))return!1;return!0}}class Dg extends qV{set_background_color(e){this.SetPropertyValue(C.kBackgroundColorProperty,e)}set_display(e){this.SetPropertyValue(C.kDisplayProperty,e)}set_width(e){this.SetPropertyValue(C.kWidthProperty,e)}set_height(e){this.SetPropertyValue(C.kHeightProperty,e)}SetPropertyValue(e,r){super.SetPropertyValue(e,r)}}class dm{constructor(e){c(this,"properties_",[]);c(this,"properties_bitset_",new Set);this.properties_=e;for(let r=0;r<this.properties_.length;++r){let n=this.properties_[r];C.kNoneProperty,jr(n,C.kMaxLonghandPropertyKey),this.properties_bitset_.add(n)}}DoDeclaredPropertiesMatch(e,r){for(let n=0;n<this.properties_.length;++n){let s=this.properties_[n],i=e.declared_property_values_.get(s),o=r.declared_property_values_.get(s);if(Boolean(!!i)!==Boolean(o)||i&&!i.EQ(o))return!1}return!0}}class QV{constructor(e=0,r=0,n=0){c(this,"v_",[0,0,0]);hs(e,0,"Specificity field cannot be negative."),hs(r,0,"Specificity field cannot be negative."),hs(n,0,"Specificity field cannot be negative."),this.v_[0]=e,this.v_[1]=r,this.v_[2]=n}LT(e){const{v_:r}=this;return r[0]<e.v_[0]||r[0]==e.v_[0]&&(r[1]<e.v_[1]||r[1]==e.v_[1]&&r[2]<e.v_[2])}EQ(e){const{v_:r}=this;return r[0]==e.v_[0]&&r[1]==e.v_[1]&&r[2]==e.v_[2]}}var aw=(t=>(t[t.kNormalUserAgent=0]="kNormalUserAgent",t[t.kNormalAuthor=1]="kNormalAuthor",t[t.kNormalOverride=2]="kNormalOverride",t[t.kImportantMin=3]="kImportantMin",t[t.kImportantAuthor=3]="kImportantAuthor",t[t.kImportantOverride=4]="kImportantOverride",t[t.kImportantUserAgent=5]="kImportantUserAgent",t[t.kImportantMax=5]="kImportantMax",t))(aw||{});const Zl=class{constructor(e=Zl.kUnattached,r=Zl.kUnattached){c(this,"style_sheet_index_",Zl.kUnattached);c(this,"rule_index_",Zl.kUnattached);this.style_sheet_index_=e,this.rule_index_=r,hs(e,Zl.kUnattached,"Wrong style sheet index."),hs(r,Zl.kUnattached,"Wrong rule index.")}LT(e){return this.style_sheet_index_<e.style_sheet_index_||this.style_sheet_index_==e.style_sheet_index_&&this.rule_index_<e.rule_index_}EQ(e){return this.style_sheet_index_==e.style_sheet_index_&&this.rule_index_==e.rule_index_}};let Jm=Zl;c(Jm,"kUnattached",-1);class eD{constructor(e,r=new QV,n=new Jm){c(this,"origin_");c(this,"specificity_");c(this,"appearance_");this.origin_=e,this.specificity_=r,this.appearance_=n}origin(){return this.origin_}specificity(){return this.specificity_}appearance(){return this.appearance_}SetImportant(){switch(this.origin_){case 0:{this.origin_=5;break}case 1:{this.origin_=3;break}case 2:{this.origin_=4;break}case 3:case 4:case 5:gt()}}LT(e){return this.origin_<e.origin_||this.origin_==e.origin_&&(this.specificity_.LT(e.specificity_)||this.specificity_.EQ(e.specificity_)&&this.appearance_.LT(e.appearance_))}EQ(e){return this.origin_==e.origin_&&this.specificity_==e.specificity_&&this.appearance_==e.appearance_}}function JV(t){let e=new Dg,r=new Array(C.kNumLonghandProperties);if(t){const n=new eD(aw.kImportantMin),s=new eD(aw.kImportantMax);ZV(t,n,s,r,e)}return e}function ZV(t,e,r,n,s){let i=!1,o=t.declared_property_values();for(let[a,l]of o){C.kNoneProperty,jr(a,C.kMaxLonghandPropertyKey);let u=t.IsDeclaredPropertyImportant(a)?r:e;(!n[a]||n[a].LT(u))&&(n[a]=u,s.SetPropertyValue(a,l),C.kBackgroundImageProperty==a&&(i=!0))}return i}class el{constructor(e,r){c(this,"width_",0);c(this,"height_",0);if(arguments.length==1){let n=e;this.width_=n.width_,this.height_=n.height_}else arguments.length===2&&(this.width_=e,this.height_=r)}IsEmpty(){return this.width_==0||this.height_==0}width(){return this.width_}height(){return this.height_}set_width(e){this.width_=e}set_height(e){this.height_=e}GetArea(){return this.width()*this.height()}Enlarge(e,r){this.set_width(this.width_+e),this.set_height(this.height_+r)}SetToMin(e){this.width_=this.width_<=e.width_?this.width_:e.width_,this.height_=this.height_<=e.height_?this.height_:e.height_}SetToMax(e){this.width_=this.width_>=e.width_?this.width_:e.width_,this.height_=this.height_>=e.height_?this.height_:e.height_}CLONE(){return new el(this)}Scale(e){this.width_*=e,this.height_*=e}}class tl extends el{GetArea(){return this.width()*this.height()}ToString(){return`${this.width()}x${this.height()}`}}class ez{}class vN extends ez{VisitFontStyle(e){this.VisitDefault(e)}VisitKeyword(e){this.VisitDefault(e)}VisitLength(e){this.VisitDefault(e)}VisitRGBAColor(e){this.VisitDefault(e)}VisitInteger(e){this.VisitDefault(e)}VisitPercentage(e){this.VisitDefault(e)}VisitNumber(e){this.VisitDefault(e)}VisitCalc(e){this.VisitDefault(e)}VisitPropertyList(e){this.VisitDefault(e)}VisitTransformPropertyValue(e){this.VisitDefault(e)}VisitString(e){this.VisitDefault(e)}VisitFontWeight(e){this.VisitDefault(e)}VisitShadow(e){this.VisitDefault(e)}VisitUnicodeRange(e){this.VisitDefault(e)}}class qr extends vN{VisitDefault(e){En(pp,"Unsupported property value: ",e.ToString()),gt()}}var EN=(t=>(t[t.kLengthsIndexOffsetX=0]="kLengthsIndexOffsetX",t[t.kLengthsIndexOffsetY=1]="kLengthsIndexOffsetY",t[t.kLengthsIndexBlurRadius=2]="kLengthsIndexBlurRadius",t[t.kLengthsIndexSpreadRadius=3]="kLengthsIndexSpreadRadius",t[t.kMaxLengths=4]="kMaxLengths",t))(EN||{});class Rb extends Qi{constructor(r,n,s){super();c(this,"lengths_");c(this,"color_");c(this,"has_inset_");jr(r.length,4),this.lengths_=r.slice(),this.color_=n,this.has_inset_=s}Accept(r){r.VisitShadow(this)}lengths(){return this.lengths_}offset_x(){return this.lengths_[0]}offset_y(){return this.lengths_[1]}blur_radius(){return this.lengths_[2]}spread_radius(){return this.lengths_[3]}color(){return this.color_}has_inset(){return this.has_inset_}ToString(){let r="";for(let n=0;n<4;++n)this.lengths_[n]&&(r.length&&(r+=" "),r+=this.lengths_[n].ToString());return this.color_&&(r.length&&(r+=" "),r+=this.color_.ToString()),this.has_inset_&&(r.length||(r+=" "),r+=K6),r}EQ(r){for(let n=0;n<4;++n)if(!this.lengths_[n]!=!r.lengths_[n]||this.lengths_[n]&&!this.lengths_[n].EQ(r.lengths_[n]))return!1;return this.color_.EQ(r.color_)&&this.has_inset_==r.has_inset_}GetTypeId(){return lr(Rb)}}class tz extends Qi{Accept(e){e.VisitTransformPropertyValue(this)}}class iu{constructor(e,r){c(this,"x_",0);c(this,"y_",0);if(arguments.length==1){let n=e;this.x_=n.x_,this.y_=n.y_}else this.x_=e||0,this.y_=r||0}x(){return this.x_}y(){return this.y_}SetPoint(e,r){this.x_=e,this.y_=r}set_x(e){this.x_=e}set_y(e){this.y_=e}SetToMin(e){this.x_=this.x_<=e.x_?this.x_:e.x_,this.y_=this.y_<=e.y_?this.y_:e.y_}SetToMax(e){this.x_=this.x_>=e.x_?this.x_:e.x_,this.y_=this.y_>=e.y_?this.y_:e.y_}ADD(e){this.x_+=e.x(),this.y_+=e.y()}EQ(e){return this.x_===e.x_&&this.y_===e.y_}CLONE(){return new iu(this.x_,this.y_)}Scale(e){this.x_*=e,this.y_*=e}}class Xr extends iu{}function uy(t){return new Xr(t.x(),t.y())}const Li=0,Ui=1,Gi=2,pi=3,gi=4,mi=5,xi=6,yi=7,vi=8;class jn{constructor(){c(this,"data_",[0,0,0,0,0,0,0,0,0])}static MatrixToArrayCoords(e,r){return Q(e>=0&&e<3),Q(r>=0&&r<3),e*3+r}static Zeros(){let e=new jn;return e.SetMatrix(0,0,0,0,0,0,0,0,0),e}static Ones(){let e=new jn;return e.SetMatrix(1,1,1,1,1,1,1,1,1),e}static Identity(){let e=new jn;return e.SetMatrix(1,0,0,0,1,0,0,0,1),e}static FromOuterProduct(e,r){let n=new jn;return n.SetMatrix(e.x()*r.x(),e.x()*r.y(),e.x()*r.z(),e.y()*r.x(),e.y()*r.y(),e.y()*r.z(),e.z()*r.x(),e.z()*r.y(),e.z()*r.z()),n}static FromValues(e,r,n,s,i,o,a,l,u){let d=new jn;return d.SetMatrix(e,r,n,s,i,o,a,l,u),d}SetMatrix(e,r,n,s,i,o,a,l,u){const{data_:d}=this;d[0]=e,d[1]=r,d[2]=n,d[3]=s,d[4]=i,d[5]=o,d[6]=a,d[7]=l,d[8]=u}IsZeros(){return this.data_[Li]==0&&this.data_[Ui]==0&&this.data_[Gi]==0&&this.data_[pi]==0&&this.data_[gi]==0&&this.data_[mi]==0&&this.data_[xi]==0&&this.data_[yi]==0&&this.data_[vi]==0}IsIdentity(){return this.data_[Li]==1&&this.data_[Ui]==0&&this.data_[Gi]==0&&this.data_[pi]==0&&this.data_[gi]==1&&this.data_[mi]==0&&this.data_[xi]==0&&this.data_[yi]==0&&this.data_[vi]==1}EQ(e){return lS(this.data_,e.data_)}Get(e,r){return this.data_[jn.MatrixToArrayCoords(e,r)]}MUL(e){if(e instanceof jn){let r=new jn;const{data_:n}=this;return r.data_[Li]=n[Li]*e.data_[Li]+n[Ui]*e.data_[pi]+n[Gi]*e.data_[xi],r.data_[Ui]=n[Li]*e.data_[Ui]+n[Ui]*e.data_[gi]+n[Gi]*e.data_[yi],r.data_[Gi]=n[Li]*e.data_[Gi]+n[Ui]*e.data_[mi]+n[Gi]*e.data_[vi],r.data_[pi]=n[pi]*e.data_[Li]+n[gi]*e.data_[pi]+n[mi]*e.data_[xi],r.data_[gi]=n[pi]*e.data_[Ui]+n[gi]*e.data_[gi]+n[mi]*e.data_[yi],r.data_[mi]=n[pi]*e.data_[Gi]+n[gi]*e.data_[mi]+n[mi]*e.data_[vi],r.data_[xi]=n[xi]*e.data_[Li]+n[yi]*e.data_[pi]+n[vi]*e.data_[xi],r.data_[yi]=n[xi]*e.data_[Ui]+n[yi]*e.data_[gi]+n[vi]*e.data_[yi],r.data_[vi]=n[xi]*e.data_[Gi]+n[yi]*e.data_[mi]+n[vi]*e.data_[vi],r}else if(e instanceof Xr){let r=e.x()*this.data_[Li]+e.y()*this.data_[Ui]+this.data_[Gi],n=e.x()*this.data_[pi]+e.y()*this.data_[gi]+this.data_[mi],s=e.x()*this.data_[xi]+e.y()*this.data_[yi]+this.data_[vi];return new Xr(r/s,n/s)}else throw new Error("500")}Inverse(){let e=jn.Zeros(),r=rz(this.data_);return Number.MIN_VALUE>Math.abs(r)||e.SetMatrix((this.data_[gi]*this.data_[vi]-this.data_[mi]*this.data_[yi])/r,(this.data_[Gi]*this.data_[yi]-this.data_[Ui]*this.data_[vi])/r,(this.data_[Ui]*this.data_[mi]-this.data_[Gi]*this.data_[gi])/r,(this.data_[mi]*this.data_[xi]-this.data_[pi]*this.data_[vi])/r,(this.data_[Li]*this.data_[vi]-this.data_[Gi]*this.data_[xi])/r,(this.data_[Gi]*this.data_[pi]-this.data_[Li]*this.data_[mi])/r,(this.data_[pi]*this.data_[yi]-this.data_[gi]*this.data_[xi])/r,(this.data_[Ui]*this.data_[xi]-this.data_[Li]*this.data_[yi])/r,(this.data_[Li]*this.data_[gi]-this.data_[Ui]*this.data_[pi])/r),e}CLONE(){let e=new jn;return e.SetMatrix(...this.data_),e}}function rz(t){return t[Li]*(t[gi]*t[vi]-t[mi]*t[yi])+t[Ui]*(t[mi]*t[xi]-t[pi]*t[vi])+t[Gi]*(t[pi]*t[yi]-t[gi]*t[xi])}class nz{constructor(e){c(this,"functions_",[]);c(this,"traits_",0);e&&(this.functions_=to(e.functions_),this.traits_=e.traits_)}[Symbol.iterator](){let e=0;return{next:()=>e<this.functions_.length?{value:this.functions_[e++],done:!1}:{done:!0}}}push(e){this.traits_|=e.Traits(),this.functions_.push(e)}get length(){return this.functions_.length}getItem(e){return this.functions_[e]}HasTrait(e){return(this.traits_&e)!=0}}class Ob extends tz{constructor(r){super();c(this,"value_");this.value_=r}ToString(){let r="";for(let n=0;n<this.value().length;++n)r.length&&(r+=" "),r+=this.value().getItem(n).ToString();return r}value(){return this.value_}ToMatrix(r){let n=jn.Identity();for(let s of this.value())n=n.MUL(s.ToMatrix(r));return n}EQ(r){if(this.value().length!=r.value().length)return!1;for(let n=0;n<this.value().length;++n)if(!this.value().getItem(n).EQ(r.value().getItem(n)))return!1;return!0}HasTrait(r){return this.value_.HasTrait(r)}GetTypeId(){return lr(Ob)}}var Bb=(t=>(t[t.kTraitIsDynamic=1]="kTraitIsDynamic",t[t.kTraitUsesRelativeUnits=2]="kTraitUsesRelativeUnits",t[t.kTraitUsesUiNavFocus=4]="kTraitUsesUiNavFocus",t))(Bb||{});class iz{}function lw(t){let e=new Dg;return AN(e,t,t.data(),new tl),e}function AN(t,e,r,n){Q(t),Q(e),Q(r);let s=new sz(t,e,r,n);const i=j9();for(let a of i)!t.IsDeclared(a)&&e.data().IsDeclared(a)&&t.SetPropertyValue(a,pe.GetInherit());let o=t.declared_property_values();for(let[a,l]of o)s.SetComputedStyleForProperty(a,l);s.BlockifyIfNeeded()}class sz{constructor(e,r,n,s){c(this,"cascaded_style_");c(this,"parent_computed_style_");c(this,"root_computed_style_");c(this,"viewport_size_");c(this,"computed_border_bottom_style_");c(this,"computed_border_left_style_");c(this,"computed_border_right_style_");c(this,"computed_border_top_style_");c(this,"computed_color_");c(this,"computed_font_size_");c(this,"computed_outline_style_");c(this,"computed_position_");this.cascaded_style_=e,this.parent_computed_style_=r.data(),this.root_computed_style_=n,this.viewport_size_=s}SetComputedStyleForProperty(e,r){let{result:n,value:s}=this.HandleInheritOrInitial(e,r);n||this.HandleSpecifiedValue(e,s),this.OnComputedStyleCalculated(e,s),s!==r&&this.cascaded_style_.SetPropertyValue(e,s)}BlockifyIfNeeded(){let e=this.cascaded_style_.display,r=e==pe.GetInlineFlex(),n=e==pe.GetInline()||e==pe.GetInlineBlock()||r,s=this.parent_computed_style_.display,i=s==pe.GetFlex()||s==pe.GetInlineFlex();n&&(this.IsAbsolutelyPositioned()||i)&&(r?this.cascaded_style_.set_display(pe.GetFlex()):this.cascaded_style_.set_display(pe.GetBlock())),this.cascaded_style_.set_is_inline_before_blockification(n)}ComputeValue(e){if(this.cascaded_style_.IsDeclared(e)){let r=this.cascaded_style_.GetDeclaredPropertyValueReference(e);this.SetComputedStyleForProperty(e,r)}else{let r=this.cascaded_style_.GetPropertyValueReference(e);this.OnComputedStyleCalculated(e,r)}}HandleInheritOrInitial(e,r){return r==pe.GetInherit()?(this.cascaded_style_.AddDeclaredPropertyInheritedFromParent(e),r=this.parent_computed_style_.GetPropertyValue(e),{result:!0,value:r}):r==pe.GetInitial()?(r=XS(e),{result:r!=pe.GetCurrentColor(),value:r}):{result:!1,value:r}}HandleSpecifiedValue(e,r){switch(e){case C.kBackgroundPositionProperty:{let n=new oz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n);let s=n.computed_background_position();s&&(r=s)}break;case C.kBorderBottomColorProperty:case C.kBorderLeftColorProperty:case C.kBorderRightColorProperty:case C.kBorderTopColorProperty:case C.kOutlineColorProperty:case C.kTextDecorationColorProperty:r==pe.GetCurrentColor()&&(r=this.GetColor());break;case C.kBorderBottomWidthProperty:case C.kBorderLeftWidthProperty:case C.kBorderRightWidthProperty:case C.kBorderTopWidthProperty:case C.kOutlineWidthProperty:{let n=new az(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent(),this.GetBorderOrOutlineStyleBasedOnWidth(e));r.Accept(n),r=n.computed_border_width()}break;case C.kBoxShadowProperty:case C.kTextShadowProperty:{let n=new lz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent(),this.GetColor());r.Accept(n),r=n.computed_shadow()}break;case C.kFlexBasisProperty:{let n=new uz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_value()}break;case C.kFontSizeProperty:if(!this.computed_font_size_){let n=new cz(this.parent_computed_style_.font_size,this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),n.computed_font_size()&&(r=n.computed_font_size())}break;case C.kFontWeightProperty:{let n=new hz;r.Accept(n),r=n.computed_font_weight()}break;case C.kHeightProperty:{let n=new dz(this.parent_computed_style_.height,this.parent_computed_style_.top,this.parent_computed_style_.bottom,this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent(),this.IsAbsolutelyPositioned());r.Accept(n),r=n.computed_height()}break;case C.kLineHeightProperty:{let n=new fz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_line_height()}break;case C.kMarginBottomProperty:case C.kMarginLeftProperty:case C.kMarginRightProperty:case C.kMarginTopProperty:{let n=new tD(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_margin_or_padding_edge()}break;case C.kPaddingBottomProperty:case C.kPaddingLeftProperty:case C.kPaddingRightProperty:case C.kPaddingTopProperty:{let n=new tD(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_margin_or_padding_edge()}break;case C.kMaxHeightProperty:{let n=new _z(this.parent_computed_style_.height,this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent(),this.IsAbsolutelyPositioned());r.Accept(n),r=n.computed_max_height()}break;case C.kMinHeightProperty:{let n=new pz(this.parent_computed_style_.height,this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent(),this.IsAbsolutelyPositioned());r.Accept(n),r=n.computed_min_height()}break;case C.kMaxWidthProperty:case C.kMinWidthProperty:{let n=new gz(this.parent_computed_style_.width,this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_min_max_width()}break;case C.kWidthProperty:{let n=new mz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_value()}break;case C.kBackgroundImageProperty:$e();break;case C.kBackgroundSizeProperty:{let n=new xz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_background_size()}break;case C.kBorderBottomLeftRadiusProperty:case C.kBorderBottomRightRadiusProperty:case C.kBorderTopLeftRadiusProperty:case C.kBorderTopRightRadiusProperty:{let n=new yz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_border_radius()}break;case C.kTextIndentProperty:{let n=new vz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_text_indent()}break;case C.kTransformOriginProperty:{let n=new Ez(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_transform_origin()}break;case C.kTransformProperty:{let n=new Az(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_transform_list()}break;case C.kBottomProperty:case C.kLeftProperty:case C.kRightProperty:case C.kTopProperty:{let n=new wz(this.GetFontSize(),this.GetRootFontSize(),this.GetViewportSizeOnePercent());r.Accept(n),r=n.computed_position_offset()}break;case C.kAlignContentProperty:case C.kAlignItemsProperty:case C.kAlignSelfProperty:case C.kBackgroundColorProperty:case C.kBackgroundRepeatProperty:case C.kBorderBottomStyleProperty:case C.kBorderLeftStyleProperty:case C.kBorderRightStyleProperty:case C.kBorderTopStyleProperty:case C.kColorProperty:case C.kContentProperty:case C.kDisplayProperty:case C.kFilterProperty:case C.kFlexDirectionProperty:case C.kFlexGrowProperty:case C.kFlexShrinkProperty:case C.kFlexWrapProperty:case C.kFontFamilyProperty:case C.kFontStyleProperty:case C.kIntersectionObserverRootMarginProperty:case C.kJustifyContentProperty:case C.kOpacityProperty:case C.kOrderProperty:case C.kOutlineStyleProperty:case C.kOverflowProperty:case C.kOverflowWrapProperty:case C.kPointerEventsProperty:case C.kPositionProperty:case C.kTextAlignProperty:case C.kTextDecorationLineProperty:case C.kTextOverflowProperty:case C.kTextTransformProperty:case C.kVerticalAlignProperty:case C.kVisibilityProperty:case C.kWhiteSpaceProperty:case C.kWordWrapProperty:case C.kZIndexProperty:break;case C.kAllProperty:case C.kBackgroundProperty:case C.kBorderBottomProperty:case C.kBorderColorProperty:case C.kBorderLeftProperty:case C.kBorderProperty:case C.kBorderRadiusProperty:case C.kBorderRightProperty:case C.kBorderStyleProperty:case C.kBorderTopProperty:case C.kBorderWidthProperty:case C.kFlexProperty:case C.kFlexFlowProperty:case C.kFontProperty:case C.kMarginProperty:case C.kNoneProperty:case C.kOutlineProperty:case C.kPaddingProperty:case C.kSrcProperty:case C.kTextDecorationProperty:case C.kUnicodeRangeProperty:gt();break}}OnComputedStyleCalculated(e,r){switch(e){case C.kFontSizeProperty:this.computed_font_size_=r;break;case C.kPositionProperty:this.computed_position_=r;break;case C.kBorderBottomStyleProperty:this.computed_border_bottom_style_=r;break;case C.kBorderLeftStyleProperty:this.computed_border_left_style_=r;break;case C.kBorderRightStyleProperty:this.computed_border_right_style_=r;break;case C.kBorderTopStyleProperty:this.computed_border_top_style_=r;break;case C.kColorProperty:this.computed_color_=r;break;case C.kOutlineStyleProperty:this.computed_outline_style_=r;break;case C.kAllProperty:case C.kAlignContentProperty:case C.kAlignItemsProperty:case C.kAlignSelfProperty:case C.kBackgroundColorProperty:case C.kBackgroundImageProperty:case C.kBackgroundPositionProperty:case C.kBackgroundProperty:case C.kBackgroundRepeatProperty:case C.kBackgroundSizeProperty:case C.kBorderBottomProperty:case C.kBorderBottomColorProperty:case C.kBorderBottomLeftRadiusProperty:case C.kBorderBottomRightRadiusProperty:case C.kBorderBottomWidthProperty:case C.kBorderColorProperty:case C.kBorderLeftProperty:case C.kBorderLeftColorProperty:case C.kBorderLeftWidthProperty:case C.kBorderRadiusProperty:case C.kBorderRightProperty:case C.kBorderRightColorProperty:case C.kBorderRightWidthProperty:case C.kBorderStyleProperty:case C.kBorderTopProperty:case C.kBorderTopColorProperty:case C.kBorderTopLeftRadiusProperty:case C.kBorderTopRightRadiusProperty:case C.kBorderTopWidthProperty:case C.kBorderProperty:case C.kBorderWidthProperty:case C.kBottomProperty:case C.kBoxShadowProperty:case C.kContentProperty:case C.kDisplayProperty:case C.kFilterProperty:case C.kFlexProperty:case C.kFlexBasisProperty:case C.kFlexDirectionProperty:case C.kFlexFlowProperty:case C.kFlexGrowProperty:case C.kFlexShrinkProperty:case C.kFlexWrapProperty:case C.kFontFamilyProperty:case C.kFontProperty:case C.kFontStyleProperty:case C.kFontWeightProperty:case C.kHeightProperty:case C.kIntersectionObserverRootMarginProperty:case C.kJustifyContentProperty:case C.kLeftProperty:case C.kLineHeightProperty:case C.kMarginBottomProperty:case C.kMarginLeftProperty:case C.kMarginProperty:case C.kMarginRightProperty:case C.kMarginTopProperty:case C.kMaxHeightProperty:case C.kMaxWidthProperty:case C.kMinHeightProperty:case C.kMinWidthProperty:case C.kNoneProperty:case C.kOpacityProperty:case C.kOrderProperty:case C.kOutlineProperty:case C.kOutlineColorProperty:case C.kOutlineWidthProperty:case C.kOverflowProperty:case C.kOverflowWrapProperty:case C.kPaddingBottomProperty:case C.kPaddingLeftProperty:case C.kPaddingProperty:case C.kPaddingRightProperty:case C.kPaddingTopProperty:case C.kPointerEventsProperty:case C.kRightProperty:case C.kSrcProperty:case C.kTextAlignProperty:case C.kTextDecorationColorProperty:case C.kTextDecorationLineProperty:case C.kTextDecorationProperty:case C.kTextIndentProperty:case C.kTextOverflowProperty:case C.kTextShadowProperty:case C.kTextTransformProperty:case C.kTopProperty:case C.kTransformOriginProperty:case C.kTransformProperty:case C.kUnicodeRangeProperty:case C.kVerticalAlignProperty:case C.kVisibilityProperty:case C.kWhiteSpaceProperty:case C.kWidthProperty:case C.kWordWrapProperty:case C.kZIndexProperty:break}}IsAbsolutelyPositioned(){return this.computed_position_||this.ComputeValue(C.kPositionProperty),Q(this.computed_position_),this.computed_position_==pe.GetAbsolute()||this.computed_position_==pe.GetFixed()}GetFontSize(){return this.computed_font_size_||this.ComputeValue(C.kFontSizeProperty),Q(this.computed_font_size_),this.computed_font_size_}GetRootFontSize(){return this.root_computed_style_.font_size}GetViewportSizeOnePercent(){return this.viewport_size_}GetBorderOrOutlineStyleBasedOnWidth(e){return e==C.kBorderBottomWidthProperty?this.GetBorderBottomStyle():e==C.kBorderLeftWidthProperty?this.GetBorderLeftStyle():e==C.kBorderRightWidthProperty?this.GetBorderRightStyle():e==C.kBorderTopWidthProperty?this.GetBorderTopStyle():(er(e,C.kOutlineWidthProperty),this.GetOutlineStyle())}GetBorderBottomStyle(){return this.computed_border_bottom_style_||this.ComputeValue(C.kBorderBottomStyleProperty),Q(this.computed_border_bottom_style_),this.computed_border_bottom_style_}GetBorderLeftStyle(){return this.computed_border_left_style_||this.ComputeValue(C.kBorderLeftStyleProperty),Q(this.computed_border_left_style_),this.computed_border_left_style_}GetBorderRightStyle(){return this.computed_border_right_style_||this.ComputeValue(C.kBorderRightStyleProperty),Q(this.computed_border_right_style_),this.computed_border_right_style_}GetBorderTopStyle(){return this.computed_border_top_style_||this.ComputeValue(C.kBorderTopStyleProperty),Q(this.computed_border_top_style_),this.computed_border_top_style_}GetOutlineStyle(){return this.computed_outline_style_||this.ComputeValue(C.kOutlineStyleProperty),Q(this.computed_outline_style_),this.computed_outline_style_}GetColor(){return this.computed_color_||this.ComputeValue(C.kColorProperty),Q(this.computed_color_),this.computed_color_}}class oz extends qr{constructor(r,n,s){super();c(this,"computed_font_size_");c(this,"root_computed_font_size_");c(this,"viewport_size_");c(this,"computed_background_position_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitPropertyList(r){let n=r.value().length;hs(n,1),jr(n,4);let s=new wN(this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_),i=[];s.ComputePosition(r.value(),i),this.computed_background_position_=new So(i)}computed_background_position(){return this.computed_background_position_}}class jh{constructor(e,r,n){this.origin_as_percentage=e,this.offset_multiplier=r,this.direction=n}}class wN{constructor(e,r,n){c(this,"computed_font_size_");c(this,"root_computed_font_size_");c(this,"viewport_size_");this.computed_font_size_=e,this.root_computed_font_size_=r,this.viewport_size_=n}ComputePosition(e,r){switch(e.length){case 1:this.ComputeOneValuePosition(e,r);break;case 2:this.ComputeTwoValuesPosition(e,r);break;case 3:case 4:this.ComputeThreeOrFourValuesPosition(e,r);break}}ComputeOneValuePosition(e,r){hs(e.length,1);let n=[];n.push(e[0]),n.push(pe.GetCenter()),this.ComputeTwoValuesPosition(n,r)}ComputeTwoValuesPosition(e,r){hs(e.length,2);for(let n=0;n<2;++n){let s=e[n];if(s.GetTypeId()==lr(aa))r[n]=s;else if(s.GetTypeId()==lr(pe))this.FillPositionBuilderFromOriginAndOffset(s,void 0,r);else{let i=new jh(0,1,3);r[n]=this.ProvideCalcValueFromOriginAndOffset(i,s)}}}ComputeThreeOrFourValuesPosition(e,r){e.length,jr(e.length,4);for(let n=0;n<e.length;++n){let s=n==0?void 0:e[n-1],i=e[n];i.GetTypeId()==lr(pe)?this.FillPositionBuilderFromOriginAndOffset(i,void 0,r):(Q(s),Q(s.GetTypeId()==lr(pe)),this.FillPositionBuilderFromOriginAndOffset(s,i,r))}}ConvertToOriginInfo(e){return Q(e.GetTypeId()==lr(pe)),e==pe.GetLeft()?new jh(0,1,0):e==pe.GetRight()?new jh(1,-1,0):e==pe.GetTop()?new jh(0,1,1):e==pe.GetBottom()?new jh(1,-1,1):new jh(.5,1,2)}ProvideCalcValueFromOriginAndOffset(e,r){if(Q(e),!r)return new aa(new no(e.origin_as_percentage));let n,s;if(r.GetTypeId()==lr(nr)){let i=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_);return n=new nr(e.offset_multiplier*i.value(),i.unit()),s=new no(e.origin_as_percentage),new aa(n,s)}else{Q(r.GetTypeId()==lr(no));let i=r;return s=new no(e.origin_as_percentage+e.offset_multiplier*i.value()),new aa(s)}}FillPositionBuilderFromOriginAndOffset(e,r,n){Q(e.GetTypeId()==lr(pe));let s=this.ConvertToOriginInfo(e);switch(s.direction){case 0:{n[0]=this.ProvideCalcValueFromOriginAndOffset(s,r);break}case 1:{n[1]=this.ProvideCalcValueFromOriginAndOffset(s,r);break}case 2:{n[0]||(n[0]=this.ProvideCalcValueFromOriginAndOffset(s,r)),n[1]||(n[1]=this.ProvideCalcValueFromOriginAndOffset(s,r));break}case 3:gt();break}}}function Ni(t,e,r,n){switch(t.unit()){case jt.kPixelsUnit:return t;case jt.kFontSizesAkaEmUnit:return er(jt.kPixelsUnit,e.unit()),new nr(e.value()*t.value(),jt.kPixelsUnit);case jt.kRootElementFontSizesAkaRemUnit:return er(jt.kPixelsUnit,r.unit()),new nr(r.value()*t.value(),jt.kPixelsUnit);case jt.kViewportWidthPercentsAkaVwUnit:return new nr(n.width()*t.value()/100,jt.kPixelsUnit);case jt.kViewportHeightPercentsAkaVhUnit:return new nr(n.height()*t.value()/100,jt.kPixelsUnit)}gt()}class az extends qr{constructor(r,n,s,i){super();c(this,"computed_border_width_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s,this.border_style_=i}VisitLength(r){this.border_style_==pe.GetNone()||this.border_style_==pe.GetHidden()?this.computed_border_width_=new nr(0,jt.kPixelsUnit):(er(this.border_style_,pe.GetSolid()),this.computed_border_width_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_))}computed_border_width(){return this.computed_border_width_}}class lz extends qr{constructor(r,n,s,i){super();c(this,"computed_shadow_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s,this.computed_color_=i}VisitKeyword(r){switch(r.value()){case _.kNone:this.computed_shadow_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kAuto:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitPropertyList(r){let n=new Array(r.value().length);for(let s=0;s<r.value().length;++s){let i=r.value()[s],o=[];for(let l=0;l<EN.kMaxLengths;++l){let u=i.lengths()[l];u&&(o[l]=Ni(u,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_))}let a=i.color();a||(a=new Cr(this.computed_color_.value())),n.push(new Rb(o,a,i.has_inset()))}this.computed_shadow_=new So(n)}computed_shadow(){return this.computed_shadow_}}class SN extends qr{constructor(r,n,s){super();c(this,"computed_value_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitLength(r){this.computed_value_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){this.computed_value_=r}computed_value(){return this.computed_value_}}class uz extends SN{VisitKeyword(e){switch(e.value()){case _.kAuto:case _.kContent:this.computed_value_=e;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}}class cz extends qr{constructor(r,n,s){super();c(this,"computed_font_size_");this.parent_computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitLength(r){this.computed_font_size_=Ni(r,this.parent_computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){this.computed_font_size_=new nr(this.parent_computed_font_size_.value()*r.value(),jt.kPixelsUnit)}computed_font_size(){return this.computed_font_size_}}class hz extends qr{constructor(){super();c(this,"computed_font_weight_")}VisitFontWeight(r){this.computed_font_weight_=r}computed_font_weight(){return this.computed_font_weight_}}class dz extends qr{constructor(r,n,s,i,o,a,l){super();c(this,"computed_height_");this.parent_computed_height_=r,this.parent_computed_top_=n,this.parent_computed_bottom_=s,this.computed_font_size_=i,this.root_computed_font_size_=o,this.viewport_size_=a,this.out_of_flow_=l}VisitKeyword(r){switch(r.value()){case _.kAuto:this.computed_height_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_height_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){let n=pe.GetAuto();this.parent_computed_height_==n&&(this.parent_computed_top_==n||this.parent_computed_bottom_==n)&&this.out_of_flow_}computed_height(){return this.computed_height_}}class fz extends qr{constructor(r,n,s){super();c(this,"computed_line_height_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitKeyword(r){switch(r.value()){case _.kNormal:this.computed_line_height_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kAuto:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_line_height_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitNumber(r){this.computed_line_height_=r}VisitPercentage(r){this.computed_line_height_=new nr(this.computed_font_size_.value()*r.value(),jt.kPixelsUnit)}computed_line_height(){return this.computed_line_height_}}class tD extends qr{constructor(r,n,s){super();c(this,"computed_margin_or_padding_edge_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitKeyword(r){switch(r.value()){case _.kAuto:this.computed_margin_or_padding_edge_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_margin_or_padding_edge_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){this.computed_margin_or_padding_edge_=r}computed_margin_or_padding_edge(){return this.computed_margin_or_padding_edge_}}class _z extends qr{constructor(r,n,s,i,o){super();c(this,"computed_max_height_");this.parent_computed_max_height_=r,this.computed_font_size_=n,this.root_computed_font_size_=s,this.viewport_size_=i,this.out_of_flow_=o}VisitKeyword(r){switch(r.value()){case _.kAuto:case _.kNone:this.computed_max_height_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_max_height_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){let n=pe.GetAuto(),s=pe.GetNone();this.computed_max_height_=this.parent_computed_max_height_==n&&!this.out_of_flow_?s:r}computed_max_height(){return this.computed_max_height_}}class pz extends qr{constructor(r,n,s,i,o){super();c(this,"computed_min_height_");this.parent_computed_height_=r,this.computed_font_size_=n,this.root_computed_font_size_=s,this.viewport_size_=i,this.out_of_flow_=o}VisitKeyword(r){switch(r.value()){case _.kAuto:this.computed_min_height_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_min_height_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){let n=pe.GetAuto();this.parent_computed_height_==n&&!this.out_of_flow_?this.computed_min_height_=new nr(0,jt.kPixelsUnit):this.computed_min_height_=r}computed_min_height(){return this.computed_min_height_}}class gz extends qr{constructor(r,n,s,i){super();c(this,"computed_min_max_width_");this.parent_computed_width_=r,this.computed_font_size_=n,this.root_computed_font_size_=s,this.viewport_size_=i}VisitKeyword(r){switch(r.value()){case _.kAuto:case _.kNone:this.computed_min_max_width_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_min_max_width_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){let n=new Sz;this.parent_computed_width_.Accept(n),n.computed_length_is_negative()?this.computed_min_max_width_=new nr(0,jt.kPixelsUnit):this.computed_min_max_width_=r}computed_min_max_width(){return this.computed_min_max_width_}}class mz extends SN{VisitKeyword(e){switch(e.value()){case _.kAuto:this.computed_value_=e;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}}class xz extends qr{constructor(r,n,s){super();c(this,"computed_background_size_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitKeyword(r){this.computed_background_size_=r}VisitPropertyList(r){let n=new rD(this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_);r.value()[0].Accept(n);let s=new rD(this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_);r.value()[1].Accept(s);let i=new Array(2);i.push(n.computed_background_size()),i.push(s.computed_background_size()),this.computed_background_size_=new So(i.slice())}computed_background_size(){return this.computed_background_size_}}class yz extends qr{constructor(r,n,s){super();c(this,"computed_border_radius_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitLength(r){this.computed_border_radius_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){this.computed_border_radius_=r}computed_border_radius(){return this.computed_border_radius_}}class vz extends qr{constructor(r,n,s){super();c(this,"computed_text_indent_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitLength(r){this.computed_text_indent_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}computed_text_indent(){return this.computed_text_indent_}}class Ez extends qr{constructor(r,n,s){super();c(this,"computed_transform_origin_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitPropertyList(r){let n=r.value().length;hs(n,1),jr(n,3);let s=new wN(this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_),i=new Array(3);switch(n){case 1:case 2:s.ComputePosition(r.value(),i),i[2]=new nr(0,jt.kPixelsUnit);break;case 3:s.ComputeTwoValuesPosition(r.value(),i),i[2]=Ni(r.value()[2],this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_);break}this.computed_transform_origin_=new So(i.slice())}computed_transform_origin(){return this.computed_transform_origin_}}class Az extends qr{constructor(r,n,s){super();c(this,"computed_transform_list_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitKeyword(r){switch(r.value()){case _.kNone:this.computed_transform_list_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kAuto:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitTransformPropertyValue(r){let n=r;if(!n.value().HasTrait(Bb.kTraitUsesRelativeUnits))this.computed_transform_list_=n;else{let s=new nz;for(let i of s){let o=new bz(this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_);i.Accept(o),s.push(o.PassComputedTransformFunction())}this.computed_transform_list_=new Ob(s)}}computed_transform_list(){return this.computed_transform_list_}}class wz extends qr{constructor(r,n,s){super();c(this,"computed_position_offset_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitKeyword(r){switch(r.value()){case _.kAuto:this.computed_position_offset_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitLength(r){this.computed_position_offset_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){this.computed_position_offset_=r}computed_position_offset(){return this.computed_position_offset_}}class Sz extends vN{constructor(){super(...arguments);c(this,"computed_length_is_negative_",!1)}VisitLength(r){switch(r.unit()){case jt.kPixelsUnit:case jt.kFontSizesAkaEmUnit:case jt.kRootElementFontSizesAkaRemUnit:case jt.kViewportWidthPercentsAkaVwUnit:case jt.kViewportHeightPercentsAkaVhUnit:this.computed_length_is_negative_=r.value()<0;break}}VisitDefault(r){}computed_length_is_negative(){return this.computed_length_is_negative_}}class rD extends qr{constructor(r,n,s){super();c(this,"computed_background_size_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitLength(r){this.computed_background_size_=Ni(r,this.computed_font_size_,this.root_computed_font_size_,this.viewport_size_)}VisitPercentage(r){this.computed_background_size_=r}VisitKeyword(r){switch(r.value()){case _.kAuto:case _.kContain:case _.kCover:this.computed_background_size_=r;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContent:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}computed_background_size(){return this.computed_background_size_}}class bz extends iz{constructor(r,n,s){super();c(this,"computed_transform_function_");this.computed_font_size_=r,this.root_computed_font_size_=n,this.viewport_size_=s}VisitMatrix(r){this.computed_transform_function_=r}VisitRotate(r){this.computed_transform_function_=r}VisitScale(r){this.computed_transform_function_=r}VisitTranslate(r){this.computed_transform_function_=r}PassComputedTransformFunction(){return this.computed_transform_function_}}var bN=(t=>(t[t.kAncestorsAreDisplayed=0]="kAncestorsAreDisplayed",t[t.kAncestorsAreNotDisplayed=1]="kAncestorsAreNotDisplayed",t))(bN||{}),sp=(t=>(t[t.kDirAuto=0]="kDirAuto",t[t.kDirLeftToRight=1]="kDirLeftToRight",t[t.kDirRightToLeft=2]="kDirRightToLeft",t[t.kDirNotDefined=3]="kDirNotDefined",t))(sp||{});class kz{constructor(){c(this,"computed_style_invalidation_property_checker");c(this,"layout_box_invalidation_property_checker");c(this,"size_invalidation_property_checker");c(this,"cross_references_invalidation_property_checker");let e=[],r=[],n=[],s=[];for(let i=0;i<=C.kMaxLonghandPropertyKey;++i){let o=i;V9(o)==G3.kImpactsChildComputedStyleYes&&e.push(o),XA(o)==ry.kInheritedYes||z9(o)==H3.kImpactsBoxGenerationYes?r.push(o):(W9(o)==j3.kImpactsBoxSizesYes&&n.push(o),$9(o)==V3.kImpactsBoxCrossReferencesYes&&s.push(o))}this.computed_style_invalidation_property_checker=new dm(e),this.layout_box_invalidation_property_checker=new dm(r),this.size_invalidation_property_checker=new dm(n),this.cross_references_invalidation_property_checker=new dm(s)}}const nv=new kz;class Pi extends u6{constructor(r,n){var e=(...args)=>{super(...args);c(this,"computed_style_declaration_");c(this,"style_");c(this,"layout_boxes_");c(this,"computed_style_valid_",!1);c(this,"descendant_computed_styles_valid_",!1);c(this,"directionality_");c(this,"ancestors_are_displayed_",0)};ki(r)?e(Ns.kCreateHTMLElement,r):e(Ns.kCreateHTMLElement,r,n),this.computed_style_declaration_=new Gc,this.style_=new YV,this.style_.set_mutation_observer(this),this.layout_boxes_=null,this.directionality_=null}computed_style_declaration(){return this.computed_style_declaration_}computed_style(){return this.computed_style_declaration_.data()}get style(){return this.style_}OnSetAttribute(r,n){}OnRemoveAttribute(r){}AsHTMLElement(){return this}AsHTMLBodyElement(){return null}AsHTMLBRElement(){return null}AsHTMLImageElement(){}AsFreehandElement(){}GetUsedDirState(){return 1}Duplicate(){let r=this.GetDocument();zi(r);let n=r.createElement(this.local_name_);return n.copyAttributes(this),n.style_.AssignFrom(this.style_),n}set_layout_boxes(r){this.layout_boxes_=r}layout_boxes(){return this.layout_boxes_}InvalidateLayoutBoxesOfNodeAndAncestors(){this.InvalidateLayoutBoxes(),this.InvalidateLayoutBoxesOfAncestors()}InvalidateLayoutBoxesOfNodeAndDescendants(){this.InvalidateLayoutBoxes(),this.InvalidateLayoutBoxesOfDescendants()}InvalidateLayoutBoxes(){this.layout_boxes_=null,this.directionality_=null}InvalidateComputedStylesOfNodeAndDescendants(){this.computed_style_valid_=!1,this.descendant_computed_styles_valid_=!1,this.InvalidateComputedStylesOfDescendants()}UpdateComputedStyle(r,n,s){zS(Pi,this.UpdateComputedStyle),this.tagName;let i=this.GetDocument();Q(i,"Element should be attached to document in order to ","participate in layout."),Q(this.computed_style()||!this.layout_boxes());let o=!this.computed_style_valid_||!this.computed_style();!o&&!this.computed_style().AreDeclaredPropertiesInheritedFromParentValid()&&(o=!0),!o&&this.ancestors_are_displayed_==1&&s==0&&(o=!0);let a=new Tz;o?Cz(this.style_.data(),r,n,i.viewport_size(),this.computed_style(),this.ancestors_are_displayed_,s,kN.kIsNotPseudoElement,a,this.computed_style_declaration_):this.computed_style_declaration_.UpdateInheritedData(),this.ancestors_are_displayed_=s,a.mark_descendants_as_display_none&&this.MarkNotDisplayedOnDescendants(),a.invalidate_computed_styles_of_descendants&&this.InvalidateComputedStylesOfDescendants(),a.invalidate_layout_boxes?(this.InvalidateLayoutBoxesOfNodeAndAncestors(),this.InvalidateLayoutBoxesOfDescendants()):(a.invalidate_sizes&&this.InvalidateLayoutBoxSizes(),a.invalidate_cross_references&&this.InvalidateLayoutBoxCrossReferences(),a.invalidate_render_tree_nodes&&this.InvalidateLayoutBoxRenderTreeNodes()),this.computed_style_valid_=!0}IsDisplayed(){return this.ancestors_are_displayed_==0&&this.computed_style().display!=pe.GetNone()}UpdateComputedStyleRecursively(r,n,s,i){let o=this.GetDocument().dom_max_element_depth();if(o>0&&i>=o)return;let a=s&&this.AreComputedStylesValid();if(a||this.UpdateComputedStyle(r,n,0),this.computed_style().display!=pe.GetNone()){for(let l=this.first_element_child();l;l=l.nextElementSibling){let u=l.AsHTMLElement();u&&u.UpdateComputedStyleRecursively(this.computed_style_declaration(),n,a&&this.descendant_computed_styles_valid_,i+1)}this.descendant_computed_styles_valid_=!0}}MarkNotDisplayedOnNodeAndDescendants(){this.ancestors_are_displayed_=1,this.MarkNotDisplayedOnDescendants()}InvalidateLayoutBoxSizes(){this.layout_boxes_&&this.layout_boxes_.InvalidateSizes()}InvalidateLayoutBoxCrossReferences(){this.layout_boxes_&&this.layout_boxes_.InvalidateCrossReferences()}InvalidateLayoutBoxRenderTreeNodes(){this.layout_boxes_&&this.layout_boxes_.InvalidateRenderTreeNodes()}AreComputedStylesValid(){return this.computed_style_valid_}OnCSSMutation(){this.computed_style_valid_=!1,this.descendant_computed_styles_valid_=!1,this.InvalidateLayoutBoxesOfNodeAndAncestors(),this.GetDocument().OnElementInlineStyleMutation()}}class Tz{constructor(){c(this,"mark_descendants_as_display_none",!1);c(this,"invalidate_computed_styles_of_descendants",!1);c(this,"invalidate_layout_boxes",!1);c(this,"invalidate_sizes",!1);c(this,"invalidate_cross_references",!1);c(this,"invalidate_render_tree_nodes",!1)}}var kN=(t=>(t[t.kIsNotPseudoElement=0]="kIsNotPseudoElement",t[t.kIsPseudoElement=1]="kIsPseudoElement",t))(kN||{});function Cz(t,e,r,n,s,i,o,a,l,u,d=void 0){let f=!1,g=Pz(t,e,r,n);Dz(s,d||g,f,a,l),u.SetData(d||g)}function Pz(t,e,r,n){let s=JV(t);return AN(s,e,r,n.width_height()),s}function Dz(t,e,r,n,s){t&&(!s.mark_descendants_as_display_none&&n==0&&Rz(t,e)&&(s.mark_descendants_as_display_none=!0),!s.invalidate_computed_styles_of_descendants&&Oz(t,e)?(s.invalidate_computed_styles_of_descendants=!0,s.invalidate_layout_boxes=!0):s.invalidate_layout_boxes||(Bz(t,e)?s.invalidate_layout_boxes=!0:(!s.invalidate_sizes&&Nz(t,e)&&(s.invalidate_sizes=!0,s.invalidate_render_tree_nodes=!0),!s.invalidate_cross_references&&Fz(t,e)&&(s.invalidate_cross_references=!0,s.invalidate_render_tree_nodes=!0),s.invalidate_render_tree_nodes=s.invalidate_render_tree_nodes||r||!e.DoDeclaredPropertiesMatch(t))))}function Rz(t,e){return t.display!=pe.GetNone()&&e.display==pe.GetNone()}function Oz(t,e){return!nv.computed_style_invalidation_property_checker.DoDeclaredPropertiesMatch(t,e)}function Bz(t,e){return!nv.layout_box_invalidation_property_checker.DoDeclaredPropertiesMatch(t,e)}function Nz(t,e){return!nv.size_invalidation_property_checker.DoDeclaredPropertiesMatch(t,e)}function Fz(t,e){return!nv.cross_references_invalidation_property_checker.DoDeclaredPropertiesMatch(t,e)}const Qk=class extends Pi{constructor(e){super(e,Qk.kTagName)}};let gd=Qk;c(gd,"kTagName","p");function Iz(t){return{[Symbol.iterator](){let e=t;return{next(){if(e){let r=e;return e=e.nextSibling,{value:Os(r),done:!1}}else return{done:!0}}}}}}function Mz(t){return{[Symbol.iterator](){let e=t;return{next(){if(e){let r=e;return e=e.parentNode,{value:r,done:!1}}else return{value:void 0,done:!0}}}}}}class vn{static FirstChild(e){return e.firstChild}static LastChild(e){return e.lastChild}static NextSibling(e){return e.nextSibling}static PreviousSibling(e){return e.previousSibling}static Parent(e){var r;return(r=e.parentNode)==null?void 0:r.AsContainerNode()}static ChildrenOf(e){return Iz(vn.FirstChild(e))}static AncestorsOf(e){return Mz(vn.Parent(e))}static CommonAncestor(e,r){if(!(!e||!r))return e.CommonAncestor(r)}static ChildAt(e,r){let n=e.firstChild;for(;n&&r--;)n=n.nextSibling;return n}}const My=class extends Pi{constructor(e){e?super(e,My.kTagName):super(My.kTagName)}};let uu=My;c(uu,"kTagName","span");class Lz extends Kt{constructor(r,n,s){super();c(this,"lastCursorPosition");c(this,"lastPlacedAtLineEnd",!1);c(this,"lastPlacedAtParagraphEnd",!1);this.view=r,this.editor=n,this.update=s;const i=r.document.getSelection();this._register(i.onDidChange(()=>{this._updateSelectionDisplay()})),this._updateSelectionDisplay()}_updateSelectionDisplay(){const r=this.view.document.getSelection();if(r.ranges.length){this.view.setCursor(Dn.text);const n=r.getRangeAt(0);n||gt();const s=n.endContainer,i=n.endOffset;if(s.IsElement())$e();else if(s.IsText()){const o=this.view.layoutManager.getParagraphOfNode(s);o||gt();const a=this.view.layoutManager.getContentOfParagraph(o);for(const l of a)for(const u of l){const d=u.box;if(d.node!==s)continue;const f=d.GetVisualTextStartPosition(),g=d.GetVisualTextEndPosition();if(f>i||g<i||g===i&&!(()=>{if(l===io(a))return this.lastPlacedAtParagraphEnd=!0,!0;const D=s.parentElement;if(Q(D),D.tagName===uu.kTagName)return!0;if(this.lastCursorPosition){const A=d.RectOfSlice(f,f);return A.y===this.lastCursorPosition.inlineStart&&A.x!==this.lastCursorPosition.blockStart}return!1})())continue;const x=d.RectOfSlice(i,i);this.lastCursorPosition={blockStart:x.x,inlineSize:x.height,inlineStart:x.y},this.update(this.lastCursorPosition);break}}else $e()}else this.view.setCursor(Dn.arrow),this.update(void 0)}}class Uz{constructor(e){c(this,"_maxWidth","");c(this,"_width","");c(this,"_height","");c(this,"_top","");c(this,"_left","");c(this,"_bottom","");c(this,"_right","");c(this,"_fontFamily","");c(this,"_fontWeight","");c(this,"_fontSize","");c(this,"_fontStyle","");c(this,"_fontFeatureSettings","");c(this,"_textDecoration","");c(this,"_lineHeight","");c(this,"_letterSpacing","");c(this,"_className","");c(this,"_display","");c(this,"_position","");c(this,"_visibility","");c(this,"_color","");c(this,"_backgroundColor","");c(this,"_layerHint",!1);c(this,"_contain","none");c(this,"_boxShadow","");c(this,"_transform","");this.domNode=e}setMaxWidth(e){const r=Yo(e);this._maxWidth!==r&&(this._maxWidth=r,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const r=Yo(e);this._width!==r&&(this._width=r,this.domNode.style.width=this._width)}setHeight(e){const r=Yo(e);this._height!==r&&(this._height=r,this.domNode.style.height=this._height)}setTop(e){const r=Yo(e);this._top!==r&&(this._top=r,this.domNode.style.top=this._top)}setLeft(e){const r=Yo(e);this._left!==r&&(this._left=r,this.domNode.style.left=this._left)}setBottom(e){const r=Yo(e);this._bottom!==r&&(this._bottom=r,this.domNode.style.bottom=this._bottom)}setRight(e){const r=Yo(e);this._right!==r&&(this._right=r,this.domNode.style.right=this._right)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const r=Yo(e);this._fontSize!==r&&(this._fontSize=r,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const r=Yo(e);this._lineHeight!==r&&(this._lineHeight=r,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const r=Yo(e);this._letterSpacing!==r&&(this._letterSpacing=r,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,r){this.domNode.classList.toggle(e,r),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setTransform(e){this._transform!==e&&(this._transform=e,this.domNode.style.transform=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,r){this.domNode.setAttribute(e,r)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Yo(t){return typeof t=="number"?`${t}px`:t}function uw(t){return new Uz(t)}const Jk=class extends Kt{constructor(r,n){super();c(this,"_domNode");c(this,"_isVisible",!1);c(this,"_renderData");c(this,"_cursorFlatBlinkInterval");this.view=n,this._domNode=uw(document.createElement("div")),r.appendChild(this._domNode.domNode),this._domNode.setDisplay("none"),this._domNode.setTop(0),this._domNode.setLeft(0),this._register(zn(()=>this._domNode.domNode.remove())),this._cursorFlatBlinkInterval=new o5,this._register(this._cursorFlatBlinkInterval),this._updateDomClassName()}_restartBlinking(){this._cursorFlatBlinkInterval.cancel(),this.show(),this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this.hide():this.show()},Jk.BLINK_INTERVAL)}_stopBlinking(){this._cursorFlatBlinkInterval.cancel()}_updateDomClassName(){this._domNode.setClassName("cursor cursor-line-style cursor-blink")}show(){this._isVisible||(this._domNode.setVisibility("visible"),this._domNode.setTransform(u3(this.view.mx)),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}update(r=void 0){this._renderData=r,this.render(),this._renderData?this._restartBlinking():this._stopBlinking()}render(){if(!this._renderData){this.hide();return}this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left-1),this._domNode.setWidth(this._renderData.width),this._domNode.setHeight(this._renderData.height)}};let Zm=Jk;c(Zm,"BLINK_INTERVAL",500);const Gz={transform(t,e){const{current:r,affinity:n}=t;if(r==null)return;const s=Ne.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}},Hz={transform(t,e){const{current:r,affinity:n}=t;if(r==null)return;const s=dr.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}},jz={transform(t,e){const{current:r,affinity:n}=t;if(r==null)return;const s=ft.transform(r,e,{affinity:n});t.current=s,s==null&&t.unref()}},cy=new WeakMap,hy=new WeakMap,Dp=new WeakMap,TN=new WeakMap,nD=new WeakMap,iD=new WeakMap,sD=new WeakMap,Ne={ancestors(t,e={}){const{reverse:r=!1}=e;let n=Ne.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){const r=[];for(let n=0;n<t.length&&n<e.length;n++){const s=t[n],i=e[n];if(s!==i)break;r.push(s)}return r},compare(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){const r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),i=t[r],o=e[r];return Ne.equals(n,s)&&i>o},endsAt(t,e){const r=t.length,n=t.slice(0,r),s=e.slice(0,r);return Ne.equals(n,s)},endsBefore(t,e){const r=t.length-1,n=t.slice(0,r),s=e.slice(0,r),i=t[r],o=e[r];return Ne.equals(n,s)&&i<o},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return Ne.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&Ne.compare(t,e)===0},isBefore(t,e){return Ne.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&Ne.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&Ne.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&Ne.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&Ne.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;const r=t.slice(0,-1),n=e.slice(0,-1),s=t[t.length-1],i=e[e.length-1];return s!==i&&Ne.equals(r,n)},levels(t,e={}){const{reverse:r=!1}=e,n=[];for(let s=0;s<=t.length;s++)n.push(t.slice(0,s));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error(`Cannot get the next path of a root path [${t}], because it has no next index.`);const e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error(`Cannot get the parent path of the root path [${t}].`);return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error(`Cannot get the previous path of a root path [${t}], because it has no previous index.`);const e=t[t.length-1];if(e<=0)throw new Error(`Cannot get the previous path of a first child path [${t}] because it would result in a negative index.`);return t.slice(0,-1).concat(e-1)},relative(t,e){if(!Ne.isAncestor(e,t)&&!Ne.equals(t,e))throw new Error(`Cannot get the relative path of [${t}] inside ancestor [${e}], because it is not above or equal to the path.`);return t.slice(e.length)},transform(t,e,r={}){if(!t)return null;const n=[...t],{affinity:s="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{const{path:i}=e;(Ne.equals(i,n)||Ne.endsBefore(i,n)||Ne.isAncestor(i,n))&&(n[i.length-1]+=1);break}case"remove_node":{const{path:i}=e;if(Ne.equals(i,n)||Ne.isAncestor(i,n))return null;Ne.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{const{path:i,position:o}=e;Ne.equals(i,n)||Ne.endsBefore(i,n)?n[i.length-1]-=1:Ne.isAncestor(i,n)&&(n[i.length-1]-=1,n[i.length]+=o);break}case"split_node":{const{path:i,position:o}=e;if(Ne.equals(i,n)){if(s==="forward")n[n.length-1]+=1;else if(s!=="backward")return null}else Ne.endsBefore(i,n)?n[i.length-1]+=1:Ne.isAncestor(i,n)&&t[i.length]>=o&&(n[i.length-1]+=1,n[i.length]-=o);break}case"move_node":{const{path:i,newPath:o}=e;if(Ne.equals(i,o))return n;if(Ne.isAncestor(i,n)||Ne.equals(i,n)){const a=o.slice();return Ne.endsBefore(i,o)&&i.length<o.length&&(a[i.length-1]-=1),a.concat(n.slice(i.length))}else Ne.isSibling(i,o)&&(Ne.isAncestor(o,n)||Ne.equals(o,n))?Ne.endsBefore(i,n)?n[i.length-1]-=1:n[i.length-1]+=1:Ne.endsBefore(o,n)||Ne.equals(o,n)||Ne.isAncestor(o,n)?(Ne.endsBefore(i,n)&&(n[i.length-1]-=1),n[o.length-1]+=1):Ne.endsBefore(i,n)&&(Ne.equals(o,n)&&(n[o.length-1]+=1),n[i.length-1]-=1);break}}return n}},Vz=(t,e,r)=>{switch(r.type){case"insert_node":{const{path:n,node:s}=r,i=Ct.parent(t,n),o=n[n.length-1];if(o>i.children.length)throw new Error(`Cannot apply an "insert_node" operation at path [${n}] because the destination is past the end of the node.`);if(Ct.insertChildAt(i,o,s),e)for(const[a,l]of ft.points(e))e[l]=dr.transform(a,r);break}case"insert_text":{const{path:n,offset:s,text:i}=r;if(i.length===0)break;const o=Ct.leaf(t,n),a=o.content.slice(0,s),l=o.content.slice(s);if(Ot.setContent(o,a+i+l),e)for(const[u,d]of ft.points(e))e[d]=dr.transform(u,r);break}case"merge_node":{const{path:n}=r,s=Ct.get(t,n),i=Ne.previous(n),o=Ct.get(t,i),a=Ct.parent(t,n),l=n[n.length-1];if(Ot.isText(s)&&Ot.isText(o))Ot.setContent(o,o.content+s.content);else if(!Ot.isText(s)&&!Ot.isText(o))Ct.appendChildren(o,...s.children);else throw new Error(`Cannot apply a "merge_node" operation at path [${n}] to nodes of different interfaces: ${Cs.stringify(s)} ${Cs.stringify(o)}`);if(Ct.removeChildAt(a,l),e)for(const[u,d]of ft.points(e))e[d]=dr.transform(u,r);break}case"move_node":{const{path:n,newPath:s}=r;if(Ne.isAncestor(n,s))throw new Error(`Cannot move a path [${n}] to new path [${s}] because the destination is inside itself.`);const i=Ct.get(t,n),o=Ct.parent(t,n),a=n[n.length-1];Ct.removeChildAt(o,a);const l=Ne.transform(n,r),u=Ct.get(t,Ne.parent(l)),d=l[l.length-1];if(Ct.insertChildAt(u,d,i),e)for(const[f,g]of ft.points(e))e[g]=dr.transform(f,r);break}case"remove_node":{const{path:n}=r,s=n[n.length-1],i=Ct.parent(t,n);if(Ct.removeChildAt(i,s),e)for(const[o,a]of ft.points(e)){const l=dr.transform(o,r);if(e!=null&&l!=null)e[a]=l;else{let u,d;for(const[g,x]of Ct.texts(t))if(Ne.compare(x,n)===-1)u=[g,x];else{d=[g,x];break}let f=!1;u&&d&&(Ne.equals(d[1],n)?f=!Ne.hasPrevious(d[1]):f=Ne.common(u[1],n).length<Ne.common(d[1],n).length),u&&!f?(o.path=u[1],o.offset=u[0].content.length):d?(o.path=d[1],o.offset=0):e=null}}break}case"remove_text":{const{path:n,offset:s,text:i}=r;if(i.length===0)break;const o=Ct.leaf(t,n),a=o.content.slice(0,s),l=o.content.slice(s+i.length);if(Ot.setContent(o,a+l),e)for(const[u,d]of ft.points(e))e[d]=dr.transform(u,r);break}case"set_node":{const{path:n,properties:s,newProperties:i}=r;if(n.length===0)throw new Error("Cannot set properties on the root node!");const o=Ct.get(t,n);for(const a in i){if(a==="children"||a==="text")throw new Error(`Cannot set the "${a}" property of nodes!`);const l=i[a];l==null?delete o[a]:o[a]=l}for(const a in s)i.hasOwnProperty(a)||delete o[a];break}case"set_selection":{const{newProperties:n}=r;if(n==null)e=n;else{if(e==null){if(!ft.isRange(n))throw new Error(`Cannot apply an incomplete "set_selection" operation properties ${Cs.stringify(n)} when there is no current selection.`);e={...n}}for(const s in n){const i=s,o=n[i];if(o==null){if(i==="anchor"||i==="focus")throw new Error(`Cannot remove the "${i}" selection property`);delete e[i]}else e[i]=o}}break}case"split_node":{const{path:n,position:s,properties:i}=r;if(n.length===0)throw new Error(`Cannot apply a "split_node" operation at path [${n}] because the root node cannot be split.`);const o=Ct.get(t,n),a=Ct.parent(t,n),l=n[n.length-1];let u;if(Ot.isText(o)){const d=o.content.slice(0,s),f=o.content.slice(s);Ot.setContent(o,d),u={...i,type:"text",content:f}}else{const d=o.children.slice(0,s),f=o.children.slice(s);Ct.setChildren(o,...d),u={...i,children:f}}if(Ct.insertChildAt(a,l+1,u),e)for(const[d,f]of ft.points(e))e[f]=dr.transform(d,r);break}}return e},zz={transform(t,e){t.selection=Vz(t,t.selection,e)}},Wz={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},$z={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},CN=(t,e)=>{for(const r in t){const n=t[r],s=e[r];if(Zs(n)&&Zs(s)){if(!CN(n,s))return!1}else if(Array.isArray(n)&&Array.isArray(s)){if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==s[i])return!1}else if(n!==s)return!1}for(const r in e)if(t[r]===void 0&&e[r]!==void 0)return!1;return!0},Kz=t=>{const e=Reflect.get(t,"isEditor");return e&&nf(e)&&e.call(t)},de={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t,e={}){const{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t,e={}){const{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t,e={}){return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return Kz(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)}},oD=t=>{const e=Reflect.get(t,"isBlock");return e&&nf(e)&&e.call(t)},Gt={isAncestor(t){return Reflect.has(t,"children")&&Ct.isNodeList(t.children)},isElement:oD,isElementInit(t){return!oD(t)&&Reflect.get(t,"_blockBrand")},isElementList(t){return Array.isArray(t)&&t.every(e=>Gt.isElement(e))},isElementProps(t){return t.children!==void 0},matches(t,e){for(const r in e){let n=r;if(n!=="children"&&t[n]!==e[n])return!1}return!0}},Xz={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(Ne.isPath)}},aD=new WeakMap,Ct={ancestor(t,e){const r=Ct.get(t,e);if(Ot.isText(r))throw new Error(`Cannot get the ancestor node at path [${e}] because it refers to a text node instead: ${Cs.stringify(r)}`);return r},*ancestors(t,e,r={}){for(const n of Ne.ancestors(e,r))yield[Ct.ancestor(t,n),n]},child(t,e){if(Ot.isText(t))throw new Error(`Cannot get the child of a text node: ${Cs.stringify(t)}`);const r=t.children[e];if(r==null)throw new Error(`Cannot get child at index \`${e}\` in node: ${Cs.stringify(t)}`);return r},*children(t,e,r={}){const{reverse:n=!1}=r,s=Ct.ancestor(t,e),{children:i}=s;let o=n?i.length-1:0;for(;n?o>=0:o<i.length;){const a=Ct.child(s,o),l=e.concat(o);yield[a,l],o=n?o-1:o+1}},common(t,e,r){const n=Ne.common(e,r);return[Ct.get(t,n),n]},descendant(t,e){const r=Ct.get(t,e);if(de.isEditor(r))throw new Error(`Cannot get the descendant node at path [${e}] because it refers to the root editor node instead: ${Cs.stringify(r)}`);return r},isDescendantInit(t){return Ot.isTextInit(t)||Gt.isElementInit(t)},*descendants(t,e={}){for(const[r,n]of Ct.nodes(t,e))n.length!==0&&(yield[r,n])},*elements(t,e={}){for(const[r,n]of Ct.nodes(t,e))Gt.isElement(r)&&(yield[r,n])},extractProps(t){return{type:Reflect.get(t,"type"),style:Reflect.get(t,"style").toJSON()}},first(t,e){const r=e.slice();let n=Ct.get(t,r);for(;n;){if(!Ot.isText(n)&&!n.children)debugger;if(Ot.isText(n)||n.children.length===0)break;n=n.children[0],r.push(0)}return[n,r]},fragment(t,e){if(Ot.isText(t))throw new Error(`Cannot get a fragment starting from a root text node: ${Cs.stringify(t)}`);const[r,n]=ft.edges(e),s=Ct.nodes(t,{reverse:!0,pass:([,i])=>!ft.includes(e,i)});for(const[,i]of s){if(!ft.includes(e,i)){const o=Ct.parent(t,i),a=i[i.length-1];Ct.removeChildAt(o,a)}if(Ne.equals(i,n.path)){const o=Ct.leaf(t,i);Ot.setContent(o,o.content.slice(0,n.offset))}if(Ne.equals(i,r.path)){const o=Ct.leaf(t,i);Ot.setContent(o,o.content.slice(r.offset))}}return de.isEditor(t)&&(t.selection=null),t.children},get(t,e){let r=t;for(let n=0;n<e.length;n++){const s=e[n];if(Ot.isText(r)||!r.children[s])throw new Error(`Cannot find a descendant at path [${e}] in node: ${Cs.stringify(t)}`);r=r.children[s]}return r},has(t,e){let r=t;for(let n=0;n<e.length;n++){const s=e[n];if(Ot.isText(r)||!r.children[s])return!1;r=r.children[s]}return!0},isNode(t){return Ot.isText(t)||Gt.isElement(t)||de.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;const e=aD.get(t);if(e!==void 0)return e;const r=t.every(n=>Ct.isNode(n));return aD.set(t,r),r},last(t,e){const r=e.slice();let n=Ct.get(t,r);for(;n&&!(Ot.isText(n)||n.children.length===0);){const s=n.children.length-1;n=n.children[s],r.push(s)}return[n,r]},leaf(t,e){const r=Ct.get(t,e);if(!Ot.isText(r))throw new Error(`Cannot get the leaf node at path [${e}] because it refers to a non-leaf node: ${Cs.stringify(r)}`);return r},*levels(t,e,r={}){for(const n of Ne.levels(e,r))yield[Ct.get(t,n),n]},matches(t,e){return Gt.isElement(t)&&Gt.isElementProps(e)&&Gt.matches(t,e)||Ot.isText(t)&&Ot.isTextProps(e)&&Ot.matches(t,e)},*nodes(t,e={}){const{pass:r,reverse:n=!1}=e,{from:s=[],to:i}=e,o=new Set;let a=[],l=t;for(;!(i&&(n?Ne.isBefore(a,i):Ne.isAfter(a,i)));){if(o.has(l)||(yield[l,a]),!o.has(l)&&!Ot.isText(l)&&!Ot.isTextInit(l)&&l.children.length!==0&&(r==null||r([l,a])===!1)){o.add(l);let u=n?l.children.length-1:0;Ne.isAncestor(a,s)&&(u=s[a.length]),a=a.concat(u),l=Ct.get(t,a);continue}if(a.length===0)break;if(!n){const u=Ne.next(a);if(Ct.has(t,u)){a=u,l=Ct.get(t,a);continue}}if(n&&a[a.length-1]!==0){a=Ne.previous(a),l=Ct.get(t,a);continue}a=Ne.parent(a),l=Ct.get(t,a),o.add(l)}},parent(t,e){const r=Ne.parent(e),n=Ct.get(t,r);if(Ot.isText(n))throw new Error(`Cannot get the parent of path [${e}] because it does not exist in the root.`);return n},string(t){return Ot.isText(t)?t.content:t.children.map(Ct.string).join("")},*texts(t,e={}){for(const[r,n]of Ct.nodes(t,e))Ot.isText(r)&&(yield[r,n])},removeChildAt(t,e){Reflect.get(t,"removeChildAt").call(t,e)},insertChildAt(t,e,r){Reflect.get(t,"insertChildAt").call(t,e,r)},appendChildren(t,...e){Reflect.get(t,"appendChildren").call(t,...e)},setChildren(t,...e){Reflect.get(t,"setChildren").call(t,...e)},insertAfter(t,e,r){Reflect.get(t,"insertAfter").call(t,e,r)}},dc={isNodeOperation(t){return dc.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!Zs(t))return!1;switch(t.type){case"insert_node":return Ne.isPath(t.path)&&Ct.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&Ne.isPath(t.path);case"merge_node":return typeof t.position=="number"&&Ne.isPath(t.path)&&Zs(t.properties);case"move_node":return Ne.isPath(t.path)&&Ne.isPath(t.newPath);case"remove_node":return Ne.isPath(t.path)&&Ct.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&Ne.isPath(t.path);case"set_node":return Ne.isPath(t.path)&&Zs(t.properties)&&Zs(t.newProperties);case"set_selection":return t.properties===null&&ft.isRange(t.newProperties)||t.newProperties===null&&ft.isRange(t.properties)||Zs(t.properties)&&Zs(t.newProperties);case"split_node":return Ne.isPath(t.path)&&typeof t.position=="number"&&Zs(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>dc.isOperation(e))},isSelectionOperation(t){return dc.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return dc.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return{...t,type:"remove_node"};case"insert_text":return{...t,type:"remove_text"};case"merge_node":return{...t,type:"split_node",path:Ne.previous(t.path)};case"move_node":{const{newPath:e,path:r}=t;if(Ne.equals(e,r))return t;if(Ne.isSibling(r,e))return{...t,path:e,newPath:r};const n=Ne.transform(r,t),s=Ne.transform(Ne.next(r),t);return{...t,path:n,newPath:s}}case"remove_node":return{...t,type:"insert_node"};case"remove_text":return{...t,type:"insert_text"};case"set_node":{const{properties:e,newProperties:r}=t;return{...t,properties:r,newProperties:e}}case"set_selection":{const{properties:e,newProperties:r}=t;return e==null?{...t,properties:r,newProperties:null}:r==null?{...t,properties:null,newProperties:e}:{...t,properties:r,newProperties:e}}case"split_node":return{...t,type:"merge_node",path:Ne.next(t.path)}}}};var Yz=Object.defineProperty,lD=Object.getOwnPropertySymbols,qz=Object.prototype.hasOwnProperty,Qz=Object.prototype.propertyIsEnumerable,uD=(t,e,r)=>e in t?Yz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jz=(t,e)=>{for(var r in e||(e={}))qz.call(e,r)&&uD(t,r,e[r]);if(lD)for(var r of lD(e))Qz.call(e,r)&&uD(t,r,e[r]);return t},PN=Symbol.for("immer-nothing"),cD=Symbol.for("immer-draftable"),Ms=Symbol.for("immer-state");function vo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var qd=Object.getPrototypeOf;function Qd(t){return!!t&&!!t[Ms]}function th(t){var e;return t?DN(t)||Array.isArray(t)||!!t[cD]||!!((e=t.constructor)!=null&&e[cD])||sv(t)||ov(t):!1}var Zz=Object.prototype.constructor.toString();function DN(t){if(!t||typeof t!="object")return!1;const e=qd(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Zz}function A0(t,e){iv(t)===0?Object.entries(t).forEach(([r,n])=>{e(r,n,t)}):t.forEach((r,n)=>e(n,r,t))}function iv(t){const e=t[Ms];return e?e.type_:Array.isArray(t)?1:sv(t)?2:ov(t)?3:0}function cw(t,e){return iv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function RN(t,e,r){const n=iv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function eW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function sv(t){return t instanceof Map}function ov(t){return t instanceof Set}function rc(t){return t.copy_||t.base_}function hw(t,e){if(sv(t))return new Map(t);if(ov(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&DN(t))return qd(t)?Jz({},t):Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[Ms];let n=Reflect.ownKeys(r);for(let s=0;s<n.length;s++){const i=n[s],o=r[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(qd(t),r)}function Nb(t,e=!1){return av(t)||Qd(t)||!th(t)||(iv(t)>1&&(t.set=t.add=t.clear=t.delete=tW),Object.freeze(t),e&&A0(t,(r,n)=>Nb(n,!0))),t}function tW(){vo(2)}function av(t){return Object.isFrozen(t)}var rW={};function rh(t){const e=rW[t];return e||vo(0,t),e}var w0;function ON(){return w0}function nW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hD(t,e){e&&(rh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dw(t){fw(t),t.drafts_.forEach(iW),t.drafts_=null}function fw(t){t===w0&&(w0=t.parent_)}function dD(t){return w0=nW(w0,t)}function iW(t){const e=t[Ms];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Ms].modified_&&(dw(e),vo(4)),th(t)&&(t=dy(e,t),e.parent_||fy(e,t)),e.patches_&&rh("Patches").generateReplacementPatches_(r[Ms].base_,t,e.patches_,e.inversePatches_)):t=dy(e,r,[]),dw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PN?t:void 0}function dy(t,e,r){if(av(e))return e;const n=e[Ms];if(!n)return A0(e,(s,i)=>_D(t,n,e,s,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return fy(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),A0(i,(a,l)=>_D(t,n,s,a,l,r,o)),fy(t,s,!1),r&&t.patches_&&rh("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function _D(t,e,r,n,s,i,o){if(Qd(s)){const a=i&&e&&e.type_!==3&&!cw(e.assigned_,n)?i.concat(n):void 0,l=dy(t,s,a);if(RN(r,n,l),Qd(l))t.canAutoFreeze_=!1;else return}else o&&r.add(s);if(th(s)&&!av(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;dy(t,s),(!e||!e.scope_.parent_)&&fy(t,s)}}function fy(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Nb(e,r)}function sW(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:ON(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Fb;r&&(s=[n],i=S0);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var Fb={get(t,e){if(e===Ms)return t;const r=rc(t);if(!cw(r,e))return oW(t,r,e);const n=r[e];return t.finalized_||!th(n)?n:n===UE(t.base_,e)?(GE(t),t.copy_[e]=pw(n,t)):n},has(t,e){return e in rc(t)},ownKeys(t){return Reflect.ownKeys(rc(t))},set(t,e,r){const n=BN(rc(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=UE(rc(t),e),i=s==null?void 0:s[Ms];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(eW(r,s)&&(r!==void 0||cw(t.base_,e)))return!0;GE(t),_w(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return UE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,GE(t),_w(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=rc(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){vo(11)},getPrototypeOf(t){return qd(t.base_)},setPrototypeOf(){vo(12)}},S0={};A0(Fb,(t,e)=>{S0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});S0.deleteProperty=function(t,e){return S0.set.call(this,t,e,void 0)};S0.set=function(t,e,r){return Fb.set.call(this,t[0],e,r,t[0])};function UE(t,e){const r=t[Ms];return(r?rc(r):t)[e]}function oW(t,e,r){var n;const s=BN(e,r);return s?"value"in s?s.value:(n=s.get)==null?void 0:n.call(t.draft_):void 0}function BN(t,e){if(!(e in t))return;let r=qd(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=qd(r)}}function _w(t){t.modified_||(t.modified_=!0,t.parent_&&_w(t.parent_))}function GE(t){t.copy_||(t.copy_=hw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var aW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const o=this;return function(l=i,...u){return o.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&vo(6),n!==void 0&&typeof n!="function"&&vo(7);let s;if(th(e)){const i=dD(this),o=pw(e,void 0);let a=!0;try{s=r(o),a=!1}finally{a?dw(i):fw(i)}return hD(i,n),fD(s,i)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===PN&&(s=void 0),this.autoFreeze_&&Nb(s,!0),n){const i=[],o=[];rh("Patches").generateReplacementPatches_(e,s,i,o),n(i,o)}return s}else vo(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let n,s;return[this.produce(e,r,(o,a)=>{n=o,s=a}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){th(t)||vo(8),Qd(t)&&(t=lW(t));const e=dD(this),r=pw(t,void 0);return r[Ms].isManual_=!0,fw(e),r}finishDraft(t,e){const r=t&&t[Ms];(!r||!r.isManual_)&&vo(9);const{scope_:n}=r;return hD(n,e),fD(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=rh("Patches").applyPatches_;return Qd(t)?n(t,e):this.produce(t,s=>n(s,e))}};function pw(t,e){const r=sv(t)?rh("MapSet").proxyMap_(t,e):ov(t)?rh("MapSet").proxySet_(t,e):sW(t,e);return(e?e.scope_:ON()).drafts_.push(r),r}function lW(t){return Qd(t)||vo(10,t),NN(t)}function NN(t){if(!th(t)||av(t))return t;const e=t[Ms];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=hw(t,e.scope_.immer_.useStrictShallowCopy_)}else r=hw(t,!0);return A0(r,(n,s)=>{RN(r,n,NN(s))}),e&&(e.finalized_=!1),r}var Ls=new aW,FN=Ls.produce;Ls.produceWithPatches.bind(Ls);Ls.setAutoFreeze.bind(Ls);Ls.setUseStrictShallowCopy.bind(Ls);Ls.applyPatches.bind(Ls);Ls.createDraft.bind(Ls);Ls.finishDraft.bind(Ls);const dr={compare(t,e){const r=Ne.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return dr.compare(t,e)===1},isBefore(t,e){return dr.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&Ne.equals(t.path,e.path)},isPoint(t){return Zs(t)&&typeof t.offset=="number"&&Ne.isPath(t.path)},transform(t,e,r={}){return FN(t,n=>{if(n===null)return null;const{affinity:s="forward"}=r,{path:i,offset:o}=n;switch(e.type){case"insert_node":case"move_node":{n.path=Ne.transform(i,e,r);break}case"insert_text":{Ne.equals(e.path,i)&&(e.offset<o||e.offset===o&&s==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{Ne.equals(e.path,i)&&(n.offset+=e.position),n.path=Ne.transform(i,e,r);break}case"remove_text":{Ne.equals(e.path,i)&&e.offset<=o&&(n.offset-=Math.min(o-e.offset,e.text.length));break}case"remove_node":{if(Ne.equals(e.path,i)||Ne.isAncestor(e.path,i))return null;n.path=Ne.transform(i,e,r);break}case"split_node":{if(Ne.equals(e.path,i)){if(e.position===o&&s==null)return null;(e.position<o||e.position===o&&s==="forward")&&(n.offset-=e.position,n.path=Ne.transform(i,e,{...r,affinity:"forward"}))}else n.path=Ne.transform(i,e,r);break}}})}},ft={edges(t,e={}){const{reverse:r=!1}=e,{anchor:n,focus:s}=t;return ft.isBackward(t)===r?[n,s]:[s,n]},end(t){const[,e]=ft.edges(t);return e},equals(t,e){return dr.equals(t.anchor,e.anchor)&&dr.equals(t.focus,e.focus)},includes(t,e){if(ft.isRange(e)){if(ft.includes(t,e.anchor)||ft.includes(t,e.focus))return!0;const[o,a]=ft.edges(t),[l,u]=ft.edges(e);return dr.isBefore(o,l)&&dr.isAfter(a,u)}const[r,n]=ft.edges(t);let s=!1,i=!1;return dr.isPoint(e)?(s=dr.compare(e,r)>=0,i=dr.compare(e,n)<=0):(s=Ne.compare(e,r.path)>=0,i=Ne.compare(e,n.path)<=0),s&&i},intersection(t,e){const{anchor:r,focus:n,...s}=t,[i,o]=ft.edges(t),[a,l]=ft.edges(e),u=dr.isBefore(i,a)?a:i,d=dr.isBefore(o,l)?o:l;return dr.isBefore(d,u)?null:{anchor:u,focus:d,...s}},isBackward(t){const{anchor:e,focus:r}=t;return dr.isAfter(e,r)},isCollapsed(t){const{anchor:e,focus:r}=t;return dr.equals(e,r)},isExpanded(t){return!ft.isCollapsed(t)},isForward(t){return!ft.isBackward(t)},isRange(t){return Zs(t)&&dr.isPoint(t.anchor)&&dr.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){const[e]=ft.edges(t);return e},transform(t,e,r={}){return FN(t,n=>{if(n===null)return null;const{affinity:s="inward"}=r;let i,o;if(s==="inward"){const u=ft.isCollapsed(n);ft.isForward(n)?(i="forward",o=u?i:"backward"):(i="backward",o=u?i:"forward")}else s==="outward"?ft.isForward(n)?(i="backward",o="forward"):(i="forward",o="backward"):(i=s,o=s);const a=dr.transform(n.anchor,e,{affinity:i}),l=dr.transform(n.focus,e,{affinity:o});if(!a||!l)return null;n.anchor=a,n.focus=l})}};let pD;const Cs={setScrubber(t){pD=t},stringify(t){return JSON.stringify(t,pD)}},Ot={equals(t,e,r={}){const{loose:n=!1}=r;function s(i){const{text:o,...a}=i;return a}return CN(n?s(t):t,n?s(e):e)},isText(t){const e=Reflect.get(t,"isText");return e&&nf(e)&&e.call(t)},isTextInit(t){return!this.isText(t)&&Reflect.has(t,"content")&&Reflect.get(t,"type")==="text"},isTextList(t){return Array.isArray(t)&&t.every(e=>Ot.isText(e))},isTextProps(t){return t.content!==void 0},matches(t,e){for(const r in e){let n=r;if(n!=="content"&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1}return!0},decorations(t,e){let r=[{...t}];for(const n of e){const{anchor:s,focus:i,...o}=n,[a,l]=ft.edges(n),u=[];let d=0;const f=a.offset,g=l.offset;for(const x of r){const{length:E}=x.content,D=d;if(d+=E,f<=D&&d<=g){Object.assign(x,o),u.push(x);continue}if(f!==g&&(f===d||g===D)||f>d||g<D||g===D&&D!==0){u.push(x);continue}let A=x,R,P;if(g<d){const O=g-D;P={...A,content:A.content.slice(O)},A={...A,content:A.content.slice(0,O)}}if(f>D){const O=f-D;R={...A,content:A.content.slice(0,O)},A={...A,content:A.content.slice(O)}}Object.assign(A,o),R&&u.push(R),u.push(A),P&&u.push(P)}r=u}return r},setContent(t,e){Reflect.get(t,"setContent").call(t,e)},getParent(t){return Reflect.get(t,"getParent").call(t)},remove(t){return Reflect.get(t,"remove").call(t)}},Ib=t=>t.selection?t.selection:t.children.length>0?de.end(t,[]):[0],Df=(t,e)=>{const[r]=de.node(t,e);return n=>n===r},Mb=(t,e=!1)=>{const r=!e,n=e?fW(t):t;let s=$a.None,i=$a.None,o=0,a=null,l=null;for(const u of n){const d=u.codePointAt(0);if(!d)break;const f=bW(u,d);if([s,i]=r?[i,f]:[f,s],ed(s,$a.ZWJ)&&ed(i,$a.ExtPict)&&(r?a=gD(t.substring(0,o)):a=gD(t.substring(0,t.length-o)),!a)||ed(s,$a.RI)&&ed(i,$a.RI)&&(l!==null?l=!l:r?l=!0:l=DW(t.substring(0,t.length-o)),!l)||s!==$a.None&&i!==$a.None&&TW(s,i))break;o+=u.length}return o||1},uW=/\s/,cW=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,hW=/['\u2018\u2019]/,dW=(t,e=!1)=>{let r=0,n=!1;for(;t.length>0;){const s=Mb(t,e),[i,o]=Lb(t,s,e);if(IN(i,o,e))n=!0,r+=s;else if(!n)r+=s;else break;t=o}return r},Lb=(t,e,r)=>{if(r){const n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},IN=(t,e,r=!1)=>{if(uW.test(t))return!1;if(hW.test(t)){const n=Mb(e,r),[s,i]=Lb(e,n,r);if(IN(s,i,r))return!0}return!cW.test(t)},fW=function*(t){const e=t.length-1;for(let r=0;r<t.length;r++){const n=t.charAt(e-r);if(pW(n.charCodeAt(0))){const s=t.charAt(e-r-1);if(_W(s.charCodeAt(0))){yield s+n,r++;continue}}yield n}},_W=t=>t>=55296&&t<=56319,pW=t=>t>=56320&&t<=57343;var $a=(t=>(t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any",t))($a||{});const gW=/^[\p{Gr_Ext}\p{EMod}]$/u,mW=/^[\u0600-\u0605\u06DD\u070F\u0890-\u0891\u08E2\u0D4E\u{110BD}\u{110CD}\u{111C2}-\u{111C3}\u{1193F}\u{11941}\u{11A3A}\u{11A84}-\u{11A89}\u{11D46}]$/u,xW=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BF-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC1\u0CC3-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0D02-\u0D03\u0D3F-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82-\u0D83\u0DD0-\u0DD1\u0DD8-\u0DDE\u0DF2-\u0DF3\u0E33\u0EB3\u0F3E-\u0F3F\u0F7F\u1031\u103B-\u103C\u1056-\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF7\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BE-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC\u{11000}\u{11002}\u{11082}\u{110B0}-\u{110B2}\u{110B7}-\u{110B8}\u{1112C}\u{11145}-\u{11146}\u{11182}\u{111B3}-\u{111B5}\u{111BF}-\u{111C0}\u{111CE}\u{1122C}-\u{1122E}\u{11232}-\u{11233}\u{11235}\u{112E0}-\u{112E2}\u{11302}-\u{11303}\u{1133F}\u{11341}-\u{11344}\u{11347}-\u{11348}\u{1134B}-\u{1134D}\u{11362}-\u{11363}\u{11435}-\u{11437}\u{11440}-\u{11441}\u{11445}\u{114B1}-\u{114B2}\u{114B9}\u{114BB}-\u{114BC}\u{114BE}\u{114C1}\u{115B0}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{11630}-\u{11632}\u{1163B}-\u{1163C}\u{1163E}\u{116AC}\u{116AE}-\u{116AF}\u{116B6}\u{11726}\u{1182C}-\u{1182E}\u{11838}\u{11931}-\u{11935}\u{11937}-\u{11938}\u{1193D}\u{11940}\u{11942}\u{119D1}-\u{119D3}\u{119DC}-\u{119DF}\u{119E4}\u{11A39}\u{11A57}-\u{11A58}\u{11A97}\u{11C2F}\u{11C3E}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D8A}-\u{11D8E}\u{11D93}-\u{11D94}\u{11D96}\u{11EF5}-\u{11EF6}\u{16F51}-\u{16F87}\u{16FF0}-\u{16FF1}\u{1D166}\u{1D16D}]$/u,yW=/^[\u1100-\u115F\uA960-\uA97C]$/u,vW=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/u,EW=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/u,AW=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/u,wW=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/u,SW=/^\p{ExtPict}$/u,bW=(t,e)=>{let r=2048;return t.search(gW)!==-1&&(r|=1),e===8205&&(r|=2),e>=127462&&e<=127487&&(r|=4),t.search(mW)!==-1&&(r|=8),t.search(xW)!==-1&&(r|=16),t.search(yW)!==-1&&(r|=32),t.search(vW)!==-1&&(r|=64),t.search(EW)!==-1&&(r|=128),t.search(AW)!==-1&&(r|=256),t.search(wW)!==-1&&(r|=512),t.search(SW)!==-1&&(r|=1024),r};function ed(t,e){return(t&e)!==0}const kW=[[32,864],[320,192],[640,128],[2048,3],[2048,16],[8,2048],[2,1024],[4,4]];function TW(t,e){return kW.findIndex(r=>ed(t,r[0])&&ed(e,r[1]))===-1}const CW=/\p{ExtPict}[\p{Gr_Ext}\p{EMod}]*\u200D$/u,gD=t=>t.search(CW)!==-1,PW=/\p{RI}+$/gu,DW=t=>{const e=t.match(PW);return e===null?!1:e[0].length/2%2===1},ex={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e,r={}){de.withoutNormalizing(t,()=>{const{voids:n=!1}=r;let{at:s=Ib(t)}=r;if(Ne.isPath(s)&&(s=de.range(t,s)),ft.isRange(s))if(ft.isCollapsed(s))s=s.anchor;else{const a=ft.end(s);if(!n&&de.void(t,{at:a}))return;const l=ft.start(s),u=de.pointRef(t,l),d=de.pointRef(t,a);Tt.delete(t,{at:s,voids:n});const f=u.unref(),g=d.unref();s=f||g,Tt.setSelection(t,{anchor:s,focus:s})}if(!n&&de.void(t,{at:s})||de.elementReadOnly(t,{at:s}))return;const{path:i,offset:o}=s;e.length>0&&t.apply({type:"insert_text",path:i,offset:o,text:e})})}},Tt={...zz,...Wz,...$z,...ex},RW=(t,e)=>{for(const l of de.pathRefs(t))Gz.transform(l,e);for(const l of de.pointRefs(t))Hz.transform(l,e);for(const l of de.rangeRefs(t))jz.transform(l,e);const r=cy.get(t)||[],n=hy.get(t)||new Set;let s,i;const o=l=>{if(l){const u=l.join(",");i.has(u)||(i.add(u),s.push(l))}};if(Ne.operationCanTransformPath(e)){s=[],i=new Set;for(const l of r){const u=Ne.transform(l,e);o(u)}}else s=r,i=n;const a=t.getDirtyPaths(e);for(const l of a)o(l);cy.set(t,s),hy.set(t,i),Tt.transform(t,e),t.operations.push(e),de.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Dp.get(t)||(Dp.set(t,!0),Promise.resolve().then(()=>{Dp.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},OW=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{const{path:r}=e;return Ne.levels(r)}case"insert_node":{const{node:r,path:n}=e,s=Ne.levels(n),i=Ot.isText(r)?[]:Array.from(Ct.nodes(r),([,o])=>n.concat(o));return[...s,...i]}case"merge_node":{const{path:r}=e,n=Ne.ancestors(r),s=Ne.previous(r);return[...n,s]}case"move_node":{const{path:r,newPath:n}=e;if(Ne.equals(r,n))return[];const s=[],i=[];for(const u of Ne.ancestors(r)){const d=Ne.transform(u,e);s.push(d)}for(const u of Ne.ancestors(n)){const d=Ne.transform(u,e);i.push(d)}const o=i[i.length-1],a=n[n.length-1],l=o.concat(a);return[...s,...i,l]}case"remove_node":{const{path:r}=e;return[...Ne.ancestors(r)]}case"split_node":{const{path:r}=e,n=Ne.levels(r),s=Ne.next(r);return[...n,s]}default:return[]}},BW=t=>{const{selection:e}=t;return e?Ct.fragment(t,e):[]},NW=(t,e)=>{const[r,n]=e;if(Ot.isText(r))return;if(Gt.isElement(r)&&r.children.length===0){const o={content:"",type:"text"};Tt.insertNodes(t,o,{at:n.concat(0),voids:!0});return}const s=de.isEditor(r)?!1:Gt.isElement(r)&&(t.isInline(r)||r.children.length===0||Ot.isText(r.children[0])||t.isInline(r.children[0]));let i=0;for(let o=0;o<r.children.length;o++,i++){const a=Ct.get(t,n);if(Ot.isText(a))continue;const l=a.children[i],u=a.children[i-1],d=o===r.children.length-1;if((Ot.isText(l)||Gt.isElement(l)&&t.isInline(l))!==s)Tt.removeNodes(t,{at:n.concat(i),voids:!0}),i--;else if(Gt.isElement(l)){if(t.isInline(l)){if(u==null||!Ot.isText(u)){const g={content:"",type:"text"};Tt.insertNodes(t,g,{at:n.concat(i),voids:!0}),i++}else if(d){const g={content:"",type:"text"};Tt.insertNodes(t,g,{at:n.concat(i+1),voids:!0}),i++}}}else u!=null&&Ot.isText(u)&&(Ot.equals(l,u,{loose:!0})?(Tt.mergeNodes(t,{at:n.concat(i),voids:!0}),i--):u.content===""?(Tt.removeNodes(t,{at:n.concat(i-1),voids:!0}),i--):l.content===""&&(Tt.removeNodes(t,{at:n.concat(i),voids:!0}),i--))}},FW=(t,{iteration:e,initialDirtyPathsLength:r})=>{const n=r*42;if(e>n)throw new Error(`Could not completely normalize the editor after ${n} iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.`);return!0},IW=(t,e={})=>{const{voids:r=!1,mode:n="lowest",at:s=t.selection,match:i}=e;if(!s)return;const o=de.path(t,s),a=n==="lowest";for(const[l,u]of de.levels(t,{at:o,voids:r,match:i,reverse:a}))if(!Ot.isText(l)){if(ft.isRange(s)){if(Ne.isAncestor(u,s.anchor.path)&&Ne.isAncestor(u,s.focus.path))return[l,u]}else if(!Ne.equals(o,u))return[l,u]}},MW=(t,e,r)=>{const{selection:n}=t;if(n){const s=(a,l)=>{if(!Ot.isText(a))return!1;const[u,d]=de.parent(t,l);return!t.isVoid(u)||t.markableVoid(u)},i=ft.isExpanded(n);let o=!1;if(!i){const[a,l]=de.node(t,n);if(a&&s(a,l)){const[u]=de.parent(t,l);o=u&&t.markableVoid(u)}}if(i||o)Tt.setNodes(t,{[e]:r},{match:s,split:!0,voids:!0});else{const a={...de.marks(t)||{},[e]:r};t.marks=a,Dp.get(t)||t.onChange()}}},LW=(t,e,r={})=>{const n=de.point(t,e,{edge:"end"}),s=de.end(t,[]),i={anchor:n,focus:s},{distance:o=1}=r;let a=0,l;for(const u of de.positions(t,{...r,at:i})){if(a>o)break;a!==0&&(l=u),a++}return l},UW=(t,e,r={})=>{const n=de.start(t,[]),s=de.point(t,e,{edge:"start"}),i={anchor:n,focus:s},{distance:o=1}=r;let a=0,l;for(const u of de.positions(t,{...r,at:i,reverse:!0})){if(a>o)break;a!==0&&(l=u),a++}return l},GW=(t,e)=>{const{selection:r}=t;r&&ft.isCollapsed(r)&&Tt.delete(t,{unit:e,reverse:!0})},HW=(t,e)=>{const{selection:r}=t;r&&ft.isCollapsed(r)&&Tt.delete(t,{unit:e})},jW=(t,{direction:e="forward"}={})=>{const{selection:r}=t;r&&ft.isExpanded(r)&&Tt.delete(t,{reverse:e==="backward"})},VW=(t,e)=>[de.start(t,e),de.end(t,e)],zW=(t,e={})=>de.above(t,{...e,match:r=>Gt.isElement(r)&&de.isElementReadOnly(t,r)}),WW=(t,e)=>de.point(t,e,{edge:"end"}),$W=(t,e)=>{const r=de.path(t,e,{edge:"start"});return de.node(t,r)},KW=(t,e)=>{const r=de.range(t,e);return Ct.fragment(t,r)},XW=(t,e={})=>de.above(t,{...e,match:r=>Gt.isElement(r)&&de.isVoid(t,r)}),YW=(t,e)=>e.children.some(r=>Gt.isElement(r)&&de.isBlock(t,r)),qW=(t,e)=>e.children.some(r=>Ot.isText(r)||de.isInline(t,r)),QW=(t,e)=>Ct.has(t,e),JW=(t,e)=>e.children.every(r=>Ot.isText(r)),ZW=t=>{Tt.splitNodes(t,{always:!0})},e$=(t,e,r)=>{Tt.insertNodes(t,e,r)},t$=t=>{Tt.splitNodes(t,{always:!0})},r$=(t,e,r={})=>{const{selection:n,marks:s}=t;if(n){if(s){const i={content:e,type:"text",...s};Tt.insertNodes(t,i,{at:r.at,voids:r.voids})}else Tt.insertText(t,e,r);t.marks=null}},n$=(t,e)=>!t.isInline(e),i$=(t,e,r)=>de.isStart(t,e,r)||de.isEnd(t,e,r),s$=(t,e)=>{const{children:r}=e,[n]=r;return r.length===0||r.length===1&&Ot.isText(n)&&n.content===""&&!t.isVoid(e)},o$=(t,e,r)=>{const n=de.end(t,r);return dr.equals(e,n)},a$=t=>{const e=TN.get(t);return e===void 0?!0:e},l$=(t,e,r)=>{if(e.offset!==0)return!1;const n=de.start(t,r);return dr.equals(e,n)},u$=(t,e)=>{const r=de.path(t,e,{edge:"end"});return de.node(t,r)},c$=(t,e,r={})=>{const n=de.path(t,e,r);return[Ct.leaf(t,n),n]};function*h$(t,e={}){const{at:r=t.selection,reverse:n=!1,voids:s=!1}=e;let{match:i}=e;if(i==null&&(i=()=>!0),!r)return;const o=[],a=de.path(t,r);for(const[l,u]of Ct.levels(t,a))if(!!i(l,u)&&(o.push([l,u]),!s&&Gt.isElement(l)&&de.isVoid(t,l)))break;n&&o.reverse(),yield*o}const d$=(t,e={})=>{const{marks:r,selection:n}=t;if(!n)return null;if(r)return r;if(ft.isExpanded(n)){const[u]=de.nodes(t,{match:Ot.isText});if(u){const[d]=u,{content:f,...g}=d;return g}else return{}}const{anchor:s}=n,{path:i}=s;let[o]=de.leaf(t,i);if(s.offset===0){const u=de.previous(t,{at:i,match:Ot.isText});if(!de.above(t,{match:f=>Gt.isElement(f)&&de.isVoid(t,f)&&t.markableVoid(f)})){const f=de.above(t,{match:g=>Gt.isElement(g)&&de.isBlock(t,g)});if(u&&f){const[g,x]=u,[,E]=f;Ne.isAncestor(E,x)&&(o=g)}}}const{content:a,...l}=o;return l},f$=(t,e={})=>{const{mode:r="lowest",voids:n=!1}=e;let{match:s,at:i=t.selection}=e;if(!i)return;const o=de.after(t,i,{voids:n});if(!o)return;const[,a]=de.last(t,[]),l=[o.path,a];if(Ne.isPath(i)&&i.length===0)throw new Error("Cannot get the next node from the root node!");if(s==null)if(Ne.isPath(i)){const[d]=de.parent(t,i);s=f=>d.children.includes(f)}else s=()=>!0;const[u]=de.nodes(t,{at:l,match:s,mode:r,voids:n});return u},_$=(t,e,r={})=>{const n=de.path(t,e,r);return[Ct.get(t,n),n]};function*p$(t,e={}){const{at:r=t.selection,mode:n="all",universal:s=!1,reverse:i=!1,voids:o=!1,ignoreNonSelectable:a=!1}=e;let{match:l}=e;if(l||(l=()=>!0),!r)return;let u,d;if(Xz.isSpan(r))u=r[0],d=r[1];else{const E=de.path(t,r,{edge:"start"}),D=de.path(t,r,{edge:"end"});u=i?D:E,d=i?E:D}const f=Ct.nodes(t,{reverse:i,from:u,to:d,pass:([E])=>Gt.isElement(E)?!!(!o&&(de.isVoid(t,E)||de.isElementReadOnly(t,E))||a&&!de.isSelectable(t,E)):!1}),g=[];let x;for(const[E,D]of f){if(a&&Gt.isElement(E)&&!de.isSelectable(t,E))continue;const A=x&&Ne.compare(D,x[1])===0;if(n==="highest"&&A)continue;if(!l(E,D)){if(s&&!A&&Ot.isText(E))return;continue}if(n==="lowest"&&A){x=[E,D];continue}const R=n==="lowest"?x:[E,D];R&&(s?g.push(R):yield R),x=[E,D]}n==="lowest"&&x&&(s?g.push(x):yield x),s&&(yield*g)}const g$=(t,e={})=>{const{force:r=!1,operation:n}=e,s=a=>cy.get(a)||[],i=a=>hy.get(a)||new Set,o=a=>{const l=s(a).pop(),u=l.join(",");return i(a).delete(u),l};if(!!de.isNormalizing(t)){if(r){const a=Array.from(Ct.nodes(t),([,u])=>u),l=new Set(a.map(u=>u.join(",")));cy.set(t,a),hy.set(t,l)}s(t).length!==0&&de.withoutNormalizing(t,()=>{for(const d of s(t))if(Ct.has(t,d)){const f=de.node(t,d),[g,x]=f;Gt.isElement(g)&&g.children.length===0&&t.normalizeNode(f,{operation:n})}let a=s(t);const l=a.length;let u=0;for(;a.length!==0;){if(!t.shouldNormalize({dirtyPaths:a,iteration:u,initialDirtyPathsLength:l,operation:n}))return;const d=o(t);if(Ct.has(t,d)){const f=de.node(t,d);t.normalizeNode(f,{operation:n})}u++,a=s(t)}})}},m$=(t,e,r={})=>{const n=de.path(t,e,r),s=Ne.parent(n);return de.node(t,s)},x$=(t,e,r={})=>{const{affinity:n="forward"}=r,s={current:e,affinity:n,unref(){const{current:o}=s;return de.pathRefs(t).delete(s),s.current=null,o}};return de.pathRefs(t).add(s),s},y$=t=>{let e=nD.get(t);return e||(e=new Set,nD.set(t,e)),e},v$=(t,e,r={})=>{const{depth:n,edge:s}=r;if(Ne.isPath(e)){if(s==="start"){const[,i]=Ct.first(t,e);e=i}else if(s==="end"){const[,i]=Ct.last(t,e);e=i}}return ft.isRange(e)&&(s==="start"?e=ft.start(e):s==="end"?e=ft.end(e):e=Ne.common(e.anchor.path,e.focus.path)),dr.isPoint(e)&&(e=e.path),n!=null&&(e=e.slice(0,n)),e},E$=(t,e,r={})=>{const{affinity:n="forward"}=r,s={current:e,affinity:n,unref(){const{current:o}=s;return de.pointRefs(t).delete(s),s.current=null,o}};return de.pointRefs(t).add(s),s},A$=t=>{let e=iD.get(t);return e||(e=new Set,iD.set(t,e)),e},w$=(t,e,r={})=>{const{edge:n="start"}=r;if(Ne.isPath(e)){let s;if(n==="end"){const[,o]=Ct.last(t,e);s=o}else{const[,o]=Ct.first(t,e);s=o}const i=Ct.get(t,s);if(!Ot.isText(i))throw new Error(`Cannot get the ${n} point in the node at path [${e}] because it has no ${n} text node.`);return{path:s,offset:n==="end"?i.content.length:0}}if(ft.isRange(e)){const[s,i]=ft.edges(e);return n==="start"?s:i}return e};function*S$(t,e={}){const{at:r=t.selection,unit:n="offset",reverse:s=!1,voids:i=!1,ignoreNonSelectable:o=!1}=e;if(!r)return;const a=de.range(t,r),[l,u]=ft.edges(a),d=s?u:l;let f=!1,g="",x=0,E=0,D=0;for(const[R,P]of de.nodes(t,{at:r,reverse:s,voids:i,ignoreNonSelectable:o})){if(Gt.isElement(R)){if(!i&&(t.isVoid(R)||t.isElementReadOnly(R))){yield de.start(t,P);continue}if(t.isInline(R))continue;if(de.hasInlines(t,R)){const O=Ne.isAncestor(P,u.path)?u:de.end(t,P),F=Ne.isAncestor(P,l.path)?l:de.start(t,P);g=de.string(t,{anchor:F,focus:O},{voids:i}),f=!0}}if(Ot.isText(R)){const O=Ne.equals(P,d.path);for(O?(E=s?d.offset:R.content.length-d.offset,D=d.offset):(E=R.content.length,D=s?E:0),(O||f||n==="offset")&&(yield{path:P,offset:D},f=!1);;){if(x===0){if(g==="")break;x=A(g,n,s),g=Lb(g,x,s)[1]}if(D=s?D-x:D+x,E=E-x,E<0){x=-E;break}x=0,yield{path:P,offset:D}}}}function A(R,P,O){return P==="character"?Mb(R,O):P==="word"?dW(R,O):P==="line"||P==="block"?R.length:1}}const b$=(t,e={})=>{const{mode:r="lowest",voids:n=!1}=e;let{match:s,at:i=t.selection}=e;if(!i)return;const o=de.before(t,i,{voids:n});if(!o)return;const[,a]=de.first(t,[]),l=[o.path,a];if(Ne.isPath(i)&&i.length===0)throw new Error("Cannot get the previous node from the root node!");if(s==null)if(Ne.isPath(i)){const[d]=de.parent(t,i);s=f=>d.children.includes(f)}else s=()=>!0;const[u]=de.nodes(t,{reverse:!0,at:l,match:s,mode:r,voids:n});return u},k$=(t,e,r={})=>{const{affinity:n="forward"}=r,s={current:e,affinity:n,unref(){const{current:o}=s;return de.rangeRefs(t).delete(s),s.current=null,o}};return de.rangeRefs(t).add(s),s},T$=t=>{let e=sD.get(t);return e||(e=new Set,sD.set(t,e)),e},C$=(t,e,r)=>{if(ft.isRange(e)&&!r)return e;const n=de.start(t,e),s=de.end(t,r||e);return{anchor:n,focus:s}},P$=(t,e)=>{const{selection:r}=t;if(r){const n=(o,a)=>{if(!Ot.isText(o))return!1;const[l,u]=de.parent(t,a);return!t.isVoid(l)||t.markableVoid(l)},s=ft.isExpanded(r);let i=!1;if(!s){const[o,a]=de.node(t,r);if(o&&n(o,a)){const[l]=de.parent(t,a);i=l&&t.markableVoid(l)}}if(s||i)Tt.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{const o={...de.marks(t)||{}};delete o[e],t.marks=o,Dp.get(t)||t.onChange()}}},D$=(t,e)=>{TN.set(t,e)},R$=(t,e)=>de.point(t,e,{edge:"start"}),O$=(t,e,r={})=>{const{voids:n=!1}=r,s=de.range(t,e),[i,o]=ft.edges(s);let a="";for(const[l,u]of de.nodes(t,{at:s,match:Ot.isText,voids:n})){let d=l.content;Ne.equals(u,o.path)&&(d=d.slice(0,o.offset)),Ne.equals(u,i.path)&&(d=d.slice(i.offset)),a+=d}return a},B$=(t,e,r={})=>{const{voids:n=!1}=r;let[s,i]=ft.edges(e);if(s.offset!==0||i.offset!==0||ft.isCollapsed(e)||Ne.hasPrevious(i.path))return e;const o=de.above(t,{at:i,match:f=>Gt.isElement(f)&&de.isBlock(t,f),voids:n}),a=o?o[1]:[],u={anchor:de.start(t,s),focus:i};let d=!0;for(const[f,g]of de.nodes(t,{at:u,match:Ot.isText,reverse:!0,voids:n})){if(d){d=!1;continue}if(f.content!==""||Ne.isBefore(g,a)){i={path:g,offset:f.content.length};break}}return{anchor:s,focus:i}},N$=(t,e)=>{const r=de.isNormalizing(t);de.setNormalizing(t,!1);try{e()}finally{de.setNormalizing(t,r)}de.normalize(t)},F$=(t,e={})=>{de.withoutNormalizing(t,()=>{var $,J;const{reverse:r=!1,unit:n="character",distance:s=1,voids:i=!1}=e;let{at:o=t.selection,hanging:a=!1}=e;if(!o)return;let l=!1;if(ft.isRange(o)&&ft.isCollapsed(o)&&(l=!0,o=o.anchor),dr.isPoint(o)){const Z=de.void(t,{at:o,mode:"highest"});if(!i&&Z){const[,re]=Z;o=re}else{const re={unit:n,distance:s},ge=r?de.before(t,o,re)||de.start(t,[]):de.after(t,o,re)||de.end(t,[]);o={anchor:o,focus:ge},a=!0}}if(Ne.isPath(o)){Tt.removeNodes(t,{at:o,voids:i});return}if(ft.isCollapsed(o))return;if(!a){const[,Z]=ft.edges(o),re=de.end(t,[]);dr.equals(Z,re)||(o=de.unhangRange(t,o,{voids:i}))}let[u,d]=ft.edges(o);const f=de.above(t,{match:Z=>Gt.isElement(Z)&&de.isBlock(t,Z),at:u,voids:i}),g=de.above(t,{match:Z=>Gt.isElement(Z)&&de.isBlock(t,Z),at:d,voids:i}),x=f&&g&&!Ne.equals(f[1],g[1]),E=Ne.equals(u.path,d.path),D=i?null:($=de.void(t,{at:u,mode:"highest"}))!=null?$:de.elementReadOnly(t,{at:u,mode:"highest"}),A=i?null:(J=de.void(t,{at:d,mode:"highest"}))!=null?J:de.elementReadOnly(t,{at:d,mode:"highest"});if(D){const Z=de.before(t,u);Z&&f&&Ne.isAncestor(f[1],Z.path)&&(u=Z)}if(A){const Z=de.after(t,d);Z&&g&&Ne.isAncestor(g[1],Z.path)&&(d=Z)}const R=[];let P;for(const Z of de.nodes(t,{at:o,voids:i})){const[re,ge]=Z;P&&Ne.compare(ge,P)===0||(!i&&Gt.isElement(re)&&(de.isVoid(t,re)||de.isElementReadOnly(t,re))||!Ne.isCommon(ge,u.path)&&!Ne.isCommon(ge,d.path))&&(R.push(Z),P=ge)}const O=Array.from(R,([,Z])=>de.pathRef(t,Z)),F=de.pointRef(t,u),U=de.pointRef(t,d);let B="";if(!E&&!D){const Z=F.current,[re]=de.leaf(t,Z),{path:ge}=Z,{offset:Fe}=u,Ze=re.content.slice(Fe);Ze.length>0&&(t.apply({type:"remove_text",path:ge,offset:Fe,text:Ze}),B=Ze)}if(O.reverse().map(Z=>Z.unref()).filter(Z=>Z!==null).forEach(Z=>Tt.removeNodes(t,{at:Z,voids:i})),!A){const Z=U.current,[re]=de.leaf(t,Z),{path:ge}=Z,Fe=E?u.offset:0,Ze=re.content.slice(Fe,d.offset);Ze.length>0&&(t.apply({type:"remove_text",path:ge,offset:Fe,text:Ze}),B=Ze)}!E&&x&&U.current&&F.current&&Tt.mergeNodes(t,{at:U.current,hanging:!0,voids:i}),l&&r&&n==="character"&&B.length>1&&B.match(/[\u0E00-\u0E7F]+/)&&Tt.insertText(t,B.slice(0,B.length-s));const N=F.unref(),T=U.unref(),M=r?N||T:T||N;e.at==null&&M&&Tt.select(t,M)})},I$=(t,e,r={})=>{de.withoutNormalizing(t,()=>{const{hanging:n=!1,voids:s=!1}=r;let{at:i=Ib(t)}=r;if(!e.length)return;if(ft.isRange(i))if(n||(i=de.unhangRange(t,i,{voids:s})),ft.isCollapsed(i))i=i.anchor;else{const[,ge]=ft.edges(i);if(!s&&de.void(t,{at:ge}))return;const Fe=de.pointRef(t,ge);Tt.delete(t,{at:i}),i=Fe.unref()}else Ne.isPath(i)&&(i=de.start(t,i));if(!s&&de.void(t,{at:i}))return;const o=de.above(t,{at:i,match:ge=>Gt.isElement(ge)&&de.isInline(t,ge),mode:"highest",voids:s});if(o){const[,ge]=o;de.isEnd(t,i,ge)?i=de.after(t,ge):de.isStart(t,i,ge)&&(i=de.before(t,ge))}const a=de.above(t,{match:ge=>Gt.isElement(ge)&&de.isBlock(t,ge),at:i,voids:s}),[,l]=a,u=de.isStart(t,i,l),d=de.isEnd(t,i,l),f=u&&d,g=!u||u&&d,x=!d,[,E]=Ct.first({children:e},[]),[,D]=Ct.last({children:e},[]),A=[],R=([ge,Fe])=>Fe.length===0?!1:f?!0:!(g&&Ne.isAncestor(Fe,E)&&Gt.isElement(ge)&&!t.isVoid(ge)&&!t.isInline(ge)||x&&Ne.isAncestor(Fe,D)&&Gt.isElement(ge)&&!t.isVoid(ge)&&!t.isInline(ge));for(const ge of Ct.nodes({children:e},{pass:R}))R(ge)&&A.push(ge);const P=[],O=[],F=[];let U=!0,B=!1;for(const[ge]of A)Gt.isElement(ge)&&!t.isInline(ge)?(U=!1,B=!0,O.push(ge)):U?P.push(ge):F.push(ge);const[N]=de.nodes(t,{at:i,match:ge=>Ot.isText(ge)||de.isInline(t,ge),mode:"highest",voids:s}),[,T]=N,M=de.isStart(t,i,T),$=de.isEnd(t,i,T),J=de.pathRef(t,d&&!F.length?Ne.next(l):l),Z=de.pathRef(t,$?Ne.next(T):T);Tt.splitNodes(t,{at:i,match:ge=>B?Gt.isElement(ge)&&de.isBlock(t,ge):Ot.isText(ge)||de.isInline(t,ge),mode:B?"lowest":"highest",always:B&&(!u||P.length>0)&&(!d||F.length>0),voids:s});const re=de.pathRef(t,!M||M&&$?Ne.next(T):T);if(Tt.insertNodes(t,P,{at:re.current,match:ge=>Ot.isText(ge)||de.isInline(t,ge),mode:"highest",voids:s}),f&&!P.length&&O.length&&!F.length&&Tt.delete(t,{at:l,voids:s}),Tt.insertNodes(t,O,{at:J.current,match:ge=>Gt.isElement(ge)&&de.isBlock(t,ge),mode:"lowest",voids:s}),Tt.insertNodes(t,F,{at:Z.current,match:ge=>Ot.isText(ge)||de.isInline(t,ge),mode:"highest",voids:s}),!r.at){let ge;if(F.length>0&&Z.current?ge=Ne.previous(Z.current):O.length>0&&J.current?ge=Ne.previous(J.current):re.current&&(ge=Ne.previous(re.current)),ge){const Fe=de.end(t,ge);Tt.select(t,Fe)}}re.unref(),J.unref(),Z.unref()})},M$=(t,e={})=>{const{edge:r="anchor"}=e,{selection:n}=t;if(n){if(r==="anchor")Tt.select(t,n.anchor);else if(r==="focus")Tt.select(t,n.focus);else if(r==="start"){const[s]=ft.edges(n);Tt.select(t,s)}else if(r==="end"){const[,s]=ft.edges(n);Tt.select(t,s)}}else return},L$=t=>{const{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},U$=(t,e={})=>{const{selection:r}=t,{distance:n=1,unit:s="character",reverse:i=!1}=e;let{edge:o=null}=e;if(!r)return;o==="start"&&(o=ft.isBackward(r)?"focus":"anchor"),o==="end"&&(o=ft.isBackward(r)?"anchor":"focus");const{anchor:a,focus:l}=r,u={distance:n,unit:s,ignoreNonSelectable:!0},d={};if(o==null||o==="anchor"){const f=i?de.before(t,a,u):de.after(t,a,u);f&&(d.anchor=f)}if(o==null||o==="focus"){const f=i?de.before(t,l,u):de.after(t,l,u);f&&(d.focus=f)}Tt.setSelection(t,d)},G$=(t,e)=>{const{selection:r}=t;if(e=de.range(t,e),r){Tt.setSelection(t,e);return}if(!ft.isRange(e))throw new Error(`When setting the selection and the current selection is \`null\` you must provide at least an \`anchor\` and \`focus\`, but you passed: ${Cs.stringify(e)}`);t.apply({type:"set_selection",properties:r,newProperties:e})},H$=(t,e,r={})=>{const{selection:n}=t;let{edge:s="both"}=r;if(!n)return;s==="start"&&(s=ft.isBackward(n)?"focus":"anchor"),s==="end"&&(s=ft.isBackward(n)?"anchor":"focus");const{anchor:i,focus:o}=n,a=s==="anchor"?i:o;Tt.setSelection(t,{[s==="anchor"?"anchor":"focus"]:{...a,...e}})},j$=(t,e)=>{const{selection:r}=t,n={},s={};if(!!r){for(const i in e){const o=i;(o==="anchor"&&e.anchor!=null&&!dr.equals(e.anchor,r.anchor)||o==="focus"&&e.focus!=null&&!dr.equals(e.focus,r.focus)||o!=="anchor"&&o!=="focus"&&e[o]!==r[o])&&(n[o]=r[o],s[o]=e[o])}Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:s})}},V$=(t,e,r={})=>{de.withoutNormalizing(t,()=>{const{hanging:n=!1,voids:s=!1,mode:i="lowest"}=r;let{at:o,match:a,select:l}=r,u;if(Ct.isNode(e)?u=[e]:Ct.isDescendantInit(e)?u=[e]:u=e,u.length===0)return;const[d]=u;if(o||(o=Ib(t),l=!0),l==null&&(l=!1),ft.isRange(o))if(n||(o=de.unhangRange(t,o,{voids:s})),ft.isCollapsed(o))o=o.anchor;else{const[,x]=ft.edges(o),E=de.pointRef(t,x);Tt.delete(t,{at:o}),o=E.unref()}if(dr.isPoint(o)){a==null&&(Ot.isText(d)?a=E=>Ot.isText(E):Ot.isTextInit(d)?a=()=>{debugger;return!0}:Gt.isElementInit(d)?a=()=>{debugger;return!0}:t.isInline(d)?a=E=>Ot.isText(E)||de.isInline(t,E):a=E=>Gt.isElement(E)&&de.isBlock(t,E));const[x]=de.nodes(t,{at:o.path,match:a,mode:i,voids:s});if(x){const[,E]=x,D=de.pathRef(t,E),A=de.isEnd(t,o,E);Tt.splitNodes(t,{at:o,match:a,mode:i,voids:s});const R=D.unref();o=A?Ne.next(R):R}else return}const f=Ne.parent(o);let g=o[o.length-1];if(!(!s&&de.void(t,{at:f}))){for(const x of u){const E=f.concat(g);g++,t.apply({type:"insert_node",path:E,node:x}),o=Ne.next(o)}if(o=Ne.previous(o),l){const x=de.end(t,o);x&&Tt.select(t,x)}}})},z$=(t,e={})=>{de.withoutNormalizing(t,()=>{const{at:r=t.selection,mode:n="lowest",voids:s=!1}=e;let{match:i}=e;if(i==null&&(i=Ne.isPath(r)?Df(t,r):l=>Gt.isElement(l)&&de.isBlock(t,l)),!r)return;const o=de.nodes(t,{at:r,match:i,mode:n,voids:s}),a=Array.from(o,([,l])=>de.pathRef(t,l));for(const l of a){const u=l.unref();if(u.length<2)throw new Error(`Cannot lift node at a path [${u}] because it has a depth of less than \`2\`.`);const d=de.node(t,Ne.parent(u)),[f,g]=d,x=u[u.length-1],{length:E}=f.children;if(E===1){const D=Ne.next(g);Tt.moveNodes(t,{at:u,to:D,voids:s}),Tt.removeNodes(t,{at:g,voids:s})}else if(x===0)Tt.moveNodes(t,{at:u,to:g,voids:s});else if(x===E-1){const D=Ne.next(g);Tt.moveNodes(t,{at:u,to:D,voids:s})}else{const D=Ne.next(u),A=Ne.next(g);Tt.splitNodes(t,{at:D,voids:s}),Tt.moveNodes(t,{at:u,to:A,voids:s})}}})},MN=(t,e)=>{if(Gt.isElement(e)){const r=e;return de.isVoid(t,e)?!0:r.children.length===1?MN(t,r.children[0]):!1}else return!de.isEditor(e)},W$=(t,e={})=>{de.withoutNormalizing(t,()=>{let{match:r,at:n=t.selection}=e;const{hanging:s=!1,voids:i=!1,mode:o="lowest"}=e;if(!n)return;if(r==null)if(Ne.isPath(n)){const[U]=de.parent(t,n);r=B=>U.children.includes(B)}else r=U=>Gt.isElement(U)&&de.isBlock(t,U);if(!s&&ft.isRange(n)&&(n=de.unhangRange(t,n,{voids:i})),ft.isRange(n))if(ft.isCollapsed(n))n=n.anchor;else{const[,U]=ft.edges(n),B=de.pointRef(t,U);Tt.delete(t,{at:n}),n=B.unref(),e.at==null&&Tt.select(t,n)}const[a]=de.nodes(t,{at:n,match:r,voids:i,mode:o}),l=de.previous(t,{at:n,match:r,voids:i,mode:o});if(!a||!l)return;const[u,d]=a,[f,g]=l;if(d.length===0||g.length===0)return;const x=Ne.next(g),E=Ne.common(d,g),D=Ne.isSibling(d,g),A=Array.from(de.levels(t,{at:d}),([U])=>U).slice(E.length).slice(0,-1),R=de.above(t,{at:d,mode:"highest",match:U=>A.includes(U)&&MN(t,U)}),P=R&&de.pathRef(t,R[1]);let O,F;if(Ot.isText(u)&&Ot.isText(f)){const{content:U,...B}=u;F=f.content.length,O=B}else if(Gt.isElement(u)&&Gt.isElement(f)){const{children:U,...B}=u;F=f.children.length,O=B}else throw new Error(`Cannot merge the node at path [${d}] with the previous sibling because it is not the same kind: ${Cs.stringify(u)} ${Cs.stringify(f)}`);D||Tt.moveNodes(t,{at:d,to:x,voids:i}),P&&Tt.removeNodes(t,{at:P.current,voids:i}),Gt.isElement(f)&&de.isEmpty(t,f)||Ot.isText(f)&&f.content===""&&g[g.length-1]!==0?Tt.removeNodes(t,{at:g,voids:i}):t.apply({type:"merge_node",path:x,position:F,properties:O}),P&&P.unref()})},$$=(t,e)=>{de.withoutNormalizing(t,()=>{const{to:r,at:n=t.selection,mode:s="lowest",voids:i=!1}=e;let{match:o}=e;if(!n)return;o==null&&(o=Ne.isPath(n)?Df(t,n):d=>Gt.isElement(d)&&de.isBlock(t,d));const a=de.pathRef(t,r),l=de.nodes(t,{at:n,match:o,mode:s,voids:i}),u=Array.from(l,([,d])=>de.pathRef(t,d));for(const d of u){const f=d.unref(),g=a.current;f.length!==0&&t.apply({type:"move_node",path:f,newPath:g}),a.current&&Ne.isSibling(g,f)&&Ne.isAfter(g,f)&&(a.current=Ne.next(a.current))}a.unref()})},K$=(t,e={})=>{de.withoutNormalizing(t,()=>{const{hanging:r=!1,voids:n=!1,mode:s="lowest"}=e;let{at:i=t.selection,match:o}=e;if(!i)return;o==null&&(o=Ne.isPath(i)?Df(t,i):u=>Gt.isElement(u)&&de.isBlock(t,u)),!r&&ft.isRange(i)&&(i=de.unhangRange(t,i,{voids:n}));const a=de.nodes(t,{at:i,match:o,mode:s,voids:n}),l=Array.from(a,([,u])=>de.pathRef(t,u));for(const u of l){const d=u.unref();if(d){const[f]=de.node(t,d);t.apply({type:"remove_node",path:d,node:f})}}})},X$=(t,e,r={})=>{de.withoutNormalizing(t,()=>{let{match:n,at:s=t.selection,compare:i,merge:o}=r;const{hanging:a=!1,mode:l="lowest",split:u=!1,voids:d=!1}=r;if(!!s){if(n==null&&(n=Ne.isPath(s)?Df(t,s):f=>Gt.isElement(f)&&de.isBlock(t,f)),!a&&ft.isRange(s)&&(s=de.unhangRange(t,s,{voids:d})),u&&ft.isRange(s)){if(ft.isCollapsed(s)&&de.leaf(t,s.anchor)[0].content.length>0)return;const f=de.rangeRef(t,s,{affinity:"inward"}),[g,x]=ft.edges(s),E=l==="lowest"?"lowest":"highest",D=de.isEnd(t,x,x.path);Tt.splitNodes(t,{at:x,match:n,mode:E,voids:d,always:!D});const A=de.isStart(t,g,g.path);Tt.splitNodes(t,{at:g,match:n,mode:E,voids:d,always:!A}),s=f.unref(),r.at==null&&Tt.select(t,s)}i||(i=(f,g)=>f!==g);for(const[f,g]of de.nodes(t,{at:s,match:n,mode:l,voids:d})){const x={},E={};if(g.length===0)continue;let D=!1;for(const A in e)A==="children"||A==="text"||i(e[A],f[A])&&(D=!0,f.hasOwnProperty(A)&&(x[A]=f[A]),o?e[A]!=null&&(E[A]=o(f[A],e[A])):e[A]!=null&&(E[A]=e[A]));D&&t.apply({type:"set_node",path:g,properties:x,newProperties:E})}}})},Y$=(t,e)=>{if(ft.isCollapsed(e))return e.anchor;{const[,r]=ft.edges(e),n=de.pointRef(t,r);return Tt.delete(t,{at:e}),n.unref()}},q$=(t,e={})=>{de.withoutNormalizing(t,()=>{const{mode:r="lowest",voids:n=!1}=e;let{match:s,at:i=t.selection,height:o=0,always:a=!1}=e;if(s==null&&(s=d=>Gt.isElement(d)&&de.isBlock(t,d)),ft.isRange(i)&&(i=Y$(t,i)),Ne.isPath(i)){const d=i,f=de.point(t,d),[g]=de.parent(t,d);s=x=>x===g,o=f.path.length-d.length+1,i=f,a=!0}if(!i)return;const l=de.pointRef(t,i,{affinity:"backward"});let u;try{const[d]=de.nodes(t,{at:i,match:s,mode:r,voids:n});if(!d)return;const f=de.void(t,{at:i,mode:"highest"}),g=0;if(!n&&f){const[R,P]=f;if(Gt.isElement(R)&&t.isInline(R)){let F=de.after(t,P);if(!F){const U={content:"",type:"text"},B=Ne.next(P);Tt.insertNodes(t,U,{at:B,voids:n}),F=de.point(t,B)}i=F,a=!0}o=i.path.length-P.length+1,a=!0}u=de.pointRef(t,i);const x=i.path.length-o,[,E]=d,D=i.path.slice(0,x);let A=o===0?i.offset:i.path[x]+g;for(const[R,P]of de.levels(t,{at:D,reverse:!0,voids:n})){let O=!1;if(P.length<E.length||P.length===0||!n&&Gt.isElement(R)&&de.isVoid(t,R))break;const F=l.current,U=de.isEnd(t,F,P);if(a||!l||!de.isEdge(t,F,P)){O=!0;const B=Ct.extractProps(R);t.apply({type:"split_node",path:P,position:A,properties:B})}A=P[P.length-1]+(O||U?1:0)}if(e.at==null){const R=u.current||de.end(t,[]);Tt.select(t,R)}}catch{debugger}finally{l.unref(),u==null||u.unref()}})},Q$=(t,e,r={})=>{Array.isArray(e)||(e=[e]);const n={};for(const s of e)n[s]=null;Tt.setNodes(t,n,r)},J$=(t,e={})=>{de.withoutNormalizing(t,()=>{const{mode:r="lowest",split:n=!1,voids:s=!1}=e;let{at:i=t.selection,match:o}=e;if(!i)return;o==null&&(o=Ne.isPath(i)?Df(t,i):d=>Gt.isElement(d)&&de.isBlock(t,d)),Ne.isPath(i)&&(i=de.range(t,i));const a=ft.isRange(i)?de.rangeRef(t,i):null,l=de.nodes(t,{at:i,match:o,mode:r,voids:s}),u=Array.from(l,([,d])=>de.pathRef(t,d)).reverse();for(const d of u){const f=d.unref(),[g]=de.node(t,f);let x=de.range(t,f);n&&a&&(x=ft.intersection(a.current,x)),Tt.liftNodes(t,{at:x,match:E=>Gt.isAncestor(g)&&g.children.includes(E),voids:s})}a&&a.unref()})},Z$=(t,e,r={})=>{de.withoutNormalizing(t,()=>{const{mode:n="lowest",split:s=!1,voids:i=!1}=r;let{match:o,at:a=t.selection}=r;if(!a)return;if(o==null&&(Ne.isPath(a)?o=Df(t,a):t.isInline(e)?o=u=>Gt.isElement(u)&&de.isInline(t,u)||Ot.isText(u):o=u=>Gt.isElement(u)&&de.isBlock(t,u)),s&&ft.isRange(a)){const[u,d]=ft.edges(a),f=de.rangeRef(t,a,{affinity:"inward"});Tt.splitNodes(t,{at:d,match:o,voids:i}),Tt.splitNodes(t,{at:u,match:o,voids:i}),a=f.unref(),r.at==null&&Tt.select(t,a)}const l=Array.from(de.nodes(t,{at:a,match:t.isInline(e)?u=>Gt.isElement(u)&&de.isBlock(t,u):u=>de.isEditor(u),mode:"lowest",voids:i}));for(const[,u]of l){const d=ft.isRange(a)?ft.intersection(a,de.range(t,u)):a;if(!d)continue;const f=Array.from(de.nodes(t,{at:d,match:o,mode:n,voids:i}));if(f.length>0){const[g]=f,x=f[f.length-1],[,E]=g,[,D]=x;if(E.length===0&&D.length===0)continue;const A=Ne.equals(E,D)?Ne.parent(E):Ne.common(E,D),R=de.range(t,E,D),P=de.node(t,A),[O]=P,F=A.length+1,U=Ne.next(D.slice(0,F)),B={...e,children:[]};Tt.insertNodes(t,B,{at:U,voids:i}),Tt.moveNodes(t,{at:R,match:N=>Gt.isAncestor(O)&&O.children.includes(N),to:U.concat(0),voids:i})}}})},eK=t=>{const{root:e,el:r}=t,n={_newOnlyBrand:void 0,el:r,root:e,get children(){return e.children},operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},isEditor:()=>!0,get removeChildAt(){return Reflect.get(this.root,"removeChildAt").bind(this.root)},get insertChildAt(){return Reflect.get(this.root,"insertChildAt").bind(this.root)},get appendChildren(){return Reflect.get(this.root,"appendChildren").bind(this.root)},get setChildren(){return Reflect.get(this.root,"setChildren").bind(this.root)},get insertAfter(){return Reflect.get(this.root,"insertAfter").bind(this.root)},apply:(...s)=>RW(n,...s),addMark:(...s)=>MW(n,...s),deleteBackward:(...s)=>GW(n,...s),deleteForward:(...s)=>HW(n,...s),deleteFragment:(...s)=>jW(n,...s),getFragment:(...s)=>BW(n,...s),insertBreak:(...s)=>ZW(n,...s),insertSoftBreak:(...s)=>t$(n,...s),insertFragment:(...s)=>I$(n,...s),insertNode:(...s)=>e$(n,...s),insertText:(...s)=>r$(n,...s),normalizeNode:(...s)=>NW(n,...s),removeMark:(...s)=>P$(n,...s),getDirtyPaths:(...s)=>OW(n,...s),shouldNormalize:(...s)=>FW(n,...s),above:(...s)=>IW(n,...s),after:(...s)=>LW(n,...s),before:(...s)=>UW(n,...s),collapse:(...s)=>M$(n,...s),delete:(...s)=>F$(n,...s),deselect:(...s)=>L$(n,...s),edges:(...s)=>VW(n,...s),elementReadOnly:(...s)=>zW(n,...s),end:(...s)=>WW(n,...s),first:(...s)=>$W(n,...s),fragment:(...s)=>KW(n,...s),getMarks:(...s)=>d$(n,...s),hasBlocks:(...s)=>YW(n,...s),hasInlines:(...s)=>qW(n,...s),hasPath:(...s)=>QW(n,...s),hasTexts:(...s)=>JW(n,...s),insertNodes:(...s)=>V$(n,...s),isBlock:(...s)=>n$(n,...s),isEdge:(...s)=>i$(n,...s),isEmpty:(...s)=>s$(n,...s),isEnd:(...s)=>o$(n,...s),isNormalizing:(...s)=>a$(n,...s),isStart:(...s)=>l$(n,...s),last:(...s)=>u$(n,...s),leaf:(...s)=>c$(n,...s),levels:(...s)=>h$(n,...s),liftNodes:(...s)=>z$(n,...s),mergeNodes:(...s)=>W$(n,...s),move:(...s)=>U$(n,...s),moveNodes:(...s)=>$$(n,...s),next:(...s)=>f$(n,...s),node:(...s)=>_$(n,...s),nodes:(...s)=>p$(n,...s),normalize:(...s)=>g$(n,...s),parent:(...s)=>m$(n,...s),path:(...s)=>v$(n,...s),pathRef:(...s)=>x$(n,...s),pathRefs:(...s)=>y$(n,...s),point:(...s)=>w$(n,...s),pointRef:(...s)=>E$(n,...s),pointRefs:(...s)=>A$(n,...s),positions:(...s)=>S$(n,...s),previous:(...s)=>b$(n,...s),range:(...s)=>C$(n,...s),rangeRef:(...s)=>k$(n,...s),rangeRefs:(...s)=>T$(n,...s),removeNodes:(...s)=>K$(n,...s),select:(...s)=>G$(n,...s),setNodes:(...s)=>X$(n,...s),setNormalizing:(...s)=>D$(n,...s),setPoint:(...s)=>H$(n,...s),setSelection:(...s)=>j$(n,...s),splitNodes:(...s)=>q$(n,...s),start:(...s)=>R$(n,...s),string:(...s)=>O$(n,...s),unhangRange:(...s)=>B$(n,...s),unsetNodes:(...s)=>Q$(n,...s),unwrapNodes:(...s)=>J$(n,...s),void:(...s)=>XW(n,...s),withoutNormalizing:(...s)=>N$(n,...s),wrapNodes:(...s)=>Z$(n,...s)};return n};function tK(t,e,r,n){return rK(t,e,r,n)}const Eo=-1,lv=0,qa=1;function rK(t,e,r,n){if(Q(t),Q(r),!t)return Eo;if(!r)return qa;if(t==r)return nK(e,n);{let u=fm(r,t);if(u)return mD(e,vn.PreviousSibling(u),Eo)}{let u=fm(t,r);if(u)return-mD(n,vn.PreviousSibling(u),Eo)}let s=vn.CommonAncestor(t,r);if(!s)return lv;const i=fm(t,s),o=i||vn.LastChild(s),a=fm(r,s),l=a||vn.LastChild(s);return iK(o,l)}function nK(t,e,r=lv){return t==e?r:t<e?Eo:qa}function mD(t,e,r=lv){if(!e)return t?qa:r;if(!t)return Eo;let n=e,s=1;for(let i of vn.ChildrenOf(Os(vn.Parent(n)))){if(t==s)return i==n?r:Eo;if(i==n)return qa;++s}return gt(),r}function iK(t,e,r=lv){if(t==e)return r;if(!t)return Eo;if(!e)return qa;er(vn.Parent(t),vn.Parent(e));let n=t,s=t,i=e,o=e;for(;;){if(n=vn.PreviousSibling(n),!n)return Eo;if(n==o||(s=vn.NextSibling(s),!s))return qa;if(s==i)return Eo;if(i=vn.PreviousSibling(i),!i)return qa;if(s==i||(o=vn.NextSibling(o),!o))return Eo;if(n==o)return qa}return gt(),r}function fm(t,e){let r=t;for(let n of vn.AncestorsOf(t)){if(n==e)return r;r=n}}class sK{}var tx=(t=>(t[t.kNoError=0]="kNoError",t[t.kLegacyErrorCodeMin=1]="kLegacyErrorCodeMin",t[t.kIndexSizeError=1]="kIndexSizeError",t[t.kHierarchyRequestError=3]="kHierarchyRequestError",t[t.kWrongDocumentError=4]="kWrongDocumentError",t[t.kInvalidCharacterError=5]="kInvalidCharacterError",t[t.kNoModificationAllowedError=7]="kNoModificationAllowedError",t[t.kNotFoundError=8]="kNotFoundError",t[t.kNotSupportedError=9]="kNotSupportedError",t[t.kInUseAttributeError=10]="kInUseAttributeError",t[t.kInvalidStateError=11]="kInvalidStateError",t[t.kSyntaxError=12]="kSyntaxError",t[t.kInvalidModificationError=13]="kInvalidModificationError",t[t.kNamespaceError=14]="kNamespaceError",t[t.kInvalidAccessError=15]="kInvalidAccessError",t[t.kTypeMismatchError=17]="kTypeMismatchError",t[t.kSecurityError=18]="kSecurityError",t[t.kNetworkError=19]="kNetworkError",t[t.kAbortError=20]="kAbortError",t[t.kURLMismatchError=21]="kURLMismatchError",t[t.kQuotaExceededError=22]="kQuotaExceededError",t[t.kTimeoutError=23]="kTimeoutError",t[t.kInvalidNodeTypeError=24]="kInvalidNodeTypeError",t[t.kDataCloneError=25]="kDataCloneError",t[t.kLegacyErrorCodeMax=25]="kLegacyErrorCodeMax",t[t.kEncodingError=26]="kEncodingError",t[t.kNotReadableError=27]="kNotReadableError",t[t.kUnknownError=28]="kUnknownError",t[t.kConstraintError=29]="kConstraintError",t[t.kDataError=30]="kDataError",t[t.kTransactionInactiveError=31]="kTransactionInactiveError",t[t.kReadOnlyError=32]="kReadOnlyError",t[t.kVersionError=33]="kVersionError",t[t.kOperationError=34]="kOperationError",t[t.kNotAllowedError=35]="kNotAllowedError",t[t.kPathExistsError=36]="kPathExistsError",t[t.kPermissionDeniedError=37]="kPermissionDeniedError",t[t.kBreakError=38]="kBreakError",t[t.kBufferOverrunError=39]="kBufferOverrunError",t[t.kFramingError=40]="kFramingError",t[t.kParityError=41]="kParityError",t[t.kWebTransportError=42]="kWebTransportError",t[t.kNumOfCodes=43]="kNumOfCodes",t))(tx||{});class _y{constructor(e){c(this,"container_node_");c(this,"child_before_boundary_");c(this,"offset_in_container_");this.container_node_=e,this.offset_in_container_=0}Container(){return this.container_node_}Offset(){return this.offset_in_container_}ChildBefore(){return this.child_before_boundary_}Set(e,r,n){hs(r,0),this.container_node_=e,this.offset_in_container_=r,this.child_before_boundary_=n}SetOffset(e){Q(this.container_node_),hs(this.offset_in_container_,0),Q(!this.child_before_boundary_),this.offset_in_container_=e}EQ(e){return this.child_before_boundary_===e.child_before_boundary_&&this.container_node_===e.container_node_&&this.offset_in_container_===e.offset_in_container_}CLONE(){let e=new _y(this.container_node_);return e.child_before_boundary_=this.child_before_boundary_,e.offset_in_container_=this.offset_in_container_,e}}class b0 extends sK{constructor(r,n,s,i,o){super();c(this,"start_");c(this,"end_");this.start_=new _y(r),this.end_=new _y(r),this.setStart(n,s),this.setEnd(i,o)}static createFromDoc(r){return new b0(r,r,0,r,0)}get collapsed(){return this.start_.EQ(this.end_)}get endContainer(){return this.end_.Container()}get endOffset(){return this.end_.Offset()}get startContainer(){return this.start_.Container()}get startOffset(){return this.start_.Offset()}setStart(r,n){Q(r);let s=this.CheckNodeWOffset(r,n);this.start_.Set(r,n,s)}setEnd(r,n){let s=this.CheckNodeWOffset(r,n);this.end_.Set(r,n,s)}collapse(r){r?this.end_=this.start_.CLONE():this.start_=this.end_.CLONE()}CheckNodeWOffset(r,n){switch(r.getNodeType()){case wo.kCommentNode:case wo.kTextNode:if(n>Os(r.AsCharacterData()).length()){debugger;throw new Ym("The offset "+n+" is larger than the node's length ("+Os(r.AsCharacterData()).length()+").",tx.kIndexSizeError)}else if(n>Number.MAX_SAFE_INTEGER)throw new Ym("The offset "+n+" is invalid.",tx.kIndexSizeError);return;case wo.kDocumentNode:case wo.kElementNode:{if(!n)return;if(n>Number.MAX_SAFE_INTEGER)throw new Ym("The offset "+n+" is invalid.",tx.kIndexSizeError);let s=vn.ChildAt(r,n-1);return s||gt(),s}}gt()}compareBoundaryPointInstances(r,n){return this.compareBoundaryPointsValues(r.Container(),r.Offset(),n.Container(),n.Offset())}compareBoundaryPointsValues(r,n,s,i){return tK(r,n,s,i)}}var rx=(t=>(t.None="None",t.Caret="Caret",t.Range="Range",t))(rx||{});class LN extends Kt{constructor(r){super();c(this,"_onDidChange",this._register(new Mt));c(this,"_doc");c(this,"ranges",[]);this._doc=r}get onDidChange(){return this._onDidChange.event}get anchorNode(){return this.ranges.length?this.ranges[0].startContainer:null}get anchorOffset(){return this.ranges.length?this.ranges[0].startOffset:0}get focusNode(){return this.ranges.length?this.ranges[0].endContainer:null}get focusOffset(){return this.ranges.length?this.ranges[0].endOffset:0}get type(){return this.ranges.length?this.ranges[0].collapsed?"Caret":"Range":"None"}get isCollapsed(){return this.ranges.length?this.ranges[0].collapsed:!1}get rangeCount(){return this.ranges.length}addRange(r){this.ranges.length=0,this.ranges.push(r),this._onDidChange.fire()}getRangeAt(r=0){return this.ranges.length?this.ranges[0]:null}removeAllRanges(){this.ranges.length=0,this._onDidChange.fire()}extend(r,n=0){return $e()}collapse(r,n=0){if(!r){this.removeAllRanges();return}if(b0.prototype.CheckNodeWOffset(r,n),!this.IsValidForPosition(r))return;let s=b0.createFromDoc(this._doc);s.setStart(r,n),s.setEnd(r,n),this.addRange(s)}IsValidForPosition(r){return r?r.GetDocument()===this._doc&&r.isConnected():!0}}const oK=t=>UN(t)&&t.nodeType===8,Jd=t=>UN(t)&&t.nodeType===1,UN=t=>t instanceof $S,xD=t=>t instanceof LN,aK=t=>{let[e,r]=t;if(Jd(e)&&e.childNodes.length){let n=r===e.childNodes.length,s=n?r-1:r;for([e,s]=GN(e,s,n?"backward":"forward"),n=s<r;Jd(e)&&e.childNodes.length;){const i=n?e.childNodes.length-1:0;e=lK(e,i,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},GN=(t,e,r)=>{const{childNodes:n}=t;let s=n[e],i=e,o=!1,a=!1;for(;(oK(s)||Jd(s)&&s.childNodes.length===0||Jd(s)&&s.getAttribute("contenteditable")==="false")&&!(o&&a);){if(i>=n.length){o=!0,i=e-1,r="backward";continue}if(i<0){a=!0,i=e+1,r="forward";continue}s=n[i],e=i,i+=r==="forward"?1:-1}return[s,e]},lK=(t,e,r)=>{const[n]=GN(t,e,r);return n};class uK{constructor(e,...r){c(this,"state");this.canvas=e,this.state=eK(...r)}get el(){return this.state.el}get root(){return this.state.root}get selection(){return this.state.selection}toSlateRange(e,r){const{state:n}=this,{exactMatch:s,suppressThrow:i}=r,o=xD(e)?e.anchorNode:e.startContainer;let a,l,u,d,f;if(o&&(xD(e)?(e.rangeCount>1&&$e(),a=e.anchorNode,l=e.anchorOffset,u=e.focusNode,d=e.focusOffset,f=e.isCollapsed):(a=e.startContainer,l=e.startOffset,u=e.endContainer,d=e.endOffset,f=e.collapsed)),a==null||u==null||l==null||d==null)throw new Error(`Cannot resolve a Slate range from DOM range: ${e}`);const g=this.toSlatePoint([a,l],{exactMatch:s,suppressThrow:i});if(!g)return null;const x=f?g:this.toSlatePoint([u,d],{exactMatch:s,suppressThrow:i});if(!x)return null;let E={anchor:g,focus:x};return ft.isExpanded(E)&&ft.isForward(E)&&Jd(u)&&de.void(n,{at:E.focus,mode:"highest"})&&(E=de.unhangRange(n,E,{voids:!0})),E}toSlatePoint(e,r){const{exactMatch:n,suppressThrow:s}=r,[i,o]=n?e:aK(e),a=i.parentNode;let l=null,u=0;if(Q(a.firstChild===i),Q(a.tagName===uu.kTagName),u=o,l=a,!l){if(s)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}const d=this.toSlateNode(l);if(!d){if(s)return null;throw new Error(`Cannot resolve a Slate point from DOM point: ${e}`)}return{path:this.findPath(d),offset:u}}toSlateNode(e){let r=Jd(e)?e:e.parentElement;Q(r);const n=r.getAttribute("id");Q(n);const s=VS(r),i=this.canvas.getScopedModel(s).getNodeById(n);return i&&Q(i&&(i.isBlock()||i.isText())),i}toNode(e){const r=e.slice();let n=this.state.root;return r.forEach(s=>{Q(!Ot.isText(n)),n=n.children[s],Q(n)}),Q(n),n}findPath(e){const{state:r}=this,n=[];let s=e;const i=this.canvas.model;for(;;){if(s.id===r.root.id)return n;const o=i.getParentNodeOfId(s.id);Q(o&&o.isBlock());const l=i.getChildrenNodesOfId(o.id).findIndex(u=>u.id===s.id);Q(l>-1),n.unshift(l),s=o}gt()}}const Zk=class{constructor(){c(this,"_zoomLevel",0);c(this,"_zoomFactor",1);c(this,"_fullscreen",!1);c(this,"_onDidChangeFullscreen",new Mt);c(this,"onDidChangeFullscreen",this._onDidChangeFullscreen.event)}getZoomLevel(){return this._zoomLevel}setZoomLevel(e,r){this._zoomLevel!==e&&(this._zoomLevel=e)}getZoomFactor(){return this._zoomFactor}setZoomFactor(e){this._zoomFactor=e}setFullscreen(e){this._fullscreen!==e&&(this._fullscreen=e,this._onDidChangeFullscreen.fire())}isFullscreen(){return this._fullscreen}};let pa=Zk;c(pa,"INSTANCE",new Zk);class cK extends Kt{constructor(){super();c(this,"_onDidChange",this._register(new Mt));c(this,"onDidChange",this._onDidChange.event);c(this,"_listener");c(this,"_mediaQueryList");this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(r){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),r&&this._onDidChange.fire()}}class hK extends Kt{constructor(){super();c(this,"_onDidChange",this._register(new Mt));c(this,"onDidChange",this._onDidChange.event);c(this,"_value");this._value=this._getPixelRatio();const r=this._register(new cK);this._register(r.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const r=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,s=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return n/s}}class dK{constructor(){c(this,"_pixelRatioMonitor",null)}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=oM(new hK)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function fK(t,e){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",e)}const _K=new dK;function pK(t,e){pa.INSTANCE.setZoomLevel(t,e)}function gK(){return pa.INSTANCE.getZoomLevel()}function mK(){return pa.INSTANCE.getZoomFactor()}function xK(t){pa.INSTANCE.setZoomFactor(t)}function yK(t){pa.INSTANCE.setFullscreen(t)}function vK(){return pa.INSTANCE.isFullscreen()}const EK=pa.INSTANCE.onDidChangeFullscreen,Iu=navigator.userAgent,HN=Iu.indexOf("Trident")>=0,Ub=Iu.indexOf("Edge/")>=0,AK=HN||Ub,py=Iu.indexOf("Firefox")>=0,jN=Iu.indexOf("AppleWebKit")>=0,Gb=Iu.indexOf("Chrome")>=0,Hb=!Gb&&Iu.indexOf("Safari")>=0,wK=!Gb&&!Hb&&jN,SK=Iu.indexOf("Electron/")>=0,bK=Iu.indexOf("Android")>=0,kK=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,TK=Object.freeze(Object.defineProperty({__proto__:null,addMatchMediaChangeListener:fK,PixelRatio:_K,setZoomLevel:pK,getZoomLevel:gK,getZoomFactor:mK,setZoomFactor:xK,setFullscreen:yK,isFullscreen:vK,onDidChangeFullscreen:EK,isIE:HN,isEdge:Ub,isEdgeOrIE:AK,isFirefox:py,isWebKit:jN,isChrome:Gb,isSafari:Hb,isWebkitWebView:wK,isElectron:SK,isAndroid:bK,isStandalone:kK},Symbol.toStringTag,{value:"Module"})),zp=class{constructor(e,r,n,s,i){this.value=e,this.selectionStart=r,this.selectionEnd=n,this.selection=s,this.newlineCountBeforeSelection=i}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(e,r){const n=e.getValue(),s=e.getSelectionStart(),i=e.getSelectionEnd();let o;if(r){const a=n.substring(0,s),l=r.value.substring(0,r.selectionStart);a===l&&(o=r.newlineCountBeforeSelection)}return new zp(n,s,i,null,o)}collapseSelection(){return this.selectionStart===this.value.length?this:new zp(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(e,r,n){r.setValue(e,this.value),n&&r.setSelectionRange(e,this.selectionStart,this.selectionEnd)}static deduceInput(e,r,n){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const s=Math.min(mT(e.value,r.value),e.selectionStart,r.selectionStart),i=Math.min(xT(e.value,r.value),e.value.length-e.selectionEnd,r.value.length-r.selectionEnd);e.value.substring(s,e.value.length-i);const o=r.value.substring(s,r.value.length-i),a=e.selectionStart-s,l=e.selectionEnd-s,u=r.selectionStart-s,d=r.selectionEnd-s;if(u===d){const g=e.selectionStart-s;return{text:o,replacePrevCharCnt:g,replaceNextCharCnt:0,positionDelta:0}}const f=l-a;return{text:o,replacePrevCharCnt:f,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,r){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===r.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:r.selectionEnd-e.selectionEnd};const n=Math.min(mT(e.value,r.value),e.selectionEnd),s=Math.min(xT(e.value,r.value),e.value.length-e.selectionEnd),i=e.value.substring(n,e.value.length-s),o=r.value.substring(n,r.value.length-s);e.selectionStart-n;const a=e.selectionEnd-n;r.selectionStart-n;const l=r.selectionEnd-n;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:i.length-a,positionDelta:l-o.length}}};let ks=zp;c(ks,"EMPTY",new zp("",0,0,null,void 0));var fc;(t=>{const e={total:0,min:Number.MAX_VALUE,max:0},r={...e},n={...e},s={...e};let i=0,o;(T=>{T[T.Before=0]="Before",T[T.InProgress=1]="InProgress",T[T.Finished=2]="Finished"})(o||(o={}));const a={keydown:0,input:0,render:0};function l(){P(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),a.keydown=1,queueMicrotask(u)}t.onKeyDown=l;function u(){a.keydown===1&&(performance.mark("keydown/end"),a.keydown=2)}function d(){performance.mark("input/start"),a.input=1,R()}t.onBeforeInput=d;function f(){a.input===0&&d(),queueMicrotask(g)}t.onInput=f;function g(){a.input===1&&(performance.mark("input/end"),a.input=2)}function x(){P()}t.onKeyUp=x;function E(){P()}t.onSelectionChange=E;function D(){a.keydown===2&&a.input===2&&a.render===0&&(performance.mark("render/start"),a.render=1,queueMicrotask(A),R())}t.onRenderStart=D;function A(){a.render===1&&(performance.mark("render/end"),a.render=2)}function R(){setTimeout(P)}function P(){a.keydown===2&&a.input===2&&a.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),O("keydown",e),O("input",r),O("render",n),O("inputlatency",s),i++,F())}function O(T,M){const $=performance.getEntriesByName(T)[0].duration;M.total+=$,M.min=Math.min(M.min,$),M.max=Math.max(M.max,$)}function F(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),a.keydown=0,a.input=0,a.render=0}function U(){if(i===0)return;const T={keydown:B(e),input:B(r),render:B(n),total:B(s),sampleCount:i};return N(e),N(r),N(n),N(s),i=0,T}t.getAndClearMeasurements=U;function B(T){return{average:T.total/i,max:T.max,min:T.min}}function N(T){T.total=0,T.min=Number.MAX_VALUE,T.max=0}})(fc||(fc={}));let Ac;if(typeof Pn.vscode<"u"&&typeof Pn.vscode.process<"u"){const t=Pn.vscode.process;Ac={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"?Ac={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:Ac={get platform(){return M0?"win32":L0?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const gw=Ac.cwd,CK=Ac.env,Vs=Ac.platform;Ac.arch;const PK=65,DK=97,RK=90,OK=122,cu=46,Gn=47,os=92,zl=58,BK=63;class VN extends Error{constructor(r,n,s){let i;typeof n=="string"&&n.indexOf("not ")===0?(i="must not be",n=n.replace(/^not /,"")):i="must be";const o=r.indexOf(".")!==-1?"property":"argument";let a=`The "${r}" ${o} ${i} of type ${n}`;a+=`. Received type ${typeof s}`;super(a);c(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function on(t,e){if(typeof t!="string")throw new VN(e,"string",t)}function Zt(t){return t===Gn||t===os}function mw(t){return t===Gn}function Wl(t){return t>=PK&&t<=RK||t>=DK&&t<=OK}function gy(t,e,r,n){let s="",i=0,o=-1,a=0,l=0;for(let u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(n(l))break;l=Gn}if(n(l)){if(!(o===u-1||a===1))if(a===2){if(s.length<2||i!==2||s.charCodeAt(s.length-1)!==cu||s.charCodeAt(s.length-2)!==cu){if(s.length>2){const d=s.lastIndexOf(r);d===-1?(s="",i=0):(s=s.slice(0,d),i=s.length-1-s.lastIndexOf(r)),o=u,a=0;continue}else if(s.length!==0){s="",i=0,o=u,a=0;continue}}e&&(s+=s.length>0?`${r}..`:"..",i=2)}else s.length>0?s+=`${r}${t.slice(o+1,u)}`:s=t.slice(o+1,u),i=u-o-1;o=u,a=0}else l===cu&&a!==-1?++a:a=-1}return s}function zN(t,e){if(e===null||typeof e!="object")throw new VN("pathObject","Object",e);const r=e.dir||e.root,n=e.base||`${e.name||""}${e.ext||""}`;return r?r===e.root?`${r}${n}`:`${r}${t}${n}`:n}const An={resolve(...t){let e="",r="",n=!1;for(let s=t.length-1;s>=-1;s--){let i;if(s>=0){if(i=t[s],on(i,"path"),i.length===0)continue}else e.length===0?i=gw():(i=CK[`=${e}`]||gw(),(i===void 0||i.slice(0,2).toLowerCase()!==e.toLowerCase()&&i.charCodeAt(2)===os)&&(i=`${e}\\`));const o=i.length;let a=0,l="",u=!1;const d=i.charCodeAt(0);if(o===1)Zt(d)&&(a=1,u=!0);else if(Zt(d))if(u=!0,Zt(i.charCodeAt(1))){let f=2,g=f;for(;f<o&&!Zt(i.charCodeAt(f));)f++;if(f<o&&f!==g){const x=i.slice(g,f);for(g=f;f<o&&Zt(i.charCodeAt(f));)f++;if(f<o&&f!==g){for(g=f;f<o&&!Zt(i.charCodeAt(f));)f++;(f===o||f!==g)&&(l=`\\\\${x}\\${i.slice(g,f)}`,a=f)}}}else a=1;else Wl(d)&&i.charCodeAt(1)===zl&&(l=i.slice(0,2),a=2,o>2&&Zt(i.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(n){if(e.length>0)break}else if(r=`${i.slice(a)}\\${r}`,n=u,u&&e.length>0)break}return r=gy(r,!n,"\\",Zt),n?`${e}\\${r}`:`${e}${r}`||"."},normalize(t){on(t,"path");const e=t.length;if(e===0)return".";let r=0,n,s=!1;const i=t.charCodeAt(0);if(e===1)return mw(i)?"\\":t;if(Zt(i))if(s=!0,Zt(t.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Zt(t.charCodeAt(a));)a++;if(a<e&&a!==l){const u=t.slice(l,a);for(l=a;a<e&&Zt(t.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Zt(t.charCodeAt(a));)a++;if(a===e)return`\\\\${u}\\${t.slice(l)}\\`;a!==l&&(n=`\\\\${u}\\${t.slice(l,a)}`,r=a)}}}else r=1;else Wl(i)&&t.charCodeAt(1)===zl&&(n=t.slice(0,2),r=2,e>2&&Zt(t.charCodeAt(2))&&(s=!0,r=3));let o=r<e?gy(t.slice(r),!s,"\\",Zt):"";return o.length===0&&!s&&(o="."),o.length>0&&Zt(t.charCodeAt(e-1))&&(o+="\\"),n===void 0?s?`\\${o}`:o:s?`${n}\\${o}`:`${n}${o}`},isAbsolute(t){on(t,"path");const e=t.length;if(e===0)return!1;const r=t.charCodeAt(0);return Zt(r)||e>2&&Wl(r)&&t.charCodeAt(1)===zl&&Zt(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let e,r;for(let i=0;i<t.length;++i){const o=t[i];on(o,"path"),o.length>0&&(e===void 0?e=r=o:e+=`\\${o}`)}if(e===void 0)return".";let n=!0,s=0;if(typeof r=="string"&&Zt(r.charCodeAt(0))){++s;const i=r.length;i>1&&Zt(r.charCodeAt(1))&&(++s,i>2&&(Zt(r.charCodeAt(2))?++s:n=!1))}if(n){for(;s<e.length&&Zt(e.charCodeAt(s));)s++;s>=2&&(e=`\\${e.slice(s)}`)}return An.normalize(e)},relative(t,e){if(on(t,"from"),on(e,"to"),t===e)return"";const r=An.resolve(t),n=An.resolve(e);if(r===n||(t=r.toLowerCase(),e=n.toLowerCase(),t===e))return"";let s=0;for(;s<t.length&&t.charCodeAt(s)===os;)s++;let i=t.length;for(;i-1>s&&t.charCodeAt(i-1)===os;)i--;const o=i-s;let a=0;for(;a<e.length&&e.charCodeAt(a)===os;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===os;)l--;const u=l-a,d=o<u?o:u;let f=-1,g=0;for(;g<d;g++){const E=t.charCodeAt(s+g);if(E!==e.charCodeAt(a+g))break;E===os&&(f=g)}if(g!==d){if(f===-1)return n}else{if(u>d){if(e.charCodeAt(a+g)===os)return n.slice(a+g+1);if(g===2)return n.slice(a+g)}o>d&&(t.charCodeAt(s+g)===os?f=g:g===2&&(f=3)),f===-1&&(f=0)}let x="";for(g=s+f+1;g<=i;++g)(g===i||t.charCodeAt(g)===os)&&(x+=x.length===0?"..":"\\..");return a+=f,x.length>0?`${x}${n.slice(a,l)}`:(n.charCodeAt(a)===os&&++a,n.slice(a,l))},toNamespacedPath(t){if(typeof t!="string")return t;if(t.length===0)return"";const e=An.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===os){if(e.charCodeAt(1)===os){const r=e.charCodeAt(2);if(r!==BK&&r!==cu)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Wl(e.charCodeAt(0))&&e.charCodeAt(1)===zl&&e.charCodeAt(2)===os)return`\\\\?\\${e}`;return t},dirname(t){on(t,"path");const e=t.length;if(e===0)return".";let r=-1,n=0;const s=t.charCodeAt(0);if(e===1)return Zt(s)?t:".";if(Zt(s)){if(r=n=1,Zt(t.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Zt(t.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&Zt(t.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Zt(t.charCodeAt(a));)a++;if(a===e)return t;a!==l&&(r=n=a+1)}}}}else Wl(s)&&t.charCodeAt(1)===zl&&(r=e>2&&Zt(t.charCodeAt(2))?3:2,n=r);let i=-1,o=!0;for(let a=e-1;a>=n;--a)if(Zt(t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;if(i===-1){if(r===-1)return".";i=r}return t.slice(0,i)},basename(t,e){e!==void 0&&on(e,"ext"),on(t,"path");let r=0,n=-1,s=!0,i;if(t.length>=2&&Wl(t.charCodeAt(0))&&t.charCodeAt(1)===zl&&(r=2),e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,a=-1;for(i=t.length-1;i>=r;--i){const l=t.charCodeAt(i);if(Zt(l)){if(!s){r=i+1;break}}else a===-1&&(s=!1,a=i+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=i):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(i=t.length-1;i>=r;--i)if(Zt(t.charCodeAt(i))){if(!s){r=i+1;break}}else n===-1&&(s=!1,n=i+1);return n===-1?"":t.slice(r,n)},extname(t){on(t,"path");let e=0,r=-1,n=0,s=-1,i=!0,o=0;t.length>=2&&t.charCodeAt(1)===zl&&Wl(t.charCodeAt(0))&&(e=n=2);for(let a=t.length-1;a>=e;--a){const l=t.charCodeAt(a);if(Zt(l)){if(!i){n=a+1;break}continue}s===-1&&(i=!1,s=a+1),l===cu?r===-1?r=a:o!==1&&(o=1):r!==-1&&(o=-1)}return r===-1||s===-1||o===0||o===1&&r===s-1&&r===n+1?"":t.slice(r,s)},format:zN.bind(null,"\\"),parse(t){on(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;const r=t.length;let n=0,s=t.charCodeAt(0);if(r===1)return Zt(s)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(Zt(s)){if(n=1,Zt(t.charCodeAt(1))){let f=2,g=f;for(;f<r&&!Zt(t.charCodeAt(f));)f++;if(f<r&&f!==g){for(g=f;f<r&&Zt(t.charCodeAt(f));)f++;if(f<r&&f!==g){for(g=f;f<r&&!Zt(t.charCodeAt(f));)f++;f===r?n=f:f!==g&&(n=f+1)}}}}else if(Wl(s)&&t.charCodeAt(1)===zl){if(r<=2)return e.root=e.dir=t,e;if(n=2,Zt(t.charCodeAt(2))){if(r===3)return e.root=e.dir=t,e;n=3}}n>0&&(e.root=t.slice(0,n));let i=-1,o=n,a=-1,l=!0,u=t.length-1,d=0;for(;u>=n;--u){if(s=t.charCodeAt(u),Zt(s)){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),s===cu?i===-1?i=u:d!==1&&(d=1):i!==-1&&(d=-1)}return a!==-1&&(i===-1||d===0||d===1&&i===a-1&&i===o+1?e.base=e.name=t.slice(o,a):(e.name=t.slice(o,i),e.base=t.slice(o,a),e.ext=t.slice(i,a))),o>0&&o!==n?e.dir=t.slice(0,o-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},On={resolve(...t){let e="",r=!1;for(let n=t.length-1;n>=-1&&!r;n--){const s=n>=0?t[n]:gw();on(s,"path"),s.length!==0&&(e=`${s}/${e}`,r=s.charCodeAt(0)===Gn)}return e=gy(e,!r,"/",mw),r?`/${e}`:e.length>0?e:"."},normalize(t){if(on(t,"path"),t.length===0)return".";const e=t.charCodeAt(0)===Gn,r=t.charCodeAt(t.length-1)===Gn;return t=gy(t,!e,"/",mw),t.length===0?e?"/":r?"./":".":(r&&(t+="/"),e?`/${t}`:t)},isAbsolute(t){return on(t,"path"),t.length>0&&t.charCodeAt(0)===Gn},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];on(n,"path"),n.length>0&&(e===void 0?e=n:e+=`/${n}`)}return e===void 0?".":On.normalize(e)},relative(t,e){if(on(t,"from"),on(e,"to"),t===e||(t=On.resolve(t),e=On.resolve(e),t===e))return"";const r=1,n=t.length,s=n-r,i=1,o=e.length-i,a=s<o?s:o;let l=-1,u=0;for(;u<a;u++){const f=t.charCodeAt(r+u);if(f!==e.charCodeAt(i+u))break;f===Gn&&(l=u)}if(u===a)if(o>a){if(e.charCodeAt(i+u)===Gn)return e.slice(i+u+1);if(u===0)return e.slice(i+u)}else s>a&&(t.charCodeAt(r+u)===Gn?l=u:u===0&&(l=0));let d="";for(u=r+l+1;u<=n;++u)(u===n||t.charCodeAt(u)===Gn)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(i+l)}`},toNamespacedPath(t){return t},dirname(t){if(on(t,"path"),t.length===0)return".";const e=t.charCodeAt(0)===Gn;let r=-1,n=!0;for(let s=t.length-1;s>=1;--s)if(t.charCodeAt(s)===Gn){if(!n){r=s;break}}else n=!1;return r===-1?e?"/":".":e&&r===1?"//":t.slice(0,r)},basename(t,e){e!==void 0&&on(e,"ext"),on(t,"path");let r=0,n=-1,s=!0,i;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,a=-1;for(i=t.length-1;i>=0;--i){const l=t.charCodeAt(i);if(l===Gn){if(!s){r=i+1;break}}else a===-1&&(s=!1,a=i+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=i):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(i=t.length-1;i>=0;--i)if(t.charCodeAt(i)===Gn){if(!s){r=i+1;break}}else n===-1&&(s=!1,n=i+1);return n===-1?"":t.slice(r,n)},extname(t){on(t,"path");let e=-1,r=0,n=-1,s=!0,i=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===Gn){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),a===cu?e===-1?e=o:i!==1&&(i=1):e!==-1&&(i=-1)}return e===-1||n===-1||i===0||i===1&&e===n-1&&e===r+1?"":t.slice(e,n)},format:zN.bind(null,"/"),parse(t){on(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;const r=t.charCodeAt(0)===Gn;let n;r?(e.root="/",n=1):n=0;let s=-1,i=0,o=-1,a=!0,l=t.length-1,u=0;for(;l>=n;--l){const d=t.charCodeAt(l);if(d===Gn){if(!a){i=l+1;break}continue}o===-1&&(a=!1,o=l+1),d===cu?s===-1?s=l:u!==1&&(u=1):s!==-1&&(u=-1)}if(o!==-1){const d=i===0&&r?1:i;s===-1||u===0||u===1&&s===o-1&&s===i+1?e.base=e.name=t.slice(d,o):(e.name=t.slice(d,s),e.base=t.slice(d,o),e.ext=t.slice(s,o))}return i>0?e.dir=t.slice(0,i-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};On.win32=An.win32=An;On.posix=An.posix=On;Vs==="win32"?An.normalize:On.normalize;Vs==="win32"?An.isAbsolute:On.isAbsolute;Vs==="win32"?An.join:On.join;Vs==="win32"?An.resolve:On.resolve;Vs==="win32"?An.relative:On.relative;Vs==="win32"?An.dirname:On.dirname;Vs==="win32"?An.basename:On.basename;Vs==="win32"?An.extname:On.extname;Vs==="win32"?An.format:On.format;Vs==="win32"?An.parse:On.parse;Vs==="win32"?An.toNamespacedPath:On.toNamespacedPath;Vs==="win32"?An.sep:On.sep;Vs==="win32"?An.delimiter:On.delimiter;const yD=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});class Es{constructor(e,r,n){c(this,"emitter");const s=i=>this.emitter.fire(i);this.emitter=new Mt({onWillAddFirstListener:()=>e.addEventListener(r,s,n),onDidRemoveLastListener:()=>e.removeEventListener(r,s,n)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}const eT=class{constructor(){c(this,"_lastState");this._lastState=null}set(e,r){this._lastState={lastCopiedValue:e,data:r}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}};let nx=eT;c(nx,"INSTANCE",new eT);class NK{constructor(){c(this,"_lastTypeTextLength");this._lastTypeTextLength=0}handleCompositionUpdate(e){e=e||"";const r={text:e,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=e.length,r}}class FK extends Kt{constructor(r,n,s,i){super();c(this,"_onFocus",this._register(new Mt));c(this,"onFocus",this._onFocus.event);c(this,"_onBlur",this._register(new Mt));c(this,"onBlur",this._onBlur.event);c(this,"_onKeyDown",this._register(new Mt));c(this,"onKeyDown",this._onKeyDown.event);c(this,"_onKeyUp",this._register(new Mt));c(this,"onKeyUp",this._onKeyUp.event);c(this,"_onCut",this._register(new Mt));c(this,"onCut",this._onCut.event);c(this,"_onPaste",this._register(new Mt));c(this,"onPaste",this._onPaste.event);c(this,"_onType",this._register(new Mt));c(this,"onType",this._onType.event);c(this,"_onCompositionStart",this._register(new Mt));c(this,"onCompositionStart",this._onCompositionStart.event);c(this,"_onCompositionUpdate",this._register(new Mt));c(this,"onCompositionUpdate",this._onCompositionUpdate.event);c(this,"_onCompositionEnd",this._register(new Mt));c(this,"onCompositionEnd",this._onCompositionEnd.event);c(this,"_onSelectionChangeRequest",this._register(new Mt));c(this,"onSelectionChangeRequest",this._onSelectionChangeRequest.event);c(this,"_asyncTriggerCut");c(this,"_asyncFocusGainWriteScreenReaderContent");c(this,"_textAreaState");c(this,"_selectionChangeListener");c(this,"_hasFocus");c(this,"_currentComposition");this._host=r,this._textArea=n,this._OS=s,this._browser=i,this._asyncTriggerCut=this._register(new Yx(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new Yx(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=ks.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let o=null;this._register(this._textArea.onKeyDown(a=>{const l=new NA(a);(l.keyCode===Pe.KEY_IN_COMPOSITION||this._currentComposition&&l.keyCode===Pe.Backspace)&&l.stopPropagation(),l.equals(Pe.Escape)&&l.preventDefault(),o=l,this._onKeyDown.fire(l)})),this._register(this._textArea.onKeyUp(a=>{const l=new NA(a);this._onKeyUp.fire(l)})),this._register(this._textArea.onCompositionStart(a=>{const l=new NK;if(this._currentComposition){this._currentComposition=l;return}if(this._currentComposition=l,this._OS===iA.Macintosh&&o&&o.equals(Pe.KEY_IN_COMPOSITION)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===a.data&&(o.code==="ArrowRight"||o.code==="ArrowLeft")){l.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:a.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:a.data});return}this._onCompositionStart.fire({data:a.data})})),this._register(this._textArea.onCompositionUpdate(a=>{const l=this._currentComposition;if(!l)return;if(this._browser.isAndroid){const d=ks.readFromTextArea(this._textArea,this._textAreaState),f=ks.deduceAndroidCompositionInput(this._textAreaState,d);this._textAreaState=d,this._onType.fire(f),this._onCompositionUpdate.fire(a);return}const u=l.handleCompositionUpdate(a.data);this._textAreaState=ks.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(u),this._onCompositionUpdate.fire(a)})),this._register(this._textArea.onCompositionEnd(a=>{const l=this._currentComposition;if(!l)return;if(this._currentComposition=null,this._browser.isAndroid){const d=ks.readFromTextArea(this._textArea,this._textAreaState),f=ks.deduceAndroidCompositionInput(this._textAreaState,d);this._textAreaState=d,this._onType.fire(f),this._onCompositionEnd.fire();return}const u=l.handleCompositionUpdate(a.data);this._textAreaState=ks.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(u),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(a=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition||a.inputType==="insertLineBreak"||a.inputType==="deleteContentBackward")return;const l=ks.readFromTextArea(this._textArea,this._textAreaState),u=ks.deduceInput(this._textAreaState,l,this._OS===iA.Macintosh);u.replacePrevCharCnt===0&&u.text.length===1&&($I(u.text.charCodeAt(0))||u.text.charCodeAt(0)===127)||(this._textAreaState=l,(u.text!==""||u.replacePrevCharCnt!==0||u.replaceNextCharCnt!==0||u.positionDelta!==0)&&(console.log("[fire_type]",u.text.codePointAt(0),u.text),this._onType.fire(u)))})),this._register(this._textArea.onCut(a=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(a),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(a=>{this._ensureClipboardGetsEditorSelection(a)})),this._register(this._textArea.onPaste(a=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),a.preventDefault(),!a.clipboardData)return;let[l,u]=IK.getTextData(a.clipboardData);!l||(u=u||nx.INSTANCE.get(l),this._onPaste.fire({text:l,metadata:u}))})),this._register(this._textArea.onFocus(()=>{const a=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!a&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}get textAreaState(){return this._textAreaState}_installSelectionChangeListener(){return Wi(document,"selectionchange",r=>{fc.onSelectionChange()})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}blurTextArea(){this._setHasFocus(!1),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(r){this._hasFocus!==r&&(this._hasFocus=r,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(r,n){this._hasFocus||(n=n.collapseSelection()),n.writeToTextArea(r,this._textArea,this._hasFocus),this._textAreaState=n}writeScreenReaderContent(r){this._currentComposition||this._setAndWriteTextAreaState(r,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(r){$e()}}class IK{static getTextData(e){const r=e.getData(yD.text);let n=null;const s=e.getData("vscode-editor-data");if(typeof s=="string")try{n=JSON.parse(s),n.version!==1&&(n=null)}catch{}return r.length===0&&n===null&&e.files.length>0?[Array.prototype.slice.call(e.files,0).map(o=>o.name).join(`
`),null]:[r,n]}static setTextData(e,r,n,s){e.setData(yD.text,r),typeof n=="string"&&e.setData("text/html",n),e.setData("vscode-editor-data",JSON.stringify(s))}}class MK extends Kt{constructor(r){super();c(this,"onKeyDown");c(this,"onKeyPress");c(this,"onKeyUp");c(this,"onCompositionStart");c(this,"onCompositionUpdate");c(this,"onCompositionEnd");c(this,"onBeforeInput");c(this,"onInput");c(this,"onCut");c(this,"onCopy");c(this,"onPaste");c(this,"onFocus");c(this,"onBlur");c(this,"_onSyntheticTap",this._register(new Mt));c(this,"onSyntheticTap",this._onSyntheticTap.event);c(this,"_ignoreSelectionChangeTime");this._actual=r,this._ignoreSelectionChangeTime=0,this.onKeyDown=this._register(new Es(this._actual,"keydown")).event,this.onKeyPress=this._register(new Es(this._actual,"keypress")).event,this.onKeyUp=this._register(new Es(this._actual,"keyup")).event,this.onCompositionStart=this._register(new Es(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new Es(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new Es(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new Es(this._actual,"beforeinput")).event,this.onInput=this._register(new Es(this._actual,"input")).event,this.onCut=this._register(new Es(this._actual,"cut")).event,this.onCopy=this._register(new Es(this._actual,"copy")).event,this.onPaste=this._register(new Es(this._actual,"paste")).event,this.onFocus=this._register(new Es(this._actual,"focus")).event,this.onBlur=this._register(new Es(this._actual,"blur")).event,this._register(this.onKeyDown(()=>fc.onKeyDown())),this._register(this.onBeforeInput(()=>fc.onBeforeInput())),this._register(this.onInput(()=>fc.onInput())),this._register(this.onKeyUp(()=>fc.onKeyUp()))}hasFocus(){const r=hC(this._actual);return r?r.activeElement===this._actual:B5(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(r){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(r,n){const s=this._actual;s.value!==n&&(this.setIgnoreSelectionChangeTime("setValue"),s.value=n)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(r,n,s){const i=this._actual;let o=null;const a=hC(i);a?o=a.activeElement:o=document.activeElement;const l=o===i,u=i.selectionStart,d=i.selectionEnd;if(l&&u===n&&d===s){py&&window.parent!==window&&i.focus();return}if(l){this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(n,s),py&&window.parent!==window&&i.focus();return}try{const f=R5(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(n,s),O5(i,f)}catch{}}}const LK=Ub||py;class UK extends Kt{constructor(r,n){super();c(this,"_viewController");c(this,"textAreaTop",0);c(this,"textAreaLeft",0);c(this,"textAreaSize",0);c(this,"textArea");c(this,"textAreaCover");c(this,"_textAreaInput");this.view=n,this._viewController=r,this.textArea=uw(document.createElement("textarea")),this.textArea.setClassName("inputarea"),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("tabindex","1"),this._register(zn(()=>this.textArea.domNode.remove())),this.textAreaCover=uw(document.createElement("div")),this.textAreaCover.setPosition("absolute"),this._register(zn(()=>this.textAreaCover.domNode.remove()));const s={getScreenReaderContent(){return ks.EMPTY}},i=this._register(new MK(this.textArea.domNode));this._textAreaInput=this._register(new FK(s,i,GI,TK)),this._register(this._textAreaInput.onKeyDown(o=>{this._viewController.keyDown(o)})),this._register(this._textAreaInput.onPaste(o=>{})),this._register(this._textAreaInput.onType(o=>{o.replacePrevCharCnt||o.replaceNextCharCnt||o.positionDelta?this._viewController.compositionType(o.text,o.replacePrevCharCnt,o.replaceNextCharCnt,o.positionDelta):this._viewController.type(o.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(o=>{gt()})),this._register(this._textAreaInput.onCompositionStart(o=>{this._viewController.compositionStart()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._viewController.compositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._viewController.focus()})),this._register(this._textAreaInput.onBlur(()=>{this._viewController.blur()}))}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}blurTextArea(){this._textAreaInput.blurTextArea()}handleCursorMoved(r){r?(this.textAreaLeft=r.blockStart,this.textAreaTop=r.inlineStart,this.textAreaSize=r.inlineSize):(this.textAreaTop=0,this.textAreaLeft=0),this.render()}render(){this._textAreaInput.writeScreenReaderContent("render");const r=this.textArea,n=this.textAreaCover,{textAreaTop:s,textAreaLeft:i}=this;r.setFontSize(this.textAreaSize),r.setLineHeight(this.textAreaSize),r.setTop(s),r.setLeft(i);const o=u3(this.view.mx);if(r.setTransform(o),n.setTop(s),n.setLeft(i),n.setTransform(o),LK){r.setWidth(0),r.setHeight(0),n.setWidth(0),n.setHeight(0);return}r.setWidth(1),r.setHeight(1),n.setWidth(1),n.setHeight(1)}}function GK(t,e,r){let n=null,s=null;if(typeof r.value=="function"?(n="value",s=r.value,s.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof r.get=="function"&&(n="get",s=r.get),!s)throw new Error("not supported");const i=`$memoize$${e}`;r[n]=function(...o){return this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:s.apply(this,o)}),this[i]}}class uv{constructor(...e){c(this,"_entries",new Map);for(const[r,n]of e)this.set(r,n)}set(e,r){const n=this._entries.get(e);return this._entries.set(e,r),n}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}dispose(){for(const[e,r]of this._entries){if(e!==Po&&!(r instanceof xu)){const n=Reflect.get(r,"dispose");nf(n)&&n.call(r)}this._entries.delete(e)}}}const HK=`
`;var jK=Object.defineProperty,VK=Object.getOwnPropertyDescriptor,zK=(t,e,r,n)=>{for(var s=n>1?void 0:n?VK(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&jK(e,r,s),s},vD=(t,e)=>(r,n)=>e(r,n,t);const WN=new l0,WK=new $O,$N=Kn("textEditorService");let xw=class extends zO{constructor(e,r){super(e,r);c(this,"_cachedResolver");this._cachedResolver=null}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(WN.getDefaultKeybindings(),!0);this._cachedResolver=new hd(e,[])}return this._cachedResolver}_toNormalizedKeybindingItems(e,r){const n=[];let s=0;for(const i of e){const o=i.when||void 0,a=i.keybinding;if(!a)n[s++]=new $x(void 0,i.command,i.commandArgs,o,r,null,!1);else{const l=this.resolveKeybinding(a);for(const u of l)n[s++]=new $x(u,i.command,i.commandArgs,o,r,null,!1)}}return n}resolveKeybinding(e){return[new Fd(e,na)]}resolveKeyboardEvent(e){const r=new Zy(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new Fd(r,na)}};xw=zK([vD(0,Ea),vD(1,e1)],xw);class $K{constructor(){c(this,"_serviceBrand");c(this,"_editors",[])}getCurrentEditor(){if(!!this._editors.length)return this._editors[0]}addEditor(e){this._editors.push(e)}removeEditor(e){const r=this._editors.indexOf(e);r>-1&&this._editors.splice(r,1)}}class Mu{constructor(e){c(this,"id");c(this,"precondition");c(this,"_kbOpts");this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts}register(){if(this._kbOpts){let e=this._kbOpts.kbExpr;this.precondition&&(e?e=XI.and(e,this.precondition):e=this.precondition),WN.registerCommandAndKeybindingRule({id:this.id,handler:(r,n)=>this.runCommand(r,n),weight:1,args:this._kbOpts.args,when:e,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac})}else WK.registerCommand({id:this.id,handler:(e,r)=>this.runCommand(e,r)})}runCommand(e,r){const n=e.get($N),s=e.get(oh),i=n.getCurrentEditor();if(!i)return;const o=s.getFocusedCanvas()||s.getActiveCanvas();if(!!o)return this.runTextEditorCommand(i,o,r)}}function Sl(t){return t.register(),t}Sl(new class extends Mu{constructor(){super({id:"splitBlock",kbOpts:{primary:Pe.Enter}})}runTextEditorCommand(e,r,n){r.transform(()=>{de.insertBreak(e),r.model.removeEmptyTextNodes()})}});Sl(new class extends Mu{constructor(){super({id:"deleteBackward",kbOpts:{primary:Pe.Backspace,secondary:[Pe.Delete]}})}runTextEditorCommand(e,r,n){r.transform(()=>{const{selection:s}=e;s&&ft.isExpanded(s)?de.deleteFragment(e,{direction:"backward"}):de.deleteBackward(e)})}});Sl(new class extends Mu{constructor(){super({id:"extendLineBackward",kbOpts:{primary:Pe.LeftArrow|xa.Shift}})}runTextEditorCommand(e,r,n){Tt.move(e,{unit:"line",edge:"focus",reverse:!0})}});Sl(new class extends Mu{constructor(){super({id:"extendLineForward",kbOpts:{primary:Pe.RightArrow|xa.Shift}})}runTextEditorCommand(e,r,n){Tt.move(e,{unit:"line",edge:"focus"})}});Sl(new class extends Mu{constructor(){super({id:"moveBackward",kbOpts:{primary:Pe.LeftArrow}})}runTextEditorCommand(e,r,n){const{selection:s}=e,i=!1;s&&ft.isCollapsed(s)?Tt.move(e,{reverse:!i}):Tt.collapse(e,{edge:"start"})}});Sl(new class extends Mu{constructor(){super({id:"moveForward",kbOpts:{primary:Pe.RightArrow}})}runTextEditorCommand(e,r,n){const{selection:s}=e,i=!1;s&&ft.isCollapsed(s)?Tt.move(e,{reverse:i}):Tt.collapse(e,{edge:"end"})}});Sl(new class extends Mu{constructor(){super({id:"selectAll",kbOpts:{primary:xa.CtrlCmd|Pe.KEY_A}})}runTextEditorCommand(e,r,n){const s=io(e.children);Q(Gt.isElement(s));const i=io(s.children);Q(Ot.isText(i));const o={anchor:{path:[0,0],offset:0},focus:{path:[e.children.length-1,s.children.length-1],offset:i.content.length}};Tt.select(e,o)}});class KN extends Mu{runTextEditorCommand(e,r,n){const{view:s}=r,{document:i}=s,o=i.getSelection(),{anchorNode:a,anchorOffset:l,focusNode:u,focusOffset:d}=o,f=n===0?a:u,g=n===0?l:d;Q(f),Q(f.IsText());const D=f.parentElement.parentElement.parentElement,A=s.layoutManager.getParagraphOfNode(f);A||gt();const R=s.layoutManager.getContentOfParagraph(A);Q(R.length>0);let P,O;for(const J of R){if(!rn(P))break;for(const Z of J){const re=Z.box;if(re.node!==f)continue;const ge=re.GetVisualTextStartPosition(),Fe=re.GetVisualTextEndPosition();if(!(ge>g||Fe<g)){P=R.indexOf(J);break}}}Q(P);let F=0;for(const J of R[P]){const Z=J.box,re=Z.GetVisualTextStartPosition();O=Z.RelativeRectOfSlice(re,g).width+F;break}Q(O);let U=P===0,B=P===R.length-1,N=[],T=U&&n===0||B&&n===1;if(R.length===1&&Q(T),T){const J=Array.from(D.childNodes).filter(Fe=>Fe==null?void 0:Fe.IsElement()).map(Fe=>r.view.layoutManager.getParagraphOfNode(Fe.firstChild.firstChild)),Z=J.indexOf(A),re=J[n===0?Z-1:Z+1];if(!re&&n===0){const Fe=i.createRange(),Le=R[P][0].box.node;Fe.setStart(Le,0),Fe.setEnd(Le,0),o.addRange(Fe);return}if(!re&&n===1){const Fe=i.createRange(),Ze=R[P],Le=io(Ze).box,it=Le.node;Fe.setStart(it,Le.GetVisualTextEndPosition()),Fe.setEnd(it,Le.GetVisualTextEndPosition()),o.addRange(Fe);return}const ge=s.layoutManager.getContentOfParagraph(re);Q(ge.length>0),N=n===0?io(ge):ge[0]}else N=R[n===0?P-1:P+1];Q(N&&N.length);let M=0;const $=i.createRange();for(const J of N){const Z=J.box,re=Z.GetVisualTextStartPosition(),ge=Z.GetVisualTextEndPosition(),Fe=Z.RelativeRectOfSlice(re,ge);if(M+Fe.width<O){M+=Fe.width;continue}const Ze=Z.GetTextPositionAtVisualLocation(O-M),ze=Z.node;$.setStart(ze,Ze),$.setEnd(ze,Ze),o.addRange($);return}{const Z=io(N).box,re=Z.GetVisualTextEndPosition(),ge=Z.node;$.setStart(ge,re),$.setEnd(ge,re),o.addRange($)}}}Sl(new class extends KN{constructor(){super({id:"moveBlockBackward",kbOpts:{primary:Pe.UpArrow,args:0}})}});Sl(new class extends KN{constructor(){super({id:"moveBlockForward",kbOpts:{primary:Pe.DownArrow,args:1}})}});var KK=Object.defineProperty,XK=Object.getOwnPropertyDescriptor,XN=(t,e,r,n)=>{for(var s=n>1?void 0:n?XK(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&KK(e,r,s),s},ED=(t,e)=>(r,n)=>e(r,n,t);const YK=WO(Pe.Escape,na);let my=class extends Kt{constructor(e,r,n,s,i){super();c(this,"_contextKeyService");c(this,"_instantiationService");this.editor=e,this.canvas=r,this.onEsc=n,this._registerDOMEvent();const o=new uv,a=new $K;a.addEditor(e.state),this._contextKeyService=this._register(i.createScoped(this.editor.state.el)),o.set($N,a),o.set(Jp,new xu(xw)),o.set(Ea,this._contextKeyService),o.set(e1,new xu(Qx)),this._instantiationService=s.createChild(o),this._registerEditorEvent(),this._onDOMSelectionChange()}get _keybindingService(){return this._instantiationService.invokeFunction(e=>e.get(Jp))}_exit(){this.onEsc(),this.canvas.view.document.getSelection().removeAllRanges(),this.canvas.invokeWithinContext(e=>{e.get(ku).switchDefault()})}_registerDOMEvent(){const e=this.canvas.view.document.getSelection();this._register(e.onDidChange(()=>this._onDOMSelectionChange()))}_onDOMSelectionChange(){const e=this.canvas.view.document.getSelection();if(e.anchorNode){const r=this.editor.toSlateRange(e,{exactMatch:!1,suppressThrow:!0});Q(r),Tt.select(this.editor.state,r)}else Tt.deselect(this.editor.state)}_registerEditorEvent(){this.editor.state.onChange=e=>{e||$e();const{operation:r}=e;if(r||$e(),dc.isSelectionOperation(r))return this.syncSelectionToDOM();dc.isNodeOperation(r)&&this.syncSelectionToDOM(!0),dc.isTextOperation(r)&&this.syncSelectionToDOM(!0)},this._register(zn(()=>this.editor.state.onChange=()=>{}))}syncSelectionToDOM(e=!1){const r=this.editor.selection;Q(r);const n=this.canvas.view.document.getSelection(),s=this.editor.toSlateRange(n,{exactMatch:!1,suppressThrow:!0});if(!s||!ft.equals(r,s)||e){const{anchor:i,focus:o}=r,a=this.editor.root.children[i.path[0]];Q(a.isBlock());const l=a.children[i.path[1]];Q(l.isText());const u=this.editor.root.children[o.path[0]];Q(u.isBlock());const d=u.children[o.path[1]];Q(d.isText());const f=this.canvas.view.document,g=f.getElementById(l.id);Q(g);const x=f.getElementById(d.id);Q(x);const E=f.getSelection(),D=f.createRange();D.setStart(g.firstChild,i.offset),D.setEnd(x.firstChild,o.offset),E.addRange(D)}}type(e){Q(e!==HK),this.canvas.transform(()=>{de.deleteFragment(this.editor.state),ex.insertText(this.editor.state,e)})}compositionType(e,r,n,s){Q(!n),Q(!s),this.canvas.transform(()=>{ex.delete(this.editor.state,{unit:"character",distance:r,reverse:!0}),ex.insertText(this.editor.state,e)})}compositionStart(){}compositionEnd(){}keyDown(e){if(e.toKeybinding().equals(YK)){this.onEsc();return}this._keybindingService.dispatchEvent(e,this.editor.el)}focus(){}blur(){}};XN([GK],my.prototype,"_keybindingService",1);my=XN([ED(3,Po),ED(4,Ea)],my);class qK extends Kt{constructor(r,n,s,i){super();c(this,"_editor");c(this,"_viewController");c(this,"_textAreaHandler");c(this,"_textCursor");c(this,"_cursorUpdater");this.canvas=s;const o=new uK(this.canvas,{root:r,el:n.AsElement().AsHTMLElement()});this._editor=o,Reflect.set(window,"slate",this._editor),this._viewController=this._register(this.canvas.invokeWithinContext(a=>a.get(Po).createInstance(my,o,this.canvas,i))),this._textAreaHandler=this._register(new UK(this._viewController,this.canvas.view)),document.body.append(this._textAreaHandler.textArea.domNode,this._textAreaHandler.textAreaCover.domNode),this._textAreaHandler.focusTextArea(),this._textCursor=this._register(new Zm(document.body,this.canvas.view)),this._cursorUpdater=new Lz(this.canvas.view,this._editor,this._drawCursor.bind(this))}_drawCursor(r){Q(this._textCursor),r?this._textCursor.update({left:r.blockStart,top:r.inlineStart,width:1.5,height:r.inlineSize}):this._textCursor.update(),Q(this._textAreaHandler),this._textAreaHandler.handleCursorMoved(r)}}function YN(t){return!!t.IsText()}function qN(t){return t.IsElement()&&t.firstChild&&t.firstChild.firstChild&&YN(t.firstChild.firstChild)}function QK(t){return t.IsElement()&&t.firstChild&&qN(t.firstChild)}function JK(t){return Q(t.IsText()),t.parentNode.parentNode.parentNode}class ZK extends jS{constructor(){super(...arguments);c(this,"anchorY");c(this,"anchorX");c(this,"_editorView");c(this,"_paragraphContainerId");c(this,"_paragraphId")}get id(){return wc}activate(){this.canvas.view.setHitTestLevel(Pd.InlineBox)}deactivate(){this.canvas.view.setHitTestLevel(Pd.BlockBox),this._disposeEditor(),this.canvas.view.focus()}processEvent(r){const n=r.asMouseInputEvent(),{type:s}=r;s===qt.MOUSE_ENTER&&(zi(n),this.handleMouseEnter(n),r.accept()),s===qt.MOUSE_DOWN&&(zi(n),this.handleMouseDown(n),r.accept()),s===qt.DBLCLICK&&(Q(n),this.handleDBClick(n),r.accept()),s===qt.DRAG&&(zi(n),this.handleDrag(n),r.accept()),s===qt.DROP&&(zi(n),this.handleDrop(n),r.accept())}handleDBClick(r){this._handleClick(r,{startOnEmpty:!0})}handleMouseEnter(r){const{node:n}=io(r.targetPath);zi(n),YN(n)||qN(n)?this.useCursor(Dn.text):this.useCursor(Dn.arrow)}handleMouseDown(r){this._handleClick(r,{exitOnEmpty:!0})}handleDrag(r){this._updateSelection(r)}handleDrop(r){}_handleClick(r,n){this.anchorX=r.clientX,this.anchorY=r.clientY;let s=this.canvas.view.document.getSelection().anchorNode;this._updateSelection(r);let i=this.canvas.view.document.getSelection().anchorNode;if(!s&&!i){n.startOnEmpty&&this._addTextBlock(r);return}if(s&&!i){this._disposeEditor(),n.exitOnEmpty&&this.canvas.invokeWithinContext(o=>{o.get(ku).switchDefault()});return}if(!s&&i){this._initEditor(i);return}if(s&&i){if(s===i)return;const o=vn.CommonAncestor(s,i);if(Q(o),o===s||QK(o))return;this._disposeEditor(),this._initEditor(i);return}gt()}_disposeEditor(){if(this._paragraphId){const r=this.canvas.model.getNodeById(this._paragraphId);Q(r),Q(G4(r)),r.content||this.canvas.transform(s=>{s.removeNode({ref:this._paragraphContainerId,direction:_n.self})})}this._paragraphId=void 0,this._paragraphContainerId=void 0,this._editorView&&(this._editorView.dispose(),this._editorView=void 0)}_triggerEndEditing(){this._disposeEditor()}_updateSelection(r){const n=this.anchorX,s=this.anchorY,{clientX:i,clientY:o}=r;if(n===i&&s===o)return this._updateCollapsedSelection(r);const a=s<=o,l=a?n:i,u=a?s:o,d=a?i:n,f=a?o:s,g=this.canvas.view.document.getSelection(),x=this.canvas.view.layoutManager.hitTestRTree(n,s,n,s);if(!x.length){g.removeAllRanges();return}const D=x[0].box.node,A=JK(D),P=Array.from(A.childNodes).filter(T=>T==null?void 0:T.IsElement()).map(T=>{const M=this.canvas.view.layoutManager.getParagraphOfNode(T.firstChild.firstChild);return this.canvas.view.layoutManager.getRTreeItemsByParagraph(M)}).flat().sort((T,M)=>T.minY<M.minY?-1:1);let O,F;for(let T of P)T.minY<=u&&T.maxY>=u&&(O=T),T.minY<=f&&(F=T);O||(O=P[0]),Q(O),Q(F);let U;if(u<=O.minY)U=O.box.GetVisualTextStartPosition();else{const T=O.minX,M=O.maxX;l>=M?U=O.box.GetVisualTextEndPosition():l<=T?U=O.box.GetVisualTextStartPosition():U=O.box.GetTextPositionAtVisualLocation(l-T)}let B;if(f>=F.maxY)B=F.box.GetVisualTextEndPosition();else{const T=F.maxX,M=F.minX;d>=T?B=F.box.GetVisualTextEndPosition():d<M?B=F.box.GetVisualTextStartPosition():B=F.box.GetTextPositionAtVisualLocation(d-M)}const N=this.canvas.view.document.createRange();a?(N.setStart(O.box.node,U),N.setEnd(F.box.node,B)):(N.setStart(F.box.node,B),N.setEnd(O.box.node,U)),g.addRange(N),g.anchorOffset<0&&gt(),g.focusOffset<0&&gt()}_updateCollapsedSelection(r){const{clientX:n,clientY:s}=r,{targetPath:i}=r,a=io(i).node;let l=n,u=n;if(a.IsElement()){const O=a.AsElement();if(O.tagName===gd.kTagName){const F=O.getBoundingClientRect();l=Math.min(F.left,n),u=Math.max(F.right,n)}}const d=this.canvas.view.document.getSelection(),f=this.canvas.view.layoutManager.hitTestRTree(l,s,u,s);if(!f.length){d.removeAllRanges();return}const g=f[0],x=g.minX,E=g.maxX,D=n-x;let A;D<=0?A=g.box.GetVisualTextStartPosition():n>=E?A=g.box.GetVisualTextEndPosition():A=g.box.GetTextPositionAtVisualLocation(D);const R=g.box.node,P=this.canvas.view.document.createRange();P.setStart(R,A),P.setEnd(R,A),d.addRange(P)}_initEditor(r){Q(r.IsText()),this.canvas.setSelectedElements([]);const n=r.parentElement.parentElement.parentElement,s=n.getAttribute(Cp),i=VS(n);Q(s);const a=this.canvas.getScopedModel(i).getNodeById(s);Q(a),Q(a.isBlock());const u=this.canvas.view.document.getElementById(s);Q(u),Q(!this._editorView),this._editorView=new qK(a,u,this.canvas,this._triggerEndEditing.bind(this))}async _addTextBlock(r){const{clientX:n,clientY:s}=r;let i="",o="";this.canvas.transform(()=>{let g=to(eX);Object.assign(g.style,{borderColor:Q5(),marginTop:vu(s-10-10),marginLeft:vu(n-10)});const x=this.canvas.model.addNode({ref:cd,direction:_n.inward},g);this._paragraphContainerId=x.id,i=this._paragraphContainerId,o=this.canvas.model.addNode({ref:this._paragraphContainerId,direction:_n.inward},to(tX)).id,this._paragraphId=o}),await this.canvas.mvvm.maybeWaitForReLayout(),Q(this._paragraphContainerId===i);const{document:a}=this.canvas.view,l=a.getElementById(o),u=a.getSelection();Q(l);const d=l.firstChild;Q(d);const f=a.createRange();f.setStart(d,0),f.setEnd(d,0),u.addRange(f),this._initEditor(d)}}const eX={type:ar.Block,style:{display:"block",width:"auto",height:"auto",marginLeft:"50px",marginTop:"100px",position:"absolute",backgroundColor:"white",padding:"10px",borderStyle:"solid",borderWidth:"1px",lineHeight:"20px",overflowWrap:"break-word",whiteSpace:"nowrap"}},tX={type:ar.Text,style:{display:"block",fontFamily:'"source han sans"',fontSize:"14px",color:"black"},content:""},wc="tool.text";class rX extends cS{isDoubleClickShortcut(){return!0}}class nX{constructor(){c(this,"id",wc);c(this,"shortcut",new rX)}createTool(e){return new ZK(e,Dn.text)}}const QN=[];function JN(){QN.forEach(t=>t())}function iX(t){QN.push(t)}const sX=(t,e)=>[0,0,0,0,e,t,1,0],oX=(t,e)=>[0,0,0,0,e,t,0,0],Sh=(t=0,e=0)=>{const r=[0,0,0,0,0,0,0,0];if(e<0||e>7)throw new Error(`Expected \`index\` between 0 and 7, got \`${e}\``);return t!==0&&(r[e]=t),r},aX=t=>[t[0],t[1],t[2],t[3],-t[4],-t[5],-t[6],-t[7]],lX=(t,e)=>jb(e)?[t[0]+e,t[1],t[2],t[3],t[4],t[5],t[6],t[7]]:[t[0]+e[0],t[1]+e[1],t[2]+e[2],t[3]+e[3],t[4]+e[4],t[5]+e[5],t[6]+e[6],t[7]+e[7]],AD=(t,e)=>jb(e)?[t[0]-e,t[1],t[2],t[3],t[4],t[5],t[6],t[7]]:[t[0]-e[0],t[1]-e[1],t[2]-e[2],t[3]-e[3],t[4]-e[4],t[5]-e[5],t[6]-e[6],t[7]-e[7]],xy=(t,e)=>jb(e)?[t[0]*e,t[1]*e,t[2]*e,t[3]*e,t[4]*e,t[5]*e,t[6]*e,t[7]*e]:[uX(t,e),e[1]*t[0]+e[0]*t[1]-e[4]*t[2]+e[5]*t[3]+e[2]*t[4]-e[3]*t[5]-e[7]*t[6]-e[6]*t[7],e[2]*t[0]+e[0]*t[2]-e[6]*t[3]+e[3]*t[6],e[3]*t[0]+e[6]*t[2]+e[0]*t[3]-e[2]*t[6],e[4]*t[0]+e[2]*t[1]-e[1]*t[2]+e[7]*t[3]+e[0]*t[4]+e[6]*t[5]-e[5]*t[6]+e[3]*t[7],e[5]*t[0]-e[3]*t[1]+e[7]*t[2]+e[1]*t[3]-e[6]*t[4]+e[0]*t[5]+e[4]*t[6]+e[2]*t[7],e[6]*t[0]+e[3]*t[2]-e[2]*t[3]+e[0]*t[6],e[7]*t[0]+e[6]*t[1]+e[5]*t[2]+e[4]*t[3]+e[3]*t[4]+e[2]*t[5]+e[1]*t[6]+e[0]*t[7]],uX=(t,e)=>e[0]*t[0]+e[2]*t[2]+e[3]*t[3]-e[6]*t[6],cX=(t,e)=>t[0]*e[7]+t[1]*e[6]+t[2]*e[5]+t[3]*e[4]+t[4]*e[3]+t[5]*e[2]+t[6]*e[1]+t[7]*e[0],hX=t=>Math.sqrt(Math.abs(t[0]*t[0]-t[2]*t[2]-t[3]*t[3]+t[6]*t[6])),ZN=t=>{const e=hX(t);if(e===0||e===1)return t;const r=t[6]<0?-1:1;return xy(t,r/e)},jb=t=>typeof t=="number";Sh(1,1);Sh(1,2);Sh(1,3);Sh(1,4);Sh(1,5);Sh(1,6);Sh(1,7);const dX=t=>[0,0,0,0,t[4],t[5],0,0],wD=(t,e,r)=>ZN([0,r,t,e,0,0,0,0]),fX=([t,e])=>[0,0,0,0,e,t,1,0],_X=t=>[0,0,0,0,Math.abs(t[4]),Math.abs(t[5]),1,0],SD=(t,e)=>cX(t,e),pX=(t,e)=>lX(xy(t,Math.sin(e/2)),Math.cos(e/2)),gX=(t,e)=>ZN(xy(xy(t,e),aX(t))),_m=(t,e,r,n,s)=>[(t-r)*Math.cos(s)-(e-n)*Math.sin(s)+r,(t-r)*Math.sin(s)+(e-n)*Math.cos(s)+n],e2=(t,e=!1)=>{const r=t.getBoundingClientRect();return[r.x,r.y,r.x+r.width,r.y+r.height,r.x+r.width/2,r.y+r.height/2]},Ly=class{static getBounds(e){const r=Ly.calculateBounds(e);return Ly.boundsCache.set(e,{bounds:r}),r}static calculateBounds(e){const[r,n,s,i,o,a]=e2(e),l=0,[u,d]=_m(r,n,o,a,l),[f,g]=_m(r,i,o,a,l),[x,E]=_m(s,i,o,a,l),[D,A]=_m(s,n,o,a,l),R=Math.min(u,f,x,D),P=Math.min(d,g,E,A),O=Math.max(u,f,x,D),F=Math.max(d,g,E,A);return[R,P,O,F]}};let ix=Ly;c(ix,"boundsCache",new WeakMap);const mX=t=>ix.getBounds(t),xX=t=>{if(!t.length)return[0,0,0,0];let e=1/0,r=-1/0,n=1/0,s=-1/0;return t.forEach(i=>{const[o,a,l,u]=mX(i);e=Math.min(e,o),n=Math.min(n,a),r=Math.max(r,l),s=Math.max(s,u)}),[e,n,r,s]};function yX(t){return X0(t)===ar.Text}function vX(t){return X0(t)===ar.Block}function EX(t){return X0(t)===ar.Image}const AX=(t,e,r,n)=>(10/e.zoom,wX(t,e,[r,n])),wX=(t,e,r)=>{const n=10/e.zoom,s=yX(t)?DX:PX(t)?RX:OX;return SX({element:t,point:r,threshold:n,check:s})},SX=t=>{switch(X0(t.element)){case ar.Text:case ar.Block:case ar.Image:{const r=CX(t.element,t.point);return t.check(r,t.threshold)}default:$e()}},bX=(t,e)=>{const[,r,n,s]=kX(t,e);return Math.max(SD(r,wD(0,1,-s)),SD(r,wD(1,0,-n)))},kX=(t,e)=>{const r=fX(e),[n,s,i,o]=e2(t),a=TX(n,s,i,o),l=pX(a,0),u=gX(l,r),d=AD(u,dX(a)),f=_X(d),g=t.getBoundingClientRect(),x=oX(g.x,g.y),E=AD(u,x),D=(i-n)/2,A=(o-s)/2;return[E,f,D,A]},TX=(t,e,r,n)=>sX((t+r)/2,(e+n)/2),CX=(t,e)=>{switch(X0(t)){case ar.Image:case ar.Text:case ar.Block:return bX(t,e);default:$e()}},PX=t=>vX(t)||EX(t),DX=(t,e)=>t<0,RX=(t,e)=>t<e,OX=(t,e)=>Math.abs(t)<e,BX=(t,e)=>t.filter(r=>e(r));class NX{static negate(e){return{x:-e.x,y:-e.y}}}class yy{static parse(e){let r,n=parseFloat;if(r=/matrix\s*\((.+)\)/i.exec(e)){let i=r[1].split(",");return i.length!=6&&(i=r[1].split(" ")),{a:n(i[0]),b:n(i[1]),c:n(i[2]),d:n(i[3]),tx:n(i[4]),ty:n(i[5])}}throw new Error("500")}static get Identity(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}}static translate(e,r){let n=e.tx+r.x,s=e.ty+r.y;return{...e,tx:n,ty:s}}static scale(e,r,n){let s=n?yy.translate(e,n):{a:e.a,b:e.b,c:e.c,d:e.d,tx:e.tx,ty:e.ty};return s.a*=r.x,s.b*=r.x,s.c*=r.y,s.d*=r.y,n&&(s=yy.translate(s,NX.negate(n))),s}}class bD{constructor(e=0,r=0,n=0,s=0){this.x=e,this.y=r,this.width=n,this.height=s}}Nc.some;var Rp=(t=>(t[t.Unknown=0]="Unknown",t[t.Canvas=1]="Canvas",t))(Rp||{});class FX{constructor(e,r,n,s){this.x=e,this.y=r,this.width=n,this.height=s}}class IX{constructor(e,r){this.x=e,this.y=r}}class MX{constructor(e,r){this.x=e,this.y=r}}class t2 extends zR{constructor(r,n,s,i){super(r);c(this,"isFromPointerCapture");c(this,"pos");c(this,"editorPos");c(this,"relativePos");this.isFromPointerCapture=n,this.pos=new IX(this.posx,this.posy),this.editorPos=UX(s),this.relativePos=GX(i,this.editorPos,this.pos)}}class LX{constructor(e){this.viewHelper=e}_create(e){return new t2(e,!1,this.viewHelper.viewDomNode,this.viewHelper.getTransform())}onContextMenu(e,r){return Wi(e,"contextmenu",n=>{r(this._create(n))})}onMouseUp(e,r){return Wi(e,"mouseup",n=>{r(this._create(n))})}onMouseDown(e,r){return Wi(e,Bs.MOUSE_DOWN,n=>{r(this._create(n))})}onPointerDown(e,r){return Wi(e,Bs.POINTER_DOWN,n=>{r(this._create(n),n.pointerType,n.pointerId)})}onMouseLeave(e,r){return b5(e,n=>{r(this._create(n))})}onMouseMove(e,r){return Wi(e,Bs.MOUSE_MOVE,n=>{r(this._create(n))})}}function UX(t){const e=D5(t);return new FX(e.left,e.top,e.width,e.height)}function GX(t,e,r){const n=t.a,s=t.d,i=(r.x-e.x)/n-t.tx,o=(r.y-e.y)/s-t.ty;return new MX(i,o)}class HX{constructor(){c(this,"_hooks",new ua);c(this,"_pointerMoveEventMerger",null);c(this,"_pointerMoveCallback",null);c(this,"_onStopCallback",null)}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,r){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveEventMerger=null,this._pointerMoveCallback=null;const n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(r)}isMonitoring(){return!!this._pointerMoveEventMerger}startMonitoring(e,r,n,s,i,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveEventMerger=s,this._pointerMoveCallback=i,this._onStopCallback=o;try{e.setPointerCapture(r),this._hooks.add(zn(()=>{e.releasePointerCapture(r)}))}catch{}this._hooks.add(S5(e,Bs.POINTER_MOVE,a=>{if(a.buttons!==n){this.stopMonitoring(!0);return}this._pointerMoveCallback(a)},(a,l)=>this._pointerMoveEventMerger(a,l))),this._hooks.add(Wi(e,Bs.POINTER_UP,a=>{console.log("pointer up"),this.stopMonitoring(!0,a)}))}}class jX extends Kt{constructor(r){super();c(this,"_globalPointerMoveMonitor");c(this,"_keydownListener");this.viewHelper=r,this._globalPointerMoveMonitor=this._register(new HX),this._keydownListener=null}get _editorViewDomNode(){return this.viewHelper.viewDomNode}startMonitoring(r,n,s,i,o,a){this._keydownListener=FA(document,"keydown",u=>{u.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,u.browserEvent)},!0);const l=(u,d)=>i(u,new t2(d,!0,this._editorViewDomNode,this.viewHelper.getTransform()));this._globalPointerMoveMonitor.startMonitoring(r,n,s,l,o,u=>{this._keydownListener.dispose(),a(u)})}stopMonitoring(r){this._globalPointerMoveMonitor.stopMonitoring(!0,r)}}class VX{constructor(e,r=[]){c(this,"type");c(this,"targetPath");this.type=e,this.targetPath=r}}class zX{constructor(e){c(this,"_viewHelper");this._viewHelper=e}}class Vb{constructor(e,r,n){c(this,"_ctx");c(this,"result");c(this,"target");c(this,"targetPath",[]);c(this,"pos");this.pos=r,this._ctx=e,this.target=n}fulfill(e){let r=this.targetPath.splice(0);return this.result&&r.push(...this.result.map(n=>gS.fromVirtualDOMNode(n.node))),new VX(e,r)}withResult(e){let r=new Vb(this._ctx,this.pos,this.target);return r.result=e,r}}class WX{constructor(e){c(this,"_viewHelper");this._viewHelper=e}createMouseTarget(e,r,n){const s=new zX(this._viewHelper),i=new Vb(s,e,r);return this._createMouseTarget(s,i,!1,n)}_createMouseTarget(e,r,n,s){r.target||$e();const i=r;let o=null;return o=o||this._hitTestCanvas(i,s),rn(o)&&(o=r.fulfill(Rp.Unknown)),o}_hitTestCanvas(e,r){const n=this._viewHelper.hitTest(e.pos.x,e.pos.y,r);return n.length>0?e.withResult(n).fulfill(Rp.Canvas):e.fulfill(Rp.Canvas)}}function $X(){return function(t,e){return e.preventDefault(),e}}const tT=class extends Kt{constructor(r,n){super();c(this,"viewController");c(this,"viewHelper");c(this,"mouseTargetFactory");c(this,"_mouseDownOperation");c(this,"lastMouseLeaveTime");c(this,"mousePressed",!1);c(this,"multiClickCount",0);c(this,"lastClickTimeStamp",0);c(this,"lastClickPosX");c(this,"lastClickPosY");c(this,"lastMouseMoveTarget");c(this,"lastEmittedMouseEnter");c(this,"enterLeaveCounter",0);c(this,"lastEmittedMouseDownButtons",0);this.viewController=r,this.viewHelper=n,this.mouseTargetFactory=new WX(n),this._mouseDownOperation=this._register(new KX(this.viewController,this.viewHelper,(o,a)=>this._createMouseTarget(o,{hitTestLevel:n.getHitTestLevel(qt.DRAG)}),()=>this.mousePressed=!1)),this.lastMouseLeaveTime=-1;const s=new LX(this.viewHelper);this._register(s.onMouseMove(this.viewHelper.viewDomNode,o=>this._onMouseMove(o))),this._register(s.onMouseUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o)));let i=0;this._register(Wi(this.viewHelper.viewDomNode,Bs.POINTER_UP,o=>{this._mouseDownOperation.onPointerUp(o)})),this._register(s.onMouseDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o,i))),this._register(FA(this.viewHelper.viewDomNode,Bs.KEY_DOWN,this._onKeyDown.bind(this))),this._register(FA(this.viewHelper.viewDomNode,Bs.KEY_UP,this._onKeyUp.bind(this))),this._register(Wi(this.viewHelper.viewDomNode,Bs.WHEEL,this._onMouseWheel.bind(this),{capture:!0,passive:!1}))}_createMouseTarget(r,n){return this.mouseTargetFactory.createMouseTarget(r.pos,r.target,n)}_onContextMenu(r,n){$e()}_onMouseMove(r){if(this._mouseDownOperation.isActive())return;const n=this._createMouseTarget(r,{hitTestLevel:this.viewHelper.getHitTestLevel(qt.MOUSE_MOVE)});if(n.type!==Rp.Unknown){if(this.lastEmittedMouseEnter){const s=n.targetPath,i=this.lastEmittedMouseEnter.targetPath,o=io(s).node,a=io(i).node;o&&o!==a&&(this.viewController.emitMouseLeave(ls(qt.MOUSE_LEAVE,r,this.lastEmittedMouseEnter)),this.enterLeaveCounter--,this.viewController.emitMouseEnter(ls(qt.MOUSE_ENTER,r,n)),this.enterLeaveCounter++,this.lastEmittedMouseEnter=n)}else this.viewController.emitMouseEnter(ls(qt.MOUSE_ENTER,r,n)),this.enterLeaveCounter++,this.lastEmittedMouseEnter=n;this.enterLeaveCounter>1&&gt(),this.viewController.emitMouseMove(ls(qt.MOUSE_MOVE,r,n)),this.lastMouseMoveTarget=n}else this._handleMouseLeave(r)}_handleMouseLeave(r){this.lastEmittedMouseEnter&&(this.viewController.emitMouseLeave(ls(qt.MOUSE_LEAVE,r,this.lastEmittedMouseEnter)),this.enterLeaveCounter--,this.lastMouseMoveTarget=void 0,this.lastEmittedMouseEnter=void 0)}_onMouseUp(r){let n=this._createMouseTarget(r,{hitTestLevel:this.viewHelper.getHitTestLevel(qt.MOUSE_UP)});this.mousePressed=!1;const s=r.browserEvent.pageX,i=r.browserEvent.pageY;switch(Sx(this.lastClickPosX)&&Sx(this.lastClickPosY)&&((Math.abs(s-this.lastClickPosX)>5||Math.abs(i-this.lastClickPosY)>5)&&(this.multiClickCount=0),this.lastClickPosX=s,this.lastClickPosY=i),this.multiClickCount&&r.timestamp-this.lastClickTimeStamp<tT.DoubleClickInterval?this.multiClickCount++:(this.lastClickTimeStamp=r.timestamp,this.multiClickCount=1),this.multiClickCount){case 1:this.viewController.emitMouseUp(ls(qt.MOUSE_UP,r,n,this.lastEmittedMouseDownButtons));break;case 2:this.viewController.emitMouseUp(ls(qt.MOUSE_UP,r,n,this.lastEmittedMouseDownButtons)),this.viewController.emitDbClick(ls(qt.DBLCLICK,r,n,this.lastEmittedMouseDownButtons));break;default:this.multiClickCount=0;break}}createKeyboardEvent(r,n){return new kM(r,n)}_onMouseDown(r,n){this.mousePressed&&En();const s=this._createMouseTarget(r,{hitTestLevel:this.viewHelper.getHitTestLevel(qt.MOUSE_DOWN)});this.viewController.emitMouseDown(ls(qt.MOUSE_DOWN,r,s)),r.preventDefault(),this._mouseDownOperation.start(s.type,r,n),this.mousePressed=!0,this.lastEmittedMouseDownButtons=r.buttons}_onMouseWheel(r){this.viewController.emitMouseWheel(new bM(r))}_onKeyDown(r){this.viewController.emitKeyDown(this.createKeyboardEvent(qt.KEY_DOWN,r))}_onKeyUp(r){this.viewController.emitKeyUp(this.createKeyboardEvent(qt.KEY_UP,r))}};let op=tT;c(op,"MOUSE_MOVE_MINIMUM_TIME",100),c(op,"DoubleClickInterval",400);class KX extends Kt{constructor(r,n,s,i){super();c(this,"_viewController");c(this,"_viewHelper");c(this,"_createMouseTarget");c(this,"_mouseMoveMonitor");c(this,"_mouseState");c(this,"_isActive");c(this,"_lastMouseEvent");c(this,"_lastMouseTarget");this._onCancelled=i,this._viewController=r,this._viewHelper=n,this._createMouseTarget=s,this._mouseMoveMonitor=this._register(new jX(this._viewHelper)),this._mouseState=new sx,this._isActive=!1,this._lastMouseEvent=null}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r),this._mouseState.isDragAndDrop?(this._lastMouseTarget=this._createMouseTarget(r,!0),this._viewController.emitMouseDrag(ls(qt.DRAG,r,this._lastMouseTarget)),this._viewController.emitMouseMove(ls(qt.MOUSE_MOVE,r,this._lastMouseTarget))):gt()}start(r,n,s){this._lastMouseEvent=n,this._mouseState.setModifiers(n),this._mouseState.trySetCount(n.detail,{x:n.pos.x,y:n.pos.y}),n.detail=this._mouseState.count,!this._mouseState.altKey&&n.detail<2&&!this._isActive&&(this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._lastMouseTarget=this._createMouseTarget(n,!0),this._viewController.emitMouseDragStart(ls(qt.DRAG_START,n,this._lastMouseTarget)),this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewDomNode,s,n.buttons,$X(),i=>this._onMouseDownThenMove(i),i=>{!i||i&&i instanceof KeyboardEvent?(this._viewController.emitMouseDropCanceled(ls(qt.DRAG_END,this._lastMouseEvent,this._lastMouseTarget,n.buttons)),this._onCancelled()):this._viewController.emitMouseDrop(ls(qt.DROP,this._lastMouseEvent,this._lastMouseTarget)),this._stop(),this._lastMouseTarget=void 0}))}_stop(){this._isActive=!1}onPointerUp(r){this._mouseMoveMonitor.stopMonitoring(r)}}const rT=class{constructor(){c(this,"_altKey");c(this,"_ctrlKey");c(this,"_metaKey");c(this,"_shiftKey");c(this,"_leftButton");c(this,"_middleButton");c(this,"_lastMouseDownPosition");c(this,"_lastMouseDownPositionEqualCount");c(this,"_lastMouseDownCount");c(this,"_lastSetMouseDownCountTime");c(this,"isDragAndDrop");this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}trySetCount(e,r){const n=new Date().getTime();n-this._lastSetMouseDownCountTime>rT.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=n,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition===r?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=r,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}};let sx=rT;c(sx,"CLEAR_MOUSE_DOWN_COUNT_TIME",400);class XX{constructor(e,r){c(this,"handler");this.viewController=e,this.viewHelper=r,this.handler=new op(e,r)}dispose(){this.handler&&this.handler.dispose()}}const ji=window.devicePixelRatio||1;class YX{constructor(e){c(this,"size_");c(this,"surface_");this.size_=new tl(e.width,e.height),this.surface_=Ar.MakeCanvasSurface(e)}get surface(){return this.surface_}GetSize(){return this.size_}}class qX{}class QX{}class yw{constructor(e=0,r=0,n=0,s=0){c(this,"ascent_");c(this,"descent_");c(this,"leading_");c(this,"x_height_");this.ascent_=e,this.descent_=r,this.leading_=n,this.x_height_=s}ascent(){return this.ascent_}descent(){return this.descent_}leading(){return this.leading_}x_height(){return this.x_height_}em_box_height(){return this.ascent_+this.descent_+this.leading_}baseline_offset_from_top(){return this.ascent_+this.leading_/2}}var po=(t=>(t[t.kThinWeight=100]="kThinWeight",t[t.kExtraLightWeight=200]="kExtraLightWeight",t[t.kLightWeight=300]="kLightWeight",t[t.kNormalWeight=400]="kNormalWeight",t[t.kMediumWeight=500]="kMediumWeight",t[t.kSemiBoldWeight=600]="kSemiBoldWeight",t[t.kBoldWeight=700]="kBoldWeight",t[t.kExtraBoldWeight=800]="kExtraBoldWeight",t[t.kBlackWeight=900]="kBlackWeight",t))(po||{}),vw=(t=>(t[t.kUprightSlant=0]="kUprightSlant",t[t.kItalicSlant=1]="kItalicSlant",t))(vw||{});class r2{constructor(e=400,r=0){c(this,"weight");c(this,"slant");this.weight=e,this.slant=r}}class JX{}class Vn{constructor(e=0,r=0){c(this,"x_");c(this,"y_");this.x_=e,this.y_=r}SetVector(e,r){this.x_=e,this.y_=r}x(){return this.x_}set_x(e){this.x_=e}y(){return this.y_}set_y(e){this.y_=e}IsZero(){return this.x_==0&&this.y_==0}Add(e){return this.x_+=e.x_,this.y_+=e.y_,this}Subtract(e){this.x_-=e.x_,this.y_-=e.y_}get 0(){return this.x_}get 1(){return this.y_}SetToMin(e){this.x_=this.x_<=e.x_?this.x_:e.x_,this.y_=this.y_<=e.y_?this.y_:e.y_}SetToMax(e){this.x_=this.x_>=e.x_?this.x_:e.x_,this.y_=this.y_>=e.y_?this.y_:e.y_}LengthSquared(){return this.x_*this.x_+this.y_*this.y_}Length(){return Math.sqrt(this.LengthSquared())}Scale(e,r){if(rn(r))return this.Scale(e,e);this.x_*=e,this.y_*=r}SUB_ASSIGN(e){this.Subtract(e)}ADD_ASSIGN(e){this.Add(e)}CLONE(){return new Vn(this.x(),this.y())}toString(){return`[${this.x_}, ${this.y_}]`}}class vy{constructor(e,r,n,s){c(this,"size_");c(this,"origin_");if(arguments.length===0)this.size_=new el,this.origin_=new iu;else if(arguments.length===1)if(e instanceof iu)this.origin_=e.CLONE(),this.size_=new el;else if(e instanceof vy){let i=e.CLONE();this.origin_=new iu(i.origin_),this.size_=new el(i.size_)}else this.origin_=new iu,this.size_=e.CLONE();else arguments.length==2?(this.origin_=e.CLONE(),this.size_=r.CLONE()):(this.origin_=new iu(e,r),this.size_=new el(n,s))}x(){return this.origin_.x()}set_x(e){this.origin_.set_x(e)}y(){return this.origin_.y()}set_y(e){this.origin_.set_y(e)}width(){return this.size_.width()}set_width(e){this.size_.set_width(e)}height(){return this.size_.height()}set_height(e){this.size_.set_height(e)}origin(){return this.origin_}set_origin(e){this.origin_=e}size(){return this.size_}set_size(e){this.size_=e}right(){return this.x()+this.width()}bottom(){return this.y()+this.height()}IsEmpty(){return this.size_.IsEmpty()}Union(e){if(this.IsEmpty()){this.size_=e.size_.CLONE(),this.origin_=e.origin_.CLONE();return}if(e.IsEmpty())return;let r=Math.min(this.x(),e.x()),n=Math.min(this.y(),e.y()),s=Math.max(this.right(),e.right()),i=Math.max(this.bottom(),e.bottom());this.SetRect(r,n,s-r,i-n)}SetRect(e,r,n,s){this.origin_.SetPoint(e,r),this.set_width(n),this.set_height(s)}Offset(e){this.origin_.ADD(e)}Inset(e,r,n,s){let i,o,a,l;arguments.length===4?(i=e,a=r,o=n,l=s):(i=o=e,a=l=r),this.origin_.ADD(new Vn(i,a)),this.set_width(Math.max(this.width()-i-o,0)),this.set_height(Math.max(this.height()-a-l,0))}Outset(e,r){this.Inset(-e,-r)}CLONE(){return new vy(this.origin_.CLONE(),this.size_.CLONE())}Scale(e){this.origin().Scale(e),this.size().Scale(e)}}class pr extends vy{static fromRectLayoutUnit(e){const r=e.origin(),n=e.size();return new pr(r.x().toFloat(),r.y().toFloat(),n.width().toFloat(),n.height().toFloat())}}const ZX=.56;class n2 extends JX{constructor(r,n){super();c(this,"sk_font_");this.typeface_=r,this.size_=n}GetTypefaceId(){return this.typeface_.GetId()}GetFontMetrics(){let n=this.GetSkFont().getMetrics(),s;return s=n.ascent*ZX,new yw(-n.ascent,n.descent,n.leading,s)}GetGlyphForCharacter(r){return this.typeface_.GetGlyphForCharacter(r)}GetGlyphBounds(r){let s=this.GetSkFont().getGlyphBounds([r],null),i=s[0],o=s[1],a=s[2],l=s[3],u=a-i,d=l-o;return new pr(0,-o,u,d)}GetGlyphWidth(r){return this.GetSkFont().getGlyphWidths([r],null)[0]}GetSkFont(){if(!this.sk_font_){const r=new Ar.Font(this.typeface_.GetSkTypeface(),this.size_);r.setSubpixel(!0),r.setLinearMetrics(!0),this.sk_font_=r}return this.sk_font_}}c(n2,"kPrimaryPageSize",256);class i2 extends QX{constructor(e){super(),this.typeface_=e}CreateFontWithSize(e){return new n2(this,e)}GetGlyphForCharacter(e){return this.typeface_.getGlyphIDs(String.fromCodePoint(e))[0]}GetSkTypeface(){return this.typeface_}GetId(){return 255}GetEstimatedSizeInBytes(){$e()}}c(i2,"kPrimaryPageSize",256);class eY extends Kt{constructor(r){super();c(this,"bounds_");this.bounds_=r}GetBounds(){return this.bounds_}}class tY extends eY{constructor(r,n,s){super(r);c(this,"text_blob_");this.chars_=n,this.text_blob_=s}GetTextBlob(){return this.text_blob_}dispose(){}}const rY=8301,nY=8299,iY=1564,sY=13,oY=8296,aY=12,lY=9,uY=8300,cY=8298,hY=8234,Ew=8294,dY=8206,fY=8302,_Y=8303,s2=10,o2=160,a2=65532,pY=8236,ox=8297,l2=8295,gY=8207,mY=8238,xY=173,k0=32,yY=8205,vY=65279,EY=8204,zb=8203;function AY(t){return t==k0||t==lY||t==s2||t==aY||t==sY||t==o2}function wY(t){if(SY(t))return!0;switch(t){case rY:case nY:case iY:case oY:case uY:case cY:case Ew:case fY:case _Y:case pY:case ox:case l2:case xY:case EY:case yY:return!0}return!1}function SY(t){return t<32||t>=127&&t<160||t==zb||t>=dY&&t<=gY||t>=hY&&t<=mY||t==vY||t==a2||bY(t)}function bY(t){return t>=127995&&t<=127999}function kY(t){return AY(t)?k0:wY(t)?zb:t}const Aw=0;class TY{constructor(){c(this,"min_y_",Number.MAX_SAFE_INTEGER);c(this,"max_y_",Number.MIN_SAFE_INTEGER)}IncludeRange(e,r){this.min_y_=Math.min(this.min_y_,e),this.max_y_=Math.max(this.max_y_,r)}GetY(){return this.IsValid()?this.min_y_:0}GetHeight(){return this.IsValid()?this.max_y_-this.min_y_:0}IsValid(){return this.max_y_>=this.min_y_}}class CY{constructor(){c(this,"skia");c(this,"local_text_buffer_size_",0);c(this,"local_text_buffer_",0);this.skia=Ar}CreateGlyphBuffer(e,r,n,s,i,o){let{maybe_bounds:a,text_blob:l,chars:u}=this.ShapeText(e,r,n,s,i,o,[]);return new tY(a,u,l)}GetTextWidth(e,r,n,s,i,o,a=[]){let{maybe_bounds:l}=this.ShapeText(e,r,n,s,i,o,a,!1);return l.width()}ShapeText(e,r,n,s,i,o,a=[],l=!0){let{text_blob:u,chars:d,maybe_vertical_bounds:f,current_width:g}=this.ShapeSimpleRunWithDirection(e,r,n,i,o,a,l),x=new pr(0,f.GetY(),g,f.GetHeight());return{text_blob:u,chars:d,maybe_bounds:x}}ShapeSimpleRunWithDirection(e,r,n,s,i,o=[],a=!0){if(s)$e(),this.EnsureLocalTextBufferHasSize(n);else{let l=[],u=new TY,{text_blob:d,chars:f,current_width:g}=this.ShapeSimpleRun(e,r,n,i,u,l,0,a);return{text_blob:d,chars:f,current_width:g,maybe_vertical_bounds:u}}}ShapeSimpleRun(e,r,n,s,i,o,a=0,l=!0){let u,d=[],f="";for(let x=0;x<n;x++){const E=e.charAt(x+r);let D=kY(E),A=Aw;if(D==zb)continue;let{font:R,glyph_index:P}=s.GetCharacterFont(D),O=R;A=P,d.length>0&&u!=O&&gt(),f+=String.fromCodePoint(D);let F=O.GetGlyphBounds(A),U=O.GetGlyphWidth(A);a+=U,i&&i.IncludeRange(F.y(),F.bottom()),u=O,d.push(A)}let g;return d.length>0&&(Q(u),o&&PY(u,o),l&&(g=this.MakeTextBlob(d,u))),{text_blob:g,chars:f,current_width:a}}MakeTextBlob(e,r){return this.skia.TextBlob.MakeFromGlyphs(e,r.GetSkFont())}EnsureLocalTextBufferHasSize(e){this.local_text_buffer_size_<e&&(this.local_text_buffer_size_=e,this.local_text_buffer_=0)}}function PY(t,e){!e||!t||e.includes(t)||e.push(t)}var Zd=(t=>(t[t.kPixelFormatRGBA8=0]="kPixelFormatRGBA8",t[t.kPixelFormatBGRA8=1]="kPixelFormatBGRA8",t[t.kPixelFormatUYVY=2]="kPixelFormatUYVY",t[t.kPixelFormatY8=3]="kPixelFormatY8",t[t.kPixelFormatU8=4]="kPixelFormatU8",t[t.kPixelFormatV8=5]="kPixelFormatV8",t[t.kPixelFormatUV8=6]="kPixelFormatUV8",t[t.kPixelFormatInvalid=7]="kPixelFormatInvalid",t))(Zd||{});function u2(t){switch(t){case 0:return 4;case 1:return 4;case 3:return 1;case 4:return 1;case 5:return 1;case 6:return 2;case 2:case 7:gt()}return-1}var ou=(t=>(t[t.kAlphaFormatPremultiplied=0]="kAlphaFormatPremultiplied",t[t.kAlphaFormatUnpremultiplied=1]="kAlphaFormatUnpremultiplied",t[t.kAlphaFormatOpaque=2]="kAlphaFormatOpaque",t))(ou||{});class DY{constructor(e,r,n,s){this.size=e,this.pixel_format=r,this.alpha_format=n,this.pitch_in_bytes=s}}class RY{}class OY{GetEstimatedSizeInBytes(){return this.GetSize().width()*this.GetSize().height()*u2(0)}IsOpaque(){return!1}EnsureInitialized(){return!1}CanRenderInSkia(){return!0}}class c2 extends OY{static DCheckForPremultipliedAlpha(e,r,n,s){$e()}CanRenderInSkia(){return!0}}class cv extends c2{GetTypeId(){return lr(cv)}}class Wb extends c2{GetTypeId(){return lr(Wb)}IsOpaque(){return!0}}class h2 extends RY{constructor(r,n,s){super();c(this,"descriptor_");c(this,"pixel_data_",new Uint8Array);this.descriptor_=new DY(r,n,s,r.width()*u2(n))}GetDescriptor(){return this.descriptor_}GetMemory(){return this.pixel_data_}SetMemory(r){this.pixel_data_=r}}class BY extends cv{constructor(r,n){super();c(this,"owned_pixel_data_");c(this,"image_");c(this,"size_");c(this,"is_opaque_");r instanceof h2?(this.owned_pixel_data_=r.GetMemory().slice(),this.Initialize(this.owned_pixel_data_,r.GetDescriptor())):this.Initialize(r,n)}GetSize(){return this.size_}GetImage(){return this.image_}EnsureInitialized(){return!1}IsOpaque(){return this.is_opaque_}Initialize(r,n){this.is_opaque_=n.alpha_format==ou.kAlphaFormatOpaque,this.size_=n.size,n.pixel_format==Zd.kPixelFormatUV8?$e():this.image_=Ar.MakeImageFromEncoded(r)}}const NY=""+new URL("Roboto-Regular.79e85140.ttf",import.meta.url).href,FY=""+new URL("SourceHanSansCN-Normal.cd1c5b9c.ttf",import.meta.url).href,d2="Roboto";class IY extends qX{constructor(){super();c(this,"init",new Xx);c(this,"fontReady",new Xx);c(this,"fontDatas",new Map);c(this,"text_shaper_");c(this,"typeface_map_",new Map);this.text_shaper_=new CY,this.LoadFont()}async LoadFont(){let n=await(await fetch(NY)).arrayBuffer();this.fontDatas.set("Roboto",n);let i=await(await fetch(FY)).arrayBuffer();this.fontDatas.set('"source han sans"',i),this.fontReady.open()}CreateGlyphBuffer(r,n,s,i,o,a){return this.text_shaper_.CreateGlyphBuffer(r,n,s,i,o,a)}GetCharacterFallbackTypeface(r,n,s){return this.GetDefaultTypeface()}GetTypeface(r=d2){if(!this.typeface_map_.has(r)){const n=this.fontDatas.get(r);let i=Ar.FontMgr.RefDefault().MakeTypefaceFromData(n);const o=new i2(i);this.typeface_map_.set(r,o)}return this.typeface_map_.get(r)}GetLocalTypeface(r,n){return this.HasLocalFontFamily(r)||gt(),this.GetTypeface(r)}GetDefaultTypeface(){return this.GetTypeface()}GetTextWidth(r,n,s,i,o,a,l=[]){return this.text_shaper_.GetTextWidth(r,n,s,i,o,a,l)}HasLocalFontFamily(r){return this.fontDatas.has(r)}DrawOffscreenImage(r){$e()}PixelFormatSupported(r){return r==Zd.kPixelFormatRGBA8||r==Zd.kPixelFormatUYVY}AllocateImageData(r,n,s){return Q(this.PixelFormatSupported(n)),Q(this.AlphaFormatSupported(s)),new h2(r,n,s)}AlphaFormatSupported(r){return r==ou.kAlphaFormatPremultiplied||r==ou.kAlphaFormatOpaque}CreateImage(r){let n=r;return new BY(n)}}function ax(t){return t.type===ar.Block}function kD(t){return t.type===ar.Root}function MY(t){return t.type===ar.Text}function LY(t,e){const r=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const UY=Object.assign,GY=Object.prototype.hasOwnProperty,hv=(t,e)=>GY.call(t,e),hu=Array.isArray,lx=t=>f2(t)==="[object Map]",HY=t=>typeof t=="string",$b=t=>typeof t=="symbol",dv=t=>t!==null&&typeof t=="object",jY=Object.prototype.toString,f2=t=>jY.call(t),VY=t=>f2(t).slice(8,-1),Kb=t=>HY(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_2=(t,e)=>!Object.is(t,e);let zY;function p2(t,e=zY){e&&e.active&&e.effects.push(t)}const g2=t=>{const e=new Set(t);return e.w=0,e.n=0,e},m2=t=>(t.w&Au)>0,x2=t=>(t.n&Au)>0,WY=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Au},$Y=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const s=e[n];m2(s)&&!x2(s)?s.delete(t):e[r++]=s,s.w&=~Au,s.n&=~Au}e.length=r}},ww=new WeakMap;let ap=0,Au=1;const Sw=30;let ia;const Sc=Symbol(""),bw=Symbol("");class KY{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,p2(this,n)}run(){if(!this.active)return this.fn();let e=ia,r=bc;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ia,ia=this,bc=!0,Au=1<<++ap,ap<=Sw?WY(this):TD(this),this.fn()}finally{ap<=Sw&&$Y(this),Au=1<<--ap,ia=this.parent,bc=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ia===this?this.deferStop=!0:this.active&&(TD(this),this.onStop&&this.onStop(),this.active=!1)}}function TD(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function XY(t,e){t.effect&&(t=t.effect.fn);const r=new KY(t);e&&(UY(r,e),e.scope&&p2(r,e.scope)),(!e||!e.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function YY(t){t.effect.stop()}let bc=!0;const y2=[];function qY(){y2.push(bc),bc=!1}function QY(){const t=y2.pop();bc=t===void 0?!0:t}function uo(t,e,r){if(bc&&ia){let n=ww.get(t);n||ww.set(t,n=new Map);let s=n.get(r);s||n.set(r,s=g2()),JY(s)}}function JY(t,e){let r=!1;ap<=Sw?x2(t)||(t.n|=Au,r=!m2(t)):r=!t.has(ia),r&&(t.add(ia),ia.deps.push(t))}function wu(t,e,r,n,s,i){const o=ww.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&hu(t)){const l=Number(n);o.forEach((u,d)=>{(d==="length"||d>=l)&&a.push(u)})}else switch(r!==void 0&&a.push(o.get(r)),e){case"add":hu(t)?Kb(r)&&a.push(o.get("length")):(a.push(o.get(Sc)),lx(t)&&a.push(o.get(bw)));break;case"delete":hu(t)||(a.push(o.get(Sc)),lx(t)&&a.push(o.get(bw)));break;case"set":lx(t)&&a.push(o.get(Sc));break}if(a.length===1)a[0]&&CD(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);CD(g2(l))}}function CD(t,e){const r=hu(t)?t:[...t];for(const n of r)n.computed&&PD(n);for(const n of r)n.computed||PD(n)}function PD(t,e){(t!==ia||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ZY=LY("__proto__,__v_isRef,__isVue"),v2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($b)),eq=E2(),tq=E2(!0),DD=rq();function rq(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=nn(this);for(let i=0,o=this.length;i<o;i++)uo(n,"get",i+"");const s=n[e](...r);return s===-1||s===!1?n[e](...r.map(nn)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){qY();const n=nn(this)[e].apply(this,r);return QY(),n}}),t}function nq(t){const e=nn(this);return uo(e,"has",t),e.hasOwnProperty(t)}function E2(t=!1,e=!1){return function(n,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?yq:S2:e?xq:w2).get(n))return n;const o=hu(n);if(!t){if(o&&hv(DD,s))return Reflect.get(DD,s,i);if(s==="hasOwnProperty")return nq}const a=Reflect.get(n,s,i);return($b(s)?v2.has(s):ZY(s))||(t||uo(n,"get",s),e)?a:lp(a)?o&&Kb(s)?a:a.value:dv(a)?t?b2(a):du(a):a}}const iq=sq();function sq(t=!1){return function(r,n,s,i){let o=r[n];if(kw(o)&&lp(o)&&!lp(s))return!1;if(!t&&(!Aq(s)&&!kw(s)&&(o=nn(o),s=nn(s)),!hu(r)&&lp(o)&&!lp(s)))return o.value=s,!0;const a=hu(r)&&Kb(n)?Number(n)<r.length:hv(r,n),l=Reflect.set(r,n,s,i);return r===nn(i)&&(a?_2(s,o)&&wu(r,"set",n,s):wu(r,"add",n,s)),l}}function oq(t,e){const r=hv(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&wu(t,"delete",e,void 0),n}function aq(t,e){const r=Reflect.has(t,e);return(!$b(e)||!v2.has(e))&&uo(t,"has",e),r}function lq(t){return uo(t,"iterate",hu(t)?"length":Sc),Reflect.ownKeys(t)}const uq={get:eq,set:iq,deleteProperty:oq,has:aq,ownKeys:lq},cq={get:tq,set(t,e){return!0},deleteProperty(t,e){return!0}},Xb=t=>t,fv=t=>Reflect.getPrototypeOf(t);function pm(t,e,r=!1,n=!1){t=t.__v_raw;const s=nn(t),i=nn(e);r||(e!==i&&uo(s,"get",e),uo(s,"get",i));const{has:o}=fv(s),a=n?Xb:r?qb:Yb;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function gm(t,e=!1){const r=this.__v_raw,n=nn(r),s=nn(t);return e||(t!==s&&uo(n,"has",t),uo(n,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function mm(t,e=!1){return t=t.__v_raw,!e&&uo(nn(t),"iterate",Sc),Reflect.get(t,"size",t)}function RD(t){t=nn(t);const e=nn(this);return fv(e).has.call(e,t)||(e.add(t),wu(e,"add",t,t)),this}function OD(t,e){e=nn(e);const r=nn(this),{has:n,get:s}=fv(r);let i=n.call(r,t);i||(t=nn(t),i=n.call(r,t));const o=s.call(r,t);return r.set(t,e),i?_2(e,o)&&wu(r,"set",t,e):wu(r,"add",t,e),this}function BD(t){const e=nn(this),{has:r,get:n}=fv(e);let s=r.call(e,t);s||(t=nn(t),s=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return s&&wu(e,"delete",t,void 0),i}function ND(){const t=nn(this),e=t.size!==0,r=t.clear();return e&&wu(t,"clear",void 0,void 0),r}function xm(t,e){return function(n,s){const i=this,o=i.__v_raw,a=nn(o),l=e?Xb:t?qb:Yb;return!t&&uo(a,"iterate",Sc),o.forEach((u,d)=>n.call(s,l(u),l(d),i))}}function ym(t,e,r){return function(...n){const s=this.__v_raw,i=nn(s),o=lx(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...n),d=r?Xb:e?qb:Yb;return!e&&uo(i,"iterate",l?bw:Sc),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:a?[d(f[0]),d(f[1])]:d(f),done:g}},[Symbol.iterator](){return this}}}}function $l(t){return function(...e){return t==="delete"?!1:this}}function hq(){const t={get(i){return pm(this,i)},get size(){return mm(this)},has:gm,add:RD,set:OD,delete:BD,clear:ND,forEach:xm(!1,!1)},e={get(i){return pm(this,i,!1,!0)},get size(){return mm(this)},has:gm,add:RD,set:OD,delete:BD,clear:ND,forEach:xm(!1,!0)},r={get(i){return pm(this,i,!0)},get size(){return mm(this,!0)},has(i){return gm.call(this,i,!0)},add:$l("add"),set:$l("set"),delete:$l("delete"),clear:$l("clear"),forEach:xm(!0,!1)},n={get(i){return pm(this,i,!0,!0)},get size(){return mm(this,!0)},has(i){return gm.call(this,i,!0)},add:$l("add"),set:$l("set"),delete:$l("delete"),clear:$l("clear"),forEach:xm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=ym(i,!1,!1),r[i]=ym(i,!0,!1),e[i]=ym(i,!1,!0),n[i]=ym(i,!0,!0)}),[t,r,e,n]}const[dq,fq,_q,pq]=hq();function A2(t,e){const r=e?t?pq:_q:t?fq:dq;return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(hv(r,s)&&s in n?r:n,s,i)}const gq={get:A2(!1,!1)},mq={get:A2(!0,!1)},w2=new WeakMap,xq=new WeakMap,S2=new WeakMap,yq=new WeakMap;function vq(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eq(t){return t.__v_skip||!Object.isExtensible(t)?0:vq(VY(t))}function du(t){return kw(t)?t:k2(t,!1,uq,gq,w2)}function b2(t){return k2(t,!0,cq,mq,S2)}function k2(t,e,r,n,s){if(!dv(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Eq(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function kw(t){return!!(t&&t.__v_isReadonly)}function Aq(t){return!!(t&&t.__v_isShallow)}function nn(t){const e=t&&t.__v_raw;return e?nn(e):t}const Yb=t=>dv(t)?du(t):t,qb=t=>dv(t)?b2(t):t;function lp(t){return!!(t&&t.__v_isRef===!0)}function T2(t){if(_v(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=T0(n)?kq(n):T2(n);if(s)for(const i in s)e[i]=s[i]}return e}else{if(T0(t))return t;if(pv(t))return t}}const wq=/;(?![^(]*\))/g,Sq=/:([^]+)/,bq=/\/\*.*?\*\//gs;function kq(t){const e={};return t.replace(bq,"").split(wq).forEach(r=>{if(r){const n=r.split(Sq);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function C2(t){let e="";if(T0(t))e=t;else if(_v(t))for(let r=0;r<t.length;r++){const n=C2(t[r]);n&&(e+=n+" ")}else if(pv(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Tq=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Cq=Object.prototype.hasOwnProperty,Pq=(t,e)=>Cq.call(t,e),_v=Array.isArray,T0=t=>typeof t=="string",pv=t=>t!==null&&typeof t=="object",Dq=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Rq=/-(\w)/g,Oq=Dq(t=>t.replace(Rq,(e,r)=>r?r.toUpperCase():"")),Ey=[],Bq=t=>{Ey.includes(t)||Ey.push(t)},Nq=()=>{for(const t of Ey)t();Ey.length=0};iX(Nq);const Fq=/^(spellcheck|draggable|form|list|type)$/,Tw=({el:t,get:e,effect:r,arg:n,modifiers:s})=>{let i;n==="class"&&(t._class=t.className),r(()=>{let o=e();if(n)s!=null&&s.camel&&(n=Oq(n)),HE(t,n,o,i);else{for(const a in o)HE(t,a,o[a],i&&i[a]);for(const a in i)(!o||!(a in o))&&HE(t,a,null)}i=o})},HE=(t,e,r,n)=>{if(e==="class")t.setAttribute("class",C2(t._class?[t._class,r]:r)||"");else if(e==="style"){r=T2(r);const{style:s}=t;if(!r)t.removeAttribute("style");else if(T0(r))$e();else{for(const i in r)Cw(s,i,r[i]);if(n&&!T0(n))for(const i in n)r[i]==null&&Cw(s,i,"")}}else!(t instanceof SVGElement)&&e in t&&!Fq.test(e)?(t[e]=r,e==="value"&&(t._value=r)):e==="true-value"?t._trueValue=r:e==="false-value"?t._falseValue=r:r!=null?t.setAttribute(e,r):t.removeAttribute(e)},Iq=/\s*!important$/,Cw=(t,e,r)=>{_v(r)?r.forEach(n=>Cw(t,e,n)):e.startsWith("--")?t.setProperty(e,r):Iq.test(r)?$e():Reflect.set(t,e,r)},Mq=({el:t,get:e,effect:r})=>{const n=t.style.display;r(()=>{t.style.display=e()?n:"none"})},P2=({el:t,get:e,effect:r})=>{r(()=>{const n=D2(e());t.IsText()?t.textContent=n:(Q(t.tagName===uu.kTagName),t.firstChild?t.firstChild.textContent=n:t.textContent=n)})},D2=t=>t==null?"":pv(t)?JSON.stringify(t,null,2):String(t),Lq=({el:t,get:e,effect:r})=>{r(()=>{$e()})},Uq=({el:t,exp:e,get:r,effect:n,modifiers:s})=>{t.type,r(`(val) => { ${e} = val }`)},Gq={bind:Tw,show:Mq,text:P2,html:Lq,model:Uq},FD=Object.create(null),md=(t,e,r)=>Hq(t,`return(${e})`,r),Hq=(t,e,r)=>{const n=FD[e]||(FD[e]=jq(e));try{return n(t,r)}catch(s){En(oi,`Error when evaluating expression "${e}":`),console.error(s)}},jq=t=>{try{return new Function("$data","$el",`with($data){${t}}`)}catch(e){return console.error(`${e.message} in expression: ${t}`),()=>{}}};class R2 extends $S{constructor(r,n,s){var e=(...args)=>{super(...args);c(this,"data_")};Q(r==Ns.kCreateOther||r==Ns.kCreateText||r==Ns.kCreateEditingText),ki(n)?(e(r),this.data_=n):(e(r,n),this.data_=s)}get nodeValue(){return this.data_}set nodeValue(r){r?this.set_data(r):this.set_data("")}text_content(){return this.data_}set_text_content(r){r?this.set_data(r):this.set_data("")}get data(){return this.data_}set_data(r){var n;this.data_=r,this.InvalidateLayoutBoxesOfNodeAndAncestors(),(n=this.GetDocument())==null||n.OnDOMMutation()}text(){return this.data_}AsCharacterData(){return this}length(){return this.data_.length}}class gv extends R2{constructor(e,r){ki(e)?super(Ns.kCreateText,e):super(Ns.kCreateText,e,r)}get nodeName(){return"#text"}getNodeType(){return wo.kTextNode}AsText(){return this}Accept(e){e.VisitText(this)}Duplicate(){let e=new gv(this.data);return e.node_document_=this.node_document_,e}}const Vq=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ID=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,zq=/^\(|\)$/g,Wq=/^[{[]\s*((?:[\w_$]+\s*,?\s*)+)[\]}]$/,$q=(t,e,r)=>{const n=e.match(Vq);if(!n){En(oi,`invalid v-for expression: ${e}`);return}const s=t.nextSibling,i=t.parentElement,o=new gv("");Reflect.set(o,"$anchor",!0),i.insertBefore(o,t),i.removeChild(t);const a=n[2].trim();let l=n[1].trim().replace(zq,"").trim(),u,d=!1,f,g,x="key",E=t.getAttribute(x)||t.getAttribute(x=":key")||t.getAttribute(x="v-bind:key");E&&(t.removeAttribute(x),x==="key"&&(E=JSON.stringify(E)));let D;(D=l.match(ID))&&(l=l.replace(ID,"").trim(),f=D[1].trim(),D[2]&&(g=D[2].trim())),(D=l.match(Wq))&&(u=D[1].split(",").map(N=>N.trim()),d=l[0]==="[");let A=!1,R,P,O;const F=N=>{const T=new Map,M=[];if(_v(N))for(let $=0;$<N.length;$++)M.push(U(T,N[$],$));else if(typeof N=="number")for(let $=0;$<N;$++)M.push(U(T,$+1,$));else if(pv(N)){let $=0;for(const J in N)M.push(U(T,N[J],$++,J))}return[M,T]},U=(N,T,M,$)=>{const J={};u?u.forEach((ge,Fe)=>J[ge]=T[d?Fe:ge]):J[l]=T,$?(f&&(J[f]=$),g&&(J[g]=M)):f&&(J[f]=M);const Z=Pw(r,J),re=E?md(Z.scope,E):M;return N.set(re,M),Z.key=re,Z},B=(N,T)=>{let M=t.getAttribute("v-scope"),$;if(M||t.hasAttribute("v-scope")){const Z=M?md(N.scope,M):{};N=Pw(N,Z),Z.$template&&($=Z.$template().AsElement())}const J=new Jb($||t,N);return J.key=N.key,J.insert(i,T),J};return r.effect(()=>{const N=md(r.scope,a),T=O;if([P,O]=F(N),!A)R=P.map(M=>B(M,o)),A=!0;else{for(let re=0;re<R.length;re++)O.has(R[re].key)||R[re].remove();const M=[];let $=P.length,J,Z;for(;$--;){const re=P[$],ge=T.get(re.key);let Fe;ge==null?Fe=B(re,J?J.el:o):(Fe=R[ge],Object.assign(Fe.ctx.scope,re.scope),ge!==$&&(R[ge+1]!==J||Z===J)&&(Z=Fe,Fe.insert(i,J?J.el:o))),M.unshift(J=Fe)}R=M}}),s},Op=(t,e)=>{const r=t.getAttribute(e);return r!=null&&t.removeAttribute(e),r};class Qb extends R2{constructor(e,r){ki(e)?super(Ns.kCreateOther,e):super(Ns.kCreateOther,e,r)}get nodeName(){return"#comment"}getNodeType(){return wo.kCommentNode}AsComment(){return this}Accept(e){e.VisitComment(this)}Duplicate(){let e=new Qb(this.data);return e.node_document_=this.node_document_,e}}const Kq=(t,e,r)=>{En(oi,"v-if expression cannot be empty.");const n=t.parentElement,s=new Qb("v-if");n.insertBefore(s,t);const i=[{exp:e,el:t}];let o,a;for(;(o=t.nextElementSibling)&&(a=null,Op(o,"v-else")===""||(a=Op(o,"v-else-if")));)n.removeChild(o),i.push({exp:a,el:o});const l=t.nextSibling;n.removeChild(t);let u,d=-1;const f=()=>{u&&(n.insertBefore(s,u.el),u.remove(),u=void 0)};return r.effect(()=>{for(let g=0;g<i.length;g++){const{exp:x,el:E}=i[g];if(!x||md(r.scope,x)){g!==d&&(f(),u=new Jb(E,r),u.insert(n,s),n.removeChild(s),d=g);return}}d=-1,f()}),l},Xq=/^(?:v-|:|@)/,Yq=/\.([\w-]+)/g,O2=(t,e)=>{const r=t.nodeType;if(r===wo.kElementNode){let n,s=t;if(n=Op(s,"v-if"))return Kq(s,n,e);if(n=Op(s,"v-for"))return $q(s,n,e);if((n=Op(s,"v-scope"))||n===""){const o=n?md(e.scope,n):{};e=Pw(e,o),o.$template&&s.appendChild(o.$template())}qq(s,e);const i=[];for(const[o,a]of[...s.attributes])Xq.test(o)&&o!=="v-cloak"&&(o==="v-model"?i.unshift([o,a]):o[0]==="@"||/^v-on\b/.test(o)?i.push([o,a]):MD(s,o,a,e));for(const[o,a]of i)MD(s,o,a,e)}else if(r===wo.kTextNode){const n=t.data;if(n.includes(e.delimiters[0])){let s=[],i=0,o;for(;o=e.delimitersRE.exec(n);){const a=n.slice(i,o.index);a&&s.push(JSON.stringify(a)),s.push(`$s(${o[1]})`),i=o.index+o[0].length}i<n.length&&s.push(JSON.stringify(n.slice(i))),B2(t,P2,s.join("+"),e)}}},qq=(t,e)=>{let r=t.firstChild;for(;r;)r=O2(r,e)||r.nextSibling},MD=(t,e,r,n)=>{let s,i,o;if(e=e.replace(Yq,(a,l)=>((o||(o={}))[l]=!0,"")),e[0]===":")s=Tw,i=e.slice(1);else{const a=e.indexOf(":"),l=a>0?e.slice(2,a):e.slice(2);s=Gq[l]||n.dirs[l],i=a>0?e.slice(a+1):void 0}s?(s===Tw&&i==="ref"&&$e(),B2(t,s,r,n,i,o),t.removeAttribute(e)):En(pp,`unknown custom directive ${e}.`)},B2=(t,e,r,n,s,i)=>{const a=e({el:t,get:(l=r)=>md(n.scope,l,t),effect:n.effect,ctx:n,exp:r,arg:s,modifiers:i});a&&n.cleanups.push(a)},N2=t=>{const e={...t,scope:t?t.scope:du({}),dirs:t?t.dirs:{},effects:[],blocks:[],cleanups:[],delimiters:["{{","}}"],delimitersRE:/\{\{([^]+?)\}\}/g,effect:r=>{const n=XY(r,{scheduler:()=>Bq(n)});return e.effects.push(n),n}};return e},Pw=(t,e={})=>{const r=t.scope,n=Object.create(r);Object.defineProperties(n,Object.getOwnPropertyDescriptors(e));const s=du(new Proxy(n,{set(i,o,a,l){return l===s&&!Pq(i,o)?Reflect.set(r,o,a):Reflect.set(i,o,a,l)}}));return{...t,scope:s}};class Jb{constructor(e,r,n=!1){c(this,"template");c(this,"ctx");c(this,"key");c(this,"parentCtx");c(this,"start");c(this,"end");this.template=e,n?this.ctx=r:(this.parentCtx=r,r.blocks.push(this),this.ctx=N2(r)),O2(this.template,this.ctx)}get el(){return this.start||this.template}insert(e,r){e.insertBefore(this.template,r)}remove(){if(this.parentCtx&&Tq(this.parentCtx.blocks,this),this.start){const e=this.start.parentNode;let r=this.start,n;for(;r&&(n=r.nextSibling,e.removeChild(r),r!==this.end);)r=n}else this.template.parentNode.removeChild(this.template);this.teardown()}teardown(){this.ctx.blocks.forEach(e=>{e.teardown()}),this.ctx.effects.forEach(YY),this.ctx.cleanups.forEach(e=>e())}}const Qq=(t={})=>{const e=N2();Object.assign(t,{$s:D2}),e.scope=du(t);let r;return{directive(n,s){return s?(e.dirs[n]=s,this):e.dirs[n]},mount(n){return r=[n].map(i=>new Jb(i,e,!0)),this},unmount(){r.forEach(n=>n.teardown())}}};function Jq(t,e){const r=e.createElement("body");Object.assign(r.style,{display:"block",position:"relative"});const n=e.createElement("div");n.setAttribute("v-for","child in vm.children"),n.setAttribute("v-scope","getComponent(child)"),n.setAttribute("v-bind:key","child.id"),r.appendChild(n),r.setAttribute(Cp,t.root.value.id),e.documentElement.appendChild(r),Reflect.set(window,"dumpHTML",()=>{console.log(e.documentElement.innerHTML)});const s=(u,d="")=>{if(ax(u))return o(u,d);if(MY(u))return a(u,d);$e()},i=u=>({vm:u,getComponent:s}),o=(u,d="")=>{const f=u.isFragmentPlaceholder?`${d}/${u.id}`:d;return{vm:u,scope:d,scopeOfChild:f,$template:()=>{const g=e.createElement("div");g.setAttribute(`v-bind:${Cp}`,"vm.id"),g.setAttribute(`v-bind:${VA}`,"vm.type"),g.setAttribute(`v-bind:${jA}`,"scope"),g.setAttribute(`v-bind:${c3}`,'vm.fragment ? vm.fragment.id : ""'),g.setAttribute("v-bind:style","vm.style");const x=e.createElement("div");return x.setAttribute("v-for","child in vm.children"),x.setAttribute("v-scope","getComponent(child, scopeOfChild)"),x.setAttribute("v-bind:key","child.id"),g.appendChild(x),g},getComponent:s}},a=(u,d="")=>({vm:u,scope:d,nodeType:ar.Text,$template:()=>{const f=e.createElement(uu.kTagName);return f.setAttribute(`v-bind:${Cp}`,"vm.id"),f.setAttribute(`v-bind:${VA}`,"nodeType"),f.setAttribute(`v-bind:${jA}`,"scope"),f.setAttribute("v-bind:style","vm.style"),f.setAttribute("v-text","vm.content"),f}});let l=Qq(i(t.root.value)).mount(e.body);return zn(()=>l.unmount())}const Uy=class extends Pi{constructor(e){e?super(e,Uy.kTagName):super(Uy.kTagName)}};let Bp=Uy;c(Bp,"kTagName","div");const nT=class extends Pi{constructor(e){super(e,nT.kTagName)}};let ux=nT;c(ux,"kTagName","em");const iT=class extends Pi{constructor(e){super(e,iT.kTagName)}};let cx=iT;c(cx,"kTagName","strong");const sT=class extends Pi{constructor(e){super(e,sT.kTagName)}};let hx=sT;c(hx,"kTagName","html");const oT=class extends Pi{constructor(e){super(e,oT.kTagName)}AsHTMLBodyElement(){return this}};let dx=oT;c(dx,"kTagName","body");class F2 extends Pi{}c(F2,"kTagNames",["h1","h2","h3","h4","h5","h6"]);const aT=class extends Pi{constructor(e){super(e,aT.kTagName)}};let fx=aT;c(fx,"kTagName","a");function Rg(t,e){return t*e}function Zq(t,e){return t-e}function eQ(t,e){return t+e}class Ur{constructor(e=0){c(this,"delta_",0);this.delta_=bs(e)}static FromDays(e){return tQ(e)}static FromHours(e){return rQ(e)}static FromMinutes(e){return nQ(e)}static FromSeconds(e){return iQ(e)}static FromMilliseconds(e){return sQ(e)}static FromMicroseconds(e){return Dw(e)}static Max(){return new Ur(Number.MAX_SAFE_INTEGER)}static Min(){return new Ur(Number.MIN_SAFE_INTEGER)}static FromInternalValue(e){return new Ur(e)}is_max(){return this.EQ(Ur.Max())}is_min(){return this.EQ(Ur.Min())}is_inf(){return this.is_min()||this.is_max()}DivideOrMax(e){return this.is_max()?Number.MAX_VALUE:this.delta_/e}InMicroseconds(){return this.delta_}InMilliseconds(){return this.is_inf()?this.delta_<0?Number.MIN_VALUE:Number.MAX_VALUE:this.delta_/I2.kMicrosecondsPerMillisecond}InSeconds(){return this.DivideOrMax(Jr.kMicrosecondsPerSecond)}SUB(e){return e.is_inf()?(this.delta_,e.delta_,e.delta_<0?Ur.Max():Ur.Min()):new Ur(Zq(this.delta_,e.delta_))}ADD(e){return e.is_inf()?(!this.is_inf()||this.delta_==e.delta_,e):new Ur(eQ(this.delta_,e.delta_))}EQ(e){return this.delta_==e.delta_}LT(e){return this.delta_<e.delta_}GT(e){return this.delta_>e.delta_}GE(e){return this.delta_>=e.delta_}}function tQ(t){return Ur.FromInternalValue(Rg(t,Jr.kMicrosecondsPerDay))}function rQ(t){return Ur.FromInternalValue(Rg(t,Jr.kMicrosecondsPerHour))}function nQ(t){return Ur.FromInternalValue(Rg(t,Jr.kMicrosecondsPerMinute))}function iQ(t){return Ur.FromInternalValue(Rg(t,Jr.kMicrosecondsPerSecond))}function sQ(t){return Ur.FromInternalValue(Rg(t,Jr.kMicrosecondsPerMillisecond))}function Dw(t){return Ur.FromInternalValue(t)}const $r=class{constructor(e=0){c(this,"us_");this.us_=e}is_null(){return this.us_==0}is_max(){return this.EQ($r.Max())}is_min(){return this.EQ($r.Min())}is_inf(){return this.is_min()||this.is_max()}static Max(){return new $r(Number.MAX_VALUE)}static Min(){return new $r(Number.MIN_VALUE)}ToInternalValue(){return this.us_}ASSIGN(e){return this.us_=e.us_,this}ADD(e){return new $r(this.us_+e.InMicroseconds())}SUB(e){if(e instanceof $r)return Dw(this.us_-e.us_);if(e instanceof Ur)return new $r(Dw(this.us_).ADD(e).InMicroseconds());gt()}ADD_ASSIGN(e){return this.ASSIGN(this.ADD(e))}SUB_ASSIGN(e){return this.ASSIGN(this.SUB(e))}EQ(e){return this.us_==e.us_}NE(e){return this.us_!=e.us_}LT(e){return this.us_<e.us_}LE(e){return this.us_<=e.us_}GT(e){return this.us_>e.us_}GE(e){return this.us_>=e.us_}};let Jr=$r;c(Jr,"kHoursPerDay",24),c(Jr,"kSecondsPerMinute",60),c(Jr,"kMinutesPerHour",60),c(Jr,"kSecondsPerHour",$r.kSecondsPerMinute*$r.kMinutesPerHour),c(Jr,"kMillisecondsPerSecond",1e3),c(Jr,"kMillisecondsPerDay",$r.kMillisecondsPerSecond*$r.kSecondsPerHour*$r.kHoursPerDay),c(Jr,"kMicrosecondsPerMillisecond",1e3),c(Jr,"kMicrosecondsPerSecond",$r.kMicrosecondsPerMillisecond*$r.kMillisecondsPerSecond),c(Jr,"kMicrosecondsPerMinute",$r.kMicrosecondsPerSecond*$r.kSecondsPerMinute),c(Jr,"kMicrosecondsPerHour",$r.kMicrosecondsPerMinute*$r.kMinutesPerHour),c(Jr,"kMicrosecondsPerDay",$r.kMicrosecondsPerHour*$r.kHoursPerDay),c(Jr,"kMicrosecondsPerWeek",$r.kMicrosecondsPerDay*7),c(Jr,"kNanosecondsPerMicrosecond",1e3),c(Jr,"kNanosecondsPerSecond",$r.kNanosecondsPerMicrosecond*$r.kMicrosecondsPerSecond);class I2 extends Jr{}class $i extends Jr{static Now(){return new $i(Date.now())}}class oQ{constructor(e){this.toDispose=e}dispose(){this.toDispose.dispose()}}function aQ(t){lQ.register(t,new oQ(t))}const lQ=new FinalizationRegistry(t=>{t.dispose()});class uQ{constructor(e){c(this,"timer_");aQ(this),this.timer_=e}dispose(){this.timer_&&this.timer_.AbandonAndStop()}Run(){if(!this.timer_)return;this.timer_.scheduled_task_=void 0;let e=this.timer_;this.timer_=void 0,e.RunScheduledTask()}Abandon(){this.timer_=void 0}}class M2{constructor(e){c(this,"delay_");c(this,"desired_run_time_");c(this,"scheduled_task_");c(this,"is_running_",!1);c(this,"scheduled_run_time_");this.delay_=e}Stop(){this.is_running_=!1,this.OnStop()}IsRunning(){return this.is_running_}StartInternal(e){this.delay_=e,this.Reset()}AbandonAndStop(){this.AbandonScheduledTask(),this.Stop()}AbandonScheduledTask(){this.scheduled_task_&&(this.scheduled_task_.Abandon(),this.scheduled_task_=void 0)}RunScheduledTask(){if(!!this.is_running_){if(Q(this.desired_run_time_),this.desired_run_time_.GT(this.scheduled_run_time_)){let e=$i.Now();if(this.desired_run_time_.GT(e)){this.PostNewScheduledTask(this.desired_run_time_.SUB(e));return}}this.RunUserTask()}}PostNewScheduledTask(e){Q(!this.scheduled_task_),this.is_running_=!0,this.scheduled_task_=new uQ(this),e.GT(Ur.FromMilliseconds(0))?(setTimeout(()=>this.scheduled_task_.Run(),e.InMilliseconds()),this.scheduled_run_time_=this.desired_run_time_=$i.Now().ADD(e)):(setTimeout(()=>this.scheduled_task_.Run(),0),this.scheduled_run_time_=this.desired_run_time_=new $i)}Reset(){if(Q(this.delay_),!this.scheduled_task_){this.PostNewScheduledTask(this.delay_);return}if(this.delay_.GT(Ur.FromMicroseconds(0))?this.desired_run_time_=$i.Now().ADD(this.delay_):this.desired_run_time_=new $i,this.desired_run_time_.GE(this.scheduled_run_time_)){this.is_running_=!0;return}this.AbandonScheduledTask(),this.PostNewScheduledTask(this.delay_)}GetCurrentDelay(){return this.delay_}}class cQ extends M2{constructor(r,n){super(r);c(this,"user_task_");this.user_task_=n,r&&n&&n()}Start(r,n){n()}RunUserTask(){let r=this.user_task_;this.PostNewScheduledTask(this.GetCurrentDelay()),r&&r()}OnStop(){}}class L2 extends M2{constructor(){super();c(this,"user_task_")}Start(r,n){this.user_task_=n,this.StartInternal(r)}FireNow(){Q(this.IsRunning()),this.RunUserTask()}OnStop(){this.user_task_=void 0}RunUserTask(){let r=this.user_task_;this.Stop(),Q(r),r()}}class U2{constructor(e,r,n){c(this,"cached_resource_");c(this,"success_callback_");c(this,"error_callback_");this.cached_resource_=e,this.success_callback_=r,this.error_callback_=n,Q(this.cached_resource_),this.success_callback_&&(this.cached_resource_.AddCallback(0,this.success_callback_),this.cached_resource_.HasResource()&&this.success_callback_()),this.error_callback_&&this.cached_resource_.AddCallback(1,this.error_callback_)}dispose(){this.success_callback_&&this.cached_resource_.RemoveCallback(0,this.success_callback_),this.error_callback_&&this.cached_resource_.RemoveCallback(1,this.error_callback_)}GetCachedResource(){return this.cached_resource_}}class hQ{constructor(e,r,n,s,i,o,a,l){c(this,"owner_");c(this,"url_");c(this,"start_loading_func_");c(this,"on_retry_loading_");c(this,"are_loading_retries_enabled_func_");c(this,"on_resource_loaded_");c(this,"loader_");c(this,"callback_lists_",[[],[]]);c(this,"are_completion_callbacks_enabled_",!1);c(this,"completion_callback_");c(this,"is_resource_timing_created_flag_");c(this,"resource_");this.owner_=e,this.url_=r,this.start_loading_func_=s.bind(null,this),this.on_retry_loading_=i.bind(null,this),this.are_loading_retries_enabled_func_=a,this.on_resource_loaded_=l.bind(null,this),this.is_resource_timing_created_flag_=!1,this.resource_=n,n||this.StartLoading()}url(){return this.url_}IsLoadingComplete(){return!this.loader_}get_resource_timing_created_flag(){return this.is_resource_timing_created_flag_}set_resource_timing_created_flag(e){this.is_resource_timing_created_flag_=e}AddCallback(e,r){this.callback_lists_[e].push(r)}RemoveCallback(e,r){let n=this.callback_lists_[e],s=n.indexOf(r);Q(s!==-1),n.splice(s,1)}RunCallbacks(e){let r=this.callback_lists_[e];for(let n of r)n()}EnableCompletionCallbacks(){this.are_completion_callbacks_enabled_=!0,this.completion_callback_&&this.completion_callback_()}StartLoading(){Q(!this.loader_),this.loader_=this.start_loading_func_()}ScheduleLoadingRetry(){$e()}OnLoadingComplete(e){e?(mc(oi," Error while loading '",this.url_,"': ",e),this.HasResource()&&(mc(oi,"A resource was produced but there was still an error."),this.ResetResource()),this.loader_=void 0,this.completion_callback_=this.on_resource_loaded_.bind(null,1),this.are_completion_callbacks_enabled_&&this.completion_callback_()):(this.loader_=void 0,this.completion_callback_=this.on_resource_loaded_.bind(null,0),this.are_completion_callbacks_enabled_&&this.completion_callback_())}TryGetResource(){return this.resource_}OnContentProduced(e){Q(!this.resource_),this.resource_=e}HasResource(){return!!this.resource_}ResetResource(){this.resource_=void 0}}class dQ{constructor(e,r,n){c(this,"cached_resource_loaded_callback_handler_");this.cached_resource_loaded_callback_handler_=new U2(e,r,n)}GetCachedResource(){return this.cached_resource_loaded_callback_handler_.GetCachedResource()}}class fQ{constructor(e,r){this.cached_resource=e,this.callback_type=r}}class G2{constructor(e,r,n,s,i){c(this,"name_");c(this,"are_loading_retries_enabled_");c(this,"cache_capacity_");c(this,"callback_blocking_loading_resource_set_",new Set);c(this,"non_callback_blocking_loading_resource_set_",new Set);c(this,"pending_callback_map_",new Map);c(this,"process_pending_callback_timer_",new L2);c(this,"is_processing_pending_callbacks_",!1);c(this,"are_callbacks_disabled_",!1);c(this,"memory_size_in_bytes_");c(this,"memory_capacity_in_bytes_");c(this,"memory_resources_loaded_in_bytes_");c(this,"count_resources_requested_");c(this,"count_resources_loading_");c(this,"count_resources_loaded_");c(this,"count_resources_cached_");c(this,"count_pending_callbacks_");c(this,"create_loader_function_");c(this,"notify_resource_requested_function_");c(this,"cached_resource_map_",new Map);c(this,"unreferenced_cached_resource_map_",new Map);this.name_=e,this.are_loading_retries_enabled_=n,this.cache_capacity_=r,this.memory_size_in_bytes_=0,this.memory_capacity_in_bytes_=this.cache_capacity_,this.memory_resources_loaded_in_bytes_=0,this.count_resources_requested_=0,this.count_resources_loading_=0,this.count_resources_loaded_=0,this.count_resources_cached_=0,this.count_pending_callbacks_=0,this.create_loader_function_=s,this.notify_resource_requested_function_=i,Q(this.create_loader_function_)}NotifyResourceLoadingRetryScheduled(e){$e()}ReclaimMemoryAndMaybeProcessPendingCallbacks(e){this.ReclaimMemory(e,!1),this.memory_size_in_bytes_>e&&(this.ProcessPendingCallbacks(),this.ReclaimMemory(e,!0))}ProcessPendingCallbacksIfUnblocked(){if(this.callback_blocking_loading_resource_set_.size===0){if(this.ProcessPendingCallbacks(),this.non_callback_blocking_loading_resource_set_.size){let e=this.callback_blocking_loading_resource_set_;this.callback_blocking_loading_resource_set_=this.non_callback_blocking_loading_resource_set_,this.non_callback_blocking_loading_resource_set_=e}}else this.pending_callback_map_.size&&this.process_pending_callback_timer_.Start(Ur.FromMilliseconds(500),this.ProcessPendingCallbacks.bind(this))}are_loading_retries_enabled(){return this.are_loading_retries_enabled_}capacity(){return this.cache_capacity_}SetCapacity(e){this.cache_capacity_=e,this.memory_capacity_in_bytes_=e,this.ReclaimMemoryAndMaybeProcessPendingCallbacks(this.cache_capacity_)}Purge(){this.ProcessPendingCallbacks(),this.ReclaimMemoryAndMaybeProcessPendingCallbacks(0)}ProcessPendingCallbacks(){if(!this.are_callbacks_disabled_){this.is_processing_pending_callbacks_=!0;for(let[e,r]of this.pending_callback_map_)r.cached_resource.RunCallbacks(r.callback_type),this.pending_callback_map_.delete(e);this.is_processing_pending_callbacks_=!1,this.count_pending_callbacks_=0}}DisableCallbacks(){this.are_callbacks_disabled_=!0}GetOrCreateCachedResource(e){Q(e),this.notify_resource_requested_function_&&this.notify_resource_requested_function_(e);for(let[n,s]of this.cached_resource_map_)if(n===e)return s;++this.count_resources_requested_;let r=new hQ(this,e,void 0,this.StartLoadingResource.bind(this),this.NotifyResourceLoadingRetryScheduled.bind(this),this.NotifyResourceDestroyed.bind(this),this.are_loading_retries_enabled.bind(this),this.NotifyResourceLoadingComplete.bind(this));return this.cached_resource_map_.set(e,r),r.EnableCompletionCallbacks(),r}StartLoadingResource(e){let r=e.url();return this.pending_callback_map_.size===0?this.callback_blocking_loading_resource_set_.add(r):this.non_callback_blocking_loading_resource_set_.add(r),++this.count_resources_loading_,this.create_loader_function_(e.url(),e.OnContentProduced.bind(e),e.OnLoadingComplete.bind(e))}NotifyResourceLoadingComplete(e,r){const n=e.url();if(e.TryGetResource()){let i=e.TryGetResource().GetEstimatedSizeInBytes();this.memory_size_in_bytes_+=i,this.memory_resources_loaded_in_bytes_+=i,++this.count_resources_loaded_,++this.count_resources_cached_}this.callback_blocking_loading_resource_set_.has(n)?(this.callback_blocking_loading_resource_set_.delete(n),Q(!this.non_callback_blocking_loading_resource_set_.has(n))):this.non_callback_blocking_loading_resource_set_.has(n)?this.non_callback_blocking_loading_resource_set_.delete(n):Q(!1),this.pending_callback_map_.set(n,new fQ(e,r)),++this.count_pending_callbacks_,--this.count_resources_loading_,this.ProcessPendingCallbacksIfUnblocked(),this.ReclaimMemoryAndMaybeProcessPendingCallbacks(this.cache_capacity_)}NotifyResourceDestroyed(e){$e()}NotifyWeakResourceDestroyed(e){$e()}ReclaimMemory(e,r){let n=[this.unreferenced_cached_resource_map_];for(let s=0;s<n.length;++s)for(;this.memory_size_in_bytes_>e&&n[s].size;){let o=Array.from(n[s].keys())[0],l=n[s].get(o).GetEstimatedSizeInBytes();n[s].delete(o),this.memory_size_in_bytes_-=l,--this.count_resources_cached_}r&&TI(oi,this.memory_size_in_bytes_>e,"cached size: ",this.memory_size_in_bytes_,", target size: ",e)}}const lT=class extends Pi{constructor(r){super(r,lT.kTagName);c(this,"cached_image_");c(this,"cached_image_loaded_callback_handler_")}src(){return this.getAttribute("src")||""}set_src(r){this.setAttribute("src",r)}AsHTMLImageElement(){return this}PurgeCachedBackgroundImagesOfNodeAndDescendants(){!this.cached_image_loaded_callback_handler_||this.OnLoadingError()}OnSetAttribute(r,n){r=="src"?this.UpdateImageData():Pi.prototype.OnSetAttribute.call(this,r,n)}OnRemoveAttribute(r){r=="src"?this.UpdateImageData():Pi.prototype.OnRemoveAttribute.call(this,r)}UpdateImageData(){Q(this.GetDocument()),this.cached_image_loaded_callback_handler_&&(this.cached_image_loaded_callback_handler_=void 0,this.GetDocument().DecreaseLoadingCounter());let n=this.getAttribute("src")||"",s;if(n){let i=n;if(s=this.GetDocument().html_element_context().image_cache().GetOrCreateCachedResource(i),Q(s),this.cached_image_=s,s.TryGetResource())return}else return;this.GetDocument().IncreaseLoadingCounter(),this.cached_image_loaded_callback_handler_=new U2(s,this.OnLoadingSuccess.bind(this),this.OnLoadingError.bind(this))}OnLoadingSuccess(){this.GetDocument()&&this.GetDocument().DecreaseLoadingCounterAndMaybeDispatchLoadEvent(),this.cached_image_loaded_callback_handler_=void 0}OnLoadingError(){this.GetDocument()&&this.GetDocument().DecreaseLoadingCounterAndMaybeDispatchLoadEvent(),this.cached_image_loaded_callback_handler_=void 0}GetResource(){var r;return(r=this.cached_image_)==null?void 0:r.TryGetResource()}};let _x=lT;c(_x,"kTagName","img");class _Q{constructor(e,r,n){this.d=e,this.fill=r,this.stroke=n}}function Kl(t){jr(0,t),hs(1,t)}class nh{constructor(e=0,r=0,n=0,s=0){c(this,"r_");c(this,"g_");c(this,"b_");c(this,"a_");if(arguments.length===1){let i=e;this.a_=(i&255)/255,i>>=8,this.b_=(i&255)/255,i>>=8,this.g_=(i&255)/255,i>>=8,this.r_=(i&255)/255}else Kl(e),this.r_=e,Kl(r),this.g_=r,Kl(n),this.b_=n,Kl(s),this.a_=s}HasAlpha(){return this.a_<1}set_r(e){Kl(e),this.r_=e}set_g(e){Kl(e),this.g_=e}set_b(e){Kl(e),this.b_=e}set_a(e){Kl(e),this.a_=e}r(){return em(this.r_,0,1)}g(){return em(this.g_,0,1)}b(){return em(this.b_,0,1)}a(){return em(this.a_,0,1)}rgb8_r(){return Math.round(this.r()*255)}rgb8_g(){return Math.round(this.g()*255)}rgb8_b(){return Math.round(this.b()*255)}rgb8_a(){return Math.round(this.a()*255)}EQ(e){let r=this;return r.r()==e.r()&&r.g()==e.g()&&r.b()==e.b()&&r.a()==e.a()}CLONE(){return new nh(this.r(),this.g(),this.b(),this.a())}}const Gy=class extends Pi{constructor(e){e?super(e,Gy.kTagName):super(Gy.kTagName)}AsFreehandElement(){return this}Accept(e){e.VisitElement(this)}GetPath(){var o;const e=(o=this.getAttribute("d"))!=null?o:"",r=this.getAttribute("fill"),n=this.getAttribute("stroke");let s,i;if(r){const a=Ai.fromHex(r);if(a){const l=a.rgba;s=new nh(l.r,l.g,l.b,l.a)}}if(n){const a=Ai.fromHex(n);if(a){const l=a.rgba;i=new nh(l.r,l.g,l.b,l.a)}}return new _Q(e,s,i)}};let Np=Gy;c(Np,"kTagName","x-freehand");const uT=class extends Pi{constructor(e){super(e,uT.kTagName)}AsHTMLBRElement(){return this}};let px=uT;c(px,"kTagName","br");class pQ{constructor(){c(this,"tag_name_to_create_html_element_t_callback_map_",new Map);this.RegisterHTMLElementWithSingleTagName(fx),this.RegisterHTMLElementWithSingleTagName(Bp),this.RegisterHTMLElementWithSingleTagName(gd),this.RegisterHTMLElementWithSingleTagName(uu),this.RegisterHTMLElementWithSingleTagName(ux),this.RegisterHTMLElementWithSingleTagName(cx),this.RegisterHTMLElementWithSingleTagName(hx),this.RegisterHTMLElementWithSingleTagName(dx),this.RegisterHTMLElementWithSingleTagName(_x),this.RegisterHTMLElementWithSingleTagName(px),this.RegisterHTMLElementWithSingleTagName(Np),this.RegisterHTMLElementWithMultipleTagName(F2)}CreateElement(e,r){let n=this.tag_name_to_create_html_element_t_callback_map_.get(r);if(n)return n(e);$e()}RegisterHTMLElementWithSingleTagName(e){this.tag_name_to_create_html_element_t_callback_map_.set(e.kTagName,gQ.bind(null,e))}RegisterHTMLElementWithMultipleTagName(e){for(let r of e.kTagNames)this.tag_name_to_create_html_element_t_callback_map_.set(r,mQ.bind(null,e,r))}}function gQ(t,e){return new t(e)}function mQ(t,e,r){return new t(r,e)}function xQ(t){let e=new Dg;return e.set_background_color(new Cr(0)),e.set_display(pe.GetBlock()),e.set_is_inline_before_blockification(!1),e.set_width(new nr(t.width(),jt.kPixelsUnit)),e.set_height(new nr(t.height(),jt.kPixelsUnit)),e}class H2{}class j2 extends H2{constructor(){super();c(this,"origin_");this.origin_=$i.Now()}Now(){return $i.Now().SUB(this.origin_)}}class V2 extends H2{constructor(r,n){super();c(this,"parent_");c(this,"origin_");Q(r),this.parent_=r,this.origin_=n}Now(){return this.parent_.Now().SUB(this.origin_)}origin(){return this.origin_}}class yQ{}var Ql=(t=>(t[t.kUnrequestedState=0]="kUnrequestedState",t[t.kLoadingWithTimerActiveState=1]="kLoadingWithTimerActiveState",t[t.kLoadingWithTimerExpiredState=2]="kLoadingWithTimerExpiredState",t[t.kLoadedState=3]="kLoadedState",t[t.kUnavailableState=4]="kUnavailableState",t[t.kDuplicateState=5]="kDuplicateState",t))(Ql||{});class Rw{constructor(){c(this,"state",0);c(this,"entry");c(this,"font")}}class LD{constructor(e){c(this,"family_name");c(this,"faces",[]);this.family_name=e}}class vQ{constructor(){c(this,"family_names",[]);c(this,"style",new r2);c(this,"size");this.size=0}LT(e){return this.size<e.size?!0:e.size<this.size?!1:this.style.weight<e.style.weight?!0:e.style.weight<this.style.weight?!1:this.style.slant<e.style.slant?!0:e.style.slant<this.style.slant?!1:this.family_names.length<e.family_names.length}}const EQ=8230;class AQ extends yQ{constructor(r,n){super();c(this,"fallback_typeface_to_font_map_",new Map);c(this,"font_cache_");c(this,"fonts_",[]);c(this,"style_");c(this,"size_");c(this,"primary_font_");c(this,"is_font_metrics_set_");c(this,"font_metrics_");c(this,"is_space_width_set_");c(this,"space_width_");c(this,"is_ellipsis_info_set_");c(this,"ellipsis_font_");c(this,"ellipsis_width_");c(this,"character_fallback_typeface_map_");this.font_cache_=r,this.style_=n.style,this.size_=n.size,this.is_font_metrics_set_=!1,this.font_metrics_=new yw(0,0,0,0),this.is_space_width_set_=!1,this.space_width_=0,this.is_ellipsis_info_set_=!1,this.ellipsis_width_=0,this.character_fallback_typeface_map_=this.font_cache_.GetCharacterFallbackTypefaceMap(this.style_);for(let o=0;o<n.family_names.length;++o){let a=new LD(n.family_names[o]);a.faces=this.font_cache_.GetFacesForFamilyAndStyle(a.family_name,this.style_),this.fonts_.push(a)}const s=new LD(d2),i=new Rw;s.faces=[i],this.fonts_.push(s)}dispose(){for(let r=0;r<this.fonts_.length;++r){let n=this.fonts_[r];for(let s of n.faces)s.state=0,s.font=void 0}this.primary_font_=void 0,this.is_font_metrics_set_=!1,this.is_space_width_set_=!1,this.is_ellipsis_info_set_=!1,this.ellipsis_font_=void 0,this.fallback_typeface_to_font_map_.clear()}ResetLoadingFonts(){let r=!1;for(let n=0;n<this.fonts_.length;++n){let s=this.fonts_[n];for(let i of s.faces)i.state==1||i.state==2?(i.state=0,r||(this.primary_font_=void 0,this.is_font_metrics_set_=!1,this.is_space_width_set_=!1,this.is_ellipsis_info_set_=!1,this.ellipsis_font_=void 0)):i.state==3&&(r=!0)}}IsVisible(){for(let r=0;r<this.fonts_.length;++r)for(let n of this.fonts_[r].faces)if(n.state==1)return!1;return!0}CreateGlyphBuffer(r,n,s,i){return this.font_cache_.CreateGlyphBuffer(r,n,s,i,this)}GetTextWidth(r,n,s,i,o){return this.font_cache_.GetTextWidth(r,n,s,i,this,o)}GetFontMetrics(r){if(!r)return this.is_font_metrics_set_||(this.is_font_metrics_set_=!0,this.font_metrics_=this.GetPrimaryFont().GetFontMetrics()),this.font_metrics_;let n=this.GetPrimaryFont().GetTypefaceId(),s=this.GetFontMetrics(),i=s.ascent(),o=s.descent(),a=s.leading(),l=s.x_height();for(let u=0;u<r.length;++u){if(r[u].GetTypefaceId()==n)continue;let d=r[u].GetFontMetrics();d.ascent()>i&&(i=d.ascent()),d.descent()>o&&(o=d.descent()),d.leading()>a&&(a=d.leading()),d.x_height()>l&&(l=d.x_height())}return new yw(i,o,a,l)}GetEllipsisValue(){return EQ}GetEllipsisFont(){return this.GenerateEllipsisInfo(),this.ellipsis_font_}GetEllipsisWidth(){return this.GenerateEllipsisInfo(),this.ellipsis_width_}GetSpaceWidth(){return this.GenerateSpaceWidth(),this.space_width_}style(){return this.style_}size(){return this.size_}GetCharacterFont(r){for(let n=0;n<this.fonts_.length;++n){let s=this.fonts_[n];for(let i of s.faces){const o=i.entry;if(!(o&&!UD(o.unicode_range,r))&&(i.state==0&&this.RequestFont(s.family_name,i),i.state==3)){let a=i.font.GetGlyphForCharacter(r);if(a!=Aw)return{font:i.font,glyph_index:a}}}}return this.GetFallbackCharacterFont(r)}GetFallbackCharacterFont(r){let n=this.character_fallback_typeface_map_.get(r);n||(n=this.font_cache_.GetCharacterFallbackTypeface(r,this.style_));let s=n.GetGlyphForCharacter(r),i=this.fallback_typeface_to_font_map_.get(n.GetId());if(!i){let o=this.font_cache_.GetFontFromTypefaceAndSize(n,this.size_);this.fallback_typeface_to_font_map_.set(n.GetId(),o),i=o}return{font:i,glyph_index:s}}GetPrimaryFont(){if(!this.primary_font_)for(let r of this.fonts_)for(let n of r.faces){let s=n.entry;if(!(s&&!UD(s.unicode_range,k0))&&(n.state==0&&this.RequestFont(r.family_name,n),n.state==3))return this.primary_font_=n.font,Q(this.primary_font_),this.primary_font_}return Q(this.primary_font_),this.primary_font_}RequestFont(r,n){let{font:s,state:i}=this.font_cache_.TryGetFont(r,this.style_,this.size_,n.entry);i=i||0,i==3&&(Q(s),n.font=s),n.state=i}GenerateEllipsisInfo(){if(!this.is_ellipsis_info_set_){let{font:r,glyph_index:n}=this.GetCharacterFont(this.GetEllipsisValue());this.ellipsis_font_=r;let s=n||Aw;this.ellipsis_width_=this.ellipsis_font_.GetGlyphWidth(s),this.is_ellipsis_info_set_=!0}}GenerateSpaceWidth(){if(!this.is_space_width_set_){let r=this.GetPrimaryFont(),n=r.GetGlyphForCharacter(k0);r.GetGlyphWidth(n)==0&&En(oi,"Font being used with space width of 0!"),this.is_space_width_set_=!0}}}function UD(t,e){if(!t.size)return!0;for(let r of t.values()){if(r.start>e)break;if(r.start<=e&&e<=r.end)return!0}return!1}const jE=new WeakMap;class Zb{constructor(e){c(this,"style");this.style=e}static create(e){if(!jE.has(e)){let r=new Zb(e);jE.set(e,r)}return jE.get(e)}LT(e){return this.style.weight!=e.style.weight?this.style.weight<e.style.weight:this.style.slant<e.style.slant}}const cT=class{constructor(e,r){c(this,"cached_remote_typeface_reference_");c(this,"request_timer_");this.cached_remote_typeface_reference_=new dQ(e,r,r),this.request_timer_=new L2,this.request_timer_.Start(Ur.FromMilliseconds(cT.kRequestTimerDelay),r)}HasActiveRequestTimer(){return!!this.request_timer_}ClearRequestTimer(){this.request_timer_=void 0}};let gx=cT;c(gx,"kRequestTimerDelay",3e3);class wQ{constructor(e,r,n,s){c(this,"resource_provider_");c(this,"remote_typeface_cache_");c(this,"external_typeface_load_event_callback_");c(this,"language_script_");c(this,"font_face_map_",new Map);c(this,"requested_remote_typeface_cache_",new Map);c(this,"font_list_map_",new Map);c(this,"local_typeface_map_",new Map);c(this,"character_fallback_typeface_maps_",new Map);this.remote_typeface_cache_=r,this.external_typeface_load_event_callback_=n,this.resource_provider_=e,this.language_script_=s}GetFontList(e){return new AQ(this,e)}GetFontFromTypefaceAndSize(e,r){return e.CreateFontWithSize(r)}GetFacesForFamilyAndStyle(e,r){let n=[],s=this.font_face_map_.get(e);if(s){let i=s.GetEntriesThatMatchStyle(r);for(let o of i){let a=new Rw;a.entry=o,n.push(a)}}else{let i=new Rw;n.push(i)}return n}TryGetFont(e,r,n,s){if(s){for(let i=0;i<s.sources.length;i++){const o=s.sources[i];let{font:a,state:l}=this.TryGetRemoteFont(o.GetName(),n);return{font:a,state:l}}return{state:Ql.kUnavailableState}}else{let{font:i,state:o}=this.TryGetLocalFont(e,r,n);return{font:i,state:o}}}GetCharacterFallbackTypefaceMap(e){let r=Zb.create(e);return this.character_fallback_typeface_maps_.has(r)||this.character_fallback_typeface_maps_.set(r,new Map),this.character_fallback_typeface_maps_.get(r)}GetCharacterFallbackTypeface(e,r){return Q(this.resource_provider()),this.GetCachedLocalTypeface(this.resource_provider().GetCharacterFallbackTypeface(e,r,this.language_script_))}CreateGlyphBuffer(e,r,n,s,i){return Q(this.resource_provider()),this.resource_provider().CreateGlyphBuffer(e,r,n,this.language_script_,s,i)}GetTextWidth(e,r,n,s,i,o){return Q(this.resource_provider()),this.resource_provider().GetTextWidth(e,r,n,this.language_script_,s,i,o)}resource_provider(){return this.resource_provider_}GetCachedLocalTypeface(e){Q(e);let r=this.local_typeface_map_.get(e.GetId());return r||(r=e),r}TryGetRemoteFont(e,r){let n=this.remote_typeface_cache_.GetOrCreateCachedResource(e),s=this.requested_remote_typeface_cache_.get(e);if(!s){En(_p,"Requested remote font from ",e);let a=this.OnRemoteTypefaceLoadEvent.bind(this,e);s=new gx(n,a),this.requested_remote_typeface_cache_.set(e,s)}let i=n.TryGetResource(),o;return i?{font:this.GetFontFromTypefaceAndSize(i,r),state:Ql.kLoadedState}:(n.IsLoadingComplete()?o=Ql.kUnavailableState:s.HasActiveRequestTimer()?o=Ql.kLoadingWithTimerActiveState:o=Ql.kLoadingWithTimerExpiredState,{state:o})}TryGetLocalFont(e,r,n){return Q(this.resource_provider()),e&&!this.resource_provider().HasLocalFontFamily(e)?{state:Ql.kUnavailableState}:{font:this.GetFontFromTypefaceAndSize(this.GetCachedLocalTypeface(this.resource_provider().GetLocalTypeface(e,r)),n),state:Ql.kLoadedState}}OnRemoteTypefaceLoadEvent(e){let r=this.requested_remote_typeface_cache_.get(e);if(r){for(let n of this.font_list_map_.values())n.font_list.ResetLoadingFonts();r.ClearRequestTimer(),this.external_typeface_load_event_callback_()}}}class SQ{constructor(e){c(this,"clock_");c(this,"sampled_clock_time_");this.clock_=e}current_time(){if(this.sampled_clock_time_)return this.sampled_clock_time_.InMilliseconds()}Sample(){this.clock_?this.sampled_clock_time_=this.clock_.Now():this.sampled_clock_time_=void 0,this.UpdateNextEventTimer()}UpdateNextEventTimer(){}}class bQ extends SQ{constructor(r,n){super(kQ(r,n));c(this,"document_");this.document_=r}}function kQ(t,e){return new V2(t.navigation_start_clock(),Ur.FromMilliseconds(e))}class TQ{constructor(e,r,n,s){this.window=e,this.navigation_start_clock=r,this.viewport_size=n,this.dom_max_element_depth=s}}class CQ extends p3{constructor(r,n){super(Ns.kCreateDocument);c(this,"html_element_factory_",new pQ);c(this,"observers_",[]);c(this,"html_element_context_");c(this,"window_");c(this,"viewport_size_");c(this,"font_cache_");c(this,"is_computed_style_dirty_",!0);c(this,"initial_computed_style_declaration_",new Gc);c(this,"initial_computed_style_data_",null);c(this,"dom_max_element_depth_");c(this,"default_timeline_");c(this,"navigation_start_clock_");c(this,"loading_counter_",0);c(this,"should_dispatch_load_event_",!0);c(this,"synchronous_layout_callback_");c(this,"synchronous_layout_and_produce_render_tree_callback_");c(this,"elements_by_id",new Map);c(this,"_selection");Q(r),this.html_element_context_=r,this.window_=n.window,this.dom_max_element_depth_=n.dom_max_element_depth,this.node_document_=this,n.viewport_size&&this.SetViewport(n.viewport_size),this.font_cache_=new wQ(r.resource_provider(),r.remote_typeface_cache(),this.OnTypefaceLoadEvent.bind(this),r.font_language_script()),this.navigation_start_clock_=n.navigation_start_clock||new j2,this.default_timeline_=new bQ(this,0),this.OnInsertedIntoDocument()}Accept(r){r.VisitDocument(this)}getNodeType(){return wo.kDocumentNode}get nodeName(){return"#document"}OnDOMMutation(){this.is_computed_style_dirty_=!0,this.RecordMutation()}OnTypefaceLoadEvent(){var r;(r=this.documentElement)==null||r.InvalidateLayoutBoxesOfNodeAndDescendants(),this.RecordMutation()}createElement(r){let n=r.toLocaleLowerCase();return this.html_element_factory_.CreateElement(this,n)}createTextNode(r){return new gv(this,r)}get documentElement(){return this.first_element_child()}getSelection(){return this._selection||(this._selection=new LN(this)),this._selection}createRange(){return new b0(this,this,0,this,0)}get body(){let r=this.documentElement;if(!r)return null;for(let n=r.first_element_child();n;n=n.nextElementSibling){let s=n.AsHTMLElement();if(s){let i=s.AsHTMLBodyElement();if(i)return i}}return null}font_cache(){return this.font_cache_}IsXMLDocument(){return!1}SetViewport(r){this.viewport_size_&&this.viewport_size_==r||(this.viewport_size_=r,this.initial_computed_style_data_=xQ(this.viewport_size_.width_height()),this.initial_computed_style_declaration_.SetData(this.initial_computed_style_data_),this.is_computed_style_dirty_=!0,this.documentElement&&this.documentElement.InvalidateComputedStylesOfNodeAndDescendants(),this.RecordMutation())}navigation_start_clock(){return this.navigation_start_clock_}initial_computed_style_data(){return this.initial_computed_style_data_}dom_max_element_depth(){return this.dom_max_element_depth_}html_element_context(){return this.html_element_context_}IncreaseLoadingCounter(){++this.loading_counter_}DecreaseLoadingCounter(){--this.loading_counter_}DecreaseLoadingCounterAndMaybeDispatchLoadEvent(){this.loading_counter_,this.loading_counter_--,this.loading_counter_==0&&this.should_dispatch_load_event_&&(this.should_dispatch_load_event_=!1,this.DispatchOnLoadEvent())}AddObserver(r){this.observers_.push(r)}RecordMutation(){this.observers_.forEach(r=>r.OnMutation())}SetSynchronousLayoutCallback(r){this.synchronous_layout_callback_=r}SetSynchronousLayoutAndProduceRenderTreeCallback(r){this.synchronous_layout_and_produce_render_tree_callback_=r}UpdateComputedStyles(){if(this.is_computed_style_dirty_){let r=this.documentElement;r&&(er(this,r.parentNode),r.UpdateComputedStyle(this.initial_computed_style_declaration_,this.initial_computed_style_data_,bN.kAncestorsAreDisplayed),r.UpdateComputedStyleRecursively(r.computed_style_declaration(),r.computed_style(),!0,0)),this.is_computed_style_dirty_=!1}}viewport_size(){return this.viewport_size_}SampleTimelineTime(){this.default_timeline_.Sample()}timeline(){return this.default_timeline_}DispatchOnLoadEvent(){this.SignalOnLoadToObservers()}SignalOnLoadToObservers(){this.observers_.forEach(r=>r.OnLoad())}Duplicate(){gt()}onNodeInserted(r){if(r.IsElement()){const n=r.id;if(!n)return;this.elements_by_id.set(n,r)}}onNodeRemoved(r){if(r.IsElement()){const n=r.id;if(!n)return;const s=this.elements_by_id.get(n);Q(s),s===r&&this.elements_by_id.delete(n)}}OnElementInlineStyleMutation(){this.is_computed_style_dirty_=!0,this.RecordMutation()}getElementById(r){return this.elements_by_id.get(r)}}class PQ{constructor(e,r,n,s){c(this,"resource_provider_");c(this,"image_cache_");c(this,"font_language_script_");c(this,"remote_typeface_cache_");this.resource_provider_=e,this.image_cache_=r,this.remote_typeface_cache_=n,this.font_language_script_=s}font_language_script(){return this.font_language_script_}resource_provider(){return this.resource_provider_}image_cache(){return this.image_cache_}remote_typeface_cache(){return this.remote_typeface_cache_}}class DQ{constructor(e,r){c(this,"navigation_start_");c(this,"navigation_start_clock_");this.navigation_start_=r,this.navigation_start_clock_=new V2(e,e.Now())}navigation_start(){return this.navigation_start_.ToInternalValue()}GetNavigationStartClock(){return this.navigation_start_clock_}}class Ow{constructor(e){c(this,"time_origin_");c(this,"timing_");this.time_origin_=$i.Now(),this.timing_=new DQ(e,this.time_origin_)}timing(){return this.timing_}SetApplicationStartOrPreloadTimestamp(e,r){}}c(Ow,"kPerformanceTimerMinResolutionInMicroseconds",20),c(Ow,"kMaxResourceTimingBufferSize",250);class RQ{constructor(e,r,n,s,i,o){c(this,"document_");c(this,"html_element_context_");c(this,"performance_");this.html_element_context_=new PQ(r,n,s,i),this.performance_=new Ow(OQ()),this.document_=new CQ(this.html_element_context_,new TQ(this,this.performance_.timing().GetNavigationStartClock(),e,o))}document(){return this.document_}performance(){return this.performance_}html_element_context(){return this.html_element_context_}}function OQ(){return new j2}function BQ(){return"en-US"}class z2{}class W2{}class NQ extends z2{constructor(){super(...arguments);c(this,"result_","");c(this,"indent_",0)}VisitClearRectNode(r){this.AddNamedNodeString(r,"ClearRectNode"),this.result_+=`
`}VisitCompositionNode(r){this.AddNamedNodeString(r,"CompositionNode"),this.result_+=`
`,this.indent_++;let n=r.data().children();for(let s of n)s.Accept(this);this.indent_--}VisitMatrixTransformNode(r){this.AddNamedNodeString(r,"MatrixTransformNode"),this.result_+=`
`,this.indent_++,r.data().source.Accept(this),this.indent_--}VisitRectNode(r){if(this.AddNamedNodeString(r,"RectNode "),r.data().background_brush){let n=new FQ;r.data().background_brush.Accept(n),this.result_+=n.brush_type()}this.result_+=`
`}VisitTextNode(r){this.AddNamedNodeString(r,"TextNode"),this.result_+=`
`}VisitFreehandNode(r){this.AddNamedNodeString(r,"FreehandNode"),this.result_+=`
`}Result(){return this.result_}AddNamedNodeString(r,n){this.AddIndentString(),this.result_+=n,this.result_+=" ",this.AddNodeInfoString(r)}AddIndentString(){this.result_+=new Array(this.indent_*2).fill(" ").join("")}AddNodeInfoString(r){let n=r.GetBounds();this.result_+="{ Bounds: (",this.result_+=n.x(),this.result_+=", ",this.result_+=n.y(),this.result_+=", ",this.result_+=n.width(),this.result_+=", ",this.result_+=n.height(),this.result_+=") }"}VisitImageNode(r){this.AddNamedNodeString(r,"ImageNode"),this.result_+=`
`}}class FQ extends W2{constructor(){super(...arguments);c(this,"brush_type_","")}brush_type(){return this.brush_type_}visitLinearGradientBrush(r){this.brush_type_="(LinearGradientBrush)"}visitRadialGradientBrush(r){this.brush_type_="(RadialGradientBrush)"}visitSolidColorBrush(r){this.brush_type_="(SolidColorBrush)"}}function GD(t){let e=new NQ;return t.Accept(e),e.Result()}function HD(t,e){const r=t.GetVisualTextStartPosition(),n=t.GetVisualTextEndPosition();return r<=e&&n>=e}class IQ{constructor(e){c(this,"selected",new Set);this.layoutManager=e}update(e){switch(this.clearSelectionBackground(),e.type){case rx.None:case rx.Caret:break;case rx.Range:this.doUpdateSelection(e);break}}clearSelectionBackground(){for(let e of this.selected)e.unsetSelection()}doUpdateSelection(e){const{anchorNode:r,focusNode:n,anchorOffset:s,focusOffset:i}=e;return Q(r),Q(n),Q(s),Q(i),r.IsText()?this.doUpdateSelectionInsideText(e):this.doUpdateSelectionInsideElement(e)}doUpdateSelectionInsideText(e){const{anchorNode:r,focusNode:n,anchorOffset:s,focusOffset:i}=e;Q(r),Q(n),Q(s),Q(i);let o=r.AsText(),a=n.AsText();return o.parentNode!==a.parentNode?this.updateMultiParagraphSelection(o,a,s,i):this.updateSingleParagraphSelection(o,a,s,i)}doUpdateSelectionInsideElement(e){const{anchorNode:r,focusNode:n,anchorOffset:s,focusOffset:i}=e;Q(r),Q(n),Q(s),Q(i);const o=r.AsElement(),a=n.AsElement();Q(o===a);let l=[];if(o.nodeName===Bp.kTagName)for(let u=s;u<i;u++){const d=o.childNodes[u];Q(d==null?void 0:d.IsElement()),l.push(d.AsHTMLElement())}else o.nodeName===gd.kTagName?l.push(o.AsHTMLElement()):gt();this.updateSelectionOfP(l)}updateSelectionOfP(e){Q(e.length);const r=Array.from(e).map(n=>this.layoutManager.getParagraphOfNode(n.firstChild));for(let n of r){const s=this.layoutManager.getRTreeItemsByParagraph(n);for(let i of s){const o=i.box,a=o.GetVisualTextStartPosition(),l=o.GetVisualTextEndPosition();o.setSelection(a,l),this.selected.add(o)}}}updateMultiParagraphSelection(e,r,n,s){const i=vn.CommonAncestor(e,r);Q(i),er(i,i.parentNode.parentNode);const o=Array.from(i.childNodes).filter(D=>D==null?void 0:D.IsElement()).map(D=>this.layoutManager.getParagraphOfNode(D.firstChild.firstChild)),a=this.layoutManager.getParagraphOfNode(e);Q(a);const l=this.layoutManager.getParagraphOfNode(r);Q(l);const u=o.indexOf(a),d=o.indexOf(l),f=Math.min(u,d),g=Math.max(u,d),x=f===u?n:s,E=f===u?s:n;for(let D=f;D<=g;D++){const A=this.layoutManager.getRTreeItemsByParagraph(o[D]);if(D===f)for(let R of A){const P=R.box,O=P.GetVisualTextStartPosition(),F=P.GetVisualTextEndPosition();F>x&&(P.setSelection(Math.max(O,x),F),this.selected.add(P))}else if(D===g)for(let R of A){const P=R.box,O=P.GetVisualTextStartPosition(),F=P.GetVisualTextEndPosition();O<E&&(P.setSelection(O,Math.min(F,E)),this.selected.add(P))}else for(let R of A){const P=R.box,O=P.GetVisualTextStartPosition(),F=P.GetVisualTextEndPosition();P.setSelection(O,F),this.selected.add(P)}}}updateSingleParagraphSelection(e,r,n,s){const i=this.layoutManager.getParagraphOfNode(e);if(e!==r){const u=this.layoutManager.getParagraphOfNode(r);i!==u&&gt()}Q(i);const o=this.layoutManager.getRTreeItemsByParagraph(i),a=Math.min(n,s),l=Math.max(n,s);for(let u of o){const d=u.box,f=d.GetVisualTextStartPosition(),g=d.GetVisualTextEndPosition();let x=HD(d,a),E=HD(d,l);x&&!E?(d.setSelection(a,g),this.selected.add(d)):x&&E?(d.setSelection(a,l),this.selected.add(d)):!x&&E?(d.setSelection(f,l),this.selected.add(d)):a<=f&&l>=g&&(d.setSelection(f,g),this.selected.add(d))}}}const Ay=1e-4;class Lr{constructor(e=0,r=0){c(this,"horizontal");c(this,"vertical");this.horizontal=e,this.vertical=r}IsSquare(){return this.horizontal<=Ay||this.vertical<=Ay}Inset(e,r){return new Lr(Math.max(0,this.horizontal-e),Math.max(0,this.vertical-r))}COPY(){return new Lr(this.horizontal,this.vertical)}EQ(e){return this.horizontal==e.horizontal&&this.vertical==e.vertical}GE(e){return this.horizontal>=e.horizontal&&this.vertical>=e.vertical}}class kc{constructor(e,r,n,s){c(this,"top_left",new Lr);c(this,"top_right",new Lr);c(this,"bottom_right",new Lr);c(this,"bottom_left",new Lr);if(!!arguments.length)if(arguments.length==1)if(e instanceof Lr)this.top_left=e.COPY(),this.top_right=e.COPY(),this.bottom_right=e.COPY(),this.bottom_left=e.COPY();else if(e instanceof kc)this.top_left=e.top_left.COPY(),this.top_right=e.top_right.COPY(),this.bottom_right=e.bottom_right.COPY(),this.bottom_left=e.bottom_left.COPY();else throw new Error("400");else arguments.length==2?(this.top_left=new Lr(e,r),this.top_right=new Lr(e,r),this.bottom_right=new Lr(e,r),this.bottom_left=new Lr(e,r)):(this.top_left=e,this.top_right=r,this.bottom_right=n,this.bottom_left=s)}EQ(e){return this.top_left.EQ(e.top_left)&&this.top_right.EQ(e.top_right)&&this.bottom_right.EQ(e.bottom_right)&&this.bottom_left.EQ(e.bottom_left)}Inset(e,r,n,s){let i,o,a,l;if(arguments.length===4)l=e,i=r,o=n,a=s;else{let u=e;l=u.left(),i=u.top(),o=u.right(),a=u.bottom()}return new kc(this.top_left.Inset(l,i),this.top_right.Inset(o,i),this.bottom_right.Inset(o,a),this.bottom_left.Inset(l,a))}Scale(e,r){return new kc(new Lr(this.top_left.horizontal*e,this.top_left.vertical*r),new Lr(this.top_right.horizontal*e,this.top_right.vertical*r),new Lr(this.bottom_right.horizontal*e,this.bottom_right.vertical*r),new Lr(this.bottom_left.horizontal*e,this.bottom_left.vertical*r))}Normalize(e){let r=1,n;return n=this.top_left.horizontal+Math.max(this.top_right.horizontal,this.bottom_right.horizontal),n>e.width()&&(r=e.width()/n),n=this.bottom_left.horizontal+Math.max(this.bottom_right.horizontal,this.top_right.horizontal),n>e.width()&&(r=Math.min(e.width()/n,r)),n=this.top_left.vertical+Math.max(this.bottom_left.vertical,this.bottom_right.vertical),n>e.height()&&(r=Math.min(e.height()/n,r)),n=this.top_right.vertical+Math.max(this.bottom_right.vertical,this.bottom_left.vertical),n>e.height()&&(r=Math.min(e.height()/n,r)),r=Math.max(r,0),this.Scale(r,r)}IsNormalized(e){const r=e.width()+Ay,n=e.height()+Ay;return this.top_left.horizontal+this.top_right.horizontal<=r&&this.bottom_left.horizontal+this.bottom_right.horizontal<=r&&this.top_left.vertical+this.bottom_left.vertical<=n&&this.top_right.vertical+this.bottom_right.vertical<=n&&this.top_left.horizontal+this.bottom_right.horizontal<=r&&this.bottom_left.horizontal+this.top_right.horizontal<=r&&this.top_left.vertical+this.bottom_right.vertical<=n&&this.top_right.vertical+this.bottom_left.vertical<=n}AreSquares(){return this.top_left.IsSquare()&&this.top_right.IsSquare()&&this.bottom_right.IsSquare()&&this.bottom_left.IsSquare()}AllCornersEqual(e){return this.top_left.EQ(e)&&this.top_right.EQ(e)&&this.bottom_right.EQ(e)&&this.bottom_left.EQ(e)}AllCornersGE(e){return this.top_left.GE(e)&&this.top_right.GE(e)&&this.bottom_right.GE(e)&&this.bottom_left.GE(e)}}const Zo=class{constructor(e){c(this,"value_",0);if(!arguments.length)return;let r;e instanceof Zo?this.value_=e.value_:Sx(e)?(r=e,this.value_=r*Zo.kFixedPointRatio):$e()}static isZero(e){return e.value_===0}static Max(e,...r){let n=e;for(let s of r)s.GT(n)&&(n=s);return n}static MaxValue(){return new Zo(Number.POSITIVE_INFINITY)}static Min(e,...r){let n=e;for(let s of r)s.LT(n)&&(n=s);return n}toFloat(){return this.value_/Zo.kFixedPointRatio}LT(e){return this.value_<e.value_}LE(e){return this.value_<=e.value_}GT(e){return this.value_>e.value_}GE(e){return this.value_>=e.value_}EQ(e){return this.value_==e.value_}NE(e){return this.value_!==e.value_}EqualOrNaN(e){return Number.isNaN(this.value_)||Number.isNaN(e.value_)||this.EQ(e)}POS(){return new Zo(this.value_)}NEG(){return new Zo(-this.value_)}ADD_ASSIGN(e){return this.value_+=e.value_,this}ADD(e){return this.CLONE().ADD_ASSIGN(e)}SUB_ASSIGN(e){return this.value_-=e.value_,this}SUB(e){return this.CLONE().SUB_ASSIGN(e)}CLONE(){let e=new Zo;return e.value_=this.value_,e}MUL_ASSIGN(e){return this.value_=bs(this.value_*e),this}DIV_ASSIGN(e){return this.value_=bs(this.value_/e),this}MUL(e){return this.CLONE().MUL_ASSIGN(e)}DIV(e){return this.CLONE().DIV_ASSIGN(e)}toString(){return this.toFloat().toString()}};let ye=Zo;c(ye,"kFixedPointRatio",64),c(ye,"zero",new Zo(0));class MQ{constructor(e,r){c(this,"font_cache_");c(this,"font_list_key_",new vQ);c(this,"last_font_family_refptr_");c(this,"last_font_style_refptr_");c(this,"last_font_weight_refptr_");c(this,"last_font_list_");this.font_cache_=r}GetUsedFontList(e,r,n,s){let i=$2(r);if(this.last_font_list_&&this.last_font_list_.size()==i&&this.last_font_family_refptr_==e&&this.last_font_style_refptr_==n&&this.last_font_weight_refptr_==s)return this.last_font_list_;this.font_list_key_.family_names.length=0;let o=new UQ(this.font_list_key_.family_names);e.Accept(o);let a=n,l=s;return this.font_list_key_.style=HQ(a.value(),l.value()),this.font_list_key_.size=i,this.last_font_family_refptr_=e,this.last_font_style_refptr_=n,this.last_font_weight_refptr_=s,this.last_font_list_=this.font_cache_.GetFontList(this.font_list_key_),this.last_font_list_}CleanupAfterLayout(){this.last_font_family_refptr_=void 0,this.last_font_style_refptr_=void 0,this.last_font_weight_refptr_=void 0,this.last_font_list_=void 0}}function $2(t){let e=t;return er(jt.kPixelsUnit,e.unit()),e.value()}class LQ extends qr{constructor(r){super();c(this,"frame_size_");c(this,"rounded_corner_");this.frame_size_=r}VisitLength(r){r.value()>0?this.rounded_corner_=new Lr(r.value(),r.value()):this.rounded_corner_=void 0}VisitPercentage(r){r.value()>0?this.rounded_corner_=new Lr(r.value()*this.frame_size_.width(),r.value()*this.frame_size_.height()):this.rounded_corner_=void 0}rounded_corner(){return this.rounded_corner_}}class UQ extends qr{constructor(r){super();c(this,"family_names_");this.family_names_=r}VisitKeyword(r){switch(r.value()){case _.kCurrentColor:case _.kCursive:case _.kFantasy:case _.kMonospace:case _.kSansSerif:case _.kSerif:this.family_names_.push(r.ToString());break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kAuto:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kScroll:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}VisitPropertyList(r){let n=r.value().length;for(let s=0;s<n;++s)r.value()[s].Accept(this)}VisitString(r){this.family_names_.push(r.value())}}class ek extends qr{constructor(r,n=!1){super();c(this,"percentage_base_");c(this,"calc_permitted_");c(this,"used_length_");c(this,"depends_on_containing_block_",!1);this.percentage_base_=r,this.calc_permitted_=n}VisitLength(r){this.depends_on_containing_block_=!1,er(jt.kPixelsUnit,r.unit()),this.used_length_=new ye(r.value())}VisitPercentage(r){this.depends_on_containing_block_=!0,this.used_length_=this.percentage_base_.MUL(r.value())}depends_on_containing_block(){return this.depends_on_containing_block_}used_length(){return this.used_length_}}class _s extends ek{VisitKeyword(e){switch(e.value()){case _.kAuto:this.depends_on_containing_block_=!0;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}}function tk(t,e){let r=new _s(e.width());return t.left.Accept(r),r.used_length()}function K2(t,e){let r=new _s(e.width());return t.right.Accept(r),r.used_length()}function rk(t,e){let r=new _s(e.height());return t.top.Accept(r),r.used_length()}function X2(t,e){let r=new _s(e.height());return t.bottom.Accept(r),r.used_length()}function Y2(t){return new ye(td(t.border_left_width))}function q2(t){return new ye(t.border_top_width.value())}function Q2(t){return new ye(t.border_right_width.value())}function J2(t){return new ye(t.border_bottom_width.value())}function Z2(t,e){let r=new _s(e.width());return t.padding_left.Accept(r),r.used_length()}function eF(t,e){let r=new _s(e.width());return t.padding_top.Accept(r),r.used_length()}function tF(t,e){let r=new _s(e.width());return t.padding_right.Accept(r),r.used_length()}function rF(t,e){let r=new _s(e.width());return t.padding_bottom.Accept(r),r.used_length()}function ii(t){let e=t;return new nh(e.value())}function GQ(t,e){let r=e;er(r.value().length);let n=r.value()[0],s=n.percentage_value().value()*t.width()+n.length_value().value(),i=r.value()[1],o=i.percentage_value().value()*t.height()+i.length_value().value();return new Vn(t.x()+s,t.y()+o)}function td(t){let e=t;er(e.unit(),jt.kPixelsUnit);let r=new ye(e.value());return r.LT(new ye)&&(En(oi,"Invalid non-negative layout length ",r.toFloat(),", original length was ",e.value()),r=new ye),r}function nk(t,e,r=void 0){let n=new _s(e.height());return t.height.Accept(n),r&&(r.depends_on_containing_block=n.depends_on_containing_block()),n.used_length()}function ik(t,e){let r=new _s(e.width());return t.margin_top.Accept(r),r.used_length()}function sk(t,e){let r=new _s(e.width());return t.margin_bottom.Accept(r),r.used_length()}function nF(t,e,r=void 0){let n=new _s(e.width());return t.width.Accept(n),r&&(r.depends_on_containing_block=n.depends_on_containing_block()),n.used_length()}function mv(t,e){let r=new _s(e.width());return t.margin_left.Accept(r),r.used_length()}function xv(t,e){let r=new _s(e.width());return t.margin_right.Accept(r),r.used_length()}class iF extends ek{constructor(e){super(e)}VisitKeyword(e){switch(e.value()){case _.kNone:this.depends_on_containing_block_=!0;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kAuto:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}}function sF(t,e,r=void 0){let n=new iF(e.width());return t.max_width.Accept(n),r&&(r.depends_on_containing_block=n.depends_on_containing_block()),n.used_length()}class oF extends ek{constructor(e){super(e)}VisitKeyword(e){switch(e.value()){case _.kAuto:this.depends_on_containing_block_=!1;break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kBackwards:case _.kBaseline:case _.kBlock:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlex:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kInline:case _.kInlineBlock:case _.kInlineFlex:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNone:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt()}}}function aF(t,e,r=void 0){let n=new oF(e.width());return t.min_width.Accept(n),r&&(r.depends_on_containing_block=n.depends_on_containing_block()),n.used_length()}function lF(t,e){let r=new iF(e.height());return t.max_height.Accept(r),r.used_length()}function uF(t,e){let r=new oF(e.height());return t.min_height.Accept(r),r.used_length()}function cF(t){let e=t;return er(e.unit(),jt.kPixelsUnit),new ye(e.value())}function HQ(t,e){let r=po.kNormalWeight;switch(e){case Qo.kThinAka100:r=po.kThinWeight;break;case Qo.kExtraLightAka200:r=po.kExtraLightWeight;break;case Qo.kLightAka300:r=po.kLightWeight;break;case Qo.kNormalAka400:r=po.kNormalWeight;break;case Qo.kMediumAka500:r=po.kMediumWeight;break;case Qo.kSemiBoldAka600:r=po.kSemiBoldWeight;break;case Qo.kBoldAka700:r=po.kBoldWeight;break;case Qo.kExtraBoldAka800:r=po.kExtraBoldWeight;break;case Qo.kBlackAka900:r=po.kBlackWeight;break}let n=t==U3.kItalic?vw.kItalicSlant:vw.kUprightSlant;return new r2(r,n)}class hF extends qr{constructor(r,n){super();c(this,"font_metrics_");c(this,"font_size_");c(this,"used_line_height_",new ye);c(this,"half_leading_",new ye);this.font_metrics_=r,this.font_size_=n}VisitKeyword(r){er(_.kNormal,r.value()),this.used_line_height_=new ye(this.font_metrics_.em_box_height()),this.UpdateHalfLeading()}VisitLength(r){er(jt.kPixelsUnit,r.unit()),this.used_line_height_=new ye(r.value()),this.UpdateHalfLeading()}VisitNumber(r){let n=$2(this.font_size_);this.used_line_height_=new ye(r.value()*n),this.UpdateHalfLeading()}used_line_height(){return this.used_line_height_}half_leading(){return this.half_leading_}baseline_offset_from_top(){return new ye(this.font_metrics_.ascent()).ADD(this.half_leading_)}baseline_offset_from_bottom(){return new ye(this.font_metrics_.descent()).ADD(this.half_leading_)}UpdateHalfLeading(){this.half_leading_=this.used_line_height_.SUB(new ye(this.font_metrics_.ascent()+this.font_metrics_.descent())).DIV(2)}}function jQ(t){const e=t.GetClientRect();return{minX:e.left().toFloat(),minY:e.top().toFloat(),maxX:e.right().toFloat(),maxY:e.bottom().toFloat(),box:t}}class xn{constructor(e,r){c(this,"x_");c(this,"y_");arguments.length?arguments.length===1&&e instanceof xn?(this.x_=e.x_,this.y_=e.y_):(this.x_=e,this.y_=r):(this.x_=new ye,this.y_=new ye)}SetVector(e,r){this.x_=e,this.y_=r}x(){return this.x_}set_x(e){this.x_=e}y(){return this.y_}set_y(e){this.y_=e}IsZero(){return this.x_.EQ(new ye)&&this.y_.EQ(new ye)}ADD(e){return this.x_.ADD_ASSIGN(e.x_),this.y_.ADD_ASSIGN(e.y_),this}SUB(e){return this.x_.SUB_ASSIGN(e.x_),this.y_.SUB_ASSIGN(e.y_),this}ADD_ASSIGN(e){return this.ADD(e)}SUB_ASSIGN(e){return this.SUB(e)}get 0(){return this.x_}get 1(){return this.y_}SetToMin(e){this.x_=this.x_.LE(e.x_)?this.x_:e.x_,this.y_=this.y_.LE(e.y_)?this.y_:e.y_}SetToMax(e){this.x_=this.x_.GE(e.x_)?this.x_:e.x_,this.y_=this.y_.GE(e.y_)?this.y_:e.y_}toString(){return`[${this.x_} ${this.y_}]`}toVector2dF(){return new Vn(this.x_.toFloat(),this.y_.toFloat())}EQ(e){return this.x()==e.x()&&this.y()==e.y()}NE(e){return!this.EQ(e)}NEG(){return new xn(new ye(-this.x()),new ye(-this.y()))}}class wi{constructor(e=new ye,r=new ye,n=new ye,s=new ye){c(this,"left_");c(this,"top_");c(this,"right_");c(this,"bottom_");this.left_=e,this.top_=r,this.right_=n,this.bottom_=s}left(){return this.left_}set_left(e){this.left_=e.CLONE()}top(){return this.top_}set_top(e){this.top_=e.CLONE()}right(){return this.right_}set_right(e){this.right_=e.CLONE()}bottom(){return this.bottom_}set_bottom(e){this.bottom_=e.CLONE()}SetInsets(e,r,n,s){this.left_=e.CLONE(),this.top_=r.CLONE(),this.right_=n.CLONE(),this.bottom_=s.CLONE()}EQ(e){return this.left_.EQ(e.left_)&&this.top_.EQ(e.top_)&&this.right_.EQ(e.right_)&&this.bottom_.EQ(e.bottom_)}NE(e){return!this.EQ(e)}ASS_ASSIGN(e){this.left_.ADD_ASSIGN(e.left_),this.top_.ADD_ASSIGN(e.top_),this.right_.ADD_ASSIGN(e.right_),this.bottom_.ADD_ASSIGN(e.bottom_)}ADD(e){return new wi(this.left_.ADD(e.left_),this.top_.ADD(e.top_),this.right_.ADD(e.right_),this.bottom_.ADD(e.bottom_))}toString(){return`${this.left_},${this.top_},${this.right_},${this.bottom_}`}zero(){return this.left_.EQ(new ye)&&this.top_.EQ(new ye)&&this.right_.EQ(new ye)&&this.bottom_.EQ(new ye)}NEG(){return new wi(this.left_.NEG(),this.top_.NEG(),this.right_.NEG(),this.bottom_.NEG())}}class Bw extends el{}class Si{constructor(e,r){c(this,"width_",new ye);c(this,"height_",new ye);if(arguments.length==1)if(e instanceof Si){let n=e;this.width_=n.width_.CLONE(),this.height_=n.height_.CLONE()}else e instanceof el?(this.width_=new ye(e.width()),this.height_=new ye(e.height())):$e();else arguments.length==2&&(this.width_=e.CLONE(),this.height_=r.CLONE())}IsEmpty(){throw new Error("")}width(){return this.width_}height(){return this.height_}set_width(e){this.width_=e.CLONE()}set_height(e){this.height_=e.CLONE()}SetSize(e,r){this.set_width(e),this.set_height(r)}Enlarge(e,r){this.set_width(this.width_.ADD(e)),this.set_height(this.height_.ADD(r))}SetToMin(e){this.width_=this.width_.LE(e.width_)?this.width_:e.width_,this.height_=this.height_.LE(e.height_)?this.height_:e.height_}SetToMax(e){this.width_=this.width_.GE(e.width_)?this.width_:e.width_.CLONE(),this.height_=this.height_.GE(e.height_)?this.height_:e.height_.CLONE()}toSizeF(){return new Bw(this.width().toFloat(),this.height().toFloat())}Scale(e,r=e){this.SetSize(this.width().MUL(e),this.height().MUL(r))}EQ(e){return this.width_.EQ(e.width_)&&this.height_.EQ(e.height_)}NE(e){return!this.EQ(e)}toString(){return JSON.stringify({width:this.width_.toFloat(),height:this.height_.toFloat()})}CLONE(){return new Si(this.width_,this.height_)}}var or=(t=>(t[t.kRightToLeftBaseDirection=0]="kRightToLeftBaseDirection",t[t.kLeftToRightBaseDirection=1]="kLeftToRightBaseDirection",t))(or||{});class Ts{constructor(e,r){c(this,"x_",new ye);c(this,"y_",new ye);if(arguments.length==1){let n=e;this.x_=n.x_.CLONE(),this.y_=n.y_.CLONE()}else this.x_=e.CLONE(),this.y_=r.CLONE()}x(){return this.x_}y(){return this.y_}SetPoint(e,r){this.x_=e.CLONE(),this.y_=r.CLONE()}set_x(e){this.x_=e.CLONE()}set_y(e){this.y_=e.CLONE()}ADD_ASSIGN(e){return this.x_.ADD_ASSIGN(e.x()),this.y_.ADD_ASSIGN(e.y()),this}SUB_ASSIGN(e){return this.x_.SUB_ASSIGN(e.x()),this.y_.SUB_ASSIGN(e.y()),this}CLONE(){return new Ts(this.x_,this.y_)}EQ(e){return this.x()==e.x()&&this.y()==e.y()}LT(e){return this.y_==e.y_?this.x_<e.x_:this.y_<e.y_}toString(){return JSON.stringify({x:this.x_.toString(),y:this.y_.toString()})}}class Rs{constructor(e,r,n,s){c(this,"origin_");c(this,"size_");arguments.length===1?e instanceof Ts?(this.origin_=e.CLONE(),this.size_=new Si):e instanceof Si?(this.size_=e.CLONE(),this.origin_=new Ts):$e():arguments.length===2?e instanceof Ts?(this.origin_=e.CLONE(),this.size_=r.CLONE()):(this.size_=new Si(e,r),this.origin_=new Ts):arguments.length===4?(this.origin_=new Ts(e,r),this.size_=new Si(n,s)):gt()}x(){return this.origin_.x()}left(){return this.x()}set_x(e){this.origin_.set_x(e)}y(){return this.origin_.y()}top(){return this.y()}set_y(e){this.origin_.set_y(e)}width(){return this.size_.width()}set_width(e){this.size_.set_width(e)}height(){return this.size_.height()}set_height(e){this.size_.set_height(e)}origin(){return this.origin_}set_origin(e){this.origin_=e.CLONE()}size(){return this.size_}set_size(e){this.size_=e.CLONE()}right(){return this.x().ADD(this.width())}bottom(){return this.y().ADD(this.height())}top_right(){return new Ts(this.right(),this.y())}bottom_left(){return new Ts(this.x(),this.bottom())}bottom_right(){return new Ts(this.right(),this.bottom())}OffsetFromOrigin(){return new xn(this.x(),this.y())}SetRect(e,r,n,s){this.origin_.SetPoint(e,r),this.set_width(n),this.set_height(s)}Inset(e,r,n,s){let i,o,a,l;if(arguments.length===1){let u=e;i=u.left(),o=u.top(),a=u.right(),l=u.bottom()}else if(arguments.length===2){let u=e,d=r;i=a=u,o=l=d}else i=e,o=r,a=n,l=s;this.origin_.ADD_ASSIGN(new xn(i,o)),this.set_width(ye.Max(this.width().SUB(i).SUB(a),new ye)),this.set_height(ye.Max(this.height().SUB(o).SUB(l),new ye))}Outset(e,r,n,s){arguments.length===1?this.Inset(e.NEG()):arguments.length==2?this.Inset(e.NEG(),r.NEG()):this.Inset(e.NEG(),r.NEG(),n.NEG(),s.NEG())}Offset(e,r){arguments.length==1?this.origin_.ADD_ASSIGN(e):this.origin_.ADD_ASSIGN(new xn(e,r))}ASS_ASSIGN(e){return this.origin_.ADD_ASSIGN(e)}SUB_ASSIGN(e){return this.origin_.SUB_ASSIGN(e)}InsetsFrom(e){return new wi(e.x().SUB(this.x()),e.y().SUB(this.y()),this.right().SUB(e.right()),this.bottom().SUB(e.bottom()))}IsEmpty(){return this.size_.IsEmpty()}LT(e){return this.origin_.EQ(e.origin())?this.width().EQ(e.width())?this.height().LT(e.height()):this.width().GT(e.width()):this.origin_.LT(e.origin())}Contains(e,r){if(arguments.length===1){if(e instanceof Rs)return e.x().GE(this.x())&&e.right().LE(this.right())&&e.y().GE(this.y())&&e.bottom().LE(this.bottom());{let n=e;return n.x()>=this.x()&&n.x()<this.right()&&n.y()>=this.y()&&n.y()<this.bottom()}}else{let n=e,s=r;return n>=this.x()&&n<this.right()&&s>=this.y()&&s<this.bottom()}}Intersects(e){return!(this.IsEmpty()||e.IsEmpty()||e.x().GE(this.right())||e.right().LE(this.x())||e.y().GE(this.bottom())||e.bottom().LE(this.y()))}Intersect(e){if(this.IsEmpty()||e.IsEmpty()){this.SetRect(new ye,new ye,new ye,new ye);return}let r=ye.Max(this.x(),e.x()),n=ye.Max(this.y(),e.y()),s=ye.Min(this.right(),e.right()),i=ye.Min(this.bottom(),e.bottom());(r.GE(s)||n.GE(i))&&(r=n=s=i=new ye),this.SetRect(r,n,s.SUB(r),i.SUB(n))}Union(e){if(e.IsEmpty())return;let r=ye.Min(this.x(),e.x()),n=ye.Min(this.y(),e.y()),s=ye.Max(this.right(),e.right()),i=ye.Max(this.bottom(),e.bottom());this.SetRect(r,n,s.SUB(r),i.SUB(n))}Subtract(e){if(!this.Intersects(e))return;if(e.Contains(this)){this.SetRect(new ye,new ye,new ye,new ye);return}let r=this.x(),n=this.y(),s=this.right(),i=this.bottom();e.y().LE(this.y())&&e.bottom().GT(this.bottom())?e.x().LE(this.x())?r=e.right():e.right().GE(this.right())&&(s=e.x()):e.x().LE(this.x())&&e.right().GE(this.right())&&(e.y().LE(this.y())?n=e.bottom():e.bottom().GE(this.bottom())&&(i=e.y())),this.SetRect(r,n,s.SUB(r),i.SUB(n))}CenterPoint(){return new Ts(this.x().ADD(this.width().DIV(2)),this.y().ADD(this.height().DIV(2)))}ClampToCenteredSize(e){}SplitVertically(e,r){}ManhattanDistanceToPoint(e){}ManhattanInternalDistance(e){}static EQ(e,r){return e.origin().EQ(r.origin())&&e.size().EQ(r.size())}EQ(e){return Rs.EQ(this,e)}NE(e){return!this.EQ(e)}static ADD(e,r){return new Rs(e.x().ADD(r.x()),e.y().ADD(r.y()),e.width(),e.height())}static SUB(e,r){return new Rs(e.x().SUB(r.x()),e.y().SUB(r.y()),e.width(),e.height())}ADD(e){return Rs.ADD(this,e)}toString(){return JSON.stringify({origin:this.origin_.toString(),size:this.size_.toString()})}}function rd(t,e){let r,n;if(arguments.length===1){let s=t;r=s.x(),n=s.y()}else r=t,n=e;return jn.FromValues(1,0,r,0,1,n,0,0,1)}function VQ(t){return Math.abs(t.Get(0,1))<1e-4&&Math.abs(t.Get(1,0))<1e-4&&Math.abs(t.Get(2,0))<1e-4&&Math.abs(t.Get(2,1))<1e-4&&Math.abs(t.Get(2,2)-1)<1e-4}let zQ=0;class bh extends Kt{constructor(){super();c(this,"node_id_");this.node_id_=zQ++}GetId(){return this.node_id_}}class fl{constructor(e,r){c(this,"offset_");c(this,"children_",[]);if(!arguments.length)this.offset_=new Vn;else if(arguments.length===1)if(e instanceof Vn)this.offset_=e;else throw new Error("500");else if(arguments.length===2)this.children_.push(e),this.offset_=r;else throw new Error("500")}AddChild(e){this.children_.push(e)}GetChild(e){return hs(e,0),this.children_.length,this.children_[e]}children(){return this.children_}offset(){return this.offset_}set_offset(e){this.offset_=e}CLONE(){const e=new fl(this.offset_.CLONE());return e.children_=this.children_,e}}class ih extends bh{constructor(r,n){super();c(this,"data_");c(this,"cached_bounds_");c(this,"disposed",!1);r instanceof fl?this.data_=r:this.data_=new fl(r,n),this.cached_bounds_=this.ComputeBounds()}dispose(){super.dispose();for(let r of this.data_.children())r.dispose();this.disposed=!0}GetTypeId(){return lr(ih)}data(){return this.data_}GetBounds(){return this.cached_bounds_}Accept(r){r.VisitCompositionNode(this)}ComputeBounds(){let r=new pr;for(let n of this.data_.children())r.Union(n.GetBounds());return r.Offset(this.data_.offset()),r}}class ok{constructor(e=0,r=0,n=0,s=0){c(this,"left_");c(this,"top_");c(this,"right_");c(this,"bottom_");this.left_=e,this.top_=r,this.right_=n,this.bottom_=s}left(){return this.left_}set_left(e){this.left_=e}top(){return this.top_}set_top(e){this.top_=e}right(){return this.right_}set_right(e){this.right_=e}bottom(){return this.bottom_}set_bottom(e){this.bottom_=e}SetInsets(e,r,n,s){this.left_=e,this.top_=r,this.right_=n,this.bottom_=s}zero(){return this.left_==0&&this.top_==0&&this.right_==0&&this.bottom_==0}EQ(e){return this.left_==e.left_&&this.top_==e.top_&&this.right_==e.right_&&this.bottom_==e.bottom_}NE(e){return!this.EQ(e)}ADD_ASSIGN(e){this.left_+=e.left_,this.top_+=e.top_,this.right_+=e.right_,this.bottom_+=e.bottom_}NEG(){return new ok(-this.left_,-this.top_,-this.right_,-this.bottom_)}}class WQ extends ok{}class fu{constructor(e,r,n,s){c(this,"rect");c(this,"background_brush");c(this,"border");c(this,"rounded_corners");e instanceof fu?(this.rect=e.rect.CLONE(),this.background_brush=e.background_brush,this.border=e.border,this.rounded_corners=e.rounded_corners):(this.rect=e.CLONE(),this.background_brush=r,this.border=n,this.rounded_corners=s)}EQ(e){throw new Error("500")}}class xd extends bh{constructor(r,n,s,i){super();c(this,"data_");r instanceof fu?this.data_=new fu(r):this.data_=new fu(r,n,s,i)}Accept(r){r.VisitRectNode(this)}GetBounds(){return this.data_.rect}GetTypeId(){return lr(xd)}data(){return this.data_}}class $Q{constructor(e,r){c(this,"rect");c(this,"color");this.rect=e,this.color=r}}class ak extends bh{constructor(r,n){super();c(this,"data_");this.data_=new $Q(r,n)}Accept(r){r.VisitClearRectNode(this)}GetBounds(){return this.data_.rect}GetTypeId(){return lr(ak)}data(){return this.data_}}class KQ{}class Tc extends KQ{constructor(r){super();c(this,"color_");this.color_=r}EQ(r){return this.color_==r.color_}Accept(r){r.visitSolidColorBrush(this)}static GetTypeId(){return lr(Tc)}GetTypeId(){return lr(Tc)}color(){return this.color_}CLONE(){return new Tc(this.color_.CLONE())}}var rl=(t=>(t[t.kBorderStyleNone=0]="kBorderStyleNone",t[t.kBorderStyleSolid=1]="kBorderStyleSolid",t))(rl||{});class _c{constructor(e,r,n){c(this,"width");c(this,"style");c(this,"color");e instanceof _c?(this.width=e.width,this.style=e.style,this.color=e.color.CLONE()):(this.width=e,this.style=r,this.color=n)}EQ(e){return this.style==e.style&&this.color.EQ(e.color)&&this.width==e.width}NE(e){return!this.EQ(e)}}class dF{constructor(e,r,n,s){c(this,"left");c(this,"right");c(this,"top");c(this,"bottom");arguments.length===1?(this.left=e,this.right=e,this.top=e,this.bottom=e):(this.left=e,this.right=r,this.top=n,this.bottom=s)}EQ(e){return this.left==e.left&&this.right==e.right&&this.top==e.top&&this.bottom==e.bottom}}function C0(t){return t.overflow==pe.GetAuto()||t.overflow==pe.GetHidden()||t.overflow==pe.GetScroll()}class _u{constructor(e,r,n,s){c(this,"p1_");c(this,"p2_");c(this,"p3_");c(this,"p4_");this.p1_=e,this.p2_=r,this.p3_=n,this.p4_=s}static fromRectF(e){return new _u(new Xr(e.x(),e.y()),new Xr(e.right(),e.y()),new Xr(e.right(),e.bottom()),new Xr(e.x(),e.bottom()))}static FromMatrix3FAndRectF(e,r){return new _u(e.MUL(new Xr(r.x(),r.y())),e.MUL(new Xr(r.right(),r.y())),e.MUL(new Xr(r.right(),r.bottom())),e.MUL(new Xr(r.x(),r.bottom())))}static FromRectF(e){return new _u(new Xr(e.x(),e.y()),new Xr(e.right(),e.y()),new Xr(e.right(),e.bottom()),new Xr(e.x(),e.bottom()))}BoundingBox(){const{p1_:e,p2_:r,p3_:n,p4_:s}=this;let i=Math.min(Math.min(e.x(),r.x()),Math.min(n.x(),s.x())),o=Math.max(Math.max(e.x(),r.x()),Math.max(n.x(),s.x())),a=Math.min(Math.min(e.y(),r.y()),Math.min(n.y(),s.y())),l=Math.max(Math.max(e.y(),r.y()),Math.max(n.y(),s.y()));return new pr(i,a,o-i,l-a)}}class XQ{constructor(e,r){c(this,"source");c(this,"transform");this.source=e,this.transform=r.CLONE()}EQ(e){return this.source==e.source&&this.transform.EQ(e.transform)}}class wy extends bh{constructor(r,n){super();c(this,"data_");this.data_=new XQ(r,n)}Accept(r){r.VisitMatrixTransformNode(this)}GetBounds(){return _u.FromMatrix3FAndRectF(this.data_.transform,this.data_.source.GetBounds()).BoundingBox()}GetTypeId(){return lr(wy)}data(){return this.data_}}class fF{constructor(e,r){this.node=e,this.box=r}AsLayoutTexes(){}}var Br=(t=>(t[t.kBlockLevel=0]="kBlockLevel",t[t.kInlineLevel=1]="kInlineLevel",t))(Br||{}),Fp=(t=>(t[t.kCollapseMargins=0]="kCollapseMargins",t[t.kIgnore=1]="kIgnore",t[t.kSeparateAdjoiningMargins=2]="kSeparateAdjoiningMargins",t))(Fp||{}),Kr=(t=>(t[t.kIsBoxAncestor=0]="kIsBoxAncestor",t[t.kIsBox=1]="kIsBox",t[t.kIsBoxDescendant=2]="kIsBoxDescendant",t))(Kr||{});class YQ{constructor(e,r,n,s){c(this,"is_usable_as_child_container");this.container_box=e,this.is_absolute_containing_block=r,this.has_absolute_position=n,this.has_overflow_hidden=s,this.is_usable_as_child_container=r}}class qQ{constructor(e){c(this,"node_");this.offset_=e}}class yd{constructor(){c(this,"shrink_to_fit_width_forced",!1);c(this,"freeze_width",!1);c(this,"freeze_height",!1);c(this,"containing_block_size",new Si);c(this,"containing_block_direction",or.kLeftToRightBaseDirection);c(this,"maybe_margin_top");c(this,"maybe_margin_bottom");c(this,"maybe_height")}EQ(e){return this.shrink_to_fit_width_forced===e.shrink_to_fit_width_forced&&this.freeze_height==e.freeze_height&&this.freeze_width==e.freeze_width&&this.containing_block_size.EQ(e.containing_block_size)&&this.containing_block_direction===e.containing_block_direction}}const jD=new WeakMap;class pc extends Kt{constructor(r,n){super();c(this,"css_computed_style_declaration_");c(this,"used_style_provider_");c(this,"parent_");c(this,"margin_box_offset_from_containing_block_",new xn);c(this,"static_position_offset_from_parent_",new wi);c(this,"static_position_offset_from_containing_block_to_parent_",new wi);c(this,"margin_insets_",new wi);c(this,"border_insets_",new wi);c(this,"padding_insets_",new wi);c(this,"content_size_",new Si);c(this,"last_update_size_params_");c(this,"cached_render_tree_node_info_");c(this,"draw_order_position_in_stacking_context_");c(this,"blend_background_color_",!0);c(this,"collapsed_margin_top_");c(this,"collapsed_margin_bottom_");c(this,"collapsed_empty_margin_");c(this,"generating_html_","");c(this,"node");this.css_computed_style_declaration_=r,this.used_style_provider_=n,this.draw_order_position_in_stacking_context_=0}css_computed_style_declaration(){return this.css_computed_style_declaration_}computed_style(){return Q(this.css_computed_style_declaration_.data()),this.css_computed_style_declaration_.data()}AsAnonymousBlockBox(){}AsBlockContainerBox(){}AsContainerBox(){}isTextBox(){return!1}AsTextBox(){}AsInlineContainerBox(){}isInlineContainerBox(){return!1}GetMarginCollapsingStatus(){return 1}IsPositioned(){return this.computed_style().IsPositioned()}IsTransformed(){return this.computed_style().IsTransformed()}IsAbsolutelyPositioned(){return this.computed_style().position==pe.GetAbsolute()||this.computed_style().position==pe.GetFixed()}IsHiddenByEllipsis(){return!1}IsStackingContext(){return!1}UpdateSize(r){this.ValidateUpdateSizeInputs(r)||(this.UpdateBorders(),this.UpdatePaddings(r),this.UpdateContentSizeAndMargins(r),this.InvalidateRenderTreeNodesOfBoxAndAncestors())}GetContainingBlockOffsetFromRoot(r){if(!this.parent_)return new xn;let n=this.GetContainingBlock();return n.GetContentBoxOffsetFromRoot(r).ADD(this.GetContainingBlockOffsetFromItsContentBox(n))}GetContainingBlockOffsetFromItsContentBox(r){return Q(r==this.GetContainingBlock()),this.IsAbsolutelyPositioned()?r.GetContentBoxOffsetFromPaddingBox().NEG():new xn}GetContainingBlockInsetFromItsContentBox(r){return Q(r==this.GetContainingBlock()),this.IsAbsolutelyPositioned()?new wi(r.padding_left().NEG(),r.padding_top().NEG(),r.padding_right().NEG(),new ye):new wi}GetTransformedBoxFromRoot(r){return this.GetTransformedBoxFromContainingBlock(void 0,r)}GetTransformedBoxFromContainingBlock(r,n){return QQ(this.GetMarginBoxTransformFromContainingBlock(r),n)}GetTransformedBoxFromContainingBlockContentBox(r,n){return this.GetTransformedBoxFromContainingBlock(r,n).ADD(this.GetContainingBlockOffsetFromItsContentBox(r))}set_left(r){this.margin_box_offset_from_containing_block_.set_x(r)}left(){return this.margin_box_offset_from_containing_block_.x()}set_top(r){this.margin_box_offset_from_containing_block_.set_y(r)}top(){return this.margin_box_offset_from_containing_block_.y()}SetStaticPositionLeftFromParent(r){r.NE(this.static_position_offset_from_parent_.left())&&(this.static_position_offset_from_parent_.set_left(r),this.InvalidateUpdateSizeInputsOfBox())}SetStaticPositionLeftFromContainingBlockToParent(r){r.NE(this.static_position_offset_from_containing_block_to_parent_.left())&&(this.static_position_offset_from_containing_block_to_parent_.set_left(r),this.InvalidateUpdateSizeInputsOfBox())}GetStaticPositionLeft(){return Q(this.IsAbsolutelyPositioned()),this.static_position_offset_from_parent_.left().ADD(this.static_position_offset_from_containing_block_to_parent_.left())}SetStaticPositionRightFromParent(r){r.NE(this.static_position_offset_from_parent_.right())&&(this.static_position_offset_from_parent_.set_right(r),this.InvalidateUpdateSizeInputsOfBox())}SetStaticPositionRightFromContainingBlockToParent(r){r.NE(this.static_position_offset_from_containing_block_to_parent_.right())&&(this.static_position_offset_from_containing_block_to_parent_.set_right(r),this.InvalidateUpdateSizeInputsOfBox())}GetStaticPositionRight(){return Q(this.IsAbsolutelyPositioned()),this.static_position_offset_from_parent_.right().ADD(this.static_position_offset_from_containing_block_to_parent_.right())}SetStaticPositionTopFromParent(r){r.NE(this.static_position_offset_from_parent_.top())&&(this.static_position_offset_from_parent_.set_top(r),this.InvalidateUpdateSizeInputsOfBox())}SetStaticPositionTopFromContainingBlockToParent(r){r.NE(this.static_position_offset_from_containing_block_to_parent_.top())&&(this.static_position_offset_from_containing_block_to_parent_.set_top(r),this.InvalidateUpdateSizeInputsOfBox())}GetStaticPositionTop(){return Q(this.IsAbsolutelyPositioned()),this.static_position_offset_from_parent_.top().ADD(this.static_position_offset_from_containing_block_to_parent_.top())}margin_left(){return this.margin_insets_.left()}margin_top(){return this.margin_insets_.top()}margin_right(){return this.margin_insets_.right()}margin_bottom(){return this.margin_insets_.bottom()}GetMarginBoxWidth(){return this.margin_left().ADD(this.GetBorderBoxWidth()).ADD(this.margin_right())}GetMarginBoxHeight(){return this.margin_top().ADD(this.GetBorderBoxHeight()).ADD(this.margin_bottom())}set_margin_left(r){this.margin_insets_.set_left(r)}set_margin_top(r){this.margin_insets_.set_top(r)}set_margin_right(r){this.margin_insets_.set_right(r)}set_margin_bottom(r){this.margin_insets_.set_bottom(r)}GetMarginBoxTransformFromContainingBlock(r){let n=jn.Identity();if(this==r)return n;for(let s=this;;){if(n=rd(s.margin_box_offset_from_containing_block().x().toFloat(),s.margin_box_offset_from_containing_block().y().toFloat()).MUL(n),s.IsTransformed()){let a=s.margin_box_offset_from_containing_block().ADD(s.GetBorderBoxOffsetFromMarginBox());n=vm(s.computed_style().transform,s.computed_style().transform_origin,new pr(a.x().toFloat(),a.y().toFloat(),s.GetBorderBoxWidth().toFloat(),s.GetBorderBoxHeight().toFloat())).MUL(n)}let i=s.GetContainingBlock();if(i==r||!i)break;let o=s.GetContainingBlockOffsetFromItsContentBox(i).ADD(i.GetContentBoxOffsetFromMarginBox());n=rd(o.x().toFloat(),o.y().toFloat()).MUL(n),s=i}return n}GetMarginBoxOffsetFromRoot(r){return(!r||!this.IsTransformed()?this.GetContainingBlockOffsetFromRoot(r):new xn).ADD(this.margin_box_offset_from_containing_block())}margin_box_offset_from_containing_block(){return this.margin_box_offset_from_containing_block_}GetMarginBoxRightEdgeOffsetFromContainingBlock(){return this.left().ADD(this.GetMarginBoxWidth())}GetMarginBoxBottomEdgeOffsetFromContainingBlock(){return this.top().ADD(this.GetMarginBoxHeight())}GetMarginBoxStartEdgeOffsetFromContainingBlock(r){return r==or.kRightToLeftBaseDirection?this.GetMarginBoxRightEdgeOffsetFromContainingBlock():this.left()}GetMarginBoxEndEdgeOffsetFromContainingBlock(r){return r==or.kRightToLeftBaseDirection?this.left():this.GetMarginBoxRightEdgeOffsetFromContainingBlock()}border_left_width(){return this.border_insets_.left()}border_top_width(){return this.border_insets_.top()}border_right_width(){return this.border_insets_.right()}border_bottom_width(){return this.border_insets_.bottom()}GetBorderBoxFromRoot(r){let n=this.GetBorderBoxOffsetFromRoot(r);return new Rs(n.x(),n.y(),this.GetBorderBoxWidth(),this.GetBorderBoxHeight())}GetClientRect(){return this.GetBorderBoxFromRoot(!1)}BorderBoxRect(){return new Rs(new Ts,this.content_size_)}GetBorderBoxWidth(){return this.border_left_width().ADD(this.GetPaddingBoxWidth()).ADD(this.border_right_width())}GetBorderBoxHeight(){return this.border_top_width().ADD(this.GetPaddingBoxHeight()).ADD(this.border_bottom_width())}GetClampedBorderBoxSize(){return new Si(ye.Max(new ye,this.GetBorderBoxWidth()),ye.Max(new ye,this.GetBorderBoxHeight()))}GetBorderBoxFromMarginBox(){return new Rs(this.margin_left(),this.margin_top(),this.GetBorderBoxWidth(),this.GetBorderBoxHeight())}GetBorderBoxOffsetFromRoot(r){return this.GetMarginBoxOffsetFromRoot(r).ADD(this.GetBorderBoxOffsetFromMarginBox())}GetBorderBoxOffsetFromMarginBox(){return new xn(this.margin_left(),this.margin_top())}padding_left(){return this.padding_insets_.left()}padding_top(){return this.padding_insets_.top()}padding_right(){return this.padding_insets_.right()}padding_bottom(){return this.padding_insets_.bottom()}GetPaddingBoxWidth(){return this.padding_left().ADD(this.width()).ADD(this.padding_right())}GetPaddingBoxHeight(){return this.padding_top().ADD(this.height()).ADD(this.padding_bottom())}GetClampedPaddingBoxSize(){return new Si(ye.Max(new ye,this.GetPaddingBoxWidth()),ye.Max(new ye,this.GetPaddingBoxHeight()))}GetPaddingBoxFromMarginBox(){return new Rs(this.GetPaddingBoxLeftEdgeOffsetFromMarginBox(),this.GetPaddingBoxTopEdgeOffsetFromMarginBox(),this.GetPaddingBoxWidth(),this.GetPaddingBoxHeight())}GetPaddingBoxOffsetFromRoot(r){return this.GetBorderBoxOffsetFromRoot(r).ADD(this.GetPaddingBoxOffsetFromBorderBox())}GetPaddingBoxOffsetFromBorderBox(){return new xn(this.border_left_width(),this.border_top_width())}GetPaddingBoxLeftEdgeOffsetFromMarginBox(){return this.margin_left().ADD(this.border_left_width())}GetPaddingBoxTopEdgeOffsetFromMarginBox(){return this.margin_top().ADD(this.border_top_width())}SetPaddingInsets(r,n,s,i){this.padding_insets_.SetInsets(r,n,s,i)}width(){return this.content_size_.width()}height(){return this.content_size_.height()}content_box_size(){return this.content_size_}paddingBoxSize(){return new Si(this.content_box_size().width().ADD(this.padding_left()).ADD(this.padding_right()),this.content_box_size().height().ADD(this.padding_top()).ADD(this.padding_bottom()))}borderBoxSize(){return new Si(this.paddingBoxSize().width().ADD(this.border_left_width()).ADD(this.border_right_width()),this.paddingBoxSize().height().ADD(this.border_top_width()).ADD(this.border_bottom_width()))}marginBoxSize(){return new Si(this.borderBoxSize().width().ADD(this.margin_left()).ADD(this.margin_right()),this.borderBoxSize().height().ADD(this.margin_top()).ADD(this.margin_bottom()))}GetContentBoxFromMarginBox(){return new Rs(this.GetContentBoxLeftEdgeOffsetFromMarginBox(),this.GetContentBoxTopEdgeOffsetFromMarginBox(),this.width(),this.height())}GetContentBoxOffsetFromRoot(r){return this.GetMarginBoxOffsetFromRoot(r).ADD(this.GetContentBoxOffsetFromMarginBox())}GetContentBoxOffsetFromMarginBox(){return new xn(this.GetContentBoxLeftEdgeOffsetFromMarginBox(),this.GetContentBoxTopEdgeOffsetFromMarginBox())}GetContentBoxOffsetFromBorderBox(){return new xn(this.border_left_width().ADD(this.padding_left()),this.border_top_width().ADD(this.padding_top()))}GetContentBoxOffsetFromPaddingBox(){return new xn(this.padding_left(),this.padding_top())}GetContentBoxLeftEdgeOffsetFromMarginBox(){return this.margin_left().ADD(this.border_left_width()).ADD(this.padding_left())}GetContentBoxTopEdgeOffsetFromMarginBox(){return this.margin_top().ADD(this.border_top_width()).ADD(this.padding_top())}GetContentBoxOffsetFromContainingBlockContentBox(r){return this.GetContainingBlockOffsetFromItsContentBox(r).ADD(this.GetContentBoxOffsetFromContainingBlock())}GetContentBoxInsetFromContainingBlockContentBox(r){return this.GetContainingBlockInsetFromItsContentBox(r).ADD(this.GetContentBoxInsetFromContainingBlock(r))}GetContentBoxOffsetFromContainingBlock(){return new xn(this.GetContentBoxLeftEdgeOffsetFromContainingBlock(),this.GetContentBoxTopEdgeOffsetFromContainingBlock())}GetContentBoxInsetFromContainingBlock(r){let n=this.left().ADD(this.margin_right()).ADD(this.border_left_width()).ADD(this.padding_left());return new wi(n,this.top().ADD(this.margin_top()).ADD(this.border_top_width()).ADD(this.padding_top()),r.width().SUB(n).SUB(this.width()),new ye)}GetContentBoxLeftEdgeOffsetFromContainingBlock(){return this.left().ADD(this.GetContentBoxLeftEdgeOffsetFromMarginBox())}GetContentBoxTopEdgeOffsetFromContainingBlock(){return this.top().ADD(this.GetContentBoxTopEdgeOffsetFromMarginBox())}GetContentBoxStartEdgeOffsetFromContainingBlock(r){return r==or.kRightToLeftBaseDirection?this.GetContentBoxLeftEdgeOffsetFromContainingBlock().ADD(this.width()):this.GetContentBoxLeftEdgeOffsetFromContainingBlock()}GetContentBoxEndEdgeOffsetFromContainingBlock(r){return r==or.kRightToLeftBaseDirection?this.GetContentBoxLeftEdgeOffsetFromContainingBlock():this.GetContentBoxLeftEdgeOffsetFromContainingBlock().ADD(this.width())}GetContentToMarginHorizontal(){return this.margin_left().ADD(this.border_left_width()).ADD(this.padding_left()).ADD(this.padding_right()).ADD(this.border_right_width()).ADD(this.margin_right())}GetContentToMarginVertical(){return this.margin_top().ADD(this.border_top_width()).ADD(this.padding_top()).ADD(this.padding_bottom()).ADD(this.border_bottom_width()).ADD(this.margin_bottom())}GetInlineLevelBoxHeight(){return this.GetMarginBoxHeight()}GetInlineLevelTopMargin(){return new ye}is_inline_before_blockification(){return this.css_computed_style_declaration_.data().is_inline_before_blockification()}GetSplitSibling(){}TryPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o){Q(this.GetLevel()==1);let a=s||this.DoesFulfillEllipsisPlacementRequirement(),l;if(i)l=!0;else if(a){let u=this.GetMarginBoxEndEdgeOffsetFromContainingBlock(r);l=r==or.kRightToLeftBaseDirection?n.GE(u):n.LE(u)}else l=!1;if(l){let{is_placed:u,is_placement_requirement_met:d,placed_offset:f}=this.DoPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o);i=u,s=d,o=f}return s=a,{is_placed:i,is_placement_requirement_met:s,placed_offset:o}}DoesFulfillEllipsisPlacementRequirement(){return!1}DoPreEllipsisPlacementProcessing(){}DoPostEllipsisPlacementProcessing(){}HasTrailingLineBreak(){return!1}ValidateUpdateSizeInputs(r){return this.last_update_size_params_&&r==this.last_update_size_params_?!0:(this.last_update_size_params_=r,!1)}InvalidateUpdateSizeInputsOfBox(){this.last_update_size_params_=void 0}InvalidateUpdateSizeInputsOfBoxAndAncestors(){this.InvalidateUpdateSizeInputsOfBox(),this.parent_&&this.parent_.InvalidateUpdateSizeInputsOfBoxAndAncestors()}InvalidateCrossReferencesOfBoxAndAncestors(){this.parent_&&this.parent_.InvalidateCrossReferencesOfBoxAndAncestors()}InvalidateRenderTreeNodesOfBoxAndAncestors(){this.cached_render_tree_node_info_=void 0,this.parent_&&this.parent_.InvalidateRenderTreeNodesOfBoxAndAncestors()}RenderAndAnimate(r,n,s,i){Q(i);const o=jD.get(n);let a=new Vn(this.left().toFloat()+this.margin_left().toFloat(),this.top().toFloat()+this.margin_top().toFloat());a.ADD_ASSIGN(s),o&&this.AsContainerBox()&&a.ADD_ASSIGN(o);const l=a.CLONE();if(l.ADD_ASSIGN(new Vn(this.padding_top().toFloat(),this.padding_left().toFloat())),jD.set(this,l),this.cached_render_tree_node_info_&&this.cached_render_tree_node_info_.offset_==a){this.cached_render_tree_node_info_.node_&&r.AddChild(this.cached_render_tree_node_info_.node_),this.AddBoxAndDescendantsToDrawOrderInStackingContext(i);return}this.draw_order_position_in_stacking_context_=i.AddToDrawOrderInThisStackingContext(),this.cached_render_tree_node_info_=new qQ(a);let u=this.computed_style().opacity.value(),d=!1;if(u<=0&&!d||this.IsHiddenByEllipsis())return;let f=new fl(a),g=this.ComputeRoundedCorners(),x=this.ComputePaddingRoundedCorners(g),E=this.computed_style().visibility==pe.GetVisible();if(E){let P=this.RenderAndAnimateBackgroundImage(x);P.is_opaque||this.RenderAndAnimateBackgroundColor(x,f),P.node&&f.AddChild(P.node),this.RenderAndAnimateBorder(g,f),this.RenderAndAnimateBoxShadow(g,x,f)}let D=C0(this.computed_style()),A=D,R=E&&this.computed_style().outline_style!=pe.GetNone()&&this.computed_style().outline_style!=pe.GetHidden()&&ii(this.computed_style().outline_color).a()!=0;if(!D||!R&&this.computed_style().box_shadow==pe.GetNone()&&this.border_insets_.zero())this.RenderAndAnimateContent(f,i);else{let P=new fl;if(this.RenderAndAnimateContent(P,i),P.children().length>0){let{rounded_corners:O,overflow_node:F}=this.RenderAndAnimateOverflow(x,new ih(P),new Vn(0,0));x=O,f.AddChild(F)}A=!1}if(R&&this.RenderAndAnimateOutline(f),f.children().length>0){let P=new ih(f);if(A){let{overflow_node:O,rounded_corners:F}=this.RenderAndAnimateOverflow(x,P,a);x=F,P=O}P=this.RenderAndAnimateTransform(P,a),P=this.RenderAndAnimateOpacity(P,u,d),Q(this.cached_render_tree_node_info_),this.cached_render_tree_node_info_.node_=P,r.AddChild(this.cached_render_tree_node_info_.node_)}}parent(){return this.parent_||void 0}GetAbsoluteContainingBlock(){if(!this.parent_)return this;let r=this.parent_;for(;r&&!r.IsContainingBlockForPositionAbsoluteElements();)r=r.parent_;return r}GetFixedContainingBlock(){if(!this.parent_)return this;let r=this.parent_;for(;r&&!r.IsContainingBlockForPositionFixedElements();)r=r.parent_;return r}GetContainingBlock(){return this.computed_style().position==pe.GetAbsolute()?this.GetAbsoluteContainingBlock():this.computed_style().position==pe.GetFixed()?this.GetFixedContainingBlock():this.parent_}GetStackingContext(){if(!this.parent_)return this;if(!this.IsPositioned()&&!this.IsStackingContext())return this.parent_;let r=this.parent_;for(;!r.IsStackingContext();)r=r.parent_;return r}GetZIndex(){return this.computed_style().z_index==pe.GetAuto()?0:this.computed_style().z_index.value()}GetOrder(){return this.computed_style().order.value()}InvalidateParent(){this.parent_=void 0}IsUnderCoordinate(r){let n=this.GetBorderBoxFromRoot(!0);return r.x().GE(n.x())&&r.x().LE(n.x().ADD(n.width()))&&r.y().GE(n.y())&&r.y().LE(n.y().ADD(n.height()))}GetRenderSequence(){let r=[],n=this,s;for(;n&&s!=n;)s=n,s.cached_render_tree_node_info_&&(r.push(s.draw_order_position_in_stacking_context_),n=s.GetStackingContext());return r}static IsRenderedLater(r,n){for(let s=1;s<=r.length;++s){if(n.length<s)return!0;let i=r.length-s,o=n.length-s;if(r[i]!=n[o])return r[i]>n[o]}return!1}ApplyTransformActionToCoordinate(r,n){let s=[];return s.push(n),this.ApplyTransformActionToCoordinates(r,s)}ApplyTransformActionToCoordinates(r,n){let s=this.computed_style().transform;if(s==pe.GetNone())return!0;let i=this.GetContainingBlockOffsetFromRoot(!0),o=this.margin_box_offset_from_containing_block().ADD(this.GetBorderBoxOffsetFromMarginBox());r==0&&o.ADD_ASSIGN(i);let a=vm(s,this.computed_style().transform_origin,new pr(o.x().toFloat(),o.y().toFloat(),this.GetBorderBoxWidth().toFloat(),this.GetBorderBoxHeight().toFloat()));if(!a.IsIdentity()){if(r==0&&(a=a.Inverse(),a.IsZeros()))return!1;for(let u of n){let d=a.MUL(new Xr(u.x(),u.y()));u.set_x(d.x()),u.set_y(d.y())}}let l=new Vn(i.x().toFloat(),i.y().toFloat());for(let u of n)r==0?u.SUB_ASSIGN(l):u.ADD_ASSIGN(l);return!0}set_blend_background_color(r){this.blend_background_color_=r}used_style_provider(){return this.used_style_provider_}set_width(r){this.content_size_.set_width(r)}set_height(r){this.content_size_.set_height(r)}HasNonZeroMarginOrBorderOrPadding(){return this.width().NE(this.GetMarginBoxWidth())||this.height().NE(this.GetMarginBoxHeight())}AddBoxAndDescendantsToDrawOrderInStackingContext(r){Q(r==this.GetStackingContext()),this.draw_order_position_in_stacking_context_=r.AddToDrawOrderInThisStackingContext()}UpdateCrossReferencesOfContainerBox(r,n,s,i,o,a){let l=this.computed_style().position,u=l!=pe.GetStatic(),d=n;if(u&&(l==pe.GetFixed()?d=i:l==pe.GetAbsolute()&&(d=s),d==1&&r.AddContainingBlockChild(this)),o==1&&(u||this.IsStackingContext())){Q(d!=2||l!=pe.GetFixed());let f=r,g=d,x=[],E=this.GetZIndex();if(l==pe.GetFixed()&&E==0)for(let D of a)D.is_usable_as_child_container=!1;else if(d==2){let D=!1,A=l==pe.GetAbsolute();for(let R of a){if(E==0&&R.is_usable_as_child_container){Q(R.is_absolute_containing_block),f=R.container_box,g=D?2:1;break}(R.is_absolute_containing_block||!A)&&(D=!0,A=R.has_absolute_position,R.has_overflow_hidden&&x.push(R.container_box))}x.reverse()}f.AddStackingContextChild(this,E,g,x)}}UpdateHorizontalMarginsAssumingBlockLevelInFlowBox(r,n,s,i,o){let a=i,l=o;if((a||new ye).ADD(s).ADD(l||new ye).GT(n)&&(a=a||new ye,l=l||new ye),a&&(!l||r==or.kLeftToRightBaseDirection))this.set_margin_left(a),this.set_margin_right(n.SUB(a).SUB(s));else if(l)this.set_margin_left(n.SUB(s).SUB(l)),this.set_margin_right(l);else{let u=n.SUB(s).DIV(2);this.set_margin_left(u),this.set_margin_right(u)}}SetBorderInsets(r,n,s,i){this.border_insets_.SetInsets(r,n,s,i)}IsBorderStyleNoneOrHidden(r){return r==pe.GetNone()||r==pe.GetHidden()}ResetBorderInsets(){this.border_insets_=new wi}UpdateBorders(){if(up(this.computed_style().border_left_style)&&up(this.computed_style().border_top_style)&&up(this.computed_style().border_right_style)&&up(this.computed_style().border_bottom_style)){this.border_insets_=new wi;return}this.border_insets_.SetInsets(Y2(this.computed_style()),q2(this.computed_style()),Q2(this.computed_style()),J2(this.computed_style()))}UpdatePaddings(r){this.padding_insets_.SetInsets(Z2(this.computed_style(),r.containing_block_size),eF(this.computed_style(),r.containing_block_size),tF(this.computed_style(),r.containing_block_size),rF(this.computed_style(),r.containing_block_size))}ComputeRoundedCorners(){let r=new LQ(this.GetClampedBorderBoxSize().toSizeF()),n=new Lr,s=new Lr,i=new Lr,o=new Lr;this.computed_style().border_top_left_radius.Accept(r),r.rounded_corner()&&(n=new Lr(r.rounded_corner().horizontal,r.rounded_corner().vertical)),this.computed_style().border_top_right_radius.Accept(r),r.rounded_corner()&&(s=new Lr(r.rounded_corner().horizontal,r.rounded_corner().vertical)),this.computed_style().border_bottom_right_radius.Accept(r),r.rounded_corner()&&(i=new Lr(r.rounded_corner().horizontal,r.rounded_corner().vertical)),this.computed_style().border_bottom_left_radius.Accept(r),r.rounded_corner()&&(o=new Lr(r.rounded_corner().horizontal,r.rounded_corner().vertical));let a;return(!n.IsSquare()||!s.IsSquare()||!i.IsSquare()||!o.IsSquare())&&(a=new kc(n,s,i,o),a=a.Normalize(new pr(this.GetClampedBorderBoxSize().toSizeF()))),a}ComputePaddingRoundedCorners(r){let n;r&&!this.border_insets_.zero()&&(n=r.Inset(new WQ(this.border_insets_.left().toFloat(),this.border_insets_.top().toFloat(),this.border_insets_.right().toFloat(),this.border_insets_.bottom().toFloat())));let s=n||r;return s&&s.Normalize(new pr(this.GetClampedPaddingBoxSize().toSizeF()))}DoPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o){throw new Error("umimplemented")}GetBackgroundRect(){return new pr(new Xr(this.border_left_width().toFloat(),this.border_top_width().toFloat()),this.GetClampedPaddingBoxSize().toSizeF())}GetMarginBoxTransformFromContainingBlockInternal(r,n){let s=jn.Identity();if(this==r)return s;for(let i=this;;){if(s=rd(i.margin_box_offset_from_containing_block().x().toFloat(),i.margin_box_offset_from_containing_block().y().toFloat()).MUL(s),i.IsTransformed()){let l=i.margin_box_offset_from_containing_block().ADD(i.GetBorderBoxOffsetFromMarginBox());s=vm(i.computed_style().transform,i.computed_style().transform_origin,new pr(l.x().toFloat(),l.y().toFloat(),i.GetBorderBoxWidth().toFloat(),i.GetBorderBoxHeight().toFloat())).MUL(s)}const o=i.GetContainingBlock();if(o==r||!o)break;let a=i.GetContainingBlockOffsetFromItsContentBox(o).ADD(o.GetContentBoxOffsetFromMarginBox());s=rd(a.x().toFloat(),a.y().toFloat()).MUL(s),i=o}return s}RenderAndAnimateBorder(r,n){if(this.border_insets_.zero()||JQ(this.computed_style()))return;let s=new pr(this.GetClampedBorderBoxSize().toSizeF()),i=new fu(s);ZQ(r,this.computed_style(),i);let o=new xd(i);n.AddChild(o)}RenderAndAnimateOutline(r){let n=new pr(this.GetClampedBorderBoxSize().toSizeF()),s=new fu(n);eJ(n,this.computed_style(),s);let i=new xd(s);r.AddChild(i)}RenderAndAnimateBackgroundColor(r,n){let s=!1;if(!this.blend_background_color_){Q(!r),Q(!s),n.AddChild(new ak(this.GetBackgroundRect(),ii(this.computed_style().background_color)));return}if(!(ii(this.computed_style().background_color).a()==0)||s){let o=new fu(this.GetBackgroundRect());if(tJ(r,this.computed_style(),o),!o.rect.IsEmpty()){let a=new xd(o);n.AddChild(a)}}}RenderAndAnimateBackgroundImage(r){let n=Object.create(null);return n.is_opaque=!1,n}RenderAndAnimateBoxShadow(r,n,s){this.computed_style().box_shadow!=pe.GetNone()&&$e()}RenderAndAnimateOpacity(r,n,s){return r}RenderAndAnimateOverflow(r,n,s){r=this.ComputeRoundedCorners();let i=this.ComputePaddingRoundedCorners(r),{overflow_node:o,rounded_corners:a}=this.RenderAndAnimateOverflow(i,n,s);return r=a,{overflow_node:o,rounded_corners:r}}RenderAndAnimateTransform(r,n){let s=!1;{let o=this.computed_style().transform;o!=pe.GetNone()&&(s=o.HasTrait(Bb.kTraitIsDynamic))}let i=new pr(uy(n),this.GetClampedBorderBoxSize().toSizeF());if(s)return new wy(r,jn.Identity());if(this.IsTransformed()){let o=vm(this.computed_style().transform,this.computed_style().transform_origin,i);return o.IsIdentity()?r:new wy(r,o)}return r}SetGeneratingNode(r){this.node=r,r.SetLayoutObject(new fF(r,this));let n=new _3;n.SerializeSelfOnly(r),this.generating_html_=n.toString()}DumpWithIndent(r="",n=2){return this.generating_html_.length&&(r=this.DumpIndent(r,n),r+="# ",r+=this.generating_html_,r+=`
`),r=this.DumpIndent(r,n),r=this.DumpClassName(r),r=this.DumpProperties(r),r+=`
`,this.DumpChildrenWithIndent(r,n+2)}DumpIndent(r,n){for(;n--;)r+=" ";return r}DumpProperties(r){return r+="left=",r+=this.left(),r+=" ",r+="top=",r+=this.top(),r+=" ",r+="width=",r+=this.width(),r+=" ",r+="height=",r+=this.height(),r+=" ",r+="margin=",r+=this.margin_insets_.toString(),r+=" ",r+="border_width=",r+=this.border_insets_.toString(),r+=" ",r+="padding=",r+=this.padding_insets_.toString(),r+=" ",r+="baseline=",r+=this.GetBaselineOffsetFromTopMarginEdge(),r+=" ",this.css_computed_style_declaration_&&this.css_computed_style_declaration_.data()&&(r+="is_inline_before_blockification=",r+=this.is_inline_before_blockification(),r+=" "),r}DumpChildrenWithIndent(r,n){return r}LocalRectToAbsoluteQuad(r,n){return this.LocalRectToAncestorQuad(r,void 0,n)}LocalRectToAncestorQuad(r,n,s){return this.LocalToAncestorQuad(_u.fromRectF(pr.fromRectLayoutUnit(r)),n,s)}LocalToAncestorQuad(r,n,s){$e()}}function up(t){return t==pe.GetNone()||t==pe.GetHidden()}function QQ(t,e){let r=4,n=[new Xr(e.x().toFloat(),e.y().toFloat()),new Xr(e.right().toFloat(),e.y().toFloat()),new Xr(e.x().toFloat(),e.bottom().toFloat()),new Xr(e.right().toFloat(),e.bottom().toFloat())];for(let o=0;o<r;++o)n[o]=t.MUL(n[o]);let s=n[0],i=n[0];for(let o=1;o<r;++o)s.SetToMin(n[o]),i.SetToMax(n[o]);return new Rs(new ye(s.x()),new ye(s.y()),new ye(i.x()-s.x()),new ye(i.y()-s.y()))}function vm(t,e,r){if(t==pe.GetNone())return jn.Identity();let s=t.ToMatrix(r.size()),i=GQ(r,e);return rd(i.x(),i.y()).MUL(s).MUL(rd(-i.x(),-i.y()))}function JQ(t){return ii(t.border_left_color).a()==0&&ii(t.border_right_color).a()==0&&ii(t.border_top_color).a()==0&&ii(t.border_bottom_color).a()==0}function ZQ(t,e,r){r.border=rJ(e),t&&(r.rounded_corners=new kc(t))}function eJ(t,e,r){nJ(t,e,r,td(e.outline_width).toFloat())}function tJ(t,e,r){r.background_brush=new Tc(ii(e.background_color)),t&&(r.rounded_corners=new kc(t))}function rJ(t){let e=new _c(td(t.border_left_width).toFloat(),cp(t.border_left_style),ii(t.border_left_color)),r=new _c(td(t.border_right_width).toFloat(),cp(t.border_right_style),ii(t.border_right_color)),n=new _c(td(t.border_top_width).toFloat(),cp(t.border_top_style),ii(t.border_top_color)),s=new _c(td(t.border_bottom_width).toFloat(),cp(t.border_bottom_style),ii(t.border_bottom_color));return new dF(e,r,n,s)}function cp(t){let e=rl.kBorderStyleNone;return up(t)||(er(t,pe.GetSolid()),e=rl.kBorderStyleSolid),e}function nJ(t,e,r,n){r.rect=t,r.rect.Outset(n,n),n!=0&&(r.border=new dF(new _c(n,cp(e.outline_style),ii(e.outline_color))))}class iJ{constructor(e,r,n,s){c(this,"box");c(this,"z_index");c(this,"containing_block_relationship");c(this,"overflow_hidden_to_apply");this.box=e,this.z_index=r,this.containing_block_relationship=n,this.overflow_hidden_to_apply=s}}class sJ{EXEC(e,r){return e.z_index<r.z_index}}class lk extends pc{constructor(){super(...arguments);c(this,"child_boxes_",[]);c(this,"positioned_child_boxes_",[]);c(this,"negative_z_index_stacking_context_children_",new Map);c(this,"non_negative_z_index_stacking_context_children_",new Map);c(this,"update_size_results_valid_",!1);c(this,"are_cross_references_valid_",!1);c(this,"are_bidi_levels_runs_split_",!1);c(this,"next_draw_order_position_",0)}SplitBidiLevelRuns(){if(!this.are_bidi_levels_runs_split_){this.are_bidi_levels_runs_split_=!0;for(let r of this.child_boxes_)r.SplitBidiLevelRuns()}}InvalidateCrossReferencesOfBoxAndAncestors(){this.are_cross_references_valid_=!1,super.InvalidateCrossReferencesOfBoxAndAncestors()}RenderAndAnimateContent(r,n){let s=this;s.next_draw_order_position_=0,this.IsStackingContext()&&(n=s,n.UpdateCrossReferences());let i=new xn(this.GetContentBoxOffsetFromBorderBox());this.negative_z_index_stacking_context_children_.size&&this.RenderAndAnimateStackingContextChildren(this.negative_z_index_stacking_context_children_,r,i,n);for(let o of this.child_boxes_)!o.IsPositioned()&&!o.IsStackingContext()&&o.RenderAndAnimate(r,s,i.toVector2dF(),s);this.non_negative_z_index_stacking_context_children_.size&&this.RenderAndAnimateStackingContextChildren(this.non_negative_z_index_stacking_context_children_,r,i,n)}IsContainingBlockForPositionAbsoluteElements(){return!this.parent()||this.computed_style().IsContainingBlockForPositionAbsoluteElements()}IsContainingBlockForPositionFixedElements(){return!this.parent()||this.IsTransformed()}IsStackingContext(){return!this.parent()||this.computed_style().opacity.value()<1||this.IsTransformed()||this.IsPositioned()&&this.computed_style().z_index!=pe.GetAuto()||this.computed_style().position==pe.GetFixed()}UpdateRectOfPositionedChildBoxes(r,n){this.UpdateCrossReferences();for(let s of this.child_boxes_){er(this,s.GetContainingBlock());let i=s.computed_style().position;i==pe.GetAbsolute()?this.UpdateRectOfAbsolutelyPositionedChildBox(s,n):i==pe.GetFixed()?this.UpdateRectOfAbsolutelyPositionedChildBox(s,r):i==pe.GetStatic()||(Q(i==pe.GetRelative()),this.UpdateOffsetOfRelativelyPositionedChildBox(s,r)),this.positioned_child_boxes_.length}}PushBackDirectChild(r){Q(!r.parent()),Q(!this.update_size_results_valid_),Q(!this.are_cross_references_valid_),r.parent_=this,this.child_boxes_.push(r)}InsertSplitSiblingOfDirectChild(r){let s=this.child_boxes_[r].GetSplitSibling();Q(s),Q(!s.parent()),s.parent_=this,this.child_boxes_.splice(r+1,0,s),this.update_size_results_valid_=!1;let i=s.IsPositioned();return i&&(s.GetContainingBlock().are_cross_references_valid_=!1),(i||s.IsStackingContext())&&(s.GetStackingContext().are_cross_references_valid_=!1),this.InvalidateRenderTreeNodesOfBoxAndAncestors(),r+1}MoveDirectChildrenToSplitSibling(r){Q(r!=this.child_boxes_.length);let n=this.GetSplitSibling();Q(n),Q(!n.parent()),Q(!n.update_size_results_valid_),Q(!n.are_cross_references_valid_);for(let s=r;s<this.child_boxes_.length;s++){let i=this.child_boxes_[s];i.parent_=n,n.child_boxes_.push(i)}if(this.child_boxes_.length=r,this.update_size_results_valid_=!1,this.positioned_child_boxes_.length&&(this.are_cross_references_valid_=!1),this.HasStackingContextChildren()||C0(this.computed_style())){let s=this;for(;!s.IsStackingContext();)s=s.parent();s.HasStackingContextChildren()&&(s.are_cross_references_valid_=!1)}this.InvalidateRenderTreeNodesOfBoxAndAncestors()}child_boxes(){return this.child_boxes_}UpdateCrossReferencesOfContainerBox(r,n,s,i,o,a){super.UpdateCrossReferencesOfContainerBox(r,n,s,i,o,a);const l=Kr.kIsBoxDescendant;let u=s!=Kr.kIsBoxDescendant&&this.IsContainingBlockForPositionAbsoluteElements()?Kr.kIsBoxDescendant:s,d=i!=Kr.kIsBoxDescendant&&this.IsContainingBlockForPositionFixedElements()?Kr.kIsBoxDescendant:i,f=o!=Kr.kIsBoxDescendant&&this.IsStackingContext()?Kr.kIsBoxDescendant:o;if(f==Kr.kIsBox){this.negative_z_index_stacking_context_children_.clear(),this.non_negative_z_index_stacking_context_children_.clear();let g=this.computed_style().position==pe.GetAbsolute(),x=C0(this.computed_style());a.push(new YQ(this,this.IsContainingBlockForPositionAbsoluteElements(),g,x))}if(u==Kr.kIsBox||d==Kr.kIsBox||f==Kr.kIsBox)for(let g of this.child_boxes_)g.UpdateCrossReferencesOfContainerBox(r,l,u,d,f,a);f==Kr.kIsBox&&a.pop()}ValidateUpdateSizeInputs(r){return super.ValidateUpdateSizeInputs(r)&&this.update_size_results_valid_?!0:(this.update_size_results_valid_=!0,!1)}InvalidateUpdateSizeInputs(){this.update_size_results_valid_=!1}AddBoxAndDescendantsToDrawOrderInStackingContext(r){if(super.AddBoxAndDescendantsToDrawOrderInStackingContext(r),!this.IsStackingContext()){Q(this.negative_z_index_stacking_context_children_.size);for(let[n,s]of this.non_negative_z_index_stacking_context_children_)n.box.AddBoxAndDescendantsToDrawOrderInStackingContext(r)}}AddToDrawOrderInThisStackingContext(){return this.next_draw_order_position_++}UpdateCrossReferences(){if(!this.are_cross_references_valid_){let r=this.IsStackingContext();this.positioned_child_boxes_.length=0,r&&(this.negative_z_index_stacking_context_children_.clear(),this.non_negative_z_index_stacking_context_children_.clear());let n=[];const s=Kr.kIsBox;let i=this.IsContainingBlockForPositionAbsoluteElements()?Kr.kIsBox:Kr.kIsBoxAncestor,o=this.IsContainingBlockForPositionFixedElements()?Kr.kIsBox:Kr.kIsBoxAncestor,a=r?Kr.kIsBox:Kr.kIsBoxAncestor;for(let l of this.child_boxes_)l.UpdateCrossReferencesOfContainerBox(this,s,i,o,a,n);this.are_cross_references_valid_=!0}}AddContainingBlockChild(r){er(this,r.GetContainingBlock()),this.positioned_child_boxes_.push(r)}AddStackingContextChild(r,n,s,i){er(n,r.GetZIndex()),Q(this.IsStackingContext()?this==r.GetStackingContext():this.GetStackingContext()==r.GetStackingContext()&&n==0),(n<0?this.negative_z_index_stacking_context_children_:this.non_negative_z_index_stacking_context_children_).set(new iJ(r,n,s,i),new sJ)}HasStackingContextChildren(){return this.negative_z_index_stacking_context_children_.size>0||this.non_negative_z_index_stacking_context_children_.size>0}UpdateOffsetOfRelativelyPositionedChildBox(r,n){er(r.computed_style().position,pe.GetRelative());let s=tk(r.computed_style(),n.containing_block_size),i=K2(r.computed_style(),n.containing_block_size),o=rk(r.computed_style(),n.containing_block_size),a=X2(r.computed_style(),n.containing_block_size),l=new xn;!s&&!i?l.set_x(new ye):s&&!i?l.set_x(s):!s&&i?l.set_x(i.NEG()):n.containing_block_direction==or.kLeftToRightBaseDirection?l.set_x(s):l.set_x(i.NEG()),!o&&!a?l.set_y(new ye):o&&!a?l.set_y(o):!o&&a?l.set_y(a.NEG()):l.set_y(o),r.set_left(r.left().ADD(l.x())),r.set_top(r.top().ADD(l.y()))}UpdateRectOfAbsolutelyPositionedChildBox(r,n){let s=oJ(this,r);r.SetStaticPositionLeftFromContainingBlockToParent(s.left()),r.SetStaticPositionRightFromContainingBlockToParent(s.right()),r.SetStaticPositionTopFromContainingBlockToParent(s.top()),r.UpdateSize(n)}RenderAndAnimateStackingContextChildren(r,n,s,i){let o=new lJ(i,this,s,n);for(let[a,l]of r)Q(this.IsStackingContext()?this==a.box.GetStackingContext():this.GetStackingContext()==a.box.GetStackingContext()&&a.z_index==0),o.RenderAndAnimateChild(a)}DumpChildrenWithIndent(r,n){r=super.DumpChildrenWithIndent(r,n);for(let s of this.child_boxes())r=s.DumpWithIndent(r,n);return r}AsContainerBox(){return this}AbsoluteQuads(r,n=0){this.QuadsInternal(r,n,!0)}QuadsInternal(r,n,s){s?this.AbsoluteQuadsForSelf(r,n):$e()}dispose(){super.dispose();for(let r of this.child_boxes_)r.dispose();this.child_boxes_.length=0}}function oJ(t,e){Q(e.IsAbsolutelyPositioned()),er(e.GetContainingBlock());let r=new wi,n=e.parent();if(!n)throw new Error("500");for(;n!=t;){Q(n.parent()),Q(!n.IsTransformed());const s=n.GetContainingBlock();r.ASS_ASSIGN(n.GetContentBoxInsetFromContainingBlockContentBox(s)),n=s}return r.ASS_ASSIGN(new wi(t.padding_left(),t.padding_top(),t.padding_right(),new ye)),r}class aJ{constructor(e){c(this,"node_builder");c(this,"containing_block");this.node_builder=new fl(new Vn),this.containing_block=e}}class lJ{constructor(e,r,n,s){c(this,"stacking_context_");c(this,"child_container_");c(this,"child_container_offset_from_parent_node_");c(this,"base_node_builder_");c(this,"overflow_hidden_stack_",[]);this.stacking_context_=e,this.child_container_=r,this.child_container_offset_from_parent_node_=n,this.base_node_builder_=s}RenderAndAnimateChild(e){this.ApplyOverflowHiddenForChild(e.overflow_hidden_to_apply);const r=e.box.GetContainingBlock();let n=this.child_container_offset_from_parent_node_.ADD(this.GetOffsetFromChildContainerToContainingBlockContentBox(r,e.containing_block_relationship)).ADD(e.box.GetContainingBlockOffsetFromItsContentBox(r));e.box.RenderAndAnimate(this.GetActiveNodeBuilder(),r,n.toVector2dF(),this.stacking_context_)}ApplyOverflowHiddenForChild(e){let r=0;for(;r<e.length&&r<this.overflow_hidden_stack_.length&&e[r]==this.overflow_hidden_stack_[r].containing_block;++r);for(;r<this.overflow_hidden_stack_.length;)this.PopOverflowHiddenEntryFromStack();for(;r<e.length;++r)this.overflow_hidden_stack_.push(new aJ(e[r]))}PopOverflowHiddenEntryFromStack(){Q(this.overflow_hidden_stack_.length);let e=this.overflow_hidden_stack_[this.overflow_hidden_stack_.length-1],r=e.containing_block;Q(C0(r.computed_style()));let n=this.GetOffsetFromChildContainerToContainingBlockContentBox(r,Kr.kIsBoxAncestor).SUB(r.GetContentBoxOffsetFromBorderBox()),{rounded_corners:s,overflow_node:i}=r.RenderAndAnimateOverflow(void 0,new ih(e.node_builder),new Vn(n.x().toFloat(),n.y().toFloat())),o=i;this.overflow_hidden_stack_.pop(),this.GetActiveNodeBuilder().AddChild(o)}GetActiveNodeBuilder(){return this.overflow_hidden_stack_.length===0?this.base_node_builder_:this.overflow_hidden_stack_[this.overflow_hidden_stack_.length-1].node_builder}GetOffsetFromChildContainerToContainingBlockContentBox(e,r){if(r==Kr.kIsBox)return er(this.child_container_),new xn;let n=new xn,s=r==Kr.kIsBoxAncestor?this.child_container_:e,i=r==Kr.kIsBoxAncestor?e:this.child_container_;for(;s!=i&&s.parent()&&!s.IsTransformed();){const a=s.GetContainingBlock();n.ADD_ASSIGN(s.GetContentBoxOffsetFromContainingBlockContentBox(a)),s=a}let o=s;for(s=i,i=o;s!=i;){Q(s.parent()),Q(!s.IsTransformed());const a=s.GetContainingBlock();n.SUB_ASSIGN(s.GetContentBoxOffsetFromContainingBlockContentBox(a)),s=a}return r==Kr.kIsBoxAncestor&&(n=n.NEG()),n}}var ei=(t=>(t[t.kWrapAtPolicyBefore=0]="kWrapAtPolicyBefore",t[t.kWrapAtPolicyLastOpportunityWithinWidth=1]="kWrapAtPolicyLastOpportunityWithinWidth",t[t.kWrapAtPolicyLastOpportunity=2]="kWrapAtPolicyLastOpportunity",t[t.kWrapAtPolicyFirstOpportunity=3]="kWrapAtPolicyFirstOpportunity",t))(ei||{}),Qa=(t=>(t[t.kWrapOpportunityPolicyNormal=0]="kWrapOpportunityPolicyNormal",t[t.kWrapOpportunityPolicyBreakWord=1]="kWrapOpportunityPolicyBreakWord",t[t.kWrapOpportunityPolicyBreakWordOrNormal=2]="kWrapOpportunityPolicyBreakWordOrNormal",t))(Qa||{}),_r=(t=>(t[t.kWrapResultNoWrap=0]="kWrapResultNoWrap",t[t.kWrapResultWrapBefore=1]="kWrapResultWrapBefore",t[t.kWrapResultSplitWrap=2]="kWrapResultSplitWrap",t))(_r||{});function _F(t,e){return e?t!==0:t!==2}class pF extends lk{constructor(r,n,s){super(r,s);c(this,"maybe_baseline_offset_from_top_margin_edge_");c(this,"base_direction_");this.base_direction_=n}AsBlockContainerBox(){return this}UpdateContentSizeAndMargins(r){let n=nk(this.computed_style(),r.containing_block_size),s=Object.create(null),i=rk(this.computed_style(),r.containing_block_size),o=X2(this.computed_style(),r.containing_block_size),a=ik(this.computed_style(),r.containing_block_size),l=sk(this.computed_style(),r.containing_block_size);if(r.freeze_height&&(n=this.height()),!r.freeze_width){let f=nF(this.computed_style(),r.containing_block_size,s),g=mv(this.computed_style(),r.containing_block_size),x=xv(this.computed_style(),r.containing_block_size),E=tk(this.computed_style(),r.containing_block_size),D=K2(this.computed_style(),r.containing_block_size);this.UpdateContentWidthAndMargins(r.containing_block_direction,r.containing_block_size.width(),r.shrink_to_fit_width_forced,s.depends_on_containing_block,E,D,g,x,f,n);let A=Object.create(null),R=sF(this.computed_style(),r.containing_block_size,A);R&&this.width().GT(R)&&this.UpdateContentWidthAndMargins(r.containing_block_direction,r.containing_block_size.width(),r.shrink_to_fit_width_forced,A.depends_on_containing_block,E,D,g,x,R,n);let P=Object.create(null),O=aF(this.computed_style(),r.containing_block_size,P);O&&this.width().LT(O||new ye)&&this.UpdateContentWidthAndMargins(r.containing_block_direction,r.containing_block_size.width(),r.shrink_to_fit_width_forced,P.depends_on_containing_block,E,D,g,x,O,n)}this.UpdateContentHeightAndMargins(r.containing_block_size,i,o,a,l,n);let u=lF(this.computed_style(),r.containing_block_size);u&&this.height().GT(u)&&this.UpdateContentHeightAndMargins(r.containing_block_size,i,o,a,l,u);let d=uF(this.computed_style(),r.containing_block_size);d&&this.height().LT(d)&&this.UpdateContentHeightAndMargins(r.containing_block_size,i,o,a,l,d)}TryWrapAt(r,n,s,i,o){return Q(!this.IsAbsolutelyPositioned()),er(Br.kInlineLevel,this.GetLevel()),_r.kWrapResultNoWrap}TrySplitAtSecondBidiLevelRun(){return!1}GetBidiLevel(){}SetShouldCollapseLeadingWhiteSpace(r){er(Br.kInlineLevel,this.GetLevel())}SetShouldCollapseTrailingWhiteSpace(r){er(Br.kInlineLevel,this.GetLevel())}HasLeadingWhiteSpace(){return er(Br.kInlineLevel,this.GetLevel()),!1}HasTrailingWhiteSpace(){return er(Br.kInlineLevel,this.GetLevel()),!1}IsCollapsed(){return er(Br.kInlineLevel,this.GetLevel()),!1}JustifiesLineExistence(){return er(Br.kInlineLevel,this.GetLevel()),!0}AffectsBaselineInBlockFormattingContext(){return!!this.maybe_baseline_offset_from_top_margin_edge_}GetBaselineOffsetFromTopMarginEdge(){return this.maybe_baseline_offset_from_top_margin_edge_||this.GetMarginBoxHeight()}TrySplitAtEnd(){}base_direction(){return this.base_direction_}GetShrinkToFitWidth(r,n){let s=new yd;return s.containing_block_direction=this.base_direction_,s.containing_block_size.set_width(r.SUB(this.margin_left()).SUB(this.border_left_width()).SUB(this.padding_left()).SUB(this.padding_right()).SUB(this.border_right_width()).SUB(this.margin_right())),s.containing_block_size.set_height(n||new ye),s.shrink_to_fit_width_forced=!0,this.UpdateRectOfInFlowChildBoxes(s).shrink_to_fit_width()}IsTransformable(){return!0}UpdateContentWidthAndMargins(r,n,s,i,o,a,l,u,d,f){if(this.IsAbsolutelyPositioned())this.UpdateWidthAssumingAbsolutelyPositionedBox(r,n,o,a,d,l,u,f);else{let g=d,x=this.GetLevel();switch(s&&(x=Br.kInlineLevel,i&&(g=void 0)),x){case Br.kBlockLevel:this.UpdateWidthAssumingBlockLevelInFlowBox(r,n,g,l,u);break;case Br.kInlineLevel:this.UpdateWidthAssumingInlineLevelInFlowBox(n,g,l,u,f);break}}}UpdateContentHeightAndMargins(r,n,s,i,o,a){let l=new yd,u=new yd;l.containing_block_direction=this.base_direction_,u.containing_block_direction=this.base_direction_,this.AsAnonymousBlockBox()?l.containing_block_size=r:(l.containing_block_size.set_width(this.width()),u.containing_block_size.set_width(this.GetPaddingBoxWidth()),a?l.containing_block_size.set_height(a):n&&s?l.containing_block_size.set_height(r.height().SUB(n).SUB(s)):l.containing_block_size.set_height(new ye)),l.maybe_margin_top=i,l.maybe_margin_bottom=o,l.maybe_height=a;let d=this.UpdateRectOfInFlowChildBoxes(l);this.IsAbsolutelyPositioned()?this.UpdateHeightAssumingAbsolutelyPositionedBox(r.height(),n,s,a,i,o,d):this.UpdateHeightAssumingInFlowBox(a,i,o,d),l.containing_block_size.set_height(this.height()),u.containing_block_size.set_height(this.GetPaddingBoxHeight()),this.UpdateRectOfPositionedChildBoxes(l,u),d.maybe_baseline_offset_from_top_content_edge()?this.maybe_baseline_offset_from_top_margin_edge_=this.margin_top().ADD(this.border_top_width()).ADD(this.padding_top()).ADD(d.maybe_baseline_offset_from_top_content_edge()):this.maybe_baseline_offset_from_top_margin_edge_=void 0}UpdateWidthAssumingAbsolutelyPositionedBox(r,n,s,i,o,a,l,u){if(!s&&!o&&!i){this.set_margin_left(a||new ye),this.set_margin_right(l||new ye),r==or.kLeftToRightBaseDirection?(this.set_left(this.GetStaticPositionLeft()),this.set_width(this.GetShrinkToFitWidth(n,u))):(this.set_width(this.GetShrinkToFitWidth(n,u)),this.set_left(n.SUB(this.GetStaticPositionRight()).SUB(this.GetMarginBoxWidth())));return}if(s&&o&&i){this.set_left(s),this.set_width(o);let d=n.SUB(s).SUB(this.GetBorderBoxWidth()).SUB(i);if(!a&&!l){let f=d.DIV(2);f.LT(new ye)?r==or.kLeftToRightBaseDirection?(this.set_margin_left(new ye),this.set_margin_right(d)):(this.set_margin_left(d),this.set_margin_right(new ye)):(this.set_margin_left(f),this.set_margin_right(f))}else a?l?(this.set_margin_left(a),this.set_margin_right(l),r==or.kRightToLeftBaseDirection&&this.set_left(n.SUB(this.GetMarginBoxWidth()).SUB(i))):(this.set_margin_left(a),this.set_margin_right(d.SUB(a))):(this.set_margin_left(d.SUB(l)),this.set_margin_right(l));return}if(this.set_margin_left(a||new ye),this.set_margin_right(l||new ye),!s&&!o&&i){this.set_width(this.GetShrinkToFitWidth(n,u)),this.set_left(n.SUB(this.GetMarginBoxWidth()).SUB(i));return}if(!s&&!i&&o){this.set_width(o),r==or.kLeftToRightBaseDirection?this.set_left(this.GetStaticPositionLeft()):this.set_left(n.SUB(this.GetStaticPositionRight()).SUB(this.GetMarginBoxWidth()));return}if(!o&&!i&&s){this.set_left(s),this.set_width(this.GetShrinkToFitWidth(n,u));return}if(!s&&o&&i){this.set_width(o),this.set_left(n.SUB(this.GetMarginBoxWidth()).SUB(i));return}if(!o&&s&&i){this.set_left(s),this.set_width(n.SUB(s).SUB(this.margin_left()).SUB(this.border_left_width()).SUB(this.padding_left()).SUB(this.padding_right()).SUB(this.border_right_width()).SUB(this.margin_right()).SUB(i));return}if(!i&&s&&o){this.set_left(s),this.set_width(o);return}}UpdateHeightAssumingAbsolutelyPositionedBox(r,n,s,i,o,a,l){if(!n&&!i&&!s){this.set_margin_top(o||new ye),this.set_margin_bottom(a||new ye),this.set_top(this.GetStaticPositionTop()),this.set_height(l.auto_height());return}if(n&&i&&s){this.set_top(n),this.set_height(i);let u=r.SUB(n).SUB(this.GetBorderBoxHeight()).SUB(s);if(!o&&!a){let d=u.DIV(2);this.set_margin_top(d),this.set_margin_bottom(d)}else o?a?(this.set_margin_top(o),this.set_margin_bottom(a)):(this.set_margin_top(o),this.set_margin_bottom(u.SUB(o))):(Q(a),this.set_margin_top(u.SUB(a)),this.set_margin_bottom(a));return}if(this.set_margin_top(o||new ye),this.set_margin_bottom(a||new ye),!n&&!i&&s){this.set_height(l.auto_height()),this.set_top(r.SUB(this.GetMarginBoxHeight()).SUB(s));return}if(!n&&!s&&i){this.set_height(i),this.set_top(this.GetStaticPositionTop());return}if(!i&&!s&&n){this.set_top(n),this.set_height(l.auto_height());return}if(!n&&i&&s){this.set_height(i),this.set_top(r.SUB(this.GetMarginBoxHeight()).SUB(s));return}if(!i&&n&&s){this.set_top(n),this.set_height(r.SUB(n).SUB(this.margin_top()).SUB(this.border_top_width()).SUB(this.padding_top()).SUB(this.padding_bottom()).SUB(this.border_bottom_width()).SUB(this.margin_bottom()).SUB(s));return}if(!s&&n&&i){this.set_top(n),this.set_height(i);return}}UpdateWidthAssumingBlockLevelInFlowBox(r,n,s,i,o){let a=i,l=o;s?(this.set_width(s),this.UpdateHorizontalMarginsAssumingBlockLevelInFlowBox(r,n,this.GetBorderBoxWidth(),a,l)):(this.set_margin_left(a||new ye),this.set_margin_right(l||new ye),n.SUB(this.margin_left()).SUB(this.border_left_width()).SUB(this.padding_left()).SUB(this.padding_right()).SUB(this.border_right_width()).SUB(this.margin_right()),this.set_width(n.SUB(this.margin_left()).SUB(this.border_left_width()).SUB(this.padding_left()).SUB(this.padding_right()).SUB(this.border_right_width()).SUB(this.margin_right())))}UpdateWidthAssumingInlineLevelInFlowBox(r,n,s,i,o){this.set_margin_left(s||new ye),this.set_margin_right(i||new ye),n?this.set_width(n):this.set_width(this.GetShrinkToFitWidth(r,o))}UpdateHeightAssumingInFlowBox(r,n,s,i){if(this.collapsed_empty_margin_)this.set_margin_top(this.collapsed_empty_margin_),this.set_margin_bottom(new ye);else{let o=this.collapsed_margin_top_||n||new ye,a=this.collapsed_margin_bottom_||s||new ye;this.set_margin_top(o),this.set_margin_bottom(a)}this.set_height(r||i.auto_height())}DumpProperties(r){return r=super.DumpProperties(r),r+="affects_baseline_in_block_formatting_context=",r+=this.AffectsBaselineInBlockFormattingContext(),r+=" ",r}AbsoluteQuadsForSelf(r,n){this.QuadsForSelfInternal(r,n,!0)}QuadsForSelfInternal(r,n,s){if(this.BorderBoxRect(),s){const i=this.GetBorderBoxFromRoot(!1);r.push(_u.fromRectF(pr.fromRectLayoutUnit(i)))}else{const i=this.BorderBoxRect();r.push(_u.fromRectF(pr.fromRectLayoutUnit(i)))}}}class Nw{constructor(e,r,n,s){c(this,"offset");c(this,"glyph_buffer");c(this,"color");c(this,"shadows",[]);c(this,"background");this.offset=e,this.glyph_buffer=r,this.color=n,this.background=s}}const Hy=class extends bh{constructor(r,n,s){super();c(this,"data_");c(this,"id",Hy.ID++);r instanceof Nw?this.data_=r:this.data_=new Nw(r,n,s)}dispose(){super.dispose(),this.data_.glyph_buffer.dispose()}Accept(r){r.VisitTextNode(this)}GetBounds(){let r=this.data_.glyph_buffer.GetBounds();if(this.data_.shadows)for(let n=0;n<this.data_.shadows.length;++n)r.Union(this.data_.shadows[n].ToShadowBounds(this.data_.glyph_buffer.GetBounds()));return r.Offset(this.data_.offset),r}GetTypeId(){return lr(Hy)}data(){return this.data_}};let Ip=Hy;c(Ip,"ID",1);class gF{constructor(){c(this,"shrink_to_fit_width_",new ye);c(this,"auto_height_",new ye);c(this,"maybe_baseline_offset_from_top_content_edge_")}shrink_to_fit_width(){return this.shrink_to_fit_width_}auto_height(){return this.auto_height_}maybe_baseline_offset_from_top_content_edge(){return this.maybe_baseline_offset_from_top_content_edge_}set_shrink_to_fit_width(e){this.shrink_to_fit_width_=e}set_auto_height(e){this.auto_height_=e}set_baseline_offset_from_top_content_edge(e){this.maybe_baseline_offset_from_top_content_edge_=e}}class mF{constructor(e,r,n,s,i,o,a,l,u,d,f,g){c(this,"top_");c(this,"position_children_relative_to_baseline_");c(this,"line_height_");c(this,"font_metrics_");c(this,"should_collapse_leading_white_space_");c(this,"should_collapse_trailing_white_space_");c(this,"layout_params_");c(this,"base_direction_");c(this,"text_align_");c(this,"font_size_");c(this,"indent_offset_");c(this,"ellipsis_width_");c(this,"has_overflowed_");c(this,"at_end_");c(this,"child_boxes_",[]);c(this,"num_absolutely_positioned_boxes_before_first_box_justifying_line_");c(this,"first_box_justifying_line_existence_index_");c(this,"first_non_collapsed_child_box_index_");c(this,"last_non_collapsed_child_box_index_");c(this,"has_leading_white_space_",!1);c(this,"has_trailing_white_space_",!1);c(this,"shrink_to_fit_width_");c(this,"height_");c(this,"baseline_offset_from_top_");c(this,"is_ellipsis_placed_");c(this,"placed_ellipsis_offset_");this.top_=e,this.position_children_relative_to_baseline_=r,this.line_height_=n,this.font_metrics_=s,this.should_collapse_leading_white_space_=i,this.should_collapse_trailing_white_space_=o,this.layout_params_=a,this.base_direction_=l,this.text_align_=u,this.font_size_=d,this.indent_offset_=f,this.ellipsis_width_=g,this.has_overflowed_=!1,this.at_end_=!1,this.num_absolutely_positioned_boxes_before_first_box_justifying_line_=0,this.shrink_to_fit_width_=this.indent_offset_.CLONE(),this.height_=new ye,this.baseline_offset_from_top_=new ye,this.is_ellipsis_placed_=!1,this.placed_ellipsis_offset_=new ye}top(){return this.top_}TryAddChildAndMaybeWrap(e){if(Q(!this.at_end_),e.IsAbsolutelyPositioned()){this.BeginEstimateStaticPositionForAbsolutelyPositionedChild(e);return}return this.UpdateSizePreservingTrailingWhiteSpace(e),!this.has_overflowed_&&!this.TryAddChildWithinAvailableWidth(e)&&(this.TryWrapOverflowingBoxAndMaybeAddSplitChild(ei.kWrapAtPolicyLastOpportunityWithinWidth,Qa.kWrapOpportunityPolicyNormal,e)||this.TryWrapChildrenAtLastOpportunity(Qa.kWrapOpportunityPolicyNormal)||this.TryWrapOverflowingBoxAndMaybeAddSplitChild(ei.kWrapAtPolicyLastOpportunityWithinWidth,Qa.kWrapOpportunityPolicyBreakWord,e)||this.TryWrapChildrenAtLastOpportunity(Qa.kWrapOpportunityPolicyBreakWord)?this.at_end_=!0:this.has_overflowed_=!0),this.has_overflowed_&&(this.TryWrapOverflowingBoxAndMaybeAddSplitChild(ei.kWrapAtPolicyFirstOpportunity,Qa.kWrapOpportunityPolicyBreakWordOrNormal,e)?this.at_end_=!0:this.BeginAddChildInternal(e)),Q(this.child_boxes_.length),this.at_end_?this.child_boxes_[this.child_boxes_.length-1]:void 0}BeginAddChildAndMaybeOverflow(e){if(e.IsAbsolutelyPositioned()){this.BeginEstimateStaticPositionForAbsolutelyPositionedChild(e);return}this.UpdateSizePreservingTrailingWhiteSpace(e),this.BeginAddChildInternal(e)}EndUpdates(){this.at_end_=!0,this.should_collapse_trailing_white_space_&&this.CollapseTrailingWhiteSpace(),this.has_leading_white_space_=this.HasLeadingWhiteSpace(),this.has_trailing_white_space_=this.HasTrailingWhiteSpace(),this.ReverseChildBoxesByBidiLevels(),this.UpdateChildBoxLeftPositions(),this.SetLineBoxHeightFromChildBoxes(),this.UpdateChildBoxTopPositions(),this.MaybePlaceEllipsis()}HasLeadingWhiteSpace(){return Q(this.at_end_||!this.has_leading_white_space_),this.has_leading_white_space_?!!this.has_leading_white_space_:!!this.first_non_collapsed_child_box_index_&&this.child_boxes_[this.first_non_collapsed_child_box_index_].HasLeadingWhiteSpace()}HasTrailingWhiteSpace(){return Q(this.at_end_||!this.has_trailing_white_space_),this.has_trailing_white_space_?!!this.has_trailing_white_space_:!!this.last_non_collapsed_child_box_index_&&this.child_boxes_[this.last_non_collapsed_child_box_index_].HasTrailingWhiteSpace()}IsCollapsed(){return!this.first_non_collapsed_child_box_index_}LineExists(){return!rn(this.first_box_justifying_line_existence_index_)}GetFirstBoxJustifyingLineExistenceIndex(){return(rn(this.first_box_justifying_line_existence_index_)?this.child_boxes_.length:this.first_box_justifying_line_existence_index_)+this.num_absolutely_positioned_boxes_before_first_box_justifying_line_}IsEllipsisPlaced(){return this.is_ellipsis_placed_}GetEllipsisCoordinates(){return new Vn(this.placed_ellipsis_offset_.toFloat(),this.top_.ADD(this.baseline_offset_from_top_).toFloat())}shrink_to_fit_width(){return this.shrink_to_fit_width_}height(){return this.height_}baseline_offset_from_top(){return this.baseline_offset_from_top_}GetAvailableWidth(){return this.layout_params_.containing_block_size.width().SUB(this.shrink_to_fit_width_)}UpdateSizePreservingTrailingWhiteSpace(e){e.SetShouldCollapseLeadingWhiteSpace(this.ShouldCollapseLeadingWhiteSpaceInNextChildBox()),e.SetShouldCollapseTrailingWhiteSpace(!1),e.UpdateSize(this.layout_params_)}ShouldCollapseLeadingWhiteSpaceInNextChildBox(){return this.last_non_collapsed_child_box_index_?this.child_boxes_[this.last_non_collapsed_child_box_index_].HasTrailingWhiteSpace():this.should_collapse_leading_white_space_}CollapseTrailingWhiteSpace(){if(!this.HasTrailingWhiteSpace())return;rn(this.last_non_collapsed_child_box_index_)&&gt();let e=this.child_boxes_[this.last_non_collapsed_child_box_index_],r=e.width();e.SetShouldCollapseTrailingWhiteSpace(!0),e.UpdateSize(this.layout_params_);let n=r.SUB(e.width());this.shrink_to_fit_width_.SUB_ASSIGN(n)}RestoreTrailingWhiteSpace(){if(!this.last_non_collapsed_child_box_index_)return;let e=this.child_boxes_[this.last_non_collapsed_child_box_index_],r=e.width();e.SetShouldCollapseTrailingWhiteSpace(!1),e.UpdateSize(this.layout_params_);let n=e.width().SUB(r);this.shrink_to_fit_width_.ADD_ASSIGN(n)}TryAddChildWithinAvailableWidth(e){if(e.GetMarginBoxWidth().LE(this.GetAvailableWidth()))return this.BeginAddChildInternal(e),!0;if(this.should_collapse_trailing_white_space_&&(e.HasTrailingWhiteSpace()||e.IsCollapsed()&&this.HasTrailingWhiteSpace())){let r=e.HasTrailingWhiteSpace(),n=!1;if(r?(e.SetShouldCollapseTrailingWhiteSpace(!0),e.UpdateSize(this.layout_params_)):this.CollapseTrailingWhiteSpace(),e.GetMarginBoxWidth().LE(this.GetAvailableWidth())&&(n=!0),r?(e.SetShouldCollapseTrailingWhiteSpace(!1),e.UpdateSize(this.layout_params_)):this.RestoreTrailingWhiteSpace(),n)return this.BeginAddChildInternal(e),!0}return!1}TryWrapOverflowingBoxAndMaybeAddSplitChild(e,r,n){if(!this.first_box_justifying_line_existence_index_&&!n.JustifiesLineExistence())return!1;let s=n.TryWrapAt(e,r,this.LineExists(),this.GetAvailableWidth(),this.should_collapse_trailing_white_space_);return s==_r.kWrapResultWrapBefore?!0:s==_r.kWrapResultSplitWrap?(this.UpdateSizePreservingTrailingWhiteSpace(n),this.BeginAddChildInternal(n),!0):!1}TryWrapChildrenAtLastOpportunity(e){if(!this.first_box_justifying_line_existence_index_)return!1;let r=new ye,n=this.child_boxes_.length,s=this.first_box_justifying_line_existence_index_;for(;n>s;){--n;let i=this.child_boxes_[n];r.ADD_ASSIGN(i.GetMarginBoxWidth());let o=n!=s,a=i.TryWrapAt(ei.kWrapAtPolicyLastOpportunity,e,o,new ye,!1);if(a!=_r.kWrapResultNoWrap){if(this.child_boxes_.length=n,this.shrink_to_fit_width_.SUB_ASSIGN(r),this.first_non_collapsed_child_box_index_){if(this.first_non_collapsed_child_box_index_>=n)this.first_non_collapsed_child_box_index_=void 0,this.last_non_collapsed_child_box_index_=void 0;else if(this.last_non_collapsed_child_box_index_>=n){this.last_non_collapsed_child_box_index_=this.first_non_collapsed_child_box_index_;let l=n,u=this.last_non_collapsed_child_box_index_+1;for(;l>u;)if(--l,this.child_boxes_[l].IsCollapsed()){this.last_non_collapsed_child_box_index_=l;break}}}return a==_r.kWrapResultSplitWrap&&(this.UpdateSizePreservingTrailingWhiteSpace(i),this.BeginAddChildInternal(i)),!0}}return!1}BeginEstimateStaticPositionForAbsolutelyPositionedChild(e){this.first_box_justifying_line_existence_index_||++this.num_absolutely_positioned_boxes_before_first_box_justifying_line_,e.is_inline_before_blockification()?(this.CollapseTrailingWhiteSpace(),e.SetStaticPositionLeftFromParent(this.shrink_to_fit_width_),this.RestoreTrailingWhiteSpace()):e.SetStaticPositionLeftFromParent(new ye),e.SetStaticPositionRightFromParent(new ye),e.SetStaticPositionTopFromParent(new ye)}BeginAddChildInternal(e){!this.first_box_justifying_line_existence_index_&&e.JustifiesLineExistence()&&(this.first_box_justifying_line_existence_index_=this.child_boxes_.length),e.IsCollapsed()||(this.first_non_collapsed_child_box_index_||(this.first_non_collapsed_child_box_index_=this.child_boxes_.length),this.last_non_collapsed_child_box_index_=this.child_boxes_.length),e.HasTrailingLineBreak()&&(this.at_end_=!0),this.shrink_to_fit_width_.ADD_ASSIGN(e.GetMarginBoxWidth()),this.child_boxes_.push(e)}ReverseChildBoxesByBidiLevels(){let e=-1,r=0,n=Number.MAX_SAFE_INTEGER;for(let s of this.child_boxes_){let i=s.GetBidiLevel()||e;i!=e&&(i>r&&(r=i),i<n&&(n=i))}n%2==0&&(n+=1);for(let s=r;s>=n;--s)this.ReverseChildBoxesMeetingBidiLevelThreshold(s)}ReverseChildBoxesMeetingBidiLevelThreshold(e){let r=0,n,s=0;for(let i=0;i!=this.child_boxes_.length-1-1;){let o=i++;if(s=this.child_boxes_[o].GetBidiLevel()||s,s>=e)r==0&&(n=this.child_boxes_[o]),++r;else{if(r>1){let l=n;n=this.child_boxes_[o],this.child_boxes_[o]=l}r=0}}if(r>1){let i=n;n=this.child_boxes_[this.child_boxes_.length-1],this.child_boxes_[this.child_boxes_.length-1]=i}}UpdateChildBoxLeftPositions(){let e=new ye;switch(this.ComputeHorizontalAlignment()){case 0:break;case 1:e=this.GetAvailableWidth().DIV(2);break;case 2:e=this.GetAvailableWidth();break}this.base_direction_!=or.kRightToLeftBaseDirection&&e.ADD_ASSIGN(this.indent_offset_);let n=new ye(e);for(let s of this.child_boxes_)s.set_left(n),n=s.GetMarginBoxRightEdgeOffsetFromContainingBlock()}SetLineBoxHeightFromChildBoxes(){let e=new hF(this.font_metrics_,this.font_size_);this.line_height_.Accept(e),this.baseline_offset_from_top_=e.baseline_offset_from_top();let r=e.baseline_offset_from_bottom(),n=new ye,s=new ye;for(let i of this.child_boxes_){let o=i.computed_style().vertical_align,a=new ye,l=!1;if(o==pe.GetMiddle())a=this.GetHeightAboveMiddleAlignmentPoint(i),l=!0;else if(o==pe.GetTop()){let u=i.GetInlineLevelBoxHeight();u>s&&(n=ye.Max(n,u))}else if(o==pe.GetBottom()){let u=i.GetInlineLevelBoxHeight();u>n&&(s=ye.Max(s,u))}else o==pe.GetBaseline()?(a=i.GetBaselineOffsetFromTopMarginEdge(),l=!0):gt('Unknown value of "vertical-align".');if(l){this.baseline_offset_from_top_=ye.Max(this.baseline_offset_from_top_,a);let u=i.GetInlineLevelBoxHeight().SUB(a);r=ye.Max(r,u)}}this.height_=this.baseline_offset_from_top_.ADD(r),n<s?(n.GT(this.height_)&&(r=n.SUB(this.baseline_offset_from_top_)),s.GT(this.height_)&&(this.height_=s,this.baseline_offset_from_top_=this.height_.SUB(r))):(s.GT(this.height_)&&(this.baseline_offset_from_top_=s.SUB(r)),n.GT(this.height_)&&(this.height_=n,r=this.height_.SUB(this.baseline_offset_from_top_)))}UpdateChildBoxTopPositions(){let e=new ye(this.top_);this.position_children_relative_to_baseline_&&e.SUB_ASSIGN(this.baseline_offset_from_top_);for(let r of this.child_boxes_){let n=r.computed_style().vertical_align,s=new ye;n==pe.GetMiddle()?s=this.baseline_offset_from_top_.SUB(this.GetHeightAboveMiddleAlignmentPoint(r)):n==pe.GetTop()||(n==pe.GetBottom()?s=this.height_.SUB(r.GetInlineLevelBoxHeight()):n==pe.GetBaseline()?s=this.baseline_offset_from_top_.SUB(r.GetBaselineOffsetFromTopMarginEdge()):gt("Unsupported vertical_align property value")),r.set_top(e.ADD(s).ADD(r.GetInlineLevelTopMargin()))}}MaybePlaceEllipsis(){if(this.ellipsis_width_.LE(new ye)||this.shrink_to_fit_width_.LE(this.layout_params_.containing_block_size.width()))return;let e=new ye;this.ellipsis_width_.LE(this.layout_params_.containing_block_size.width())?e=this.base_direction_==or.kRightToLeftBaseDirection?this.ellipsis_width_:this.layout_params_.containing_block_size.width().SUB(this.ellipsis_width_):e=this.base_direction_==or.kRightToLeftBaseDirection?this.layout_params_.containing_block_size.width():new ye;let r=!1,n=new ye;if(this.base_direction_==or.kRightToLeftBaseDirection)for(let s=this.child_boxes_.length-1;s>-1;s--){let i=this.child_boxes_[s],{is_placement_requirement_met:o,is_placed:a,placed_offset:l}=i.TryPlaceEllipsisOrProcessPlacedEllipsis(this.base_direction_,e,r,this.is_ellipsis_placed_,n);r=o,this.is_ellipsis_placed_=a,n=l}else for(let s of this.child_boxes_){let{is_placed:i,is_placement_requirement_met:o,placed_offset:a}=s.TryPlaceEllipsisOrProcessPlacedEllipsis(this.base_direction_,e,r,this.is_ellipsis_placed_,n);r=o,this.is_ellipsis_placed_=i,n=a}this.placed_ellipsis_offset_=this.base_direction_==or.kRightToLeftBaseDirection?n.SUB(this.ellipsis_width_):n}GetHeightAboveMiddleAlignmentPoint(e){return e.GetInlineLevelBoxHeight().ADD(new ye(this.font_metrics_.x_height())).DIV(2)}ComputeHorizontalAlignment(){let e;return this.layout_params_.containing_block_size.width().LT(this.shrink_to_fit_width_)?e=this.base_direction_==or.kRightToLeftBaseDirection?2:0:this.text_align_==pe.GetStart()?e=this.base_direction_==or.kRightToLeftBaseDirection?2:0:this.text_align_==pe.GetEnd()?e=this.base_direction_==or.kRightToLeftBaseDirection?0:2:this.text_align_==pe.GetLeft()?e=0:this.text_align_==pe.GetRight()?e=2:this.text_align_==pe.GetCenter()?e=1:(gt('Unknown value of "text-align".'),e=0),e}}class uJ extends gF{constructor(r,n,s,i,o,a,l,u){super();c(this,"line_height_");c(this,"font_metrics_");c(this,"layout_params_");c(this,"base_direction_");c(this,"text_align_");c(this,"font_size_");c(this,"text_indent_offset_");c(this,"ellipsis_width_");c(this,"line_box_");c(this,"line_count_");c(this,"preferred_min_width_",new ye);c(this,"ellipses_coordinates_",[]);this.line_height_=r,this.font_metrics_=n,this.layout_params_=s,this.base_direction_=i,this.text_align_=o,this.font_size_=a,this.text_indent_offset_=l,this.ellipsis_width_=u,this.line_count_=0,this.CreateLineBox()}TryAddChildAndMaybeWrap(r){Q(this.line_box_);let n=this.line_box_.TryAddChildAndMaybeWrap(r);return n&&this.CreateLineBox(),n}EndUpdates(){this.DestroyLineBox(),this.set_shrink_to_fit_width(ye.Max(this.preferred_min_width_,this.line_count_>1?this.layout_params_.containing_block_size.width():new ye))}GetEllipsesCoordinates(){return this.ellipses_coordinates_}CreateLineBox(){this.line_box_&&this.DestroyLineBox();let r=this.line_count_==0?this.text_indent_offset_:new ye;this.line_box_=new mF(this.auto_height(),!1,this.line_height_,this.font_metrics_,!0,!0,this.layout_params_,this.base_direction_,this.text_align_,this.font_size_,r.CLONE(),this.ellipsis_width_)}DestroyLineBox(){this.line_box_||gt(),this.line_box_.EndUpdates(),this.line_box_.LineExists()&&(++this.line_count_,this.preferred_min_width_=ye.Max(this.preferred_min_width_,this.line_box_.shrink_to_fit_width()),this.set_auto_height(this.line_box_.top().ADD(this.line_box_.height())),this.set_baseline_offset_from_top_content_edge(this.line_box_.top().ADD(this.line_box_.baseline_offset_from_top())),this.line_box_.IsEllipsisPlaced()&&this.ellipses_coordinates_.push(this.line_box_.GetEllipsisCoordinates())),this.line_box_=void 0}}class cJ extends pF{constructor(r,n,s){super(r,n,s);c(this,"used_font_");c(this,"ellipses_coordinates_",[]);this.used_font_=s.GetUsedFontList(r.data().font_family,r.data().font_size,r.data().font_style,r.data().font_weight)}AreEllipsesEnabled(){return this.parent().computed_style().overflow==pe.GetHidden()&&this.parent().computed_style().text_overflow==pe.GetEllipsis()}GetLevel(){return Br.kBlockLevel}GetMarginCollapsingStatus(){return Fp.kIgnore}AsAnonymousBlockBox(){return this}SplitBidiLevelRuns(){super.SplitBidiLevelRuns();for(let r=0;r<this.child_boxes().length;)this.child_boxes()[r].TrySplitAtSecondBidiLevelRun()?r=this.InsertSplitSiblingOfDirectChild(r):++r}HasTrailingLineBreak(){return this.child_boxes().length>0&&this.child_boxes()[this.child_boxes().length-1].HasTrailingLineBreak()}RenderAndAnimateContent(r,n){if(lk.prototype.RenderAndAnimateContent.call(this,r,n),this.computed_style().visibility==pe.GetVisible()&&this.ellipses_coordinates_.length&&this.used_font_.IsVisible()){let s=ii(this.computed_style().color);if(s.a()>0){let i=this.used_font_.GetEllipsisValue();const{object:{ptr:o,view:a},dispose:l}=r1(String.fromCodePoint(i),!0),u=new HS(o,a.length),d=Jx.fromUTF8(u);let f=this.used_font_.CreateGlyphBuffer(d,0,1,!1);u.delete(),d.delete();for(let g of this.ellipses_coordinates_)r.AddChild(new Ip(g,f,s));l()}}}TryAddChild(r){return gt(),!1}AddInlineLevelChild(r){Q(r.GetLevel()==Br.kInlineLevel||r.IsAbsolutelyPositioned()),this.PushBackDirectChild(r)}UpdateRectOfInFlowChildBoxes(r){for(let o of this.child_boxes())o.DoPreEllipsisPlacementProcessing();let n=this.AreEllipsesEnabled()?this.used_font_.GetEllipsisWidth():0,s=new uJ(this.computed_style().line_height,this.used_font_.GetFontMetrics(),r,this.base_direction(),this.computed_style().text_align,this.computed_style().font_size,cF(this.computed_style().text_indent),new ye(n)),i=0;for(;i!==this.child_boxes().length;){let o=this.child_boxes()[i],a=s.TryAddChildAndMaybeWrap(o);if(a){for(;o!=a;)--i,o=this.child_boxes()[i];let l=a.GetSplitSibling(),u=i+1;if(l&&(u==this.child_boxes().length-1||this.child_boxes()[u]!=l)){i=this.InsertSplitSiblingOfDirectChild(i);continue}}++i}s.EndUpdates(),this.ellipses_coordinates_=s.GetEllipsesCoordinates();for(let o of this.child_boxes())o.DoPostEllipsisPlacementProcessing();return s}DumpClassName(r){return r+="AnonymousBlockBox ",r}}class hJ{constructor(e){c(this,"collapsing_margin",new ye);c(this,"context_margin_top");c(this,"should_collapse_own_margins_together",!0);c(this,"should_collapse_margin_bottom",!0);c(this,"should_collapse_margin_top");this.should_collapse_margin_top=e}}class dJ extends gF{constructor(r,n){super();c(this,"layout_params_");c(this,"margin_collapsing_params_");this.layout_params_=r,this.margin_collapsing_params_=new hJ(n)}CollapseContainingMargins(r){let n=r.padding_top()!=new ye,s=r.border_top_width()!=new ye,i=r.padding_bottom()!=new ye,o=r.border_bottom_width()!=new ye,a=this.layout_params_.maybe_margin_top||new ye,l=this.layout_params_.maybe_margin_bottom||new ye;if(!this.margin_collapsing_params_.context_margin_top){if(!n&&!s&&!i&&!o&&this.layout_params_.containing_block_size.height()==new ye&&this.margin_collapsing_params_.should_collapse_own_margins_together){r.collapsed_empty_margin_=this.CollapseMargins(a,l);return}r.collapsed_empty_margin_=void 0;return}if(!n&&!s&&this.margin_collapsing_params_.should_collapse_margin_top){let u=this.CollapseMargins(a,this.margin_collapsing_params_.context_margin_top||new ye);r.collapsed_margin_top_=u}if(!this.layout_params_.maybe_height&&!i&&!o&&this.margin_collapsing_params_.should_collapse_margin_bottom){let u=this.CollapseMargins(l,this.margin_collapsing_params_.collapsing_margin);r.collapsed_margin_bottom_=u,this.set_auto_height(this.auto_height().SUB(this.margin_collapsing_params_.collapsing_margin))}}UpdateRect(r){Q(!r.IsAbsolutelyPositioned()),r.UpdateSize(this.layout_params_),r.set_left(new ye),this.UpdatePosition(r),this.set_shrink_to_fit_width(ye.Max(this.shrink_to_fit_width(),r.GetMarginBoxRightEdgeOffsetFromContainingBlock())),this.set_auto_height(r.GetMarginBoxBottomEdgeOffsetFromContainingBlock()),r.AffectsBaselineInBlockFormattingContext()&&this.set_baseline_offset_from_top_content_edge(r.top().ADD(r.GetBaselineOffsetFromTopMarginEdge()))}UpdatePosition(r){switch(er(Br.kBlockLevel,r.GetLevel()),r.GetMarginCollapsingStatus()){case Fp.kIgnore:r.set_top(this.auto_height());break;case Fp.kSeparateAdjoiningMargins:r.set_top(this.auto_height()),this.margin_collapsing_params_.collapsing_margin=new ye,this.margin_collapsing_params_.should_collapse_margin_bottom=!1,this.margin_collapsing_params_.context_margin_top||(this.margin_collapsing_params_.should_collapse_margin_top=!1),this.margin_collapsing_params_.should_collapse_own_margins_together=!1;break;case Fp.kCollapseMargins:if(this.margin_collapsing_params_.should_collapse_margin_bottom=!0,!this.margin_collapsing_params_.context_margin_top&&this.margin_collapsing_params_.should_collapse_margin_top)r.set_top(this.auto_height().SUB(r.margin_top())),r.collapsed_empty_margin_&&(this.margin_collapsing_params_.should_collapse_margin_bottom=!1);else{let n=this.CollapseMargins(r.margin_top(),this.margin_collapsing_params_.collapsing_margin),i=this.margin_collapsing_params_.collapsing_margin.ADD(r.margin_top()).SUB(n);r.set_top(this.auto_height().SUB(i))}this.margin_collapsing_params_.collapsing_margin=r.collapsed_empty_margin_||r.margin_bottom(),this.margin_collapsing_params_.context_margin_top||(this.margin_collapsing_params_.context_margin_top=r.margin_top());break}}CollapseMargins(r,n){let s=new ye;return r.GE(new ye)&&n.GE(new ye)?s=ye.Max(r,n):r.LT(new ye)&&n.LT(new ye)?s=new ye().ADD(ye.Min(r,n)):(Q(n.GE(new ye)||r.GE(new ye)),s=n.ADD(r)),s}}class fJ extends pF{TryAddChild(e){return this.AddChild(e),!0}AddChild(e){switch(e.GetLevel()){case Br.kBlockLevel:if(!e.IsAbsolutelyPositioned()){this.PushBackDirectChild(e);break}case Br.kInlineLevel:this.GetOrAddAnonymousBlockBox().AddInlineLevelChild(e);break}}UpdateRectOfInFlowChildBoxes(e){let r=!this.IsAbsolutelyPositioned()&&this.GetLevel()==Br.kBlockLevel&&this.parent()&&this.parent().parent()&&!C0(this.computed_style()),n=r&&this.padding_top().EQ(new ye)&&this.border_top_width().EQ(new ye),s=new dJ(e,!!n);for(let i of this.child_boxes())s.UpdateRect(i);return r&&s.CollapseContainingMargins(this),s}GetLastChildAsAnonymousBlockBox(){return this.child_boxes().length===0?void 0:this.child_boxes()[this.child_boxes().length-1].AsAnonymousBlockBox()}GetOrAddAnonymousBlockBox(){let e=this.GetLastChildAsAnonymousBlockBox();if(rn(e)||e&&e.HasTrailingLineBreak()){let r=new Gc;r.SetData(lw(this.css_computed_style_declaration()));let n=new cJ(r,this.base_direction(),this.used_style_provider());e=n,this.PushBackDirectChild(n)}return e}}class xF extends fJ{GetLevel(){return Br.kBlockLevel}DumpClassName(e){return e+="BlockLevelBlockContainerBox ",e}}function _J(t,e,r){let n=Object.create(null),s=new Dg;s.AssignFrom(t),VD(e.documentElement,s)?n.background_style_source=e.documentElement:VD(e.body,s)&&(n.background_style_source=e.body);let i=new Gc;i.SetData(s);let o=or.kLeftToRightBaseDirection;return e.documentElement,n.box=new xF(i,o,r),n}function VD(t,e){if(!t||!t.computed_style()||t.computed_style().display==pe.GetNone())return!1;let r=t.computed_style(),n=ii(r.background_color).a()==0,s=r.background_image;s.value().length;let i=s.value().length==1&&s.value()[0]==pe.GetNone();return!n||!i?(n||e.set_background_color(r.background_color),i||e.set_background_image(r.background_image),!0):!1}var yF=(t=>(t[t.kBreakPolicyNormal=0]="kBreakPolicyNormal",t[t.kBreakPolicyBreakWord=1]="kBreakPolicyBreakWord",t))(yF||{}),sa=(t=>(t[t.kLeftToRightIsolateCodePoint=0]="kLeftToRightIsolateCodePoint",t[t.kLineFeedCodePoint=1]="kLineFeedCodePoint",t[t.kNoBreakSpaceCodePoint=2]="kNoBreakSpaceCodePoint",t[t.kObjectReplacementCharacterCodePoint=3]="kObjectReplacementCharacterCodePoint",t[t.kPopDirectionalIsolateCodePoint=4]="kPopDirectionalIsolateCodePoint",t[t.kRightToLeftIsolateCodePoint=5]="kRightToLeftIsolateCodePoint",t))(sa||{}),Fw=(t=>(t[t.kLogicalTextOrder=0]="kLogicalTextOrder",t[t.kVisualTextOrder=1]="kVisualTextOrder",t))(Fw||{}),Iw=(t=>(t[t.kNoTextTransform=0]="kNoTextTransform",t[t.kUppercaseTextTransform=1]="kUppercaseTextTransform",t))(Iw||{});class zD{constructor(e,r){this.start_position_=e,this.level_=r}}const hT=class{constructor(e,r,n,s,i){c(this,"id",hT.ID++);c(this,"unicode_text_");c(this,"locale_");c(this,"base_direction_");c(this,"directional_formatting_stack_");c(this,"line_break_iterator_");c(this,"character_break_iterator_");c(this,"is_closed_");c(this,"level_runs_",[]);c(this,"last_retrieved_run_index_");this.locale_=e,this.base_direction_=r,this.directional_formatting_stack_=n,this.line_break_iterator_=s,this.character_break_iterator_=i,this.is_closed_=!1,this.last_retrieved_run_index_=0,this.level_runs_.push(new zD(0,WD(r))),this.unicode_text_=new Jx,Q(this.unicode_text_.length()===0);for(let o=0;o<this.directional_formatting_stack_.length;++o)this.directional_formatting_stack_[o]==1?this.unicode_text_.appendChar16(l2):this.unicode_text_.appendChar16(Ew)}dispose(){this.unicode_text_.delete()}AppendUtf8String(e,r=0){let n=this.GetTextEndPosition();if(Q(!this.is_closed_),!this.is_closed_){const{object:{ptr:s,view:i},dispose:o}=r1(e,!0),a=new HS(s,i.length);let l=Jx.fromUTF8(a);r==1&&$e(),this.unicode_text_.appendUnicodeString(l),a.delete(),l.delete(),o()}return n}AppendCodePoint(e){let r=this.GetTextEndPosition();if(Q(!this.is_closed_),!this.is_closed_)switch(e){case 0:this.directional_formatting_stack_.push(0),this.unicode_text_.appendChar16(Ew);break;case 1:this.unicode_text_.appendChar16(s2);break;case 2:this.unicode_text_.appendChar16(o2);break;case 3:this.unicode_text_.appendChar16(a2);break;case 4:this.directional_formatting_stack_.pop(),this.unicode_text_.appendChar16(ox);break;case 5:this.directional_formatting_stack_.push(1),this.unicode_text_.appendChar16(ox);break}return r}FindBreakPosition(e,r,n,s,i,o,a,l,u){Q(this.is_closed_);let d;Q(e==this.base_direction_),this.AreInlineAndScriptDirectionsTheSame(e,s)||r?d=s:d=i;let f=new ye;if(!l&&o.LE(new ye))return{result:!1,break_position:d,break_width:f};if(u==0||o.GT(new ye)){let g=l&&u==0,{break_position:x,break_width:E}=this.FindIteratorBreakPosition(e,r,n,this.line_break_iterator_,s,i,o,a,g,d,f);d=x,f=E}if(u==1)if(this.AreInlineAndScriptDirectionsTheSame(e,s)||r?l=l&&d==s:l=l&&d==i,this.AreInlineAndScriptDirectionsTheSame(e,s)||r){let{break_position:g,break_width:x}=this.FindIteratorBreakPosition(e,r,n,this.character_break_iterator_,d,i,o,!1,l,d,f);d=g,f=x}else{let{break_position:g,break_width:x}=this.FindIteratorBreakPosition(e,r,n,this.character_break_iterator_,s,d,o,!1,l,d,f);d=g,f=x}return this.AreInlineAndScriptDirectionsTheSame(e,s)||r?{result:d>s,break_width:f,break_position:d}:{result:d<i,break_position:d,break_width:f}}GetNextBreakPosition(e,r){let n=this.GetBreakIterator(r);return n.setText(this.unicode_text_),n.following(e)}GetPreviousBreakPosition(e,r){let n=this.GetBreakIterator(r);return n.setText(this.unicode_text_),n.preceding(e)}IsBreakPosition(e,r){let n=this.GetBreakIterator(r);return n.setText(this.unicode_text_),Boolean(n.isBoundary(e))}RetrieveUtf8SubString(e,r,n=0){if(e<r){let s=this.unicode_text_.tempSubStringBetween(e,r);n==1&&this.IsRTL(e)&&s.reverse();let i=s.toUTF8String();return s.delete(),i}return""}GetTextBuffer(){return this.unicode_text_.getBuffer()}GetText(){return this.unicode_text_}GetLocale(){return this.locale_}base_direction(){return this.base_direction_}GetDirectionalFormattingStackDirection(){let e=this.directional_formatting_stack_.length;return e>0?this.directional_formatting_stack_[e-1]==1?or.kRightToLeftBaseDirection:or.kLeftToRightBaseDirection:this.base_direction_}GetBidiLevel(e){return this.level_runs_[this.GetRunIndex(e)].level_}IsRTL(e){return this.GetBidiLevel(e)%2==1}AreInlineAndScriptDirectionsTheSame(e,r){return e==or.kLeftToRightBaseDirection&&!this.IsRTL(r)||e==or.kRightToLeftBaseDirection&&this.IsRTL(r)}IsCollapsibleWhiteSpace(e){return this.unicode_text_.charAt(e)===k0}GetNextRunPosition(e){let r=this.GetRunIndex(e)+1;return r>=this.level_runs_.length?{result:!1}:{next_run_position:this.level_runs_[r].start_position_,result:!0}}GetTextEndPosition(){return this.unicode_text_.length()}GetTextPositionAtVisualLocation(e,r,n,s,i){let o=1,a=0,l=-1;for(;o+n<=s;o++){const u=r.GetTextWidth(this.unicode_text_,n,o,this.IsRTL(n));if(u>=i){let d=Math.abs(u-i)<Math.abs(a-i);a=d?u:a,l=d?n+o:n+o-1;break}a=u}return l===-1&&i>a&&(l=s),l}GetSubstrWidth(e,r,n,s){return r.GetTextWidth(this.unicode_text_,n,s,this.IsRTL(n))}GetDirectionalFormattingStack(){return this.directional_formatting_stack_}Close(){if(Q(!this.is_closed_),!this.is_closed_){for(let e=this.directional_formatting_stack_.length;e>0;--e)this.unicode_text_.appendChar16(ox);this.is_closed_=!0,this.GenerateBidiLevelRuns()}}IsClosed(){return this.is_closed_}GetBreakIterator(e){return e==0?this.line_break_iterator_:this.character_break_iterator_}FindIteratorBreakPosition(e,r,n,s,i,o,a,l,u,d,f){if(s.setText(this.unicode_text_),this.AreInlineAndScriptDirectionsTheSame(e,i)||r)for(let g=s.following(i);g!=pC&&g<o;g=s.next()){let{result:x,break_position:E}=this.TryIncludeSegmentWithinAvailableWidth(e,r,n,d,g,a,l,u,d,f);if(d=E,!x)break}else for(let g=s.preceding(o);g!=pC&&g>i;g=s.previous()){let{result:x,break_position:E}=this.TryIncludeSegmentWithinAvailableWidth(e,r,n,g,d,a,l,u,d,f);if(d=E,!x)break}return{break_width:f,break_position:d}}TryIncludeSegmentWithinAvailableWidth(e,r,n,s,i,o,a,l,u,d){let f=new ye(n.GetTextWidth(this.unicode_text_,s,i-s,this.IsRTL(s))),g=new ye(a&&this.IsCollapsibleWhiteSpace(i-1)?n.GetSpaceWidth():0);return!l&&d.ADD(f).SUB(g).GT(o)?{result:!1,allow_overflow:l,break_position:u}:(this.AreInlineAndScriptDirectionsTheSame(e,s)||r?u=i:u=s,d.ADD_ASSIGN(f),l&&(l=!1,d.GE(o))?{result:!1,allow_overflow:l,break_position:u}:{result:!0,allow_overflow:l,break_position:u})}GenerateBidiLevelRuns(){Q(this.is_closed_);const e=this.unicode_text_.length();if(e===0)return;const r=n3(e,0);try{if(!r)return;const n=s3(r,this.unicode_text_,WD(this.base_direction_));if(z5(n))return;let s=o3(r);if(Q(s),s===-1)return;this.level_runs_.length=0;let i=0,o=UA(4),a=UA(4),l=this.GetTextEndPosition();for(;i<l;){a3(r,i,o,a);let u=GA(a,"i32"),d=GA(o,"i32");u<0&&d===l&&(u=0),this.level_runs_.push(new zD(i,u)),i=d}LA(o),LA(a)}finally{i3(r)}}GetRunIndex(e){for(Q(this.is_closed_);this.last_retrieved_run_index_<this.level_runs_.length-1&&this.level_runs_[this.last_retrieved_run_index_].start_position_<e;)++this.last_retrieved_run_index_;for(;this.level_runs_[this.last_retrieved_run_index_].start_position_>e;)--this.last_retrieved_run_index_;return this.last_retrieved_run_index_}};let Cc=hT;c(Cc,"ID",1);function WD(t){return t==or.kRightToLeftBaseDirection?1:0}function vF(t,e){let r=0;switch(t){case Qa.kWrapOpportunityPolicyNormal:r=0;break;case Qa.kWrapOpportunityPolicyBreakWord:r=1;break;case Qa.kWrapOpportunityPolicyBreakWordOrNormal:r=e?1:0;break}return r}class pJ extends cM{createReferencedObject(e,...r){return new Cc(...r)}destroyReferencedObject(e,r){r.dispose()}}function EF(t){return t.codePointAt(0)<=" ".codePointAt(0)&&(t==" "||t==`
`||t=="	"||t=="\r"||t=="\f")}function gJ(t){return t!=pe.GetPre()&&t!=pe.GetPreLine()&&t!=pe.GetPreWrap()}function Mw(t){return t!=pe.GetPre()&&t!=pe.GetPreWrap()}function uk(t){return t!=pe.GetPre()&&t!=pe.GetNowrap()}function mJ(t){let e=0,r=t.length-1,n=[],{result:s,input_iterator:i}=$D(t,e,r);for(e=i,s&&n.push(" ");;){let{result:o,input_iterator:a}=xJ(t,e,r,n);if(e=a,!o)break;let{result:l,input_iterator:u}=$D(t,e,r);if(e=u,!l)break;n.push(" ")}return n.join("")}function $D(t,e,r){let n=!1;for(;e<=r&&EF(t[e]);++e)n=!0;return{result:n,input_iterator:e}}function xJ(t,e,r,n){let s=!1;for(;e<=r;++e){let i=t[e];if(EF(i))break;s=!0,n.push(i)}return{result:s,input_iterator:e}}function yJ(t,e){let r=t.length,n=0;for(;e<t.length;++e){let s=t[e];if(s=="\r"){r=e++,e<t.length&&t[e]==`
`?n=2:n=1;break}else if(s==`
`){r=e,n=1;break}}return{result:n>0,sequence_length:n,sequence_start:r}}class vJ{constructor(e,r){this.colorBrush=e,this.rect=r}}class EJ{constructor(e,r,n){c(this,"offset");c(this,"blur_sigma");c(this,"color");this.offset=e,this.blur_sigma=r,this.color=n}BlurExtent(){return new Vn(this.blur_sigma*3,this.blur_sigma*3)}ToShadowBounds(e){let r=new pr(e);r.Offset(this.offset);let n=this.BlurExtent();return r.Outset(n.x(),n.y()),r}}class Sy extends pc{constructor(r,n,s,i,o,a,l,u,d){super(r,u);c(this,"_selectionStartPosition");c(this,"_selectionEndPosition");c(this,"_typesettingOffset");c(this,"paragraph_ref_");c(this,"text_start_position_");c(this,"text_end_position_");c(this,"truncated_text_start_position_");c(this,"truncated_text_end_position_");c(this,"previous_truncated_text_start_position_");c(this,"previous_truncated_text_end_position_");c(this,"truncated_text_offset_from_left_");c(this,"used_font_");c(this,"text_has_leading_white_space_");c(this,"text_has_trailing_white_space_");c(this,"should_collapse_leading_white_space_");c(this,"should_collapse_trailing_white_space_");c(this,"has_trailing_line_break_");c(this,"baseline_offset_from_top_");c(this,"is_product_of_split_");c(this,"split_sibling_");c(this,"update_size_results_valid_");c(this,"line_height_");c(this,"inline_top_margin_");c(this,"ascent_");c(this,"non_collapsible_text_width_");this.ctx=d,this._register(this.paragraph_ref_=n),this.text_start_position_=s,this.text_end_position_=i,this.truncated_text_start_position_=s,this.truncated_text_end_position_=i,this.previous_truncated_text_start_position_=s,this.previous_truncated_text_end_position_=i,this.truncated_text_offset_from_left_=0,this.used_font_=u.GetUsedFontList(r.data().font_family,r.data().font_size,r.data().font_style,r.data().font_weight),this.text_has_leading_white_space_=!1,this.text_has_trailing_white_space_=!1,this.should_collapse_leading_white_space_=!1,this.should_collapse_trailing_white_space_=!1,this.has_trailing_line_break_=o,this.is_product_of_split_=a,this._typesettingOffset=l,this.update_size_results_valid_=!1,this.ascent_=0,Q(this.text_start_position_<=this.text_end_position_),this.UpdateTextHasLeadingWhiteSpace(),this.UpdateTextHasTrailingWhiteSpace()}GetLevel(){return Br.kInlineLevel}AsTextBox(){return this}isTextBox(){return!0}GetTextStartPosition(){return this.text_start_position_}GetVisualTextStartPosition(){return this.positionInParagraphToVisualPosition(this.text_start_position_)}GetTextEndPosition(){return this.text_end_position_}GetVisualTextEndPosition(){return this.positionInParagraphToVisualPosition(this.text_end_position_)}GetClientRect(){const r=this.GetBorderBoxFromRoot(!1),n=r.x(),s=r.y().SUB(this.GetInlineLevelTopMargin());return new Rs(new Ts(n,s),new Si(r.width(),this.GetInlineLevelBoxHeight()))}setSelection(r,n){let s,i;rn(r)?this._selectionStartPosition=void 0:(s=this.visualPositionToPositionInParagraph(r),Q(s>=this.text_start_position_),this._selectionStartPosition=s),rn(n)?this._selectionEndPosition=void 0:(i=this.visualPositionToPositionInParagraph(n),Q(i<=this.text_end_position_),this._selectionEndPosition=i)}hasSelection(){return!rn(this._selectionStartPosition)}unsetSelection(){this.setSelection()}UpdateContentSizeAndMargins(r){if(Q(mv(this.computed_style(),r.containing_block_size).EqualOrNaN(new ye)),Q(ik(this.computed_style(),r.containing_block_size).EqualOrNaN(new ye)),Q(xv(this.computed_style(),r.containing_block_size).EqualOrNaN(new ye)),Q(sk(this.computed_style(),r.containing_block_size).EqualOrNaN(new ye)),!this.non_collapsible_text_width_){let n=this.computed_style().line_height,s=n==pe.GetNormal(),i=[],o=this.GetNonCollapsibleTextStartPosition();if(this.non_collapsible_text_width_=this.HasNonCollapsibleText()?new ye(this.used_font_.GetTextWidth(this.paragraph.GetText(),o,this.GetNonCollapsibleTextLength(),this.paragraph.IsRTL(o),s?i:void 0)):new ye,!this.baseline_offset_from_top_||s){this.set_margin_left(new ye),this.set_margin_top(new ye),this.set_margin_right(new ye),this.set_margin_bottom(new ye);let a=this.used_font_.GetFontMetrics(i),l=new hF(a,this.computed_style().font_size);n.Accept(l),this.set_height(new ye(a.em_box_height())),this.baseline_offset_from_top_=l.baseline_offset_from_top(),this.line_height_=l.used_line_height(),this.inline_top_margin_=l.half_leading(),this.ascent_=a.ascent()}}this.set_width(this.GetLeadingWhiteSpaceWidth().ADD(this.non_collapsible_text_width_).ADD(this.GetTrailingWhiteSpaceWidth()))}TryWrapAt(r,n,s,i,o){Q(!this.IsAbsolutelyPositioned());let a=this.computed_style().overflow_wrap==pe.GetBreakWord();if(!_F(n,a))return _r.kWrapResultNoWrap;if(!uk(this.computed_style().white_space))return!this.is_product_of_split_&&s&&this.text_start_position_>0&&this.paragraph.IsCollapsibleWhiteSpace(this.text_start_position_-1)?_r.kWrapResultWrapBefore:_r.kWrapResultNoWrap;let l=s?this.text_start_position_:this.GetNonCollapsibleTextStartPosition(),u=this.GetWrapPosition(r,n,s,i,o,a,l),d;return u==this.text_start_position_&&s?d=_r.kWrapResultWrapBefore:u>l&&u<this.text_end_position_?(this.SplitAtPosition(u),d=_r.kWrapResultSplitWrap):d=_r.kWrapResultNoWrap,d}GetTextPositionAtVisualLocation(r){const n=this.paragraph.GetTextPositionAtVisualLocation(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,this.text_end_position_,r);return Math.max(n-this._typesettingOffset,0)}GetSplitSibling(){return this.split_sibling_}DoesFulfillEllipsisPlacementRequirement(){return this.GetNonCollapsedTextStartPosition()<this.GetNonCollapsedTextEndPosition()}DoPreEllipsisPlacementProcessing(){this.previous_truncated_text_start_position_=this.truncated_text_start_position_,this.previous_truncated_text_end_position_=this.truncated_text_end_position_,this.truncated_text_start_position_=this.text_start_position_,this.truncated_text_end_position_=this.text_end_position_}DoPostEllipsisPlacementProcessing(){(this.previous_truncated_text_start_position_!=this.truncated_text_start_position_||this.previous_truncated_text_end_position_!=this.truncated_text_end_position_)&&this.InvalidateRenderTreeNodesOfBoxAndAncestors()}SplitBidiLevelRuns(){}TrySplitAtSecondBidiLevelRun(){let{next_run_position:r,result:n}=this.paragraph.GetNextRunPosition(this.text_start_position_);if(n){if(Q(!rn(r)),r<this.text_end_position_)return this.SplitAtPosition(r),!0;gt()}else return!1}GetBidiLevel(){return this.paragraph.GetBidiLevel(this.text_start_position_)}SetShouldCollapseLeadingWhiteSpace(r){this.should_collapse_leading_white_space_!=r&&(this.should_collapse_leading_white_space_=r,this.update_size_results_valid_=!1)}SetShouldCollapseTrailingWhiteSpace(r){this.should_collapse_trailing_white_space_!=r&&(this.should_collapse_trailing_white_space_=r,this.update_size_results_valid_=!1)}HasLeadingWhiteSpace(){return this.text_has_leading_white_space_&&!this.should_collapse_leading_white_space_&&(this.HasNonCollapsibleText()||!this.should_collapse_trailing_white_space_)}HasTrailingWhiteSpace(){return this.text_has_trailing_white_space_&&!this.should_collapse_trailing_white_space_&&(this.HasNonCollapsibleText()||!this.should_collapse_leading_white_space_)}IsCollapsed(){return!this.HasLeadingWhiteSpace()&&!this.HasTrailingWhiteSpace()&&!this.HasNonCollapsibleText()}JustifiesLineExistence(){return this.HasNonCollapsibleText()||this.has_trailing_line_break_}HasTrailingLineBreak(){return this.has_trailing_line_break_}AffectsBaselineInBlockFormattingContext(){gt("Should only be called in a block formatting context.")}GetBaselineOffsetFromTopMarginEdge(){return this.baseline_offset_from_top_||new ye}GetInlineLevelBoxHeight(){return this.line_height_}GetInlineLevelTopMargin(){return this.inline_top_margin_}ValidateUpdateSizeInputs(r){return pc.prototype.ValidateUpdateSizeInputs.call(this,r)&&this.update_size_results_valid_?!0:(this.update_size_results_valid_=!0,!1)}HasNonCollapsibleText(){return this.GetNonCollapsibleTextLength()>0}RenderAndAnimateContent(r,n){var s;if(this.computed_style().visibility==pe.GetVisible()&&(Q(this.border_left_width().ADD(this.padding_left()).EqualOrNaN(new ye)),Q(this.border_top_width().ADD(this.padding_top()).EqualOrNaN(new ye)),this.HasNonCollapsibleText()&&this.HasVisibleText()&&this.used_font_.IsVisible())){let i=ii(this.computed_style().color),o=this.computed_style().text_shadow;if(i.a()>0||o!=pe.GetNone()){let a=this.GetVisibleTextStartPosition(),l=this.GetVisibleTextLength(),u=this.used_font_.CreateGlyphBuffer(this.paragraph.GetText(),a,l,this.paragraph.IsRTL(a)),d=new Nw(new Vn(this.truncated_text_offset_from_left_,this.ascent_),u,i);if(this.hasSelection()){const x=this._selectionStartPosition,E=this._selectionEndPosition,D=Math.max(x,this.text_start_position_),A=Math.min(E,this.text_end_position_),R=this.paragraph.GetSubstrWidth(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,D-this.text_start_position_),P=A===D?R:this.paragraph.GetSubstrWidth(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,A-this.text_start_position_),O=this.GetInlineLevelBoxHeight().toFloat(),F=Math.min(R,P),U=Math.max(R,P),B=Ai.fromHex("#add6ff");Q(B);const N=B.rgba,T=((s=this.inline_top_margin_)==null?void 0:s.toFloat())||0;d.background=new vJ(new Tc(new nh(N.r/255,N.g/255,N.b/255,N.a)),new pr(F,-T,U-F,O))}if(o!=pe.GetNone()){let x=this.computed_style().text_shadow;AJ(d,x)}let f=new Ip(d),g;g=f,r.AddChild(g)}}}IsTransformable(){return!1}DumpClassName(r){return r+="TextBox "}DumpProperties(r){return r=pc.prototype.DumpProperties.call(this,r),r+="select_start=",r+=this._selectionStartPosition,r+=" ",r+="select_end=",r+=this._selectionEndPosition,r+=" ",r}DumpChildrenWithIndent(r,n){return r=pc.prototype.DumpChildrenWithIndent.call(this,r,n),r=this.DumpIndent(r,n),r+='"',r+=this.GetNonCollapsibleText(),r+=`"
`,r}DoPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o){if(i)return this.paragraph.AreInlineAndScriptDirectionsTheSame(r,this.text_start_position_)?this.truncated_text_end_position_=this.text_start_position_:this.truncated_text_start_position_=this.text_end_position_,{is_placement_requirement_met:s,is_placed:i,placed_offset:o};i=!0;let a=this.GetContentBoxStartEdgeOffsetFromContainingBlock(r),l=r==or.kRightToLeftBaseDirection?a.SUB(n):n.SUB(a),u=this.GetNonCollapsedTextStartPosition(),d=this.GetNonCollapsedTextEndPosition(),{result:f,break_width:g,break_position:x}=this.paragraph.FindBreakPosition(r,!1,this.used_font_,u,d,l,!1,!s,yF.kBreakPolicyBreakWord),E=x,D=g;return f?(r==or.kRightToLeftBaseDirection?(o=a.SUB(D),this.truncated_text_offset_from_left_=o.SUB(this.GetContentBoxLeftEdgeOffsetFromContainingBlock()).toFloat()):o=a.ADD(D),this.paragraph.AreInlineAndScriptDirectionsTheSame(r,u)?this.truncated_text_end_position_=E:this.truncated_text_start_position_=E):s?(o=this.GetMarginBoxStartEdgeOffsetFromContainingBlock(r),this.paragraph.AreInlineAndScriptDirectionsTheSame(r,u)?this.truncated_text_end_position_=this.text_start_position_:this.truncated_text_start_position_=this.text_end_position_):o=this.GetMarginBoxEndEdgeOffsetFromContainingBlock(r),{is_placement_requirement_met:s,is_placed:i,placed_offset:o}}get paragraph(){return this.paragraph_ref_.object}UpdateTextHasLeadingWhiteSpace(){this.text_has_leading_white_space_=this.text_start_position_!=this.text_end_position_&&this.paragraph.IsCollapsibleWhiteSpace(this.text_start_position_)&&Mw(this.computed_style().white_space)}UpdateTextHasTrailingWhiteSpace(){this.text_has_trailing_white_space_=!this.has_trailing_line_break_&&this.text_start_position_!=this.text_end_position_&&this.paragraph.IsCollapsibleWhiteSpace(this.text_end_position_-1)&&Mw(this.computed_style().white_space)}GetWrapPosition(r,n,s,i,o,a,l){let u=vF(n,a),d=-1;switch(r){case ei.kWrapAtPolicyBefore:s&&this.paragraph.IsBreakPosition(this.text_start_position_,u)?d=this.text_start_position_:d=-1;break;case ei.kWrapAtPolicyLastOpportunityWithinWidth:{s?l!=this.GetNonCollapsedTextStartPosition()&&i.ADD_ASSIGN(new ye(this.used_font_.GetSpaceWidth())):i.SUB_ASSIGN(this.GetLeadingWhiteSpaceWidth());let{break_width:f,break_position:g,result:x}=this.paragraph.FindBreakPosition(this.paragraph.base_direction(),!0,this.used_font_,l,this.text_end_position_,i,o,!1,u);d=g,x||(s&&this.paragraph.IsBreakPosition(this.text_start_position_,u)?d=this.text_start_position_:d=-1);break}case ei.kWrapAtPolicyLastOpportunity:d=this.paragraph.GetPreviousBreakPosition(this.text_end_position_,u);break;case ei.kWrapAtPolicyFirstOpportunity:{let f=s?l-1:l;d=this.paragraph.GetNextBreakPosition(f,u);break}}return d}SplitAtPosition(r){let n=this.text_end_position_;this.text_end_position_=r,this.truncated_text_end_position_=this.text_end_position_,this.update_size_results_valid_=!1,this.non_collapsible_text_width_=void 0;const s=!0;let i=new Sy(this.css_computed_style_declaration(),this.paragraph_ref_.copy(),r,n,this.has_trailing_line_break_,s,this._typesettingOffset,this.used_style_provider(),this.ctx);i.node=this.node,this.node.GetLayoutObject().AsLayoutTexes().Append(i),i.split_sibling_=this.split_sibling_,this.split_sibling_=i,this.has_trailing_line_break_=!1,this.UpdateTextHasTrailingWhiteSpace()}GetLeadingWhiteSpaceWidth(){return this.HasLeadingWhiteSpace()?new ye(this.used_font_.GetSpaceWidth()):new ye}GetTrailingWhiteSpaceWidth(){return this.HasTrailingWhiteSpace()&&this.HasNonCollapsibleText()?new ye(this.used_font_.GetSpaceWidth()):new ye}GetNonCollapsedTextStartPosition(){return this.should_collapse_leading_white_space_?this.GetNonCollapsibleTextStartPosition():this.text_start_position_}GetNonCollapsedTextEndPosition(){return this.should_collapse_trailing_white_space_?this.GetNonCollapsibleTextEndPosition():this.text_end_position_}GetNonCollapsibleTextStartPosition(){return this.text_has_leading_white_space_?this.text_start_position_+1:this.text_start_position_}GetNonCollapsibleTextEndPosition(){return this.text_has_trailing_white_space_?this.text_end_position_-1:this.text_end_position_}GetNonCollapsibleTextLength(){return this.GetNonCollapsibleTextEndPosition()-this.GetNonCollapsibleTextStartPosition()}GetNonCollapsibleText(){return this.paragraph.RetrieveUtf8SubString(this.GetNonCollapsibleTextStartPosition(),this.GetNonCollapsibleTextEndPosition(),Fw.kVisualTextOrder)}GetVisibleTextStartPosition(){return Math.max(this.GetNonCollapsedTextStartPosition(),this.truncated_text_start_position_)}GetVisibleTextEndPosition(){return Math.min(this.GetNonCollapsedTextEndPosition(),this.truncated_text_end_position_)}GetVisibleTextLength(){return this.GetVisibleTextEndPosition()-this.GetVisibleTextStartPosition()}HasVisibleText(){return this.GetVisibleTextLength()>0}GetVisibleText(){return this.paragraph.RetrieveUtf8SubString(this.GetVisibleTextStartPosition(),this.GetVisibleTextEndPosition(),Fw.kVisualTextOrder)}visualPositionToPositionInParagraph(r){return r+this._typesettingOffset}positionInParagraphToVisualPosition(r){return r-this._typesettingOffset}AbsoluteQuads(r,n){$e()}RectOfSlice(r,n){const s=this.visualPositionToPositionInParagraph(r),i=this.visualPositionToPositionInParagraph(n),o=Math.max(s,this.text_start_position_),a=Math.min(i,this.text_end_position_),l=this.paragraph.GetSubstrWidth(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,o-this.text_start_position_),u=a===o?l:this.paragraph.GetSubstrWidth(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,a-this.text_start_position_),d=this.GetBorderBoxFromRoot(!1),f=this.GetInlineLevelBoxHeight().toFloat(),g=d.y().SUB(this.GetInlineLevelTopMargin()).toFloat(),x=d.x().toFloat(),E=Math.min(l,u);return new bD(x+E,g,Math.abs(u-l),f)}RelativeRectOfSlice(r,n){const s=this.visualPositionToPositionInParagraph(r),i=this.visualPositionToPositionInParagraph(n),o=Math.max(s,this.text_start_position_),a=Math.min(i,this.text_end_position_),l=this.paragraph.GetSubstrWidth(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,o-this.text_start_position_),u=a===o?l:this.paragraph.GetSubstrWidth(this.paragraph.base_direction(),this.used_font_,this.text_start_position_,a-this.text_start_position_),d=this.GetInlineLevelBoxHeight().toFloat(),f=this.GetInlineLevelTopMargin().NEG().toFloat(),g=Math.min(l,u);return new bD(g,f,Math.abs(u-l),d)}}function AJ(t,e){if(e.value().length!==0)for(let r=0;r<e.value().length;++r){let n=e.value()[r],s=new Vn(n.offset_x().value(),n.offset_y().value()),i=n.blur_radius()?cF(n.blur_radius()).toFloat()/3:0,o=ii(n.color());t.shadows.push(new EJ(s,i,o))}}function wJ(t,e){let n=Object.create(null);if(e.GetArea()==0)return En(oi,"destination_size ",e," is empty"),n;if(t.GetArea()==0)return n.fill_rects.push(new pr(e)),n;let s=t.width()/t.height(),i=e.width()/e.height();if(Math.abs(s-i)<.01)n.image_rect=new pr(e);else if(s>i){let o=new Bw(e.width(),e.width()/s),a=(e.height()-o.height())/2;n.image_rect=new pr(new Xr(0,a),o),n.fill_rects.push(new pr(0,0,e.width(),a)),n.fill_rects.push(new pr(0,e.height()-a,e.width(),a))}else{let o=new Bw(e.height()*s,e.height()),a=(e.width()-o.width())/2;n.image_rect=new pr(new Xr(a,0),o),n.fill_rects.push(new pr(0,0,a,e.height())),n.fill_rects.push(new pr(e.width()-a,0,a,e.height()))}return n}class yv{constructor(e,r,n){c(this,"source");c(this,"destination_rect");c(this,"local_transform",jn.Identity());arguments.length===1?e instanceof yv?(this.source=e.source,this.destination_rect=e.destination_rect,this.local_transform=e.local_transform):(this.source=e,this.destination_rect=e?new pr(e.GetSize()):new pr):arguments.length===2?(this.source=e,r instanceof pr?this.destination_rect=r:this.destination_rect=new pr(uy(r),this.source.GetSize())):(this.source=e,this.destination_rect=r,this.local_transform=n)}EQ(e){return this.source==e.source&&this.destination_rect==e.destination_rect&&this.local_transform==e.local_transform}}class ck extends bh{constructor(...r){super();c(this,"data_");this.data_=new yv(...r)}Accept(r){r.VisitImageNode(this)}GetBounds(){return this.data_.destination_rect}GetTypeId(){return lr(ck)}data(){return this.data_}}class hk extends bh{constructor(r){super();c(this,"data_");this.data_=r}Accept(r){r.VisitFreehandNode(this)}GetBounds(){return new pr}GetTypeId(){return lr(hk)}data(){return this.data_}}const SJ=2,bJ=300;var Lw=(t=>(t[t.kImage=1]="kImage",t[t.kVideo=2]="kVideo",t[t.kPunchOutVideo=3]="kPunchOutVideo",t[t.kLottie=4]="kLottie",t[t.kFreehand=5]="kFreehand",t))(Lw||{});class AF extends pc{constructor(r,n,s,i,o,a,l,u,d,f){super(r,u);c(this,"maybe_intrinsic_width_");c(this,"maybe_intrinsic_height_");c(this,"intrinsic_ratio_");c(this,"content_");c(this,"paragraph_ref_");c(this,"text_position_");c(this,"replaced_box_mode_");this.maybe_intrinsic_width_=o,this.maybe_intrinsic_height_=a,this.intrinsic_ratio_=l||SJ,this.content_=n,this._register(this.paragraph_ref_=s),this.text_position_=i,this.replaced_box_mode_=d,this.content_size_=new Si(f)}TryWrapAt(r,n,s,i,o){if(Q(!this.IsAbsolutelyPositioned()),!s||!this.parent())return _r.kWrapResultNoWrap;let a=this.parent().computed_style().overflow_wrap==pe.GetBreakWord();if(!_F(n,a))return _r.kWrapResultNoWrap;if(!uk(this.parent().computed_style().white_space))return this.text_position_>0&&this.paragraph_ref_.object.IsCollapsibleWhiteSpace(this.text_position_-1)?_r.kWrapResultWrapBefore:_r.kWrapResultNoWrap;let l=vF(n,a);return this.paragraph_ref_.object.IsBreakPosition(this.text_position_,l)?_r.kWrapResultWrapBefore:_r.kWrapResultNoWrap}SplitBidiLevelRuns(){}TrySplitAtSecondBidiLevelRun(){return!1}GetBidiLevel(){return this.paragraph_ref_.object.GetBidiLevel(this.text_position_)}SetShouldCollapseLeadingWhiteSpace(r){}SetShouldCollapseTrailingWhiteSpace(r){}HasLeadingWhiteSpace(){return!1}HasTrailingWhiteSpace(){return!1}IsCollapsed(){return!1}JustifiesLineExistence(){return!0}AffectsBaselineInBlockFormattingContext(){return!1}GetBaselineOffsetFromTopMarginEdge(){return this.GetMarginBoxHeight()}UpdateContentSizeAndMargins(r){let n=nF(this.computed_style(),r.containing_block_size),s=nk(this.computed_style(),r.containing_block_size);r.freeze_width&&(n=this.width()),r.freeze_height&&(s=this.height());let i=tk(this.computed_style(),r.containing_block_size),o=rk(this.computed_style(),r.containing_block_size);if(this.IsAbsolutelyPositioned()&&(this.set_left(i||new ye(this.GetStaticPositionLeft())),this.set_top(o||new ye(this.GetStaticPositionTop()))),s||mc(pp,'ReplacedBox element has computed height "auto"!'),n||mc(pp,'ReplacedBox element has computed width "auto"!'),(!s||!n)&&mc(pp,'Cobalt ReplacedBox does not handle "auto" dimensions correctly! ','"auto" dimensions are updated using the intrinsic dimensions of ',"the content (e.g. video width/height), which is often not what is ","intended."),n?this.set_width(n):s?this.set_width(s.MUL(this.intrinsic_ratio_)):this.maybe_intrinsic_width_?this.set_width(this.maybe_intrinsic_width_):this.maybe_intrinsic_height_?this.set_width(this.maybe_intrinsic_height_.MUL(this.intrinsic_ratio_)):this.set_width(new ye(bJ)),s?this.set_height(s):!n&&this.maybe_intrinsic_height_?this.set_height(this.maybe_intrinsic_height_):this.set_height(this.width().DIV(this.intrinsic_ratio_)),!n&&!s){let g=sF(this.computed_style(),r.containing_block_size),x=aF(this.computed_style(),r.containing_block_size);x||(x=new ye);let E=lF(this.computed_style(),r.containing_block_size),D=uF(this.computed_style(),r.containing_block_size)||new ye,A=this.width(),R=this.height(),P,O=!1;E&&(P=ye.Max(D,E),O=R.GT(P));let F,U=!1;if(g&&(F=ye.Max(x,g),U=A.GT(F)),U)if(O){let B=F.DIV(A.toFloat()),N=P.DIV(R.toFloat());B>N?(this.set_width(ye.Max(x,P.MUL(A.toFloat()/R.toFloat()))),this.set_height(P)):(this.set_width(F),this.set_height(ye.Max(D,F.MUL(R.toFloat()/A.toFloat()))))}else R<D?(this.set_width(F),this.set_height(D)):(this.set_width(F),this.set_height(ye.Max(F.MUL(R.toFloat()/A.toFloat()),D)));else if(A<x)if(O)this.set_width(x),this.set_height(P);else if(R<D){let B=x.DIV(A.toFloat()),N=D.DIV(R.toFloat());if(B>N){this.set_width(x);let T=x.MUL(R.toFloat()/A.toFloat());P?this.set_height(ye.Min(P,T)):this.set_height(T)}else{let T=D.MUL(A.toFloat()/R.toFloat());F?this.set_width(ye.Min(F,T)):this.set_width(T),this.set_height(D)}}else{this.set_width(x);let B=x.MUL(R.toFloat()/A.toFloat());P?this.set_height(ye.Min(B,P)):this.set_height(B)}else if(O)this.set_width(ye.Max(P.MUL(A.toFloat()/R.toFloat()),x)),this.set_height(P);else if(R<D){let B=D.MUL(A.toFloat()/R.toFloat());F?this.set_width(ye.Min(B,F)):this.set_width(B),this.set_height(D)}}let a=mv(this.computed_style(),r.containing_block_size),l=xv(this.computed_style(),r.containing_block_size),u=this.GetBorderBoxWidth();this.UpdateHorizontalMargins(r.containing_block_direction,r.containing_block_size.width(),u,a,l);let d=ik(this.computed_style(),r.containing_block_size),f=sk(this.computed_style(),r.containing_block_size);this.set_margin_top(d||new ye),this.set_margin_bottom(f||new ye)}RenderAndAnimateContent(r,n){if(this.computed_style().visibility==pe.GetVisible()&&!rn(this.content_)){if(rn(this.replaced_box_mode_)){r.AddChild(new xd(new pr(this.content_box_size().toSizeF()),new Tc(new nh(0,0,0,1))));return}this.RenderAndAnimateContentWithLetterboxing(r)}}IsTransformable(){return!0}DumpProperties(r){return r=pc.prototype.DumpProperties.call(this,r),r+="text_position=",r+=this.text_position_,r+=" ",r+="bidi_level=",r+=this.paragraph_ref_.object.GetBidiLevel(this.text_position_),r+=" ",r}RenderAndAnimateContentWithLetterboxing(r){switch(this.replaced_box_mode_){case 1:{let n=wJ(this.content_size_.toSizeF(),this.content_box_size().toSizeF()),s=this.content_;kJ(n,s,r);break}case 5:{let n=this.content_;TJ(n,r);break}case 3:$e();default:$e()}}AbsoluteQuads(r,n){$e()}}function kJ(t,e,r){if(t.image_rect){let n=new yv(e,t.image_rect);r.AddChild(new ck(n))}}function TJ(t,e){e.AddChild(new hk(t))}class CJ extends AF{GetLevel(){return Br.kBlockLevel}DumpClassName(e){return e+="BlockLevelReplacedBox ",e}UpdateHorizontalMargins(e,r,n,s,i){this.UpdateHorizontalMarginsAssumingBlockLevelInFlowBox(e,r,n,s,i)}}class PJ extends AF{constructor(r,n,s,i,o,a,l,u,d,f){super(r,n,s,i,o,a,l,u,d,f);c(this,"is_hidden_by_ellipsis_");c(this,"was_hidden_by_ellipsis_");this.is_hidden_by_ellipsis_=!1,this.was_hidden_by_ellipsis_=!1}GetLevel(){return Br.kInlineLevel}DoesFulfillEllipsisPlacementRequirement(){return!0}DoPreEllipsisPlacementProcessing(){this.was_hidden_by_ellipsis_=this.is_hidden_by_ellipsis_,this.is_hidden_by_ellipsis_=!1}DoPostEllipsisPlacementProcessing(){this.was_hidden_by_ellipsis_!=this.is_hidden_by_ellipsis_&&this.InvalidateRenderTreeNodesOfBoxAndAncestors()}IsHiddenByEllipsis(){return this.is_hidden_by_ellipsis_}UpdateHorizontalMargins(r,n,s,i,o){this.set_margin_left(i||new ye),this.set_margin_right(o||new ye)}DumpClassName(r){return r+="InlineLevelReplacedBox ",r}DoPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o){let a=i,l=o,u=s;return i?this.is_hidden_by_ellipsis_=!0:(a=!0,s?(l=this.GetMarginBoxStartEdgeOffsetFromContainingBlock(r),this.is_hidden_by_ellipsis_=!0):l=this.GetMarginBoxEndEdgeOffsetFromContainingBlock(r)),{is_placement_requirement_met:u,is_placed:a,placed_offset:l}}}class by extends lk{constructor(r,n,s){super(r,n);c(this,"should_collapse_leading_white_space_");c(this,"should_collapse_trailing_white_space_");c(this,"has_leading_white_space_");c(this,"has_trailing_white_space_");c(this,"is_collapsed_");c(this,"justifies_line_existence_");c(this,"first_box_justifying_line_existence_index_");c(this,"baseline_offset_from_margin_box_top_",new ye);c(this,"line_height_",new ye);c(this,"inline_top_margin_",new ye);c(this,"used_font_");c(this,"is_split_on_left_");c(this,"is_split_on_right_");c(this,"base_direction_");c(this,"split_sibling_");this.should_collapse_leading_white_space_=!1,this.should_collapse_trailing_white_space_=!1,this.has_leading_white_space_=!1,this.has_trailing_white_space_=!1,this.is_collapsed_=!1,this.justifies_line_existence_=!1,this.first_box_justifying_line_existence_index_=0,this.used_font_=n.GetUsedFontList(r.data().font_family,r.data().font_size,r.data().font_style,r.data().font_weight),this.is_split_on_left_=!1,this.is_split_on_right_=!1,this.base_direction_=s}AsInlineContainerBox(){return this}isInlineContainerBox(){return!0}GetLevel(){return Br.kInlineLevel}TryAddChild(r){switch(r.GetLevel()){case Br.kBlockLevel:if(!r.IsAbsolutelyPositioned())return!1;case Br.kInlineLevel:return this.HasTrailingLineBreak()?!1:(this.PushBackDirectChild(r),!0);default:return gt(),!1}}TrySplitAtEnd(){let r=new by(this.css_computed_style_declaration(),this.used_style_provider(),this.base_direction_);return this.base_direction_==or.kLeftToRightBaseDirection?(this.is_split_on_right_=!0,r.SetIsSplitOnLeft(!0)):(this.is_split_on_left_=!0,r.SetIsSplitOnRight(!0)),r}GetInlineLevelBoxHeight(){return this.line_height_}GetInlineLevelTopMargin(){return this.inline_top_margin_}SetIsSplitOnLeft(r){this.is_split_on_left_=r}SetIsSplitOnRight(r){this.is_split_on_right_=r}UpdateContentSizeAndMargins(r){let n=this.used_font_.GetFontMetrics(),s=new ye(n.ascent()),i=new mF(s,!0,this.computed_style().line_height,n,this.should_collapse_leading_white_space_,this.should_collapse_trailing_white_space_,r,or.kLeftToRightBaseDirection,pe.GetLeft(),this.computed_style().font_size,new ye,new ye);for(let u of this.child_boxes())i.BeginAddChildAndMaybeOverflow(u);if(i.EndUpdates(),!r.freeze_width){if(this.set_width(i.shrink_to_fit_width()),this.is_split_on_left_)this.set_margin_left(new ye);else{let u=mv(this.computed_style(),r.containing_block_size);this.set_margin_left(u||new ye)}if(this.is_split_on_right_)this.set_margin_right(new ye);else{let u=xv(this.computed_style(),r.containing_block_size);this.set_margin_right(u||new ye)}}this.set_height(new ye(n.em_box_height())),this.line_height_=i.height(),this.set_margin_top(new ye),this.set_margin_bottom(new ye),this.inline_top_margin_=i.baseline_offset_from_top().SUB(i.top()).SUB(this.border_top_width()).SUB(this.padding_top()),this.has_leading_white_space_=i.HasLeadingWhiteSpace(),this.has_trailing_white_space_=i.HasTrailingWhiteSpace(),this.is_collapsed_=i.IsCollapsed(),this.justifies_line_existence_=i.LineExists()||this.HasNonZeroMarginOrBorderOrPadding(),this.first_box_justifying_line_existence_index_=i.GetFirstBoxJustifyingLineExistenceIndex(),this.baseline_offset_from_margin_box_top_=i.baseline_offset_from_top();let o=nk(this.computed_style(),r.containing_block_size,void 0),a=new yd,l=new yd;a.containing_block_direction=this.base_direction_,l.containing_block_direction=this.base_direction_,a.containing_block_size.set_width(this.width()),l.containing_block_size.set_width(this.GetPaddingBoxWidth()),a.maybe_margin_top=new ye,a.maybe_margin_bottom=new ye,a.maybe_height=o,a.containing_block_size.set_height(this.height()),l.containing_block_size.set_height(this.GetPaddingBoxHeight()),this.UpdateRectOfPositionedChildBoxes(a,l)}UpdateBorders(){if(this.IsBorderStyleNoneOrHidden(this.computed_style().border_left_style)&&this.IsBorderStyleNoneOrHidden(this.computed_style().border_top_style)&&this.IsBorderStyleNoneOrHidden(this.computed_style().border_right_style)&&this.IsBorderStyleNoneOrHidden(this.computed_style().border_bottom_style)){this.ResetBorderInsets();return}this.SetBorderInsets(this.is_split_on_left_?new ye:Y2(this.computed_style()),q2(this.computed_style()),this.is_split_on_right_?new ye:Q2(this.computed_style()),J2(this.computed_style()))}UpdatePaddings(r){this.SetPaddingInsets(this.is_split_on_left_?new ye:Z2(this.computed_style(),r.containing_block_size),eF(this.computed_style(),r.containing_block_size),this.is_split_on_right_?new ye:tF(this.computed_style(),r.containing_block_size),rF(this.computed_style(),r.containing_block_size))}TryWrapAt(r,n,s,i,o){switch(Q(!this.IsAbsolutelyPositioned()),Q(s||this.justifies_line_existence_),r){case ei.kWrapAtPolicyBefore:return this.TryWrapAtBefore(n,s,i,o);case ei.kWrapAtPolicyLastOpportunityWithinWidth:return this.TryWrapAtLastOpportunityWithinWidth(n,s,i,o);case ei.kWrapAtPolicyLastOpportunity:return this.TryWrapAtLastOpportunityBeforeIndex(this.child_boxes().length,n,s,i,o);case ei.kWrapAtPolicyFirstOpportunity:return this.TryWrapAtFirstOpportunity(n,s,i,o);default:return gt(),_r.kWrapResultNoWrap}}GetSplitSibling(){return this.split_sibling_}DoesFulfillEllipsisPlacementRequirement(){for(let r of this.child_boxes())if(r.DoesFulfillEllipsisPlacementRequirement())return!0;return!1}DoPreEllipsisPlacementProcessing(){for(let r of this.child_boxes())r.DoPreEllipsisPlacementProcessing()}DoPostEllipsisPlacementProcessing(){for(let r of this.child_boxes())r.DoPostEllipsisPlacementProcessing()}TrySplitAtSecondBidiLevelRun(){return!1}GetBidiLevel(){if(this.child_boxes().length)return this.child_boxes()[0].GetBidiLevel()}SetShouldCollapseLeadingWhiteSpace(r){this.should_collapse_leading_white_space_!=r&&(this.should_collapse_leading_white_space_=r,this.InvalidateUpdateSizeInputs())}SetShouldCollapseTrailingWhiteSpace(r){this.should_collapse_trailing_white_space_!=r&&(this.should_collapse_trailing_white_space_=r,this.InvalidateUpdateSizeInputs())}HasLeadingWhiteSpace(){return er(Br.kInlineLevel,this.GetLevel()),er(this.width(),this.width()),this.has_leading_white_space_}HasTrailingWhiteSpace(){return er(Br.kInlineLevel,this.GetLevel()),er(this.width(),this.width()),this.has_trailing_white_space_}IsCollapsed(){return er(Br.kInlineLevel,this.GetLevel()),er(this.width(),this.width()),this.is_collapsed_}JustifiesLineExistence(){return this.justifies_line_existence_}HasTrailingLineBreak(){return this.child_boxes().length?this.child_boxes()[this.child_boxes().length-1].HasTrailingLineBreak():!1}AffectsBaselineInBlockFormattingContext(){return gt()}GetBaselineOffsetFromTopMarginEdge(){return this.baseline_offset_from_margin_box_top_}IsTransformable(){return!1}DumpClassName(r){return r+="InlineContainerBox ",r}DumpProperties(r){return r=super.DumpProperties(r),r+="line_height=",r+=this.line_height_.toFloat(),r+=" ",r+="inline_top_margin=",r+=this.inline_top_margin_.toFloat(),r+=" ",r+="has_leading_white_space=",r+=this.has_leading_white_space_,r+=" ",r+="has_trailing_white_space=",r+=this.has_trailing_white_space_,r+=" ",r+="is_collapsed=",r+=this.is_collapsed_,r+=" ",r+="justifies_line_existence=",r+=this.justifies_line_existence_,r+=" ",r}DoPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o){if(o=o.CLONE(),!i&&s){let u=this.GetContentBoxStartEdgeOffsetFromContainingBlock(r);(r==or.kRightToLeftBaseDirection&&n>=u||r!=or.kRightToLeftBaseDirection&&n<=u)&&(i=!0,o=n)}let a=i,l=this.GetContentBoxLeftEdgeOffsetFromContainingBlock();if(n.SUB_ASSIGN(l),r==or.kRightToLeftBaseDirection)for(let u of this.child_boxes())u.IsAbsolutelyPositioned()||u.TryPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o);else for(let u of this.child_boxes())u.IsAbsolutelyPositioned()||u.TryPlaceEllipsisOrProcessPlacedEllipsis(r,n,s,i,o);return a||(i||(i=!0,o=n),o.ADD_ASSIGN(l)),{is_placed:i,is_placement_requirement_met:s,placed_offset:o}}TryWrapAtBefore(r,n,s,i){return this.child_boxes().length==0||!n?_r.kWrapResultNoWrap:this.TryWrapAtIndex(0,ei.kWrapAtPolicyBefore,r,n,s,i)}TryWrapAtLastOpportunityWithinWidth(r,n,s,i){if(Q(this.GetMarginBoxWidth().GT(s)),s.SUB_ASSIGN(this.GetContentBoxLeftEdgeOffsetFromMarginBox()),s.LT(new ye(0)))return this.TryWrapAtBefore(r,n,s,i);let o=0;for(;o<this.child_boxes().length;){let a=this.child_boxes()[o];if(a.IsAbsolutelyPositioned())continue;let l=a.GetMarginBoxWidth();if(l.GT(s))break;s.SUB_ASSIGN(l),++o}if(!n&&o<this.first_box_justifying_line_existence_index_)return _r.kWrapResultNoWrap;if(o<this.child_boxes().length){let a=this.TryWrapAtIndex(o,ei.kWrapAtPolicyLastOpportunityWithinWidth,r,n,s,i);if(a!=_r.kWrapResultNoWrap)return a}return this.TryWrapAtLastOpportunityBeforeIndex(o,r,n,s,i)}TryWrapAtLastOpportunityBeforeIndex(r,n,s,i,o){let a=_r.kWrapResultNoWrap,l=s?0:this.first_box_justifying_line_existence_index_;for(;a==_r.kWrapResultNoWrap&&r>l;)--r,a=this.TryWrapAtIndex(r,ei.kWrapAtPolicyLastOpportunity,n,s,i,o);return a}TryWrapAtFirstOpportunity(r,n,s,i){let o=_r.kWrapResultNoWrap,a=n?0:this.first_box_justifying_line_existence_index_;for(;o==_r.kWrapResultNoWrap&&a<this.child_boxes().length;++a)o=this.TryWrapAtIndex(a,ei.kWrapAtPolicyFirstOpportunity,r,n,s,i);return o}TryWrapAtIndex(r,n,s,i,o,a){let l=this.child_boxes()[r];if(l.IsAbsolutelyPositioned())return this.SplitAtIterator(r),_r.kWrapResultSplitWrap;let u=i||r>this.first_box_justifying_line_existence_index_;Q(u||r==this.first_box_justifying_line_existence_index_);let d=l.TryWrapAt(n,s,u,o,a);if(d==_r.kWrapResultNoWrap)return _r.kWrapResultNoWrap;if(d==_r.kWrapResultWrapBefore&&r==0)return _r.kWrapResultWrapBefore;{let f=r;return d==_r.kWrapResultSplitWrap&&(f=this.InsertSplitSiblingOfDirectChild(f)),this.SplitAtIterator(f),_r.kWrapResultSplitWrap}}SplitAtIterator(r){let n=new by(this.css_computed_style_declaration(),this.used_style_provider(),this.base_direction_);this.base_direction_==or.kLeftToRightBaseDirection?(this.is_split_on_right_=!0,n.SetIsSplitOnLeft(!0)):(this.is_split_on_left_=!0,n.SetIsSplitOnRight(!0)),n.split_sibling_=this.split_sibling_,this.split_sibling_=n,this.MoveDirectChildrenToSplitSibling(r)}AbsoluteQuadsForSelf(r,n){$e()}}class DJ extends fF{constructor(r,n){super(r,n);c(this,"children",[]);this.children.push(n)}AsLayoutTexes(){return this}Append(r){this.children.push(r)}}class RJ{constructor(e,r,n,s,i,o,a){this.used_style_provider=e,this.line_break_iterator=r,this.character_break_iterator=n,this.ignore_background_element=s,this.dom_max_element_depth=i,this.paragraph_collection=o,this.textBoxes=a}}const jy=class extends f3{constructor(r,n,s,i){super();c(this,"id",jy.ID++);c(this,"parent_css_computed_style_declaration_");c(this,"dom_element_depth_");c(this,"context_");c(this,"generating_html_element_");c(this,"boxes_",[]);this.paragraph_store_=n,this.parent_css_computed_style_declaration_=r,this.dom_element_depth_=s,this.context_=i}VisitDocument(r){gt()}VisitElement(r){if(this.dom_element_depth_>this.context_.dom_max_element_depth){mc(oi,"Elements too deep in the DOM tree are ignored in layout.");return}let n=r.AsHTMLElement();if(!n)return;this.generating_html_element_=n;let s=n.AsFreehandElement();if(s){this.VisitFreehandElement(s);return}let i=n.AsHTMLImageElement();if(i){this.VisitImageElement(i);return}let o=n.AsHTMLBRElement();if(o){this.VisitBrElement(o);return}this.VisitNonReplacedElement(n)}VisitText(r){let n=new Gc;n.SetData(lw(this.parent_css_computed_style_declaration_)),Q(r),Q(n.data());let s=r.text();if(s.length===0)return;let i=n.data().white_space,o=!gJ(i),a=Mw(i),l=!uk(i),u=0;for(;u<s.length;){let d,f,g=!1;if(o){let{result:F,sequence_start:U,sequence_length:B}=yJ(s,u);g=F,d=U,f=B}else d=s.length,f=0;let x=s.substr(u,d-u);if(a&&(x=mJ(x),this.paragraph_store_.value.object.GetTextEndPosition()==0&&x==" "))return;let E;n.data().text_transform==pe.GetUppercase()?E=Iw.kUppercaseTextTransform:E=Iw.kNoTextTransform,Q(this.paragraph_store_.value);let D=this.paragraph_store_.value.object.GetTextEndPosition(),A=this.paragraph_store_.value.object.AppendUtf8String(x,E),R=this.paragraph_store_.value.object.GetTextEndPosition(),P=!1,O=new Sy(n,this.paragraph_store_.value.copy(),A,R,g,P,D,this.context_.used_style_provider,this.context_);O.node=r,r.SetLayoutObject(new DJ(r,O)),this.boxes_.push(O),this.context_.textBoxes.add(O),g&&this.paragraph_store_.value.object.AppendCodePoint(sa.kLineFeedCodePoint),Q(d),Q(f),u=d+f}l&&s[s.length-1]==" "&&(gt(),this.paragraph_store_.value.object.AppendCodePoint(sa.kNoBreakSpaceCodePoint))}boxes(){return this.boxes_}VisitFreehandElement(r){let n=this.paragraph_store_.value.object.AppendCodePoint(sa.kObjectReplacementCharacterCodePoint),s=Lw.kFreehand,i=new tl(1,1),o=new KD(r.computed_style_declaration(),r.GetPath(),this.paragraph_store_.value,n,new ye(i.width()),new ye(i.height()),i.width()/i.height(),this.context_,s,i);r.computed_style().display.Accept(o);let a=o.replaced_box();a||gt(),this.boxes_.push(a)}VisitImageElement(r){let n=this.paragraph_store_.value.object.AppendCodePoint(sa.kObjectReplacementCharacterCodePoint),s=Lw.kImage,i=r.GetResource(),o;i?o=i.GetSize():o=new tl(100,100);let a=new KD(r.computed_style_declaration(),i,this.paragraph_store_.value,n,new ye(o.width()),new ye(o.height()),o.width()/o.height(),this.context_,s,o);r.computed_style().display.Accept(a);let l=a.replaced_box();!l||this.boxes_.push(l)}VisitBrElement(r){var l;if(r.computed_style().display==pe.GetNone())return;let n=new Gc;n.SetData(lw(r.computed_style_declaration())),Q((l=this.paragraph_store_.value)==null?void 0:l.object);let s=this.paragraph_store_.value.object.GetTextEndPosition(),i=!0,o=!1,a=new Sy(n,this.paragraph_store_.value.copy(),s,s,i,o,s,this.context_.used_style_provider,this.context_);this.paragraph_store_.value.object.AppendCodePoint(sa.kLineFeedCodePoint),a.SetGeneratingNode(r),this.boxes_.push(a)}VisitNonReplacedElement(r){let n=r.computed_style_declaration(),s=new NJ(r.GetUsedDirState(),r==this.context_.ignore_background_element?OJ(n):n,this.context_,this.paragraph_store_);r.computed_style().display.Accept(s);let i=s.container_box();if(!!i){i.SetGeneratingNode(r),this.boxes_.push(i);for(let o=r.firstChild;o;o=o.next_sibling()){let a=new jy(r.computed_style_declaration(),this.paragraph_store_,this.dom_element_depth_+1,this.context_);o.Accept(a);let l=a.boxes();for(let u of l)this.AppendChildBoxToLine(u)}s.dispose()}}AppendChildBoxToLine(r){let n=this.boxes_[this.boxes_.length-1];if(!n.TryAddChild(r)){let s=n.TrySplitAtEnd();Q(s),s.TryAddChild(r)||this.boxes_.push(r),this.boxes_.push(s)}}AppendPseudoElementToLine(r,n){$e()}VisitComment(r){}};let mx=jy;c(mx,"ID",1);function OJ(t){let e=new Gc,r=new Dg;return r.AssignFrom(t.data()),r.SetPropertyValue(C.kBackgroundColorProperty),r.SetPropertyValue(C.kBackgroundImageProperty),e.SetData(r),e}let BJ=1;class NJ extends qr{constructor(r,n,s,i){super();c(this,"id_");c(this,"element_dir_");c(this,"css_computed_style_declaration_");c(this,"context_");c(this,"has_scoped_directional_isolate_");c(this,"prior_paragraph_");c(this,"paragraph_scoped_");c(this,"container_box_");this.paragraph_store_=i,this.id_=BJ++,this.element_dir_=r,this.css_computed_style_declaration_=n,this.context_=s,this.has_scoped_directional_isolate_=!1,this.paragraph_scoped_=!1}dispose(){var r;this.has_scoped_directional_isolate_&&this.paragraph_store_.value.object.AppendCodePoint(sa.kPopDirectionalIsolateCodePoint),this.paragraph_scoped_&&(this.paragraph_store_.value.object.IsClosed()||this.paragraph_store_.value.object.Close(),Q(this.prior_paragraph_),this.prior_paragraph_.object.IsClosed()?this.paragraph_store_.value=this.context_.paragraph_collection.acquire(Cc.ID.toString(),this.prior_paragraph_.object.GetLocale(),this.prior_paragraph_.object.base_direction(),this.prior_paragraph_.object.GetDirectionalFormattingStack(),this.context_.line_break_iterator,this.context_.character_break_iterator):this.paragraph_store_.value=this.prior_paragraph_.copy()),(r=this.prior_paragraph_)==null||r.dispose()}VisitKeyword(r){switch(r.value()){case _.kBlock:this.CreateScopedParagraph(1),this.container_box_=new xF(this.css_computed_style_declaration_,this.paragraph_store_.value.object.base_direction(),this.context_.used_style_provider);break;case _.kFlex:$e();break;case _.kInlineFlex:$e();break;case _.kInline:this.element_dir_==sp.kDirLeftToRight?(this.has_scoped_directional_isolate_=!0,this.paragraph_store_.value.object.AppendCodePoint(sa.kLeftToRightIsolateCodePoint)):this.element_dir_==sp.kDirRightToLeft&&(this.has_scoped_directional_isolate_=!0,this.paragraph_store_.value.object.AppendCodePoint(sa.kRightToLeftIsolateCodePoint)),this.paragraph_store_.value.object.GetTextEndPosition()==0&&this.paragraph_store_.value.object.AppendCodePoint(sa.kNoBreakSpaceCodePoint),this.container_box_=new by(this.css_computed_style_declaration_,this.context_.used_style_provider,this.paragraph_store_.value.object.base_direction());break;case _.kInlineBlock:$e();break;case _.kNone:break;case _.kAbsolute:case _.kAlternate:case _.kAlternateReverse:case _.kAuto:case _.kBackwards:case _.kBaseline:case _.kBoth:case _.kBottom:case _.kBreakWord:case _.kCenter:case _.kClip:case _.kCollapse:case _.kColumn:case _.kColumnReverse:case _.kContain:case _.kContent:case _.kCover:case _.kCurrentColor:case _.kCursive:case _.kEllipsis:case _.kEnd:case _.kEquirectangular:case _.kFantasy:case _.kFixed:case _.kFlexEnd:case _.kFlexStart:case _.kForwards:case _.kHidden:case _.kInfinite:case _.kInherit:case _.kInitial:case _.kLeft:case _.kLineThrough:case _.kMiddle:case _.kMonoscopic:case _.kMonospace:case _.kNoRepeat:case _.kNormal:case _.kNowrap:case _.kPre:case _.kPreLine:case _.kPreWrap:case _.kRelative:case _.kRepeat:case _.kReverse:case _.kRight:case _.kRow:case _.kRowReverse:case _.kSansSerif:case _.kScroll:case _.kSerif:case _.kSolid:case _.kSpaceAround:case _.kSpaceBetween:case _.kStart:case _.kStatic:case _.kStereoscopicLeftRight:case _.kStereoscopicTopBottom:case _.kStretch:case _.kTop:case _.kUppercase:case _.kVisible:case _.kWrap:case _.kWrapReverse:gt();break;default:gt()}}container_box(){return this.container_box_}CreateScopedParagraph(r){Q(!this.paragraph_scoped_),this.paragraph_scoped_=!0,this.prior_paragraph_=this.paragraph_store_.value;let n;this.element_dir_==sp.kDirLeftToRight?n=or.kLeftToRightBaseDirection:this.element_dir_==sp.kDirRightToLeft?n=or.kRightToLeftBaseDirection:n=this.prior_paragraph_.object.GetDirectionalFormattingStackDirection(),r==1&&this.prior_paragraph_.object.Close(),this.paragraph_store_.value=this.context_.paragraph_collection.acquire(Cc.ID.toString(),this.prior_paragraph_.object.GetLocale(),n,[],this.context_.line_break_iterator,this.context_.character_break_iterator)}}class KD extends qr{constructor(r,n,s,i,o,a,l,u,d,f){super();c(this,"css_computed_style_declaration_");c(this,"content_");c(this,"paragraph_ref_");c(this,"text_position_");c(this,"maybe_intrinsic_width_");c(this,"maybe_intrinsic_height_");c(this,"maybe_intrinsic_ratio_");c(this,"context_");c(this,"replaced_box_mode_");c(this,"content_size_");c(this,"replaced_box_");this.css_computed_style_declaration_=r,this.content_=n,this.paragraph_ref_=s,this.text_position_=i,this.maybe_intrinsic_width_=o,this.maybe_intrinsic_height_=a,this.maybe_intrinsic_ratio_=l,this.context_=u,this.replaced_box_mode_=d,this.content_size_=f}VisitKeyword(r){switch(r.value()){case _.kBlock:case _.kFlex:this.replaced_box_=new CJ(this.css_computed_style_declaration_,this.content_,this.paragraph_ref_.copy(),this.text_position_,this.maybe_intrinsic_width_,this.maybe_intrinsic_height_,this.maybe_intrinsic_ratio_,this.context_.used_style_provider,this.replaced_box_mode_,this.content_size_);break;case _.kInline:case _.kInlineBlock:case _.kInlineFlex:this.replaced_box_=new PJ(this.css_computed_style_declaration_,this.content_,this.paragraph_ref_.copy(),this.text_position_,this.maybe_intrinsic_width_,this.maybe_intrinsic_height_,this.maybe_intrinsic_ratio_,this.context_.used_style_provider,this.replaced_box_mode_,this.content_size_);break;case _.kNone:break;default:gt();break}}replaced_box(){return this.replaced_box_}}class FJ extends dS{}function IJ(t,e,r,n,s,i,o,a){e.UpdateComputedStyles();let l=_J(e.initial_computed_style_data(),e,n),u=l.box;a&&u.set_blend_background_color(!1);const d=new Set;if(e.documentElement){const f=new pJ,g=new FJ;let x=f.acquire(Cc.ID.toString(),t,u.base_direction(),[],i,o);g.value=x;let E=new RJ(n,i,o,l.background_style_source,r,f,d),D=new mx(u.css_computed_style_declaration(),g,1,E);e.documentElement.Accept(D);let A=D.boxes();for(let R of A)u.AddChild(R);x.object.IsClosed()||x.object.Close(),x.dispose(),g.dispose()}u.SplitBidiLevelRuns(),u.set_left(new ye),u.set_top(new ye),u.UpdateSize(new yd);{s.clear();for(let f of d){let g=f;for(;g;){const x=jQ(g);s.insert(x),g=g.GetSplitSibling()}}}return n.CleanupAfterLayout(),u}function VE(t,e){let r=new fl;return e.RenderAndAnimate(r,e,new Vn(0,0),e),new ih(r)}function MJ(t,e,r,n,s){wF(t,e,r||0,n||t.length-1,s||LJ)}function wF(t,e,r,n,s){for(;n>r;){if(n-r>600){var i=n-r+1,o=e-r+1,a=Math.log(i),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(i-l)/i)*(o-i/2<0?-1:1),d=Math.max(r,Math.floor(e-o*l/i+u)),f=Math.min(n,Math.floor(e+(i-o)*l/i+u));wF(t,e,d,f,s)}var g=t[e],x=r,E=n;for(Y_(t,r,e),s(t[n],g)>0&&Y_(t,r,n);x<E;){for(Y_(t,x,E),x++,E--;s(t[x],g)<0;)x++;for(;s(t[E],g)>0;)E--}s(t[r],g)===0?Y_(t,r,E):(E++,Y_(t,E,n)),E<=e&&(r=E+1),e<=E&&(n=E-1)}}function Y_(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function LJ(t,e){return t<e?-1:t>e?1:0}class UJ{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let r=this.data;const n=[];if(!Am(e,r))return n;const s=this.toBBox,i=[];for(;r;){for(let o=0;o<r.children.length;o++){const a=r.children[o],l=r.leaf?s(a):a;Am(e,l)&&(r.leaf?n.push(a):WE(e,l)?this._all(a,n):i.push(a))}r=i.pop()}return n}collides(e){let r=this.data;if(!Am(e,r))return!1;const n=[];for(;r;){for(let s=0;s<r.children.length;s++){const i=r.children[s],o=r.leaf?this.toBBox(i):i;if(Am(e,o)){if(r.leaf||WE(e,o))return!0;n.push(i)}}r=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let n=0;n<e.length;n++)this.insert(e[n]);return this}let r=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=r;else if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){const n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=qh([]),this}remove(e,r){if(!e)return this;let n=this.data;const s=this.toBBox(e),i=[],o=[];let a,l,u;for(;n||i.length;){if(n||(n=i.pop(),l=i[i.length-1],a=o.pop(),u=!0),n.leaf){const d=GJ(e,n.children,r);if(d!==-1)return n.children.splice(d,1),i.push(n),this._condense(i),this}!u&&!n.leaf&&WE(n,s)?(i.push(n),o.push(a),a=0,l=n,n=n.children[0]):l?(a++,n=l.children[a],u=!1):n=null}return this}toBBox(e){return e}compareMinX(e,r){return e.minX-r.minX}compareMinY(e,r){return e.minY-r.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,r){const n=[];for(;e;)e.leaf?r.push(...e.children):n.push(...e.children),e=n.pop();return r}_build(e,r,n,s){const i=n-r+1;let o=this._maxEntries,a;if(i<=o)return a=qh(e.slice(r,n+1)),Vh(a,this.toBBox),a;s||(s=Math.ceil(Math.log(i)/Math.log(o)),o=Math.ceil(i/Math.pow(o,s-1))),a=qh([]),a.leaf=!1,a.height=s;const l=Math.ceil(i/o),u=l*Math.ceil(Math.sqrt(o));XD(e,r,n,u,this.compareMinX);for(let d=r;d<=n;d+=u){const f=Math.min(d+u-1,n);XD(e,d,f,l,this.compareMinY);for(let g=d;g<=f;g+=l){const x=Math.min(g+l-1,f);a.children.push(this._build(e,g,x,s-1))}}return Vh(a,this.toBBox),a}_chooseSubtree(e,r,n,s){for(;s.push(r),!(r.leaf||s.length-1===n);){let i=1/0,o=1/0,a;for(let l=0;l<r.children.length;l++){const u=r.children[l],d=zE(u),f=VJ(e,u)-d;f<o?(o=f,i=d<i?d:i,a=u):f===o&&d<i&&(i=d,a=u)}r=a||r.children[0]}return r}_insert(e,r,n){const s=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(s,this.data,r,i);for(o.children.push(e),dp(o,s);r>=0&&i[r].children.length>this._maxEntries;)this._split(i,r),r--;this._adjustParentBBoxes(s,i,r)}_split(e,r){const n=e[r],s=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,s);const o=this._chooseSplitIndex(n,i,s),a=qh(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Vh(n,this.toBBox),Vh(a,this.toBBox),r?e[r-1].children.push(a):this._splitRoot(n,a)}_splitRoot(e,r){this.data=qh([e,r]),this.data.height=e.height+1,this.data.leaf=!1,Vh(this.data,this.toBBox)}_chooseSplitIndex(e,r,n){let s,i=1/0,o=1/0;for(let a=r;a<=n-r;a++){const l=hp(e,0,a,this.toBBox),u=hp(e,a,n,this.toBBox),d=zJ(l,u),f=zE(l)+zE(u);d<i?(i=d,s=a,o=f<o?f:o):d===i&&f<o&&(o=f,s=a)}return s||n-r}_chooseSplitAxis(e,r,n){const s=e.leaf?this.compareMinX:HJ,i=e.leaf?this.compareMinY:jJ,o=this._allDistMargin(e,r,n,s),a=this._allDistMargin(e,r,n,i);o<a&&e.children.sort(s)}_allDistMargin(e,r,n,s){e.children.sort(s);const i=this.toBBox,o=hp(e,0,r,i),a=hp(e,n-r,n,i);let l=Em(o)+Em(a);for(let u=r;u<n-r;u++){const d=e.children[u];dp(o,e.leaf?i(d):d),l+=Em(o)}for(let u=n-r-1;u>=r;u--){const d=e.children[u];dp(a,e.leaf?i(d):d),l+=Em(a)}return l}_adjustParentBBoxes(e,r,n){for(let s=n;s>=0;s--)dp(r[s],e)}_condense(e){for(let r=e.length-1,n;r>=0;r--)e[r].children.length===0?r>0?(n=e[r-1].children,n.splice(n.indexOf(e[r]),1)):this.clear():Vh(e[r],this.toBBox)}}function GJ(t,e,r){if(!r)return e.indexOf(t);for(let n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function Vh(t,e){hp(t,0,t.children.length,e,t)}function hp(t,e,r,n,s){s||(s=qh(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let i=e;i<r;i++){const o=t.children[i];dp(s,t.leaf?n(o):o)}return s}function dp(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function HJ(t,e){return t.minX-e.minX}function jJ(t,e){return t.minY-e.minY}function zE(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Em(t){return t.maxX-t.minX+(t.maxY-t.minY)}function VJ(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function zJ(t,e){const r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),i=Math.min(t.maxY,e.maxY);return Math.max(0,s-r)*Math.max(0,i-n)}function WE(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Am(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function qh(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function XD(t,e,r,n,s){const i=[e,r];for(;i.length;){if(r=i.pop(),e=i.pop(),r-e<=n)continue;const o=e+Math.ceil((r-e)/n/2)*n;MJ(t,o,e,r,s),i.push(e,o,o,r)}}class Uw{constructor(e,r,n){this.render_tree=e,this.layout_time=r,this.on_rasterized_callback=n}}class Mp{constructor(e,r){this.node=e,this.box=r}static forElement(e,r){return new Mp(e,r)}}class WJ{constructor(e,r,n,s,i,o,a,l,u){c(this,"window_");c(this,"locale_");c(this,"used_style_provider_");c(this,"on_render_tree_produced_callback_");c(this,"on_layout_callback_");c(this,"produced_render_tree_");c(this,"are_computed_styles_and_box_tree_dirty_");c(this,"is_render_tree_pending_");c(this,"dom_max_element_depth_");c(this,"layout_refresh_rate_");c(this,"suspended_");c(this,"clear_window_with_background_color_");c(this,"layout_timer_");c(this,"line_break_iterator_");c(this,"character_break_iterator_");c(this,"initial_containing_block_");c(this,"_onDidLayout",new Mt);c(this,"onDidLayout",this._onDidLayout.event);c(this,"_selectionBackground");c(this,"textRTree");this.window_=n;const{object:{ptr:d},dispose:f}=r1(l);this.locale_=r3.createCanonical(d),f(),this.used_style_provider_=new MQ(n.html_element_context(),n.document().font_cache()),this.on_render_tree_produced_callback_=s,this.on_layout_callback_=i,this.produced_render_tree_=!1,this.are_computed_styles_and_box_tree_dirty_=!0,this.is_render_tree_pending_=!0,this.dom_max_element_depth_=o,this.layout_refresh_rate_=a,this.suspended_=e,this.clear_window_with_background_color_=u,this.layout_timer_=new cQ,this.window_.document().AddObserver(this),this.window_.document().SetSynchronousLayoutCallback(this.DoSynchronousLayout.bind(this)),this.window_.document().SetSynchronousLayoutAndProduceRenderTreeCallback(this.DoSynchronousLayoutAndGetRenderTree.bind(this)),this.line_break_iterator_=MA.createLineInstance(this.locale_),this.character_break_iterator_=MA.createCharacterInstance(this.locale_),this.textRTree=new UJ,this._selectionBackground=new IQ(this)}OnLoad(){this.StartLayoutTimer()}OnMutation(){this.DirtyLayout()}StartLayoutTimer(){let e=bs(I2.kMicrosecondsPerSecond/(this.layout_refresh_rate_+1));this.layout_timer_.Start(Ur.FromMicroseconds(e),this.DoLayoutAndProduceRenderTree.bind(this))}DoSynchronousLayout(){if(this.suspended_){En(oi,"Skipping layout since Cobalt is in a suspended state.");return}this.are_computed_styles_and_box_tree_dirty_&&(this.initial_containing_block_&&this.initial_containing_block_.dispose(),this.initial_containing_block_=IJ(this.locale_,this.window_.document(),this.dom_max_element_depth_,this.used_style_provider_,this.textRTree,this.line_break_iterator_,this.character_break_iterator_,this.clear_window_with_background_color_),this.are_computed_styles_and_box_tree_dirty_=!1,this._onDidLayout.fire())}DoSynchronousLayoutAndGetRenderTree(){return this.DoSynchronousLayout(),VE(this.used_style_provider_,this.initial_containing_block_)}DirtyLayout(){this.are_computed_styles_and_box_tree_dirty_=!0,this.is_render_tree_pending_=!0}DoLayoutAndProduceRenderTree(){if(this.suspended_)return;let e=this.window_.document();if(!!e.documentElement){if(e.SampleTimelineTime(),Q(this.is_render_tree_pending_||!this.are_computed_styles_and_box_tree_dirty_),this.is_render_tree_pending_){this.DoSynchronousLayout();let r=!this.produced_render_tree_&&!e.documentElement.IsDisplayed();if(Reflect.set(window,"dumpLayout",()=>{var n;console.log((n=this.initial_containing_block_)==null?void 0:n.DumpWithIndent())}),this._updateSelection(),!r){let n=VE(this.used_style_provider_,this.initial_containing_block_);this.produced_render_tree_=!0;let s=e.timeline().current_time();Q(s),this.on_render_tree_produced_callback_(new Uw(n,Ur.FromMilliseconds(s),ET)),this.is_render_tree_pending_=!1,Reflect.set(window,"dumpRender",()=>{console.log(GD(n)),console.log(n)})}}this.on_layout_callback_()}}DoProduceRenderTree(){let e=this.window_.document();e.SampleTimelineTime();let r=!this.produced_render_tree_&&!e.documentElement.IsDisplayed();if(Reflect.set(window,"dumpLayout",()=>{var n;console.log((n=this.initial_containing_block_)==null?void 0:n.DumpWithIndent())}),!r){let n=VE(this.used_style_provider_,this.initial_containing_block_);this.produced_render_tree_=!0;let s=e.timeline().current_time();Q(s),this.on_render_tree_produced_callback_(new Uw(n,Ur.FromMilliseconds(s),ET)),this.is_render_tree_pending_=!1,Reflect.set(window,"dumpRender",()=>{console.log(GD(n)),console.log(n)})}}hitTestDOM(e,r,n){let s=new ye(e),i=new ye(r),o=[];const a=[Os(this.initial_containing_block_)];for(;a.length;){const l=a.pop();let u=!1,d=l.node;if(l===this.initial_containing_block_)u=!0;else if(d){let g=d.AsElement();g&&(g.tagName==="html"||g.tagName==="body")&&(u=!0)}l.AsAnonymousBlockBox()&&(u=!0);let f;if(u||(f=l.GetClientRect(),u=f.top().LE(i)&&f.bottom().GE(i)&&f.left().LE(s)&&f.right().GE(s)),u){let g=l.AsTextBox();if(g){if(n.hitTestLevel>=Pd.InlineBox){const E=Os(g.node);o.push(Mp.forElement(E,l))}}else!l.AsAnonymousBlockBox()&&d&&(l.AsInlineContainerBox()?n.hitTestLevel>=Pd.InlineBox&&o.push(Mp.forElement(d,l)):o.push(Mp.forElement(d,l)));let x=l.AsContainerBox();if(x){const E=x.child_boxes();for(let D=0,A=E.length;D<A;D++)a.push(E[D])}}}return o}hitTestRTree(e,r,n,s){return this.textRTree.search({minX:e,minY:r,maxX:n,maxY:s})}getRTreeItemsByParagraph(e){return this.textRTree.all().filter(n=>n.box.paragraph===e).sort((n,s)=>n.minY<s.minY?-1:1)}getContentOfParagraph(e){const r=this.textRTree.all(),n=r.find(u=>u.box.paragraph===e);Q(n);const i=n.box.parent();Q(i),Q(i.isInlineContainerBox());const o=i.parent();Q(o);let a=[],l=[];for(const u of o.child_boxes()){ye.isZero(u.left())&&(l=[],a.push(l)),Q(u.isInlineContainerBox());for(const d of u.child_boxes()){Q(d.isTextBox());const f=r.find(g=>g.box===d);Q(f),l.push(f)}}return a}getParagraphOfNode(e){const r=e.GetLayoutObject().box;if(!!r.isTextBox())return r.paragraph}onSelectionChanged(e){this._updateSelection()}_updateSelection(){const e=this.window_.document().getSelection();this._selectionBackground.update(e),this.DoProduceRenderTree()}}function $J(t,e,r){return new G2(t,e,!1,r.CreateImageLoader.bind(r),r.NotifyResourceRequested.bind(r))}class KJ{OnReceivedPassed(e,r){this.OnReceived(e,r)}}class XJ{constructor(e){c(this,"handler_");this.handler_=e}handler(){return this.handler_}}class YD{constructor(e,r,n,s=void 0,i=!1){c(this,"fetcher_creator_");c(this,"decoder_creator_");c(this,"decoder_");c(this,"fetcher_handler_to_decoder_adaptor_");c(this,"fetcher_");c(this,"fetcher_creator_error_closure_");c(this,"on_load_complete_");c(this,"on_destruction_");c(this,"is_suspended_");c(this,"is_load_complete_",!1);this.fetcher_creator_=e,this.decoder_creator_=r,this.on_load_complete_=n,this.on_destruction_=s,this.is_suspended_=i,Q(this.fetcher_creator_),Q(this.decoder_creator_),Q(this.on_load_complete_),this.decoder_=this.decoder_creator_(this.LoadComplete.bind(this)),this.is_suspended_||this.Start()}dispose(){this.on_destruction_&&this.on_destruction_(this)}LoadComplete(e){this.is_load_complete_=!0,this.on_load_complete_(e)}Start(){Q(!this.is_suspended_),this.fetcher_handler_to_decoder_adaptor_=new YJ(this.decoder_,this.LoadComplete.bind(this)),this.fetcher_=this.fetcher_creator_(this.fetcher_handler_to_decoder_adaptor_),this.fetcher_||(this.fetcher_creator_error_closure_=this.LoadComplete.bind(this,"Fetcher was not created."),this.fetcher_creator_error_closure_())}}class YJ extends KJ{constructor(r,n){super();c(this,"decoder_");c(this,"load_complete_callback_");this.decoder_=r,this.load_complete_callback_=n}OnReceived(r,n){this.decoder_.DecodeChunk(n)}OnDone(r){Q(r),this.decoder_.Finish()}OnError(r,n){this.load_complete_callback_(n)}}class dk{Decoder(){}}function Gw(t,e,r=0){for(let n=0;n<e.length;n++)if(t[n+r]!=e[n])return!1;return!0}function wm(t,e,r=0){return Gw(t,e.split("").map(n=>n.charCodeAt(0),r))}function qJ(t,e,r,n){for(let s=0;s<n;s++)t[s+r]=e[s]}var Hw=(t=>(t[t.kWaitingForHeader=0]="kWaitingForHeader",t[t.kReadLines=1]="kReadLines",t[t.kDone=2]="kDone",t[t.kError=3]="kError",t))(Hw||{});class QJ{constructor(e){c(this,"resource_provider_");c(this,"state_");c(this,"pixel_format_");this.resource_provider_=e,this.state_=0,this.CalculatePixelFormat()}DecodeChunk(e){this.DecodeChunkInternal(e)}FinishAndMaybeReturnImage(){return this.FinishInternal()}resource_provider(){return this.resource_provider_}set_state(e){this.state_=e}state(){return this.state_}pixel_format(){return this.pixel_format_}AllocateImageData(e,r){Q(this.resource_provider_.AlphaFormatSupported(ou.kAlphaFormatOpaque)),Q(this.resource_provider_.AlphaFormatSupported(ou.kAlphaFormatPremultiplied));let n=this.resource_provider_.AllocateImageData(e,this.pixel_format(),r?ou.kAlphaFormatPremultiplied:ou.kAlphaFormatOpaque);return Q(n),n}CreateImage(e){return Q(e),this.resource_provider().CreateImage(e)}CalculatePixelFormat(){this.pixel_format_=Zd.kPixelFormatRGBA8,this.resource_provider_.PixelFormatSupported(this.pixel_format_)||(this.pixel_format_=Zd.kPixelFormatBGRA8),Q(this.resource_provider_.PixelFormatSupported(this.pixel_format_))}}var SF={exports:{}};(function(t){function e(n){var s=Math.floor,i=new Array(64),o=new Array(64),a=new Array(64),l=new Array(64),u,d,f,g,x=new Array(65535),E=new Array(65535),D=new Array(64),A=new Array(64),R=[],P=0,O=7,F=new Array(64),U=new Array(64),B=new Array(64),N=new Array(256),T=new Array(2048),M,$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ge=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Fe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ze=[0,1,2,3,4,5,6,7,8,9,10,11],ze=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function it(le){for(var ue=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],be=0;be<64;be++){var Re=s((ue[be]*le+50)/100);Re<1?Re=1:Re>255&&(Re=255),i[$[be]]=Re}for(var Qe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Xe=0;Xe<64;Xe++){var et=s((Qe[Xe]*le+50)/100);et<1?et=1:et>255&&(et=255),o[$[Xe]]=et}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],nt=0,mt=0;mt<8;mt++)for(var ot=0;ot<8;ot++)a[nt]=1/(i[$[nt]]*Ye[mt]*Ye[ot]*8),l[nt]=1/(o[$[nt]]*Ye[mt]*Ye[ot]*8),nt++}function _t(le,ue){for(var be=0,Re=0,Qe=new Array,Xe=1;Xe<=16;Xe++){for(var et=1;et<=le[Xe];et++)Qe[ue[Re]]=[],Qe[ue[Re]][0]=be,Qe[ue[Re]][1]=Xe,Re++,be++;be*=2}return Qe}function st(){u=_t(J,Z),d=_t(Fe,Ze),f=_t(re,ge),g=_t(ze,Le)}function Rt(){for(var le=1,ue=2,be=1;be<=15;be++){for(var Re=le;Re<ue;Re++)E[32767+Re]=be,x[32767+Re]=[],x[32767+Re][1]=be,x[32767+Re][0]=Re;for(var Qe=-(ue-1);Qe<=-le;Qe++)E[32767+Qe]=be,x[32767+Qe]=[],x[32767+Qe][1]=be,x[32767+Qe][0]=ue-1+Qe;le<<=1,ue<<=1}}function te(){for(var le=0;le<256;le++)T[le]=19595*le,T[le+256>>0]=38470*le,T[le+512>>0]=7471*le+32768,T[le+768>>0]=-11059*le,T[le+1024>>0]=-21709*le,T[le+1280>>0]=32768*le+8421375,T[le+1536>>0]=-27439*le,T[le+1792>>0]=-5329*le}function oe(le){for(var ue=le[0],be=le[1]-1;be>=0;)ue&1<<be&&(P|=1<<O),be--,O--,O<0&&(P==255?(ae(255),ae(0)):ae(P),O=7,P=0)}function ae(le){R.push(le)}function we(le){ae(le>>8&255),ae(le&255)}function Se(le,ue){var be,Re,Qe,Xe,et,Ye,nt,mt,ot=0,bt,Lt=8,Ft=64;for(bt=0;bt<Lt;++bt){be=le[ot],Re=le[ot+1],Qe=le[ot+2],Xe=le[ot+3],et=le[ot+4],Ye=le[ot+5],nt=le[ot+6],mt=le[ot+7];var Vt=be+mt,Me=be-mt,yt=Re+nt,vt=Re-nt,St=Qe+Ye,$t=Qe-Ye,gn=Xe+et,Tr=Xe-et,Sr=Vt+gn,bn=Vt-gn,ps=yt+St,ci=yt-St;le[ot]=Sr+ps,le[ot+4]=Sr-ps;var Vr=(ci+bn)*.707106781;le[ot+2]=bn+Vr,le[ot+6]=bn-Vr,Sr=Tr+$t,ps=$t+vt,ci=vt+Me;var Nn=(Sr-ci)*.382683433,es=.5411961*Sr+Nn,vr=1.306562965*ci+Nn,co=ps*.707106781,tr=Me+co,Yn=Me-co;le[ot+5]=Yn+es,le[ot+3]=Yn-es,le[ot+1]=tr+vr,le[ot+7]=tr-vr,ot+=8}for(ot=0,bt=0;bt<Lt;++bt){be=le[ot],Re=le[ot+8],Qe=le[ot+16],Xe=le[ot+24],et=le[ot+32],Ye=le[ot+40],nt=le[ot+48],mt=le[ot+56];var ie=be+mt,Lo=be-mt,Lu=Re+nt,kl=Re-nt,Uo=Qe+Ye,ho=Qe-Ye,zt=Xe+et,hi=Xe-et,qn=ie+zt,Tl=ie-zt,Go=Lu+Uo,Pr=Lu-Uo;le[ot]=qn+Go,le[ot+32]=qn-Go;var ts=(Pr+Tl)*.707106781;le[ot+16]=Tl+ts,le[ot+48]=Tl-ts,qn=hi+ho,Go=ho+kl,Pr=kl+Lo;var Cl=(qn-Pr)*.382683433,Uu=.5411961*qn+Cl,Dh=1.306562965*Pr+Cl,Gu=Go*.707106781,Hu=Lo+Gu,gs=Lo-Gu;le[ot+40]=gs+Uu,le[ot+24]=gs-Uu,le[ot+8]=Hu+Dh,le[ot+56]=Hu-Dh,ot++}var Pl;for(bt=0;bt<Ft;++bt)Pl=le[bt]*ue[bt],D[bt]=Pl>0?Pl+.5|0:Pl-.5|0;return D}function _e(){we(65504),we(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),we(1),we(1),ae(0),ae(0)}function De(le){if(!!le){we(65505),le[0]===69&&le[1]===120&&le[2]===105&&le[3]===102?we(le.length+2):(we(le.length+5+2),ae(69),ae(120),ae(105),ae(102),ae(0));for(var ue=0;ue<le.length;ue++)ae(le[ue])}}function Ve(le,ue){we(65472),we(17),ae(8),we(ue),we(le),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)}function ee(){we(65499),we(132),ae(0);for(var le=0;le<64;le++)ae(i[le]);ae(1);for(var ue=0;ue<64;ue++)ae(o[ue])}function He(){we(65476),we(418),ae(0);for(var le=0;le<16;le++)ae(J[le+1]);for(var ue=0;ue<=11;ue++)ae(Z[ue]);ae(16);for(var be=0;be<16;be++)ae(re[be+1]);for(var Re=0;Re<=161;Re++)ae(ge[Re]);ae(1);for(var Qe=0;Qe<16;Qe++)ae(Fe[Qe+1]);for(var Xe=0;Xe<=11;Xe++)ae(Ze[Xe]);ae(17);for(var et=0;et<16;et++)ae(ze[et+1]);for(var Ye=0;Ye<=161;Ye++)ae(Le[Ye])}function I(le){typeof le>"u"||le.constructor!==Array||le.forEach(ue=>{if(typeof ue=="string"){we(65534);var be=ue.length;we(be+2);var Re;for(Re=0;Re<be;Re++)ae(ue.charCodeAt(Re))}})}function j(){we(65498),we(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0)}function W(le,ue,be,Re,Qe){for(var Xe=Qe[0],et=Qe[240],Ye,nt=16,mt=63,ot=64,bt=Se(le,ue),Lt=0;Lt<ot;++Lt)A[$[Lt]]=bt[Lt];var Ft=A[0]-be;be=A[0],Ft==0?oe(Re[0]):(Ye=32767+Ft,oe(Re[E[Ye]]),oe(x[Ye]));for(var Vt=63;Vt>0&&A[Vt]==0;Vt--);if(Vt==0)return oe(Xe),be;for(var Me=1,yt;Me<=Vt;){for(var vt=Me;A[Me]==0&&Me<=Vt;++Me);var St=Me-vt;if(St>=nt){yt=St>>4;for(var $t=1;$t<=yt;++$t)oe(et);St=St&15}Ye=32767+A[Me],oe(Qe[(St<<4)+E[Ye]]),oe(x[Ye]),Me++}return Vt!=mt&&oe(Xe),be}function ne(){for(var le=String.fromCharCode,ue=0;ue<256;ue++)N[ue]=le(ue)}this.encode=function(le,ue){new Date().getTime(),ue&&fe(ue),R=new Array,P=0,O=7,we(65496),_e(),I(le.comments),De(le.exifBuffer),ee(),Ve(le.width,le.height),He(),j();var be=0,Re=0,Qe=0;P=0,O=7,this.encode.displayName="_encode_";for(var Xe=le.data,et=le.width,Ye=le.height,nt=et*4,mt,ot=0,bt,Lt,Ft,Vt,Me,yt,vt,St;ot<Ye;){for(mt=0;mt<nt;){for(Vt=nt*ot+mt,Me=Vt,yt=-1,vt=0,St=0;St<64;St++)vt=St>>3,yt=(St&7)*4,Me=Vt+vt*nt+yt,ot+vt>=Ye&&(Me-=nt*(ot+1+vt-Ye)),mt+yt>=nt&&(Me-=mt+yt-nt+4),bt=Xe[Me++],Lt=Xe[Me++],Ft=Xe[Me++],F[St]=(T[bt]+T[Lt+256>>0]+T[Ft+512>>0]>>16)-128,U[St]=(T[bt+768>>0]+T[Lt+1024>>0]+T[Ft+1280>>0]>>16)-128,B[St]=(T[bt+1280>>0]+T[Lt+1536>>0]+T[Ft+1792>>0]>>16)-128;be=W(F,a,be,u,f),Re=W(U,l,Re,d,g),Qe=W(B,l,Qe,d,g),mt+=32}ot+=8}if(O>=0){var $t=[];$t[1]=O+1,$t[0]=(1<<O+1)-1,oe($t)}return we(65497),Buffer.from(R)};function fe(le){if(le<=0&&(le=1),le>100&&(le=100),M!=le){var ue=0;le<50?ue=Math.floor(5e3/le):ue=Math.floor(200-le*2),it(ue),M=le}}function Ee(){var le=new Date().getTime();n||(n=50),ne(),st(),Rt(),te(),fe(n),new Date().getTime()-le}Ee()}t.exports=r;function r(n,s){typeof s>"u"&&(s=50);var i=new e(s),o=i.encode(n,s);return{data:o,width:n.width,height:n.height}}})(SF);var bF={exports:{}};(function(t){var e=function(){var s=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),i=4017,o=799,a=3406,l=2276,u=1567,d=3784,f=5793,g=2896;function x(){}function E(U,B){for(var N=0,T=[],M,$,J=16;J>0&&!U[J-1];)J--;T.push({children:[],index:0});var Z=T[0],re;for(M=0;M<J;M++){for($=0;$<U[M];$++){for(Z=T.pop(),Z.children[Z.index]=B[N];Z.index>0;){if(T.length===0)throw new Error("Could not recreate Huffman Table");Z=T.pop()}for(Z.index++,T.push(Z);T.length<=M;)T.push(re={children:[],index:0}),Z.children[Z.index]=re.children,Z=re;N++}M+1<J&&(T.push(re={children:[],index:0}),Z.children[Z.index]=re.children,Z=re)}return T[0].children}function D(U,B,N,T,M,$,J,Z,re,ge){N.precision,N.samplesPerLine,N.scanLines;var Fe=N.mcusPerLine,Ze=N.progressive;N.maxH,N.maxV;var ze=B,Le=0,it=0;function _t(){if(it>0)return it--,Le>>it&1;if(Le=U[B++],Le==255){var Ye=U[B++];if(Ye)throw new Error("unexpected marker: "+(Le<<8|Ye).toString(16))}return it=7,Le>>>7}function st(Ye){for(var nt=Ye,mt;(mt=_t())!==null;){if(nt=nt[mt],typeof nt=="number")return nt;if(typeof nt!="object")throw new Error("invalid huffman sequence")}return null}function Rt(Ye){for(var nt=0;Ye>0;){var mt=_t();if(mt===null)return;nt=nt<<1|mt,Ye--}return nt}function te(Ye){var nt=Rt(Ye);return nt>=1<<Ye-1?nt:nt+(-1<<Ye)+1}function oe(Ye,nt){var mt=st(Ye.huffmanTableDC),ot=mt===0?0:te(mt);nt[0]=Ye.pred+=ot;for(var bt=1;bt<64;){var Lt=st(Ye.huffmanTableAC),Ft=Lt&15,Vt=Lt>>4;if(Ft===0){if(Vt<15)break;bt+=16;continue}bt+=Vt;var Me=s[bt];nt[Me]=te(Ft),bt++}}function ae(Ye,nt){var mt=st(Ye.huffmanTableDC),ot=mt===0?0:te(mt)<<re;nt[0]=Ye.pred+=ot}function we(Ye,nt){nt[0]|=_t()<<re}var Se=0;function _e(Ye,nt){if(Se>0){Se--;return}for(var mt=$,ot=J;mt<=ot;){var bt=st(Ye.huffmanTableAC),Lt=bt&15,Ft=bt>>4;if(Lt===0){if(Ft<15){Se=Rt(Ft)+(1<<Ft)-1;break}mt+=16;continue}mt+=Ft;var Vt=s[mt];nt[Vt]=te(Lt)*(1<<re),mt++}}var De=0,Ve;function ee(Ye,nt){for(var mt=$,ot=J,bt=0;mt<=ot;){var Lt=s[mt],Ft=nt[Lt]<0?-1:1;switch(De){case 0:var Vt=st(Ye.huffmanTableAC),Me=Vt&15,bt=Vt>>4;if(Me===0)bt<15?(Se=Rt(bt)+(1<<bt),De=4):(bt=16,De=1);else{if(Me!==1)throw new Error("invalid ACn encoding");Ve=te(Me),De=bt?2:3}continue;case 1:case 2:nt[Lt]?nt[Lt]+=(_t()<<re)*Ft:(bt--,bt===0&&(De=De==2?3:0));break;case 3:nt[Lt]?nt[Lt]+=(_t()<<re)*Ft:(nt[Lt]=Ve<<re,De=0);break;case 4:nt[Lt]&&(nt[Lt]+=(_t()<<re)*Ft);break}mt++}De===4&&(Se--,Se===0&&(De=0))}function He(Ye,nt,mt,ot,bt){var Lt=mt/Fe|0,Ft=mt%Fe,Vt=Lt*Ye.v+ot,Me=Ft*Ye.h+bt;Ye.blocks[Vt]===void 0&&ge.tolerantDecoding||nt(Ye,Ye.blocks[Vt][Me])}function I(Ye,nt,mt){var ot=mt/Ye.blocksPerLine|0,bt=mt%Ye.blocksPerLine;Ye.blocks[ot]===void 0&&ge.tolerantDecoding||nt(Ye,Ye.blocks[ot][bt])}var j=T.length,W,ne,fe,Ee,le,ue;Ze?$===0?ue=Z===0?ae:we:ue=Z===0?_e:ee:ue=oe;var be=0,Re,Qe;j==1?Qe=T[0].blocksPerLine*T[0].blocksPerColumn:Qe=Fe*N.mcusPerColumn,M||(M=Qe);for(var Xe,et;be<Qe;){for(ne=0;ne<j;ne++)T[ne].pred=0;if(Se=0,j==1)for(W=T[0],le=0;le<M;le++)I(W,ue,be),be++;else for(le=0;le<M;le++){for(ne=0;ne<j;ne++)for(W=T[ne],Xe=W.h,et=W.v,fe=0;fe<et;fe++)for(Ee=0;Ee<Xe;Ee++)He(W,ue,be,fe,Ee);if(be++,be===Qe)break}if(be===Qe)do{if(U[B]===255&&U[B+1]!==0)break;B+=1}while(B<U.length-2);if(it=0,Re=U[B]<<8|U[B+1],Re<65280)throw new Error("marker was not found");if(Re>=65488&&Re<=65495)B+=2;else break}return B-ze}function A(U,B){var N=[],T=B.blocksPerLine,M=B.blocksPerColumn,$=T<<3,J=new Int32Array(64),Z=new Uint8Array(64);function re(Rt,te,oe){var ae=B.quantizationTable,we,Se,_e,De,Ve,ee,He,I,j,W=oe,ne;for(ne=0;ne<64;ne++)W[ne]=Rt[ne]*ae[ne];for(ne=0;ne<8;++ne){var fe=8*ne;if(W[1+fe]==0&&W[2+fe]==0&&W[3+fe]==0&&W[4+fe]==0&&W[5+fe]==0&&W[6+fe]==0&&W[7+fe]==0){j=f*W[0+fe]+512>>10,W[0+fe]=j,W[1+fe]=j,W[2+fe]=j,W[3+fe]=j,W[4+fe]=j,W[5+fe]=j,W[6+fe]=j,W[7+fe]=j;continue}we=f*W[0+fe]+128>>8,Se=f*W[4+fe]+128>>8,_e=W[2+fe],De=W[6+fe],Ve=g*(W[1+fe]-W[7+fe])+128>>8,I=g*(W[1+fe]+W[7+fe])+128>>8,ee=W[3+fe]<<4,He=W[5+fe]<<4,j=we-Se+1>>1,we=we+Se+1>>1,Se=j,j=_e*d+De*u+128>>8,_e=_e*u-De*d+128>>8,De=j,j=Ve-He+1>>1,Ve=Ve+He+1>>1,He=j,j=I+ee+1>>1,ee=I-ee+1>>1,I=j,j=we-De+1>>1,we=we+De+1>>1,De=j,j=Se-_e+1>>1,Se=Se+_e+1>>1,_e=j,j=Ve*l+I*a+2048>>12,Ve=Ve*a-I*l+2048>>12,I=j,j=ee*o+He*i+2048>>12,ee=ee*i-He*o+2048>>12,He=j,W[0+fe]=we+I,W[7+fe]=we-I,W[1+fe]=Se+He,W[6+fe]=Se-He,W[2+fe]=_e+ee,W[5+fe]=_e-ee,W[3+fe]=De+Ve,W[4+fe]=De-Ve}for(ne=0;ne<8;++ne){var Ee=ne;if(W[8+Ee]==0&&W[16+Ee]==0&&W[24+Ee]==0&&W[32+Ee]==0&&W[40+Ee]==0&&W[48+Ee]==0&&W[56+Ee]==0){j=f*oe[ne+0]+8192>>14,W[0+Ee]=j,W[8+Ee]=j,W[16+Ee]=j,W[24+Ee]=j,W[32+Ee]=j,W[40+Ee]=j,W[48+Ee]=j,W[56+Ee]=j;continue}we=f*W[0+Ee]+2048>>12,Se=f*W[32+Ee]+2048>>12,_e=W[16+Ee],De=W[48+Ee],Ve=g*(W[8+Ee]-W[56+Ee])+2048>>12,I=g*(W[8+Ee]+W[56+Ee])+2048>>12,ee=W[24+Ee],He=W[40+Ee],j=we-Se+1>>1,we=we+Se+1>>1,Se=j,j=_e*d+De*u+2048>>12,_e=_e*u-De*d+2048>>12,De=j,j=Ve-He+1>>1,Ve=Ve+He+1>>1,He=j,j=I+ee+1>>1,ee=I-ee+1>>1,I=j,j=we-De+1>>1,we=we+De+1>>1,De=j,j=Se-_e+1>>1,Se=Se+_e+1>>1,_e=j,j=Ve*l+I*a+2048>>12,Ve=Ve*a-I*l+2048>>12,I=j,j=ee*o+He*i+2048>>12,ee=ee*i-He*o+2048>>12,He=j,W[0+Ee]=we+I,W[56+Ee]=we-I,W[8+Ee]=Se+He,W[48+Ee]=Se-He,W[16+Ee]=_e+ee,W[40+Ee]=_e-ee,W[24+Ee]=De+Ve,W[32+Ee]=De-Ve}for(ne=0;ne<64;++ne){var le=128+(W[ne]+8>>4);te[ne]=le<0?0:le>255?255:le}}F($*M*8);for(var ge,Fe,Ze=0;Ze<M;Ze++){var ze=Ze<<3;for(ge=0;ge<8;ge++)N.push(new Uint8Array($));for(var Le=0;Le<T;Le++){re(B.blocks[Ze][Le],Z,J);var it=0,_t=Le<<3;for(Fe=0;Fe<8;Fe++){var st=N[ze+Fe];for(ge=0;ge<8;ge++)st[_t+ge]=Z[it++]}}}return N}function R(U){return U<0?0:U>255?255:U}x.prototype={load:function(B){var N=new XMLHttpRequest;N.open("GET",B,!0),N.responseType="arraybuffer",N.onload=function(){var T=new Uint8Array(N.response||N.mozResponseArrayBuffer);this.parse(T),this.onload&&this.onload()}.bind(this),N.send(null)},parse:function(B){var N=this.opts.maxResolutionInMP*1e3*1e3,T=0;B.length;function M(){var Ft=B[T]<<8|B[T+1];return T+=2,Ft}function $(){var Ft=M(),Vt=B.subarray(T,T+Ft-2);return T+=Vt.length,Vt}function J(Ft){var Vt=1,Me=1,yt,vt;for(vt in Ft.components)Ft.components.hasOwnProperty(vt)&&(yt=Ft.components[vt],Vt<yt.h&&(Vt=yt.h),Me<yt.v&&(Me=yt.v));var St=Math.ceil(Ft.samplesPerLine/8/Vt),$t=Math.ceil(Ft.scanLines/8/Me);for(vt in Ft.components)if(Ft.components.hasOwnProperty(vt)){yt=Ft.components[vt];var gn=Math.ceil(Math.ceil(Ft.samplesPerLine/8)*yt.h/Vt),Tr=Math.ceil(Math.ceil(Ft.scanLines/8)*yt.v/Me),Sr=St*yt.h,bn=$t*yt.v,ps=bn*Sr,ci=[];F(ps*256);for(var Vr=0;Vr<bn;Vr++){for(var Nn=[],es=0;es<Sr;es++)Nn.push(new Int32Array(64));ci.push(Nn)}yt.blocksPerLine=gn,yt.blocksPerColumn=Tr,yt.blocks=ci}Ft.maxH=Vt,Ft.maxV=Me,Ft.mcusPerLine=St,Ft.mcusPerColumn=$t}var Z=null,re=null,ge,Fe,Ze=[],ze=[],Le=[],it=[],_t=M(),st=-1;if(this.comments=[],_t!=65496)throw new Error("SOI not found");for(_t=M();_t!=65497;){var Rt,te;switch(_t){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var oe=$();if(_t===65534){var ae=String.fromCharCode.apply(null,oe);this.comments.push(ae)}_t===65504&&oe[0]===74&&oe[1]===70&&oe[2]===73&&oe[3]===70&&oe[4]===0&&(Z={version:{major:oe[5],minor:oe[6]},densityUnits:oe[7],xDensity:oe[8]<<8|oe[9],yDensity:oe[10]<<8|oe[11],thumbWidth:oe[12],thumbHeight:oe[13],thumbData:oe.subarray(14,14+3*oe[12]*oe[13])}),_t===65505&&oe[0]===69&&oe[1]===120&&oe[2]===105&&oe[3]===102&&oe[4]===0&&(this.exifBuffer=oe.subarray(5,oe.length)),_t===65518&&oe[0]===65&&oe[1]===100&&oe[2]===111&&oe[3]===98&&oe[4]===101&&oe[5]===0&&(re={version:oe[6],flags0:oe[7]<<8|oe[8],flags1:oe[9]<<8|oe[10],transformCode:oe[11]});break;case 65499:for(var we=M(),Se=we+T-2;T<Se;){var _e=B[T++];F(256);var De=new Int32Array(64);if(_e>>4===0)for(te=0;te<64;te++){var Ve=s[te];De[Ve]=B[T++]}else if(_e>>4===1)for(te=0;te<64;te++){var Ve=s[te];De[Ve]=M()}else throw new Error("DQT: invalid table spec");Ze[_e&15]=De}break;case 65472:case 65473:case 65474:M(),ge={},ge.extended=_t===65473,ge.progressive=_t===65474,ge.precision=B[T++],ge.scanLines=M(),ge.samplesPerLine=M(),ge.components={},ge.componentsOrder=[];var ee=ge.scanLines*ge.samplesPerLine;if(ee>N){var He=Math.ceil((ee-N)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${He}MP`)}var I=B[T++],j;for(Rt=0;Rt<I;Rt++){j=B[T];var W=B[T+1]>>4,ne=B[T+1]&15,fe=B[T+2];if(W<=0||ne<=0)throw new Error("Invalid sampling factor, expected values above 0");ge.componentsOrder.push(j),ge.components[j]={h:W,v:ne,quantizationIdx:fe},T+=3}J(ge),ze.push(ge);break;case 65476:var Ee=M();for(Rt=2;Rt<Ee;){var le=B[T++],ue=new Uint8Array(16),be=0;for(te=0;te<16;te++,T++)be+=ue[te]=B[T];F(16+be);var Re=new Uint8Array(be);for(te=0;te<be;te++,T++)Re[te]=B[T];Rt+=17+be,(le>>4===0?it:Le)[le&15]=E(ue,Re)}break;case 65501:M(),Fe=M();break;case 65500:M(),M();break;case 65498:M();var Qe=B[T++],Xe=[],et;for(Rt=0;Rt<Qe;Rt++){et=ge.components[B[T++]];var Ye=B[T++];et.huffmanTableDC=it[Ye>>4],et.huffmanTableAC=Le[Ye&15],Xe.push(et)}var nt=B[T++],mt=B[T++],ot=B[T++],bt=D(B,T,ge,Xe,Fe,nt,mt,ot>>4,ot&15,this.opts);T+=bt;break;case 65535:B[T]!==255&&T--;break;default:if(B[T-3]==255&&B[T-2]>=192&&B[T-2]<=254){T-=3;break}else if(_t===224||_t==225){if(st!==-1)throw new Error(`first unknown JPEG marker at offset ${st.toString(16)}, second unknown JPEG marker ${_t.toString(16)} at offset ${(T-1).toString(16)}`);st=T-1;const Ft=M();if(B[T+Ft-2]===255){T+=Ft-2;break}}throw new Error("unknown JPEG marker "+_t.toString(16))}_t=M()}if(ze.length!=1)throw new Error("only single frame JPEGs supported");for(var Rt=0;Rt<ze.length;Rt++){var Lt=ze[Rt].components;for(var te in Lt)Lt[te].quantizationTable=Ze[Lt[te].quantizationIdx],delete Lt[te].quantizationIdx}this.width=ge.samplesPerLine,this.height=ge.scanLines,this.jfif=Z,this.adobe=re,this.components=[];for(var Rt=0;Rt<ge.componentsOrder.length;Rt++){var et=ge.components[ge.componentsOrder[Rt]];this.components.push({lines:A(ge,et),scaleX:et.h/ge.maxH,scaleY:et.v/ge.maxV})}},getData:function(B,N){var T=this.width/B,M=this.height/N,$,J,Z,re,ge,Fe,Ze,ze,Le,it,_t=0,st,Rt,te,oe,ae,we,Se,_e,De,Ve,ee,He=B*N*this.components.length;F(He);var I=new Uint8Array(He);switch(this.components.length){case 1:for($=this.components[0],it=0;it<N;it++)for(ge=$.lines[0|it*$.scaleY*M],Le=0;Le<B;Le++)st=ge[0|Le*$.scaleX*T],I[_t++]=st;break;case 2:for($=this.components[0],J=this.components[1],it=0;it<N;it++)for(ge=$.lines[0|it*$.scaleY*M],Fe=J.lines[0|it*J.scaleY*M],Le=0;Le<B;Le++)st=ge[0|Le*$.scaleX*T],I[_t++]=st,st=Fe[0|Le*J.scaleX*T],I[_t++]=st;break;case 3:for(ee=!0,this.adobe&&this.adobe.transformCode?ee=!0:typeof this.opts.colorTransform<"u"&&(ee=!!this.opts.colorTransform),$=this.components[0],J=this.components[1],Z=this.components[2],it=0;it<N;it++)for(ge=$.lines[0|it*$.scaleY*M],Fe=J.lines[0|it*J.scaleY*M],Ze=Z.lines[0|it*Z.scaleY*M],Le=0;Le<B;Le++)ee?(st=ge[0|Le*$.scaleX*T],Rt=Fe[0|Le*J.scaleX*T],te=Ze[0|Le*Z.scaleX*T],_e=R(st+1.402*(te-128)),De=R(st-.3441363*(Rt-128)-.71413636*(te-128)),Ve=R(st+1.772*(Rt-128))):(_e=ge[0|Le*$.scaleX*T],De=Fe[0|Le*J.scaleX*T],Ve=Ze[0|Le*Z.scaleX*T]),I[_t++]=_e,I[_t++]=De,I[_t++]=Ve;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(ee=!1,this.adobe&&this.adobe.transformCode?ee=!0:typeof this.opts.colorTransform<"u"&&(ee=!!this.opts.colorTransform),$=this.components[0],J=this.components[1],Z=this.components[2],re=this.components[3],it=0;it<N;it++)for(ge=$.lines[0|it*$.scaleY*M],Fe=J.lines[0|it*J.scaleY*M],Ze=Z.lines[0|it*Z.scaleY*M],ze=re.lines[0|it*re.scaleY*M],Le=0;Le<B;Le++)ee?(st=ge[0|Le*$.scaleX*T],Rt=Fe[0|Le*J.scaleX*T],te=Ze[0|Le*Z.scaleX*T],oe=ze[0|Le*re.scaleX*T],ae=255-R(st+1.402*(te-128)),we=255-R(st-.3441363*(Rt-128)-.71413636*(te-128)),Se=255-R(st+1.772*(Rt-128))):(ae=ge[0|Le*$.scaleX*T],we=Fe[0|Le*J.scaleX*T],Se=Ze[0|Le*Z.scaleX*T],oe=ze[0|Le*re.scaleX*T]),I[_t++]=255-ae,I[_t++]=255-we,I[_t++]=255-Se,I[_t++]=255-oe;break;default:throw new Error("Unsupported color mode")}return I},copyToImageData:function(B,N){var T=B.width,M=B.height,$=B.data,J=this.getData(T,M),Z=0,re=0,ge,Fe,Ze,ze,Le,it,_t,st,Rt;switch(this.components.length){case 1:for(Fe=0;Fe<M;Fe++)for(ge=0;ge<T;ge++)Ze=J[Z++],$[re++]=Ze,$[re++]=Ze,$[re++]=Ze,N&&($[re++]=255);break;case 3:for(Fe=0;Fe<M;Fe++)for(ge=0;ge<T;ge++)_t=J[Z++],st=J[Z++],Rt=J[Z++],$[re++]=_t,$[re++]=st,$[re++]=Rt,N&&($[re++]=255);break;case 4:for(Fe=0;Fe<M;Fe++)for(ge=0;ge<T;ge++)Le=J[Z++],it=J[Z++],Ze=J[Z++],ze=J[Z++],_t=255-R(Le*(1-ze/255)+ze),st=255-R(it*(1-ze/255)+ze),Rt=255-R(Ze*(1-ze/255)+ze),$[re++]=_t,$[re++]=st,$[re++]=Rt,N&&($[re++]=255);break;default:throw new Error("Unsupported color mode")}}};var P=0,O=0;function F(U=0){var B=P+U;if(B>O){var N=Math.ceil((B-O)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${N}MB`)}P=B}return x.resetMaxMemoryUsage=function(U){P=0,O=U},x.getBytesAllocated=function(){return P},x.requestMemoryAllocation=F,x}();t.exports=r;function r(n,s={}){var i={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},o={...i,...s},a=new Uint8Array(n),l=new e;l.opts=o,e.resetMaxMemoryUsage(o.maxMemoryUsageInMB*1024*1024),l.parse(a);var u=o.formatAsRGBA?4:3,d=l.width*l.height*u;try{e.requestMemoryAllocation(d);var f={width:l.width,height:l.height,exifBuffer:l.exifBuffer,data:o.useTArray?new Uint8Array(d):Buffer.alloc(d)};l.comments.length>0&&(f.comments=l.comments)}catch(g){throw g instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+d):g instanceof ReferenceError&&g.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):g}return l.copyToImageData(f,o.formatAsRGBA),f}})(bF);var JJ=SF.exports,ZJ=bF.exports,eZ={encode:JJ,decode:ZJ};class tZ extends QJ{constructor(r,n){super(r);c(this,"output_format_",0);c(this,"decoded_image_data_");c(this,"raw_image_memory_")}GetTypeString(){return"JPEGImageDecoder"}DecodeChunkInternal(r){var{width:n,height:s,data:i}=eZ.decode(r,{useTArray:!0});this.decoded_image_data_=this.AllocateImageData(new tl(n,s),!1),this.decoded_image_data_.SetMemory(new Uint8Array(r)),this.output_format_=2,this.set_state(Hw.kDone)}FinishInternal(){if(this.state()!=Hw.kDone){this.decoded_image_data_=void 0,this.raw_image_memory_=void 0;return}if(Q(this.output_format_!=0),this.output_format_==2||this.output_format_==3)return Q(this.decoded_image_data_),this.CreateImage(this.decoded_image_data_);$e()}}class rZ{constructor(){c(this,"data",new Uint8Array(xx));c(this,"position",0)}}const xx=14;class P0 extends dk{constructor(r,n,s,i=void 0){super();c(this,"resource_provider_");c(this,"image_available_callback_");c(this,"image_type_");c(this,"load_complete_callback_");c(this,"decoder_");c(this,"signature_cache_",new rZ);c(this,"state_");c(this,"error_message_");c(this,"use_failure_image_decoder_",!1);this.resource_provider_=r,this.image_available_callback_=n,this.image_type_=i||0,this.load_complete_callback_=s,this.state_=this.resource_provider_?0:4,this.signature_cache_.position=0}DecodeChunk(r){if(r.byteLength.toString(),r.byteLength==0){En(oi,"Decoder received 0 bytes.");return}this.DecodeChunkInternal(r)}Finish(){const{state_:r,signature_cache_:n,load_complete_callback_:s,error_message_:i}=this;let o=this.decoder_;switch(r){case 1:Q(o);let a=o.FinishAndMaybeReturnImage();a?(this.image_available_callback_(a),this.load_complete_callback_(void 0)):this.load_complete_callback_(o.GetTypeString()+" failed to decode image.");break;case 0:n.position==0?s(i):s("No enough image data for header.");break;case 3:s("Unsupported image format.");break;case 4:En(oi,zS(P0,P0.prototype.Finish),"[",this,"] while suspended.");break;case 2:s(i);break}}static AllowDecodingToMultiPlane(){return!1}DecodeChunkInternal(r){switch(this.state_){case 0:{let{consumed_size:n,result:s}=this.InitializeInternalDecoder(r);s?(this.state_=1,Q(this.decoder_),n==xx?this.decoder_.DecodeChunk(r):$e()):$e()}break;case 1:Q(this.decoder_),this.decoder_.DecodeChunk(r);break;case 2:case 3:case 4:Q(!this.decoder_);break}}InitializeInternalDecoder(r){let n=this.signature_cache_.position;if(n!==0)debugger;let s=r.byteLength,i=Math.min(xx-n,s);qJ(this.signature_cache_.data,new Uint8Array(r),n,i),this.signature_cache_.position+=i;let o=i;return this.signature_cache_.position<xx?{result:!1,consumed_size:o}:(this.image_type_==0&&(this.image_type_=nZ(this.signature_cache_.data)),this.decoder_||(this.decoder_=iZ(this.image_type_,this.resource_provider_)),this.decoder_?{result:!0,consumed_size:o}:(this.state_=3,{result:!1,consumed_size:o}))}}function nZ(t){return Gw(t,[255,216,255])?2:!wm(t,"GIF87a")||!wm(t,"GIF89a")?1:Gw(t,[137,80,78,71,13,10,26,10])?!wm(t,"RIFF")&&!wm(t,"WEBPVP",8)?5:0:4}function iZ(t,e){if(t==2)return new tZ(e,P0.AllowDecodingToMultiPlane());gt()}class fk extends dk{constructor(r,n,s){super();c(this,"image_decoder_");this.image_decoder_=new P0(r,n.bind(this),s.bind(this))}static Create(r,n,s){return new fk(r,n,s)}DecodeChunk(r){this.image_decoder_.DecodeChunk(r)}Finish(){this.image_decoder_.Finish()}}class sZ{constructor(e){c(this,"capacity_");c(this,"total_size_",0);c(this,"cache_entries_",new Map);c(this,"memory_size_in_bytes_");c(this,"count_resources_cached_");this.capacity_=e,this.memory_size_in_bytes_=0,this.count_resources_cached_=0}dispose(){this.cache_entries_.clear(),this.memory_size_in_bytes_=0,this.count_resources_cached_=0}GetFetcherCreator(e,r){$e()}NotifyResourceRequested(e){$e()}CreateCachedFetcher(e,r,n){$e()}OnFetchSuccess(e,r,n){}}class ky extends dk{constructor(r,n,s){super();c(this,"resource_provider_");c(this,"typeface_available_callback_");c(this,"load_complete_callback_");c(this,"is_raw_data_too_large_");c(this,"is_suspended_");this.resource_provider_=r,this.typeface_available_callback_=n,this.load_complete_callback_=s,this.is_raw_data_too_large_=!1,this.is_suspended_=!this.resource_provider_,Q(!!this.typeface_available_callback_),Q(!!s)}static Create(r,n,s){return new ky(r,n,s)}DecodeChunk(r){}Finish(){}}class oZ{constructor(e,r,n){c(this,"fetcher_factory_");c(this,"fetcher_cache_");c(this,"resource_provider_");c(this,"active_loaders_",new Set);c(this,"is_suspended_",!1);this.fetcher_factory_=e,this.resource_provider_=r,n>0&&(this.fetcher_cache_=new sZ(n))}CreateImageLoader(e,r,n){let s=this.MakeCachedFetcherCreator(e),i=new YD(s,fk.Create.bind(null,this.resource_provider_,r),n,this.OnLoaderDestroyed.bind(this),this.is_suspended_);return this.OnLoaderCreated(i),i}CreateTypefaceLoader(e,r,n){let s=this.MakeFetcherCreator(e),i=new YD(s,ky.Create.bind(ky,this.resource_provider_,r,n),n,this.OnLoaderDestroyed.bind(this),this.is_suspended_);return this.OnLoaderCreated(i),i}NotifyResourceRequested(e){this.fetcher_cache_&&this.fetcher_cache_.NotifyResourceRequested(e)}UpdateResourceProvider(e){$e()}OnLoaderCreated(e){Q(!this.active_loaders_.has(e)),this.active_loaders_.add(e)}OnLoaderDestroyed(e){$e()}SuspendActiveLoaders(){$e()}ResumeActiveLoaders(e){$e()}MakeFetcherCreator(e){return this.fetcher_factory_.CreateSecureFetcher.bind(this.fetcher_factory_,e)}MakeCachedFetcherCreator(e){let r=this.MakeFetcherCreator(e);return this.fetcher_cache_?this.fetcher_cache_.GetFetcherCreator(e,r):r}}const aZ=""+new URL("354.985f36e7.jpg",import.meta.url).href;class lZ extends XJ{constructor(e,r){super(r),this.Start(),fetch(aZ).then(n=>n.arrayBuffer()).then(n=>{let s=n;this.handler().OnReceivedPassed(this,s),this.handler().OnDone(this)})}Start(){}}class uZ{CreateSecureFetcher(e,r){return mc(_p,"Fetching: ",e.substr(0,200)),new lZ(e,r)}}function cZ(t,e,r){return new G2(t,e,!0,r.CreateTypefaceLoader.bind(r),r.NotifyResourceRequested.bind(r))}const hZ={name:"",clear_window_with_background_color:!0,encoded_image_cache_capacity:0,image_cache_capacity:32*1024*1024,remote_typeface_cache_capacity:4*1024*1024},qD=512;class dZ{constructor(e,r,n,s){c(this,"name_");c(this,"is_running_");c(this,"window_");c(this,"resource_provider_");c(this,"layoutManager");c(this,"render_tree_produced_callback_");c(this,"last_render_tree_produced_time_",null);c(this,"is_render_tree_rasterization_pending_",!1);c(this,"fetcher_factory_");c(this,"loader_factory_");c(this,"image_cache_");c(this,"remote_typeface_cache_");let i={...s,...hZ};this.name_=i.name,this.is_running_=!0,this.resource_provider_=n,this.fetcher_factory_=new uZ,Q(this.fetcher_factory_),jr(0,i.encoded_image_cache_capacity),this.loader_factory_=new oZ(this.fetcher_factory_,this.resource_provider_,i.encoded_image_cache_capacity),jr(0,i.image_cache_capacity),this.image_cache_=$J(`${this.name_}.ImageCache`,i.image_cache_capacity,this.loader_factory_),Q(this.image_cache_),this.remote_typeface_cache_=cZ(`${this.name_}.RemoteTypefaceCache`,i.remote_typeface_cache_capacity,this.loader_factory_),this.window_=new RQ(r,n,this.image_cache_,this.remote_typeface_cache_,BQ(),qD),this.render_tree_produced_callback_=e;let o=!1;this.layoutManager=new WJ(o,this.name_,this.window_,this.OnRenderTreeProduced.bind(this),this.onLayout.bind(this),qD,60,"en-US",i.clear_window_with_background_color)}get document(){return this.window_.document()}SetApplicationStartOrPreloadTimestamp(e,r){Q(this.window_),this.window_.performance().SetApplicationStartOrPreloadTimestamp(e,r)}OnRenderTreeProduced(e){Q(this.is_running_),this.last_render_tree_produced_time_=$i.Now(),this.is_render_tree_rasterization_pending_=!0;let r=new Uw(e.render_tree,e.layout_time,this.OnRenderTreeRasterized.bind(this,this.last_render_tree_produced_time_));this.render_tree_produced_callback_(r)}OnRenderTreeRasterized(e){yu(this.ProcessOnRenderTreeRasterized.bind(this,e,$i.Now()))}ProcessOnRenderTreeRasterized(e,r){(!this.last_render_tree_produced_time_||e.GE(this.last_render_tree_produced_time_))&&(this.is_render_tree_rasterization_pending_=!1)}onLayout(){}}class _k extends Kt{constructor(r){super();c(this,"render_tree");c(this,"on_rasterized_callbacks",[]);c(this,"timeline_info",new kF);this.render_tree=r}}class kF{constructor(e=-1,r=!0,n=4){this.id=e,this.allow_latency_reduction=r,this.max_submission_queue_size=n}}class fZ{constructor(e,r,n=!0,s){c(this,"max_queue_size_");c(this,"dispose_function_");c(this,"renderer_time_origin_");c(this,"submission_queue_",[]);c(this,"allow_latency_reduction_");this.max_queue_size_=e,this.dispose_function_=s,this.allow_latency_reduction_=n}PushSubmission(e,r){this.submission_queue_.length>=this.max_queue_size_&&this.submission_queue_.shift(),this.submission_queue_.unshift(e),this.PurgeStaleSubmissionsFromQueue(r)}GetCurrentSubmission(e){return Q(this.submission_queue_.length>0),this.PurgeStaleSubmissionsFromQueue(e),this.submission_queue_[0]}PurgeStaleSubmissionsFromQueue(e){this.submission_queue_.length>1&&(this.submission_queue_.length=1)}}const _Z=500;class pZ{constructor(e,r,n){c(this,"render_target_");c(this,"rasterize_timer_");c(this,"rasterizer_");c(this,"submission_queue_");c(this,"submit_even_if_render_tree_is_unchanged_");c(this,"last_render_tree_");c(this,"last_did_rasterize_");c(this,"fallback_rasterize_count_");c(this,"new_render_tree_rasterize_count_");c(this,"new_render_tree_rasterize_time_");c(this,"has_active_animations_c_val_");c(this,"animations_start_time_");c(this,"animations_end_time_");c(this,"post_fence_submission_");c(this,"post_fence_receipt_time_");c(this,"current_timeline_info_",new kF);c(this,"last_rasterize_time_");this.render_target_=r,this.submit_even_if_render_tree_is_unchanged_=n,this.last_did_rasterize_=!1,this.new_render_tree_rasterize_count_=0,this.new_render_tree_rasterize_time_=0,this.has_active_animations_c_val_=!1,this.animations_start_time_=0,this.animations_end_time_=0,this.fallback_rasterize_count_=0,this.rasterizer_=e,this.InitializeRasterizerThread()}Submit(e){this.SetNewRenderTree(e)}Clear(){this.ClearCurrentRenderTree()}GetResourceProvider(){var e;return(e=this.rasterizer_)==null?void 0:e.GetResourceProvider()}SetNewRenderTree(e){Q(e.render_tree),this.QueueSubmission(e,$i.Now()),this.RasterizeCurrentTree()}ClearCurrentRenderTree(){this.ResetSubmissionQueue(),this.rasterize_timer_=void 0}RasterizeCurrentTree(){let e=$i.Now(),r=this.submission_queue_.GetCurrentSubmission(e),s=r.render_tree!=this.last_render_tree_,i=this.submit_even_if_render_tree_is_unchanged_;if(i||s){let o=this.RasterizeSubmissionToRenderTarget(r,this.render_target_,i);o&&(this.last_rasterize_time_=e),this.last_did_rasterize_=o}}RasterizeSubmissionToRenderTarget(e,r,n){e.render_tree!=this.last_render_tree_&&(this.last_render_tree_=e.render_tree);let s=e.render_tree;this.rasterizer_.Submit(s,r);for(let i of e.on_rasterized_callbacks)i();return s.dispose(),!0}InitializeRasterizerThread(){this.ResetSubmissionQueue()}OnDumpCurrentRenderTree(e){}FrameStatsOnFlushCallback(){}ResetSubmissionQueue(){this.submission_queue_=new fZ(this.current_timeline_info_.max_submission_queue_size,Ur.FromMilliseconds(_Z),this.current_timeline_info_.allow_latency_reduction,e=>{e.dispose()})}QueueSubmission(e,r){Q(this.submission_queue_),this.submission_queue_.PushSubmission(e,r)}}class jw{}c(jw,"kSubmitFlags_Clear",1<<0);function vd(t){return t>=254.5/255}class gZ{constructor(e){c(this,"render_target");c(this,"opacity",1);c(this,"clip_is_rect",!0);this.render_target=e}}class TF{}c(TF,"Flags",{kInterpolateColorsInPremul_Flag:1<<0});function yx(t,e,r,n){return[t,e,t+r,e+n]}function mZ(t,e,r,n){return[t,e,r,n]}function xZ(t){let e=t;return[e.Get(0,0),e.Get(0,1),e.Get(0,2),e.Get(1,0),e.Get(1,1),e.Get(1,2),e.Get(2,0),e.Get(2,1),e.Get(2,2)]}function yZ(t){return yx(t.x(),t.y(),t.width(),t.height())}class vZ{}class EZ extends z2{constructor(r,n,s,i,o=0){super();c(this,"draw_state_");c(this,"create_scratch_surface_function_");c(this,"visitor_type_");c(this,"reset_skia_context_function_");c(this,"convert_render_tree_to_image_function_");this.draw_state_=new gZ(r),this.visitor_type_=o,this.create_scratch_surface_function_=n,this.reset_skia_context_function_=s,this.convert_render_tree_to_image_function_=i}VisitClearRectNode(r){this.withScaleAndTranslate(()=>{this.DrawClearRect(r.data().rect,r.data().color)})}VisitCompositionNode(r){let n=r.data().children();if(n.length===0)return;const{draw_state_:s}=this,i=r.data().offset().x()*ji,o=r.data().offset().y()*ji;s.render_target.translate(i,o);let a=[0,0,1280,720];s.render_target.getTotalMatrix();for(let l of n)(!a||SZ())&&l.Accept(this);s.render_target.translate(-i,-o)}VisitMatrixTransformNode(r){this.withScaleAndTranslate(()=>{const{draw_state_:n}=this,s=r.data().transform.CLONE();s.MUL(new Xr(ji,ji)),n.render_target.concat(xZ(s)),r.data().source.Accept(this)})}VisitRectNode(r){this.withScaleAndTranslate(()=>{let n=r.data().rect,s=r.data().rect.CLONE(),i=r.data().border;i&&s.Inset(i.left.width,i.top.width,i.right.width,i.bottom.width);let o,a=r.data().rounded_corners;if(a){let u=r.data().border;u?o=a.Inset(u.left.width,u.top.width,u.right.width,u.bottom.width):o=a}let l=r.data().background_brush;l&&(o&&!o.AreSquares()?$e():this.DrawRectWithBrush(l,s)),r.data().border&&(r.data().rounded_corners?$e():AZ(this.draw_state_,n,r.data().border))})}VisitTextNode(r){this.withScaleAndTranslate(()=>{const{draw_state_:n}=this;er(1,n.opacity);let s=0;if(r.data().shadows){let a=r.data().shadows;for(let u=0;u<a.length;++u)if(a[u].blur_sigma>0){s=1e-6;break}let l=a.length;for(let u=l-1;u>=0;--u){gt();let d=a[u];this.RenderText(r.data().glyph_buffer,d.color,uy(r.data().offset.Add(d.offset)),d.blur_sigma==0?s:d.blur_sigma)}}const{background:i}=r.data();if(i){const{colorBrush:a,rect:l}=i;this.DrawRectWithBrush(a,l)}let o=r.data().offset.CLONE();this.RenderText(r.data().glyph_buffer,r.data().color,uy(o),s)})}VisitImageNode(r){if(!r.data().source)return;let n=r.data().source;n.EnsureInitialized()&&nf(this.reset_skia_context_function_)&&this.reset_skia_context_function_();let s=r.data().local_transform.CLONE();if(s.MUL(new Xr(ji,ji)),!n.CanRenderInSkia()&&!VQ(s)&&$e(),n.CanRenderInSkia())if(n.GetTypeId()===lr(cv)){let i=r.data().destination_rect.CLONE();i.Scale(ji),this.RenderSinglePlaneImage(n,this.draw_state_,i,s)}else n.GetTypeId()===lr(Wb)?$e():gt();else $e()}VisitFreehandNode(r){let n=r.data();this.withScaleAndTranslate(()=>{this.RenderPath(n.d,n.fill,n.stroke)})}withScaleAndTranslate(r){this.draw_state_.render_target.scale(ji,ji),r(),this.draw_state_.render_target.scale(1/ji,1/ji)}RenderSinglePlaneImage(r,n,s,i){this.CreateSkPaintForImageRendering(n,r.IsOpaque(),o=>{let a=r.GetSize(),l=r.GetImage();if(CZ(i)&&PZ(i)){let u=a.width()/i.Get(0,0),d=a.height()/i.Get(1,1),f=-u*i.Get(0,2),g=-d*i.Get(1,2);if(l){let x=yx(f,g,u,d);n.render_target.drawImageRect(l,x,yZ(s),o)}}else $e()})}CreateSkPaintForImageRendering(r,n,s){return ic(i=>{vd(r.opacity)?n&&r.clip_is_rect&&i.setBlendMode(Ar.BlendMode.Src):i.setAlphaf(r.opacity*255);try{return s(i)}finally{i.deleteLater()}})}DrawClearRect(r,n){let s=yx(r.x(),r.y(),r.width(),r.height());ic(i=>{i.setBlendMode(Ar.BlendMode.Src),i.setColor(Ar.Color(n.r()*255,n.g()*255,n.b()*255,n.a())),this.draw_state_.render_target.drawRect(s,i)})}DrawRoundedRectWithBrush(r,n,s){}DrawRectWithBrush(r,n){let{draw_state_:s}=this;ic(i=>{let o=new bZ(i,s);r.Accept(o),s.render_target.drawRect(yx(n.x(),n.y(),n.width(),n.height()),i)})}RenderText(r,n,s,i){if(i>20)$e("Cobalt does not yet support text blurs with Gaussian ","sigmas larger than 20.");else{let o=r.GetTextBlob();if(!o)return;ic(a=>{a.setAntiAlias(!0),a.setColor(Ar.Color(n.r()*255,n.g()*255,n.b()*255,n.a())),i>0&&$e(),o&&this.draw_state_.render_target.drawTextBlob(o,s.x(),s.y(),a)})}}RenderPath(r,n,s){ic(i=>(i.setAntiAlias(!0),Y5(r)(o=>{o||gt(),n&&(i.setStyle(Ar.PaintStyle.Fill),i.setColor(Ar.Color(n.r()*255,n.g()*255,n.b()*255,n.a())),this.draw_state_.render_target.drawPath(o,i)),s&&(i.setStyle(Ar.PaintStyle.Stroke),i.setColor(Ar.Color(s.r()*255,s.g()*255,s.b()*255,s.a())),this.draw_state_.render_target.drawPath(o,i))})))}}function AZ(t,e,r){let n=r.top.color.EQ(r.left.color)&&r.top.color.EQ(r.bottom.color)&&r.top.color.EQ(r.right.color);const s=3;if(n&&r.top.style==rl.kBorderStyleSolid&&r.bottom.style==rl.kBorderStyleSolid&&r.left.style==rl.kBorderStyleSolid&&r.right.style==rl.kBorderStyleSolid&&r.top.width==r.bottom.width&&r.top.width==r.left.width&&r.top.width==r.right.width){let u=r.top.width<s||r.bottom.width<s||r.left.width<s||r.right.width<s;wZ(t,e,r.top.width,r.top.color,u);return}let i=[[e.x(),e.y()],[e.x()+r.left.width,e.y()+r.top.width],[e.right()-r.right.width,e.y()+r.top.width],[e.right(),e.y()]];Sm(r.top.style,t,r.top.color,i,r.top.width<s?!0:!n);let o=[[e.x(),e.y()],[e.x(),e.bottom()],[e.x()+r.left.width,e.bottom()-r.bottom.width],[e.x()+r.left.width,e.y()+r.top.width]];Sm(r.left.style,t,r.left.color,o,r.left.width<s?!0:!n);let a=[[e.x()+r.left.width,e.bottom()-r.bottom.width],[e.x(),e.bottom()],[e.right(),e.bottom()],[e.right()-r.right.width,e.bottom()-r.bottom.width]];Sm(r.bottom.style,t,r.bottom.color,a,r.bottom.width<s?!0:!n);let l=[[e.right()-r.right.width,e.y()+r.top.width],[e.right()-r.right.width,e.bottom()-r.bottom.width],[e.right(),e.bottom()],[e.right(),e.y()]];Sm(r.right.style,t,r.right.color,l,r.right.width<s?!0:!n)}function Sm(t,e,r,n,s){t==rl.kBorderStyleSolid?ic(i=>{let o=r.a();o*=e.opacity,i.setColor(Ar.Color(r.r()*255,r.g()*255,r.b()*255,o)),i.setAntiAlias(s),vd(o)?i.setBlendMode(Ar.BlendMode.Src):i.setBlendMode(Ar.BlendMode.SrcOver),q5(a=>{a.addPoly(n.flat(),!0),e.render_target.drawPath(a,i)})}):er(t,rl.kBorderStyleNone)}function wZ(t,e,r,n,s){ic(i=>{let o=n.a()*t.opacity;i.setColor(Ar.Color(n.r()*255,n.g()*255,n.b()*255,o)),i.setAntiAlias(s),vd(o)?i.setBlendMode(Ar.BlendMode.Src):i.setBlendMode(Ar.BlendMode.SrcOver),i.setStyle(Ar.PaintStyle.Stroke),i.setStrokeWidth(r);let a=r*.5,l=mZ(e.x()+a,e.y()+a,e.right()-a,e.bottom()-a);t.render_target.drawRect(l,i)})}function SZ(t,e,r){return!0}class bZ extends W2{constructor(r,n){super();c(this,"paint_");c(this,"draw_state_");this.paint_=r,this.draw_state_=n}visitLinearGradientBrush(r){let n=[[r.source().x(),r.source().y()],[r.dest().x(),r.dest().y()]],s=new kZ(r.color_stops()),i=Ar.Shader.MakeLinearGradient(n[0],n[1],new Float32Array(s.colors[0]),s.positions,Ar.TileMode.Clamp,void 0,TF.Flags.kInterpolateColorsInPremul_Flag);this.paint_.setShader(i),!s.has_alpha&&vd(this.draw_state_.opacity)?this.paint_.setBlendMode(Ar.BlendMode.Src):(vd(this.draw_state_.opacity)||this.paint_.setAlphaf(255*this.draw_state_.opacity),this.paint_.setBlendMode(Ar.BlendMode.SrcOver))}visitRadialGradientBrush(r){$e()}visitSolidColorBrush(r){let n=r.color(),s=n.a()*this.draw_state_.opacity;vd(s)?this.paint_.setBlendMode(Ar.BlendMode.Src):this.paint_.setBlendMode(Ar.BlendMode.SrcOver),this.paint_.setColor(Ar.Color(n.r()*255,n.g()*255,n.b()*255,s))}}class kZ{constructor(e){c(this,"colors",[]);c(this,"positions",[]);c(this,"has_alpha");this.has_alpha=!1,this.colors=new Array(e.length),this.positions=new Array(e.length);for(let r=0;r<e.length;++r)e[r].color.HasAlpha()&&(this.has_alpha=!0),this.colors[r]=TZ(e[r].color),this.positions[r]=e[r].position}}function TZ(t){return[t.r(),t.g(),t.b(),t.a()]}function CZ(t){return t.Get(0,1)==0&&t.Get(1,0)==0}function PZ(t){return t.Get(0,2)<=0&&1-t.Get(0,2)<=t.Get(0,0)&&t.Get(1,2)<=0&&1-t.Get(1,2)<=t.Get(1,1)}class Ty extends jw{constructor(e,r){super(),this.resource_provider_=e,this.transformAccessor_=r,zS(Ty,Ty.prototype.constructor)}GetResourceProvider(){return this.resource_provider_}Submit(e,r,n){let s=this.GetCanvasFromRenderTarget(r);const i=this.transformAccessor_(),{tx:o,ty:a}=i;s.save(),n&&n.flags&jw.kSubmitFlags_Clear&&s.clear([0,0,0,0]),s.translate(o*devicePixelRatio,a*devicePixelRatio),this.RasterizeRenderTreeToCanvas(r,e,s),r.flush(),s.restore()}GetCanvasFromRenderTarget(e){return e.getCanvas()}RasterizeRenderTreeToCanvas(e,r,n){let s=()=>new class extends vZ{GetSurface(){return e}},i=new EZ(n,s,this.ResetSkiaState.bind(this),this.ConvertRenderTreeToImage.bind(this));Q(r),r.Accept(i)}ResetSkiaState(){}ConvertRenderTreeToImage(e){return this.resource_provider_.DrawOffscreenImage(e)}}class DZ{constructor(e){c(this,"pipeline_");const{render_target:r,resource_provider:n,transformAccessor:s}=e,{surface:i}=r;this.pipeline_=new pZ(new Ty(n,s),i,!1)}pipeline(){return this.pipeline_}resource_provider(){if(!!this.pipeline_)return this.pipeline_.GetResourceProvider()}}class RZ{constructor(e){c(this,"render_tree_combiner_");c(this,"render_tree_");c(this,"receipt_time_");this.render_tree_combiner_=e}Reset(){this.render_tree_=void 0,this.receipt_time_=void 0}Submit(e){this.render_tree_=e,this.receipt_time_=$i.Now()}HasRenderTree(){return!!this.render_tree_}GetCurrentSubmission(){const{render_tree_:e}=this;if(!e)return;let r=new _k(e.render_tree);return r.timeline_info=e.timeline_info,r.on_rasterized_callbacks=e.on_rasterized_callbacks.slice(),r}}class OZ{constructor(){c(this,"layers_",new Map);c(this,"timeline_layer_")}CreateLayer(e){if(this.layers_.has(e))return;let r=new RZ(this);return this.layers_.set(e,r),r}GetCurrentSubmission(){let e=new fl,r,n=[];for(let[o,a]of this.layers_)a.render_tree_&&(e.AddChild(a.render_tree_.render_tree),r=a,n.push(...a.render_tree_.on_rasterized_callbacks));if(!r)return;let s=this.timeline_layer_&&this.timeline_layer_.render_tree_?this.timeline_layer_:r,i=new _k(new ih(e));return i.timeline_info=s.render_tree_.timeline_info,i.on_rasterized_callbacks=n,i}SetTimelineLayer(e){e&&Q(this.OwnsLayer(e)),this.timeline_layer_=e}OwnsLayer(e){for(let r of this.layers_.values())if(r===e)return!0;return!1}RemoveLayer(e){}}class BZ{constructor(...e){c(this,"width_height_");c(this,"diagonal_inches_",0);c(this,"device_pixel_ratio_",1);if(!e.length)this.width_height_=new tl(0,0);else if(e.length===1)e[0],this.width_height_=new tl;else if(e.length===2){let r=e[0],n=e[1];this.width_height_=new tl(r,n)}else if(e.length===4){let r=e[0],n=e[1],s=e[2],i=e[3];this.width_height_=new tl(r,n),this.diagonal_inches_=s,this.device_pixel_ratio_=i}else throw new Error("500")}width_height(){return this.width_height_}}const NZ=1;class FZ extends Kt{constructor(r,n,s){super();c(this,"_onMounted",new Mt);c(this,"_resource_provider");c(this,"web_module_");c(this,"renderer_module_");c(this,"current_main_web_module_timeline_id_",0);c(this,"render_tree_combiner_",new OZ);c(this,"main_web_module_layer_");this.container=r,this.view=n,this.vm=s;let i=document.createElement("canvas");this.container.appendChild(i);const{innerWidth:o,innerHeight:a}=window;i.width=o*ji,i.height=a*ji,Object.assign(i.style,{width:vu(o),height:vu(a),position:"absolute"});let l=new YX(i),u=new IY;this._resource_provider=u;let d=this.GetViewportSize();this.web_module_=new dZ(this.QueueOnRenderTreeProduced.bind(this),d,u,{name:"MainWebModule",clear_window_with_background_color:!0}),this.renderer_module_=new DZ({render_target:l,resource_provider:u,transformAccessor:()=>this.view.mx}),this.main_web_module_layer_=this.render_tree_combiner_.CreateLayer(NZ),this.init(),this._register(n.onCameraChagned(()=>{this.SubmitCurrentRenderTreeToRenderer()}))}get onMounted(){return this._onMounted.event}get layoutManager(){return this.web_module_.layoutManager}get document(){return this.web_module_.document}GetViewportSize(){return new BZ(1280,720)}QueueOnRenderTreeProduced(r){this.OnRenderTreeProduced(r),this.ProcessRenderTreeSubmissionQueue()}OnRenderTreeProduced(r){let n=IZ(r);n.timeline_info.id=this.current_main_web_module_timeline_id_,this.render_tree_combiner_.SetTimelineLayer(this.main_web_module_layer_),this.main_web_module_layer_.Submit(n),this.SubmitCurrentRenderTreeToRenderer()}ProcessRenderTreeSubmissionQueue(){}SubmitCurrentRenderTreeToRenderer(){let r=this.render_tree_combiner_.GetCurrentSubmission();r&&this.renderer_module_.pipeline().Submit(r)}async init(){await this._resource_provider.fontReady.wait(),this.SetApplicationStartOrPreloadTimestamp(!1,Date.now()),this.SubmitCurrentRenderTreeToRenderer();let r=this.document,n=r.createElement("html");Object.assign(n.style,{display:"block",position:"relative"}),r.appendChild(n),this._register(Jq(this.vm,r)),r.DispatchOnLoadEvent(),this._onMounted.fire()}SetApplicationStartOrPreloadTimestamp(r,n){Q(this.web_module_),this.web_module_.SetApplicationStartOrPreloadTimestamp(r,n)}}function IZ(t){let e=new _k(t.render_tree);return t.on_rasterized_callback&&e.on_rasterized_callbacks.push(t.on_rasterized_callback),e}const MZ=0,LZ=t=>{const[e,r,n,s]=xX(t);return{angle:0,elementX1:e,elementX2:n,elementY1:r,elementY2:s,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:e+(n-e)/2,cy:r+(s-r)/2}},UZ=(t,e,r,n=MZ*2)=>{const{angle:s,elementX1:i,elementY1:o,elementX2:a,elementY2:l,selectionColors:u,cx:d,cy:f,dashed:g}=r,x=a-i,E=l-o,D=n/e.zoom,A=8/e.zoom,R=4/e.zoom;t.save(),t.lineWidth=1/e.zoom;const P=u.length;for(let O=0;O<P;++O)t.strokeStyle=u[O],g&&t.setLineDash([A,R+(A+R)*(P-1)]),t.lineDashOffset=(A+R)*O,HZ(t,i-D,o-D,x+D*2,E+D*2,d,f,s);t.restore()},GZ=(t,e,r)=>{const n=LZ(r);UZ(t,e,n)},HZ=(t,e,r,n,s,i,o,a,l=!1,u=0)=>{t.save(),t.translate(i,o),t.rotate(a),l&&t.fillRect(e-i,r-o,n,s),u&&t.roundRect?(t.beginPath(),t.roundRect(e-i,r-o,n,s,u),t.stroke(),t.closePath()):t.strokeRect(e-i,r-o,n,s),t.restore()};class jZ extends Kt{constructor(r){super();c(this,"canvas");c(this,"ctx");this.container=r;let n=document.createElement("canvas");this.canvas=n,this.container.appendChild(n);const{innerWidth:s,innerHeight:i}=window;n.width=s*ji,n.height=i*ji,Object.assign(n.style,{width:vu(s),height:vu(i),position:"absolute"}),this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d")}reflow(r){const n=window.devicePixelRatio;this.ctx.setTransform(1,0,0,1,0,0),this.ctx.save(),this.ctx.scale(n,n);const s=this.canvas.width/n,i=this.canvas.height/n;this.ctx.clearRect(0,0,s,i),GZ(this.ctx,r,r.selectedElements)}}class VZ{constructor(e){c(this,"userInputEvents");this.userInputEvents=e}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseEnter(e){this.userInputEvents.emitMouseEnter(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDragStart(e){this.userInputEvents.emitMouseDragStart(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(e){this.userInputEvents.emitMouseDropCanceled(e)}emitDbClick(e){this.userInputEvents.emitDoubleClick(e)}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}var zZ=Object.defineProperty,WZ=Object.getOwnPropertyDescriptor,$Z=(t,e,r,n)=>{for(var s=n>1?void 0:n?WZ(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&zZ(e,r,s),s},QD=(t,e)=>(r,n)=>e(r,n,t);let Vw=class extends Kt{constructor(e,r,n,s,i){super();c(this,"_canvas");c(this,"_overlay");c(this,"_selection");c(this,"mx",yy.Identity);c(this,"_onCameraChagned",new Mt);c(this,"onCameraChagned",this._onCameraChagned.event);c(this,"disposed",!1);this.domNode=e,this.viewModel=r,this._contextKeyService=s,this._keybindingService=i,Reflect.set(window,"view",this),this.domNode.tabIndex=1;let o=new VZ(n);this._canvas=this._register(new FZ(this.domNode,this,r)),this._overlay=this._register(new jZ(this.domNode)),ra.once(this._canvas.onMounted)(()=>{const a=this.document.getSelection();this._selection=this._register(a),this._register(a.onDidChange(()=>this.layoutManager.onSelectionChanged(a))),this._register(new XX(o,this._createPointerHandlerHelper()))})}get zoom(){return this.mx.a}get document(){return this._canvas.document}_createPointerHandlerHelper(){return{viewDomNode:this.domNode,hitTest:(e,r,n)=>this.hitTest(e,r,n),getTransform:()=>this.mx,getHitTestLevel:e=>this._contextKeyService.getContextKeyValue(Fc.hitTestLevel.key)}}get layoutManager(){return this._canvas.layoutManager}hitTest(e,r,n){return this.layoutManager.hitTestDOM(e,r,n)}currentCursor(){return this.domNode.style.cursor||Dn.arrow}setCursor(e){const r=this.domNode;r.style.cursor!==e&&(r.style.cursor=e)}setHitTestLevel(e){this._contextKeyService.setContext(Fc.hitTestLevel.key,e)}translate(e,r){this.mx.tx=e,this.mx.ty=r,this._onCameraChagned.fire()}reflowOverlay(e){this._overlay.reflow(e)}reflow(){this._canvas.layoutManager.DoLayoutAndProduceRenderTree()}internal_disconnect(){$e()}internal_connect(){$e()}focus(){this.domNode.focus()}isFocused(){return document.activeElement===this.domNode}dispose(){super.dispose(),this.disposed=!0}};Vw=$Z([QD(3,Ea),QD(4,Jp)],Vw);class KZ{constructor(){c(this,"onKeyDown",null);c(this,"onKeyUp",null);c(this,"onContextMenu",null);c(this,"onMouseMove",null);c(this,"onMouseEnter",null);c(this,"onMouseLeave",null);c(this,"onMouseDown",null);c(this,"onMouseUp",null);c(this,"onMouseDrag",null);c(this,"onMouseDragStart",null);c(this,"onMouseDrop",null);c(this,"onMouseDropCanceled",null);c(this,"onMouseWheel",null);c(this,"onDoubleClick",null)}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(e)}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(e)}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(e)}emitMouseEnter(e){this.onMouseEnter&&this.onMouseEnter(e)}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(e)}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(e)}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(e)}emitMouseDragStart(e){this.onMouseDragStart&&this.onMouseDragStart(e)}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(e)}emitMouseDropCanceled(e){this.onMouseDropCanceled&&this.onMouseDropCanceled(e)}emitDoubleClick(e){this.onDoubleClick&&this.onDoubleClick(e)}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}}const dT=class extends Kt{constructor(r,n,s,i){super();c(this,"id",dT.ID++);c(this,"_onReconnected",this._register(new Mt));c(this,"onReconnected",this._onReconnected.event);c(this,"treeNodeViewModelMap",new Map);c(this,"treeNodeObservers",new Map);c(this,"treeNodesObservers",new Map);c(this,"treeRoots",new Map);c(this,"deletedNodeModels",new Set);c(this,"_root");c(this,"topResource");this.model=r,this.modelService=s,this.canvas=i,this._root=du(Object.create(null)),this.topResource=r.uri.toString(),this.internal_connect(this.topResource,!1),Reflect.set(window,"vm",this)}internal_disconnect(r){const n=this.treeNodeObservers.get(r);Q(n);const s=this.treeNodeViewModelMap.get(r);Q(s);const i=this.treeNodesObservers.get(r);Q(i),i.dispose();for(const[o,a]of n.entries())a.dispose();n.clear(),s.clear(),this.treeNodeObservers.delete(r),this.treeNodeViewModelMap.delete(r),this.treeNodesObservers.delete(r)}internal_connect(r,n=!1){this.treeNodeViewModelMap.set(r,new Map),this.treeNodeObservers.set(r,new Map),this.processNodes(r),r===this.topResource&&(this.updateRootOfDefaultTree(),n&&this._onReconnected.fire()),JN()}dispose(){super.dispose(),this.internal_disconnect(this.topResource)}getViewModelNodeOfResourceById(r,n){return this.treeNodeViewModelMap.get(n).get(r)}getViewModelNodeById(r){const n=this.canvas.getScopedModel(r.scope);return this.treeNodeViewModelMap.get(n.uri.toString()).get(r.id)}get root(){return this._root.value||this.updateRootOfDefaultTree(),this._root}updateRootOfDefaultTree(){const r=this.getViewModelNodeOfResourceById(cd,this.topResource);Q(r),this._root.value=r}getModel(r){if(r===this.topResource)return this.model;gt()}processNodes(r){const n=this.treeNodeViewModelMap.get(r),s=this.getModel(r).yModel,i=o0(s);Q(i);const o=i.values();let a;for(const l of o){const u=Vx(l),d=Uc(l),f=Vi(l);Q(ki(f));const g=du({id:f,children:[],style:u?u.toJSON():Object.create(null),type:d,attrs:Object.create(null)});d===ar.Text&&(g.content=jx(l)),ud(l)||(a=g),n.set(f,g),this.watchNode(l,r)}a||gt(),this.treeRoots.set(r,a);for(const l of n.values())(ax(l)||kD(l))&&(l.children=this.getChildren(l.id,r));this.watchNodes(i,r)}watchNode(r,n){const s=this.treeNodeViewModelMap.get(n),i=o=>{o.forEach(a=>{const{target:l}=a;a.changes.keys.forEach((u,d)=>{const{action:f,oldValue:g}=u;switch(f){case"update":{if(d==="from")this.updateChildren(g,n),this.updateChildren(l.get(d),n);else if(d==="order")this.updateChildren(ud(l),n);else{const x=Vi(r),E=s.get(x);Q(E),BO(l)?(d==="id"&&gt(),Reflect.set(E,d,l.get(d))):M4(l)&&(Q(E.style),E.style[d]=l.get(d))}break}case"add":{const x=Vi(l);if(x){const E=s.get(x);Q(E),Reflect.set(E,d,l.get(d))}else{const E=l.parent,D=Vi(E);Q(D);const A=s.get(D);Q(A),Reflect.set(A.style,d,l.get(d))}break}case"delete":{if(Vi(r))debugger;const E=l.parent,D=Vi(E),A=s.get(D);Q(A),Reflect.deleteProperty(A.style,d);break}default:gt()}})})};r.observeDeep(i),this.treeNodeObservers.get(n).set(Vi(r),zn(()=>{r.unobserveDeep(i)}))}onNodeAdded(r){const n=this.treeNodeViewModelMap.get(r),s=this.getModel(r).yModel,i=o0(s);Q(i);const o=i.values(),a=new Set;for(const l of o){const u=Vi(l);if(n.get(u))continue;const f=Vx(l),g=Uc(l),x=ud(l);a.add(x),a.add(u),Q(ki(u));const E=du({id:u,children:[],style:f?f.toJSON():Object.create(null),type:g,attrs:Object.create(null)});g===ar.Text&&(E.content=jx(l)),n.set(u,E),this.watchNode(l,r)}for(const l of n.values())ax(l)&&a.has(l.id)&&(l.children=this.getChildren(l.id,r))}onNodeRemoved(r,n){const s=this.treeNodeViewModelMap.get(n),i=this.treeNodeObservers.get(n),o=r._map.get("id").content.getContent()[0];if(!s.has(o)){$e();return}s.delete(o),this.deletedNodeModels.add(o);const a=r._map.get("from").content.getContent()[0];this.updateChildren(a,n);const l=i.get(o);Q(l),l.dispose(),i.delete(o)}watchNodes(r,n){const s=i=>{i.changes.keys.forEach((o,a)=>{const{action:l,oldValue:u}=o;switch(l){case"delete":{this.onNodeRemoved(u,n);break}case"update":break;case"add":this.onNodeAdded(n);break;default:gt()}})};r.observe(s),this.treeNodesObservers.set(n,zn(()=>{r.unobserve(s)}))}getChildren(r,n){const s=this.treeNodeViewModelMap.get(n),o=this.getModel(n).getChildrenNodesOfId(r).map(a=>{const l=s.get(a.id);return Q(l),l});return aS(o.filter(Boolean))}updateChildren(r,n){if(this.deletedNodeModels.has(r))return;const s=this.getViewModelNodeOfResourceById(r,n);Q(s),!ax(s)&&!kD(s)&&gt(),s.children=this.getChildren(r,n)}};let vx=dT;c(vx,"ID",1);var XZ=Object.defineProperty,YZ=Object.getOwnPropertyDescriptor,qZ=(t,e,r,n)=>{for(var s=n>1?void 0:n?YZ(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&XZ(e,r,s),s},$E=(t,e)=>(r,n)=>e(r,n,t);let zw=class{constructor(t,e,r,n){c(this,"undoRedoSource");this.model=t,this.instantiationService=e,this.canvasesService=r,this.modelService=n,this.undoRedoSource=new Za}canUndo(){return this.model.canUndo()}canRedo(){return this.model.canRedo()}undo(){return this.model.undo()}redo(){return this.model.redo()}transform(t){return this.modelService.transform(this.undoRedoSource,t.bind(null,this.model),[],()=>[])}getVM(){const t=this.canvasesService.listCanvases().find(e=>e.model.uri.toString()===this.model.uri.toString());return t==null?void 0:t.viewModel}};zw=qZ([$E(1,Po),$E(2,oh),$E(3,df)],zw);var QZ=Object.defineProperty,JZ=Object.getOwnPropertyDescriptor,ZZ=(t,e,r,n)=>{for(var s=n>1?void 0:n?JZ(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&QZ(e,r,s),s},zh=(t,e)=>(r,n)=>e(r,n,t);class eee extends Kt{constructor(r){super();c(this,"_pendingReLayout",!0);c(this,"_waiting");this._register(r.onDidChangeContent(()=>{this._pendingReLayout=!0}))}setView(r){this._register(r.layoutManager.onDidLayout(()=>{var n;this._pendingReLayout=!1,(n=this._waiting)==null||n.complete()}))}async maybeWaitForReLayout(){!this._pendingReLayout||(this._waiting||(this._waiting=new fd),await this._waiting)}}class tee{constructor(e,r,n,s,i){c(this,"model");c(this,"viewModel");c(this,"view");c(this,"mvvm");c(this,"listenersToRemove");this.model=e,this.viewModel=r,this.view=n,this.mvvm=s,this.listenersToRemove=i}dispose(){zy(this.listenersToRemove),this.view.dispose(),this.viewModel.dispose(),this.mvvm.dispose()}}var rA;let Cy=(rA=class extends Kt{constructor(e,r,n,s,i,o,a){super();c(this,"_contextKeyService");c(this,"_instantiationService");c(this,"_modelData");c(this,"_historyHelper");c(this,"_onDidChangeModel",this._register(new Mt));c(this,"onDidChangeModel",this._onDidChangeModel.event);c(this,"_onDidChangeModelContent",this._register(new Mt));c(this,"onDidChangeModelContent",this._onDidChangeModelContent.event);c(this,"eventFilter");c(this,"id",(Cy.counter++).toString());c(this,"selectedElements",[]);this._domElement=e,this.modelService=o,this.contextKeyService=a,this._contextKeyService=this._register(a.createScoped(this._domElement));const l=new uv;l.set(Ea,this._contextKeyService),this._register(this._instantiationService=r.createChild(l)),this._register(new ree(this,a,i)),s.addTrackedCanvas(this),n.addCanvas(this),Reflect.set(window,"canvas",this)}_attachModel(e){if(!e){this._modelData=void 0;return}const r=[];r.push(e.onDidChangeContent(o=>this._onDidChangeModelContent.fire(o)));const n=new vx(e,this._instantiationService,this.modelService,this);r.push(e.onWillDispose(()=>this.setModel(void 0)));const s=new eee(e),i=this._createView(n);s.setView(i),i.domNode.setAttribute("data-uri",e.uri.toString()),this._modelData=new tee(e,n,i,s,r),this._historyHelper=this._instantiationService.createInstance(zw,e)}_createView(e){const r=new KZ,n=this.passToEventFilter.bind(this);let s;return r.onContextMenu=n,r.onMouseMove=i=>{this.passToEventFilter(i)},r.onMouseLeave=n,r.onMouseEnter=n,r.onMouseDown=n,r.onMouseUp=n,r.onMouseDrag=n,r.onMouseDragStart=n,r.onMouseDrop=n,r.onMouseDropCanceled=n,r.onDoubleClick=n,r.onMouseWheel=n,r.onKeyDown=n,r.onKeyUp=n,r.onMouseDragStart=n,r.onMouseDrag=n,r.onMouseDropCanceled=n,r.onMouseDrop=n,s=this._instantiationService.createInstance(Vw,this._domElement,e,r),s}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}installEventFilter(e){this.eventFilter=e}passToEventFilter(e){return this.eventFilter?(this.eventFilter.eventFilter(e),e.isAccepted()):!1}get model(){var e;return(e=this._modelData)==null?void 0:e.model}get viewModel(){var e;return(e=this._modelData)==null?void 0:e.viewModel}get view(){var e;return(e=this._modelData)==null?void 0:e.view}get mvvm(){var e;return(e=this._modelData)==null?void 0:e.mvvm}_detachModel(){var n;if(!this._modelData)return null;const e=this._modelData.model,r=this._modelData.view?this._modelData.view.domNode:null;return this.viewModel.internal_disconnect(e.uri.toString()),this.view.internal_disconnect(),(n=this._modelData)==null||n.dispose(),this._modelData=void 0,r&&this._domElement.contains(r)&&this._domElement.removeChild(r),e}canUndo(){var e;return Boolean((e=this._historyHelper)==null?void 0:e.canUndo())}canRedo(){var e;return Boolean((e=this._historyHelper)==null?void 0:e.canRedo())}undo(){return this._historyHelper||gt(),this._historyHelper.undo()}redo(){return this._historyHelper||gt(),this._historyHelper.redo()}transform(e){this._historyHelper||gt();try{return this._historyHelper.transform(e)}finally{JN(),this.view.layoutManager.DoLayoutAndProduceRenderTree()}}getScopedModel(e){if(e.EQ(J5))return this.model;debugger;$e()}focus(){this.view.focus()}isFocused(){return this.view.isFocused()}setModel(e){if(rn(this._modelData)&&rn(e)||this._modelData&&this._modelData.model===e)return;const r=this._detachModel();this._attachModel(e);const n={oldModelUrl:r?r.uri:null,newModelUrl:e?e.uri:null};this._onDidChangeModel.fire(n)}updateModel(e){this.viewModel.internal_disconnect(this.model.uri.toString()),this.view.internal_disconnect(),this.model.replaceModel(e),this.viewModel.internal_connect(this.model.uri.toString(),!0),this.view.internal_connect()}getElementAtPosition(e,r){const n=this.getElementsAtPosition(e,r);return n.length>1&&$e(),n.length===1?n[0]:null}getElementsAtPosition(e,r){const s=this.model.getChildrenNodesOfId(cd).map(i=>this.view.document.getElementById(i.id));return BX(s,i=>AX(i,this,e,r))}setSelectedElements(e){let r=this.selectedElements;this.selectedElements=e,NI(r,this.selectedElements)||this.view.reflowOverlay(this)}reflow(){this.view.reflow(),this.view.reflowOverlay(this)}get zoom(){return this.view.zoom}},c(rA,"counter",0),rA);Cy=ZZ([zh(1,Po),zh(2,oh),zh(3,XR),zh(4,ku),zh(5,df),zh(6,Ea)],Cy);class ree extends Kt{constructor(e,r,n){super(),Fc.hitTestLevel.bindTo(r);const s=Fc.isEditingText.bindTo(r);n.onDidChangeTool(i=>{const{next:o}=i;s.set((o==null?void 0:o.id)===wc)})}}const pk=Kn("ICanvasViewsService"),CF=Kn("workbenchLayoutService");var PF=(t=>(t.EDITOR_PART="workbench.parts.editor",t.TOOLBAT_PART="workbench.parts.toolbat",t))(PF||{});cd+"",ar.Root,ar.Block,ar.Block,ar.Text,ar.Block,ar.Text;const nee={nodes:{root:{id:"root",type:"root"},div1:{id:"div1",type:"block",style:{width:"300px",height:"auto",top:"100px",left:"50px",position:"relative",backgroundColor:"white",padding:"10px",borderColor:"#add6ff",borderStyle:"solid",borderWidth:"1px"},from:"root",order:"0.5"},p1:{id:"p1",type:"block",style:{width:"auto",height:"auto",position:"relative",display:"block",lineHeight:"40px",overflowWrap:"break-word",whiteSpace:"pre-wrap"},from:"div1",order:"0.1"},title1:{id:"title1",type:"text",style:{display:"inline",position:"relative",fontFamily:'"source han sans"',fontSize:"28px",color:"black"},content:"Tit",from:"p1",order:"0.5"},p2:{id:"p2",type:"block",style:{width:"auto",height:"auto",position:"relative",display:"block",lineHeight:"20px",overflowWrap:"break-word",whiteSpace:"pre-wrap"},from:"div1",order:"0.2"},text1:{id:"text1",type:"text",style:{display:"inline",position:"relative",fontFamily:'"source han sans"',fontSize:"14px",color:"black"},content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco",from:"p2",order:"0.1"},"e6264d97-d6c8-46e0-a70d-ca2d7f7a2ab4":{id:"e6264d97-d6c8-46e0-a70d-ca2d7f7a2ab4",style:{display:"inline",position:"relative",fontFamily:'"source han sans"',fontSize:"28px",color:"black"},type:"text",content:"l",from:"p1",order:"0.75"},"95c3c975-ae16-4adf-b769-1da9ac0364a6":{id:"95c3c975-ae16-4adf-b769-1da9ac0364a6",style:{display:"inline",position:"relative",fontFamily:'"source han sans"',fontSize:"28px",color:"black"},type:"text",content:"e",from:"p1",order:"0.875"}}};class iee{constructor(e){c(this,"parent");this.id=e}}var see=Object.defineProperty,oee=Object.getOwnPropertyDescriptor,aee=(t,e,r,n)=>{for(var s=n>1?void 0:n?oee(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&see(e,r,s),s},KE=(t,e)=>(r,n)=>e(r,n,t);let Ww=class extends iee{constructor(e,r,n){super(PF.EDITOR_PART);c(this,"container");c(this,"_isReady",!1);c(this,"whenReadyPromise",new fd);c(this,"whenReady",this.whenReadyPromise.p);c(this,"whenRestoredPromise",new fd);c(this,"whenRestored",this.whenRestoredPromise.p);c(this,"loadingPromise",new fd);this.instantiationService=e,this.modelService=n,this.init()}get isReady(){return this._isReady}async init(){const e=(async()=>{(await V5()).init_icu()})(),r=(async()=>{await X5()})();await Promise.all([r,e]),this.loadingPromise.complete()}create(e){this.parent=e;let r=document.createElement("div");return Object.assign(r.style,{outline:"none",position:"relative"}),this.container=r,e.appendChild(r),this.whenReadyPromise.complete(),this._isReady=!0,r}async restore(){await this.loadingPromise.p,this.container||$e();const e=this.instantiationService.createInstance(Cy,this.container),r=this.modelService.createModel(nee);e.setModel(r),e.focus(),this.whenRestoredPromise.complete()}};Ww=aee([KE(0,Po),KE(1,CF),KE(2,df)],Ww);Aa(pk,Ww);t1.registerCommandAndKeybindingRule({id:nM,primary:Pe.Escape,when:oA.currentToolState.notEqualsTo(Ys.noop),weight:OS.EditorCore,handler(t,e){t.get(ku).switchDefault()}});class lee extends K0{constructor(){super(...arguments);c(this,"startX");c(this,"startY");c(this,"fromTX");c(this,"fromTY")}get id(){return Ed}activate(){super.activate(),this.useCursor(Dn.grab)}activatePrimaryAction(){this.useCursor(Dn.grabbing),this.startX=void 0,this.startY=void 0,this.fromTX=void 0,this.fromTY=void 0}deactivatePrimaryAction(){}deactivate(){super.deactivate()}beginPrimaryAction(r){const n=r.asMouseInputEvent();if(n&&n.type===qt.MOUSE_DOWN){this.canvas.view.setCursor(Dn.grabbing),this.startX=n.pageX,this.startY=n.pageY;const s=this.canvas.view.mx;this.fromTX=s.tx,this.fromTY=s.ty}}continuePrimaryAction(r){const n=r.asMouseInputEvent();if(n&&n.type===qt.MOUSE_MOVE){const s=Math.round(n.pageX-this.startX),i=Math.round(n.pageY-this.startY);this.canvas.view.translate(this.fromTX+s,this.fromTY+i)}}endPrimaryAction(r){this.canvas.view.setCursor(Dn.grab)}processEvent(r){if(r.type===qt.WHEEL){const n=r.asWheelInputEvent();Q(n);const{deltaX:s,deltaY:i}=n,o=this.canvas.view.mx;this.fromTX=o.tx,this.fromTY=o.ty,this.canvas.view.translate(this.fromTX+s/2,this.fromTY+i/2)}}}const Ed="tool.pan";class uee{constructor(){c(this,"id",Ed);c(this,"shortcut",new U0(sf.Primary))}createTool(e){return new lee(e,Dn.grab)}}function JD(t,e,r,n=s=>s){return t*n(.5-e*(.5-r))}function cee(t){return[-t[0],-t[1]]}function mo(t,e){return[t[0]+e[0],t[1]+e[1]]}function Qs(t,e){return[t[0]-e[0],t[1]-e[1]]}function go(t,e){return[t[0]*e,t[1]*e]}function hee(t,e){return[t[0]/e,t[1]/e]}function q_(t){return[t[1],-t[0]]}function ZD(t,e){return t[0]*e[0]+t[1]*e[1]}function dee(t,e){return t[0]===e[0]&&t[1]===e[1]}function fee(t){return Math.hypot(t[0],t[1])}function _ee(t){return t[0]*t[0]+t[1]*t[1]}function eR(t,e){return _ee(Qs(t,e))}function DF(t){return hee(t,fee(t))}function pee(t,e){return Math.hypot(t[1]-e[1],t[0]-e[0])}function Q_(t,e,r){let n=Math.sin(r),s=Math.cos(r),i=t[0]-e[0],o=t[1]-e[1],a=i*s-o*n,l=i*n+o*s;return[a+e[0],l+e[1]]}function $w(t,e,r){return mo(t,go(Qs(e,t),r))}function tR(t,e,r){return mo(t,go(e,r))}var{min:Wh,PI:gee}=Math,rR=.275,J_=gee+1e-4;function mee(t,e={}){let{size:r=16,smoothing:n=.5,thinning:s=.5,simulatePressure:i=!0,easing:o=ze=>ze,start:a={},end:l={},last:u=!1}=e,{cap:d=!0,easing:f=ze=>ze*(2-ze)}=a,{cap:g=!0,easing:x=ze=>--ze*ze*ze+1}=l;if(t.length===0||r<=0)return[];let E=t[t.length-1].runningLength,D=a.taper===!1?0:a.taper===!0?Math.max(r,E):a.taper,A=l.taper===!1?0:l.taper===!0?Math.max(r,E):l.taper,R=Math.pow(r*n,2),P=[],O=[],F=t.slice(0,10).reduce((ze,Le)=>{let it=Le.pressure;if(i){let _t=Wh(1,Le.distance/r),st=Wh(1,1-_t);it=Wh(1,ze+(st-ze)*(_t*rR))}return(ze+it)/2},t[0].pressure),U=JD(r,s,t[t.length-1].pressure,o),B,N=t[0].vector,T=t[0].point,M=T,$=T,J=M,Z=!1;for(let ze=0;ze<t.length;ze++){let{pressure:Le}=t[ze],{point:it,vector:_t,distance:st,runningLength:Rt}=t[ze];if(ze<t.length-1&&E-Rt<3)continue;if(s){if(i){let Ve=Wh(1,st/r),ee=Wh(1,1-Ve);Le=Wh(1,F+(ee-F)*(Ve*rR))}U=JD(r,s,Le,o)}else U=r/2;B===void 0&&(B=U);let te=Rt<D?f(Rt/D):1,oe=E-Rt<A?x((E-Rt)/A):1;U=Math.max(.01,U*Math.min(te,oe));let ae=(ze<t.length-1?t[ze+1]:t[ze]).vector,we=ze<t.length-1?ZD(_t,ae):1,Se=ZD(_t,N)<0&&!Z,_e=we!==null&&we<0;if(Se||_e){let Ve=go(q_(N),U);for(let ee=1/13,He=0;He<=1;He+=ee)$=Q_(Qs(it,Ve),it,J_*He),P.push($),J=Q_(mo(it,Ve),it,J_*-He),O.push(J);T=$,M=J,_e&&(Z=!0);continue}if(Z=!1,ze===t.length-1){let Ve=go(q_(_t),U);P.push(Qs(it,Ve)),O.push(mo(it,Ve));continue}let De=go(q_($w(ae,_t,we)),U);$=Qs(it,De),(ze<=1||eR(T,$)>R)&&(P.push($),T=$),J=mo(it,De),(ze<=1||eR(M,J)>R)&&(O.push(J),M=J),F=Le,N=_t}let re=t[0].point.slice(0,2),ge=t.length>1?t[t.length-1].point.slice(0,2):mo(t[0].point,[1,1]),Fe=[],Ze=[];if(t.length===1){if(!(D||A)||u){let ze=tR(re,DF(q_(Qs(re,ge))),-(B||U)),Le=[];for(let it=1/13,_t=it;_t<=1;_t+=it)Le.push(Q_(ze,re,J_*2*_t));return Le}}else{if(!(D||A&&t.length===1))if(d)for(let Le=1/13,it=Le;it<=1;it+=Le){let _t=Q_(O[0],re,J_*it);Fe.push(_t)}else{let Le=Qs(P[0],O[0]),it=go(Le,.5),_t=go(Le,.51);Fe.push(Qs(re,it),Qs(re,_t),mo(re,_t),mo(re,it))}let ze=q_(cee(t[t.length-1].vector));if(A||D&&t.length===1)Ze.push(ge);else if(g){let Le=tR(ge,ze,U);for(let it=1/29,_t=it;_t<1;_t+=it)Ze.push(Q_(Le,ge,J_*3*_t))}else Ze.push(mo(ge,go(ze,U)),mo(ge,go(ze,U*.99)),Qs(ge,go(ze,U*.99)),Qs(ge,go(ze,U)))}return P.concat(Ze,O.reverse(),Fe)}function xee(t,e={}){var r;let{streamline:n=.5,size:s=16,last:i=!1}=e;if(t.length===0)return[];let o=.15+(1-n)*.85,a=Array.isArray(t[0])?t:t.map(({x,y:E,pressure:D=.5})=>[x,E,D]);if(a.length===2){let x=a[1];a=a.slice(0,-1);for(let E=1;E<5;E++)a.push($w(a[0],x,E/4))}a.length===1&&(a=[...a,[...mo(a[0],[1,1]),...a[0].slice(2)]]);let l=[{point:[a[0][0],a[0][1]],pressure:a[0][2]>=0?a[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,d=0,f=l[0],g=a.length-1;for(let x=1;x<a.length;x++){let E=i&&x===g?a[x].slice(0,2):$w(f.point,a[x],o);if(dee(f.point,E))continue;let D=pee(E,f.point);if(d+=D,x<g&&!u){if(d<s)continue;u=!0}f={point:E,pressure:a[x][2]>=0?a[x][2]:.5,vector:DF(Qs(f.point,E)),distance:D,runningLength:d},l.push(f)}return l[0].vector=((r=l[1])==null?void 0:r.vector)||[0,0],l}function yee(t,e={}){return mee(xee(t,e),e)}function vee(t){if(!t.length)return"";const e=t.reduce((r,[n,s],i,o)=>{const[a,l]=o[(i+1)%o.length];return r.push(Math.round(n),Math.round(s),Math.round((n+a)/2),Math.round((s+l)/2)),r},["M",...t[0],"Q"]);return e.push("Z"),e.join(" ")}const Eee={size:5,thinning:.5,smoothing:1,streamline:.5,easing:t=>t,start:{taper:0,easing:t=>t,cap:!0},end:{taper:100,easing:t=>t,cap:!0}};class Aee extends K0{constructor(){super(...arguments);c(this,"_history",[]);c(this,"_node")}get id(){return Ad}handleMouseMove(r){}beginPrimaryAction(r){this._history.length=0;let n=this.canvas.view.document,s=n.createElement(Np.kTagName);Object.assign(s.style,{position:"absolute",top:"0px",left:"0px",display:"block",width:"1px",height:"1px"}),s.setAttribute("fill","#000"),n.body.appendChild(s),this._node=s;const i=this.convertToPixelCoord(r.asMouseInputEvent());this._history.push([i.x,i.y,1])}continuePrimaryAction(r){const n=this.convertToPixelCoord(r.asMouseInputEvent());this._history.push([n.x,n.y,1]);const s=yee(this._history,Eee),i=vee(s);Q(this._node),this._node.setAttribute("d",i)}endPrimaryAction(r){const n=this.convertToPixelCoord(r.asMouseInputEvent());this._history.push([n.x,n.y,1])}}const Ad="tool.brush";class wee{constructor(){c(this,"id",Ad);c(this,"shortcut",new U0(sf.Primary))}createTool(e){return new Aee(e,Dn.arrow)}}class See extends K0{get id(){return vv}beginPrimaryAction(e){e.asMouseInputEvent(),console.log("stat draw line",performance.now())}continuePrimaryAction(e){console.log("continue draw line",performance.now())}endPrimaryAction(e){console.log("end draw line",performance.now())}}const vv="tool.line";class bee{constructor(){c(this,"id",vv);c(this,"shortcut",new U0(sf.Primary))}createTool(e){return new See(e,Dn.arrow)}}class kee extends K0{get id(){return Ev}beginPrimaryAction(e){e.asMouseInputEvent(),console.log("stat draw line",performance.now())}continuePrimaryAction(e){console.log("continue draw line",performance.now())}endPrimaryAction(e){console.log("end draw line",performance.now())}}const Ev="tool.eraser";class Tee{constructor(){c(this,"id",Ev);c(this,"shortcut",new U0(sf.Primary))}createTool(e){return new kee(e,Dn.arrow)}}class Cee extends K0{get id(){return Av}beginPrimaryAction(e){e.asMouseInputEvent(),console.log("stat draw line",performance.now())}continuePrimaryAction(e){console.log("continue draw line",performance.now())}endPrimaryAction(e){console.log("end draw line",performance.now())}}const Av="tool.rect";class Pee{constructor(){c(this,"id",Av);c(this,"shortcut",new U0(sf.Primary))}createTool(e){return new Cee(e,Dn.arrow)}}class Dee extends jS{constructor(){super(...arguments);c(this,"selected",[]);c(this,"from",new Map);c(this,"startX");c(this,"startY");c(this,"dragging",!1)}get id(){return wd}activate(){super.activate(),this.resetCursorStyle()}deactivate(){super.deactivate()}processEvent(r){const{type:n}=r;n===qt.MOUSE_MOVE&&!this.dragging&&(this.handleMouseMove(r.asMouseInputEvent()),r.accept()),n===qt.MOUSE_DOWN&&(this.handlePointerDown(r.asMouseInputEvent()),r.accept()),n===qt.DRAG_START&&(this.handleDragStart(r.asMouseInputEvent()),r.accept()),n===qt.DRAG&&(this.handleDrag(r.asMouseInputEvent()),r.accept()),n===qt.DROP&&(this.handleDrop(),r.accept()),n===qt.DRAG_END&&(this.handleDragEnd(),r.accept())}handleMouseMove(r){this.canvas.getElementAtPosition(r.clientX,r.clientY)?this.canvas.view.setCursor(Dn.move):this.canvas.view.setCursor(Dn.arrow)}handlePointerDown(r){const n=this.canvas.selectedElements,s=this.canvas.getElementAtPosition(r.clientX,r.clientY);s&&n.length===1&&s===n[0]||(s?(this.selected.push(r6(s)),this.canvas.setSelectedElements([s])):(this.selected.length=0,this.canvas.setSelectedElements([])))}handleDragStart(r){this.dragging=!0,this.startX=r.clientX,this.startY=r.clientY,this.from.clear(),this.canvas.setSelectedElements([]),this.selected.forEach(n=>{const i=this.canvas.getScopedModel(n.scope).getNodeById(n.id);Q(i),Q(IO(i)),this.from.set(n,{node:i,x:parseInt(i.style.marginLeft||""),y:parseInt(i.style.marginTop||"")})})}handleDrag(r){const{clientX:n,clientY:s}=r;Q(this.startX),Q(this.startY);const i=n-this.startX,o=s-this.startY;this.canvas.transform(()=>{for(let a of this.from.values()){const{node:l,x:u,y:d}=a;l.style.marginLeft=vu(u+i),l.style.marginTop=vu(d+o)}})}handleDrop(){this.startX=void 0,this.startY=void 0,this.dragging=!1,this.canvas.setSelectedElements(Array.from(this.from.keys()).map(r=>this.canvas.view.document.getElementById(r.id))),this.from.clear()}handleDragEnd(){this.startX=void 0,this.startY=void 0,this.dragging=!1,this.from.clear()}}const wd="tool.pointer";class Ree{constructor(){c(this,"id",wd);c(this,"shortcut",new rM)}createTool(e){return new Dee(e,Dn.arrow)}}const kh=Bc.as(Ox);kh.registerWithShortcut(new Ree,!0);kh.registerWithShortcut(new uee);kh.registerWithShortcut(new bee);kh.registerWithShortcut(new wee);kh.registerWithShortcut(new nX);kh.registerWithShortcut(new Tee);kh.registerWithShortcut(new Pee);function Th(t,e){t1.registerCommandAndKeybindingRule({id:t,...e,weight:OS.WorkbenchContrib,handler(r){r.get(ku).switchTool(t)}})}Th(wd,{primary:Pe.KEY_H});Th(Ed,{primary:Pe.KEY_P});Th(vv,{primary:Pe.KEY_L});Th(Ad,{primary:Pe.KEY_B});Th(wc,{primary:Pe.KEY_T});Th(Ev,{primary:Pe.KEY_E});Th(Av,{primary:Pe.KEY_R});class Oee{constructor(e){c(this,"data");c(this,"incoming",new Map);c(this,"outgoing",new Map);this.data=e}}class Bee{constructor(e){c(this,"_nodes",new Map);this._hashFn=e}roots(){const e=[];for(const r of this._nodes.values())r.outgoing.size===0&&e.push(r);return e}insertEdge(e,r){const n=this.lookupOrInsertNode(e),s=this.lookupOrInsertNode(r);n.outgoing.set(this._hashFn(r),s),s.incoming.set(this._hashFn(e),n)}removeNode(e){const r=this._hashFn(e);this._nodes.delete(r);for(const n of this._nodes.values())n.outgoing.delete(r),n.incoming.delete(r)}lookupOrInsertNode(e){const r=this._hashFn(e);let n=this._nodes.get(r);return n||(n=new Oee(e),this._nodes.set(r,n)),n}lookup(e){return this._nodes.get(this._hashFn(e))}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[r,n]of this._nodes)e.push(`${r}, (incoming)[${[...n.incoming.keys()].join(", ")}], (outgoing)[${[...n.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(const[e,r]of this._nodes){const n=new Set([e]),s=this._findCycle(r,n);if(s)return s}}_findCycle(e,r){for(const[n,s]of e.outgoing){if(r.has(n))return[...r,n].join(" -> ");r.add(n);const i=this._findCycle(s,r);if(i)return i;r.delete(n)}}insertVertex(e){this.lookupOrInsertNode(e)}topologicalSort(){const e=[],r=new Set,{_hashFn:n}=this;function s(i,o){if(r.has(i))return;const a=n(i.data),l=Array.isArray(o)?o:[];l.push(i),r.add(i),i.outgoing.forEach(u=>{if(l.indexOf(u)!==-1){const d=n(u.data);throw new Error("Circular chain found: "+a+" must be before "+d+" due to a direct order specification, but "+d+" must be before "+a+" based on other specifications.")}s(u,l.slice())}),e.unshift(i.data)}return this._nodes.forEach(i=>s(i)),e}}class nR extends Error{constructor(e){var r;super("cyclic dependency between services"),this.message=(r=e.findCycleSlow())!=null?r:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}function $h(t){return!t||!Object.getPrototypeOf(t)?!1:Reflect.has(Object.getPrototypeOf(t).constructor,"__SyncDescriptorBrand")}class gk{constructor(e=new uv,r=!1,n){c(this,"_services");c(this,"_strict");c(this,"_parent");c(this,"_activeInstantiations",new Set);this._services=e,this._strict=r,this._parent=n,this._services.set(Po,this)}createChild(e){return new gk(e,this._strict,this)}invokeFunction(e,...r){const n=gc.traceInvocation(e);let s=!1;try{return e({get:o=>{if(s)throw _M("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(o,n);if(!a)throw new Error(`[invokeFunction] unknown service '${o}'`);return a}},...r)}finally{s=!0,n.stop()}}createInstance(e,...r){let n,s;return $h(e)?(n=gc.traceCreation(e.ctor),s=this._createInstance(e.ctor,e.staticArguments.concat(r),n)):(n=gc.traceCreation(e),s=this._createInstance(e,r,n)),n.stop(),s}_createInstance(e,r=[],n){const s=fT(e).sort((a,l)=>a.index-l.index),i=[];for(const a of s){const l=this._getOrCreateServiceInstance(a.id,n);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),i.push(l)}const o=s.length>0?s[0].index:r.length;if(r.length!==o){console.trace(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${r.length} static arguments`);const a=o-r.length;a>0?r=r.concat(new Array(a)):r=r.slice(0,o)}return new e(...r,...i)}_setServiceInstance(e,r){if($h(this._services.get(e)))this._services.set(e,r);else if(this._parent)this._parent._setServiceInstance(e,r);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const r=this._services.get(e);return!r&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):r}_getOrCreateServiceInstance(e,r){const n=this._getServiceInstanceOrDescriptor(e);return $h(n)?this._safeCreateAndCacheServiceInstance(e,n,r.branch(e,!0)):(r.branch(e,!1),n)}_safeCreateAndCacheServiceInstance(e,r,n){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,r,n)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,r,n){const s=new Bee(a=>a.id.toString());let i=0;const o=[{id:e,desc:r,_trace:n}];for(;o.length;){const a=o.pop();if(s.lookupOrInsertNode(a),i++>1e3)throw new nR(s);for(const l of fT(a.desc.ctor)){const u=this._getServiceInstanceOrDescriptor(l.id);if(u||this._throwIfStrict(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`,!0),$h(u)){const d={id:l.id,desc:u,_trace:a._trace.branch(l.id,!0)};s.insertEdge(a,d),o.push(d)}}}for(;;){const a=s.roots();if(a.length===0){if(!s.isEmpty())throw new nR(s);break}for(const{data:l}of a){const u=this._getServiceInstanceOrDescriptor(l.id);if($h(u)){const d=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,d)}s.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,r,n=[],s,i){if($h(this._services.get(e)))return this._createServiceInstance(r,n,s,i);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,r,n,s,i);throw new Error(`illegalState - creating UNKNOWN service instance ${r.name}`)}_createServiceInstance(e,r=[],n,s){if(n){const i=new r5(()=>this._createInstance(e,r,s));return new Proxy(Object.create(null),{get(o,a){if(a in o)return o[a];const l=i.value;let u=l[a];return typeof u!="function"||(u=u.bind(l),o[a]=u),u},set(o,a,l){return i.value[a]=l,!0}})}else return this._createInstance(e,r,s)}_throwIfStrict(e,r){if(r&&console.warn(e),this._strict)throw new Error(e)}get services(){const e=this;return{get(r){return e.invokeFunction(n=>n.get(r))}}}dispose(){}store(e,r){this._services.set(e,r)}}const eu=class{constructor(e,r){c(this,"_start",Date.now());c(this,"_dep",[]);this.type=e,this.name=r}static traceInvocation(e){return eu._None}static traceCreation(e){return eu._None}branch(e,r){const n=new eu(2,e.toString());return this._dep.push([e,r,n]),n}stop(){const e=Date.now()-this._start;eu._totals+=e;let r=!1;function n(i,o){const a=[],l=new Array(i+1).join("	");for(const[u,d,f]of o._dep)if(d&&f){r=!0,a.push(`${l}CREATES -> ${u}`);const g=n(i+1,f);g&&a.push(g)}else a.push(`${l}uses -> ${u}`);return a.join(`
`)}const s=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${n(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${eu._totals.toFixed(2)}ms)`];(e>2||r)&&console.log(s.join(`
`))}};let gc=eu;c(gc,"_None",new class extends eu{constructor(){super(-1,null)}stop(){}branch(){return this}}),c(gc,"_totals",0);class Nee extends Kt{constructor(r){super();c(this,"container",document.createElement("div"));c(this,"editorPart");c(this,"_dimension");c(this,"disposed",!1);c(this,"parts",new Map);c(this,"whenReadyPromise",new fd);c(this,"whenReady",this.whenReadyPromise.p);c(this,"whenRestoredPromise",new fd);c(this,"whenRestored",this.whenRestoredPromise.p);c(this,"restored",!1);this.parent=r}get dimension(){return this._dimension}isRestored(){return this.restored}initLayout(r){this.editorPart=r.get(pk)}restoreParts(){const r=[],n=[];r.push((async()=>{Id("code/willRestoreEditors"),Os(this.editorPart),await this.editorPart.whenReady,this.editorPart.restore()})()),il.settled(r).finally(()=>{this.whenReadyPromise.complete(),il.settled(n).finally(()=>{this.restored=!0,this.whenRestoredPromise.complete()})})}getPart(r){return Os(this.parts.get(r))}registerPart(r){this.parts.set(r.id,r)}dispose(){super.dispose(),this.disposed=!0}}const RF="workbench.contributions.kind";class Fee{constructor(){c(this,"instantiationService");c(this,"lifecycleService");c(this,"toBeInstantiated",new Map)}registerWorkbenchContribution(e,r=Ps.Starting){if(this.instantiationService&&this.lifecycleService&&this.lifecycleService.phase>=r)this.instantiationService.createInstance(e);else{let n=this.toBeInstantiated.get(r);n||(n=[],this.toBeInstantiated.set(r,n)),n.push(e)}}start(e){const r=this.instantiationService=e.get(Po),n=this.lifecycleService=e.get(u0);[Ps.Starting,Ps.Ready,Ps.Restored,Ps.Eventually].forEach(s=>{this.instantiateByPhase(r,n,s)})}instantiateByPhase(e,r,n){r.phase>=n?this.doInstantiateByPhase(e,n):r.when(n).then(()=>this.doInstantiateByPhase(e,n))}doInstantiateByPhase(e,r){const n=this.toBeInstantiated.get(r);if(n)if(this.toBeInstantiated.delete(r),r!==Ps.Eventually)for(const s of n)this.safeCreateInstance(e,s);else{let i=0;const o=a=>{for(;i<n.length;){const l=n[i++];if(this.safeCreateInstance(e,l),a.timeRemaining()<1){yu(o,3e3);break}}};yu(o,3e3)}}safeCreateInstance(e,r){try{e.createInstance(r)}catch(n){console.error(`Unable to instantiate workbench contribution ${r.name}.`,n)}}}Bc.add(RF,new Fee);function mk(t,e){const r=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const Iee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mee=mk(Iee);function OF(t){return!!t||t===""}function xk(t){if(ir(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=Ri(n)?Gee(n):xk(n);if(s)for(const i in s)e[i]=s[i]}return e}else{if(Ri(t))return t;if(wn(t))return t}}const Lee=/;(?![^(]*\))/g,Uee=/:(.+)/;function Gee(t){const e={};return t.split(Lee).forEach(r=>{if(r){const n=r.split(Uee);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function wv(t){let e="";if(Ri(t))e=t;else if(ir(t))for(let r=0;r<t.length;r++){const n=wv(t[r]);n&&(e+=n+" ")}else if(wn(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Hr={},Sd=[],To=()=>{},Hee=()=>!1,jee=/^on[^a-z]/,Sv=t=>jee.test(t),yk=t=>t.startsWith("onUpdate:"),Di=Object.assign,vk=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Vee=Object.prototype.hasOwnProperty,fr=(t,e)=>Vee.call(t,e),ir=Array.isArray,Lp=t=>bv(t)==="[object Map]",zee=t=>bv(t)==="[object Set]",sr=t=>typeof t=="function",Ri=t=>typeof t=="string",Ek=t=>typeof t=="symbol",wn=t=>t!==null&&typeof t=="object",BF=t=>wn(t)&&sr(t.then)&&sr(t.catch),Wee=Object.prototype.toString,bv=t=>Wee.call(t),$ee=t=>bv(t).slice(8,-1),Kee=t=>bv(t)==="[object Object]",Ak=t=>Ri(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ex=mk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kv=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Xee=/-(\w)/g,ef=kv(t=>t.replace(Xee,(e,r)=>r?r.toUpperCase():"")),Yee=/\B([A-Z])/g,Rf=kv(t=>t.replace(Yee,"-$1").toLowerCase()),NF=kv(t=>t.charAt(0).toUpperCase()+t.slice(1)),XE=kv(t=>t?`on${NF(t)}`:""),D0=(t,e)=>!Object.is(t,e),YE=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Py=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},qee=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let iR;const Qee=()=>iR||(iR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Jo;class Jee{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Jo&&(this.parent=Jo,this.index=(Jo.scopes||(Jo.scopes=[])).push(this)-1)}run(e){if(this.active){const r=Jo;try{return Jo=this,e()}finally{Jo=r}}}on(){Jo=this}off(){Jo=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.active=!1}}}function Zee(t,e=Jo){e&&e.active&&e.effects.push(t)}const wk=t=>{const e=new Set(t);return e.w=0,e.n=0,e},FF=t=>(t.w&Su)>0,IF=t=>(t.n&Su)>0,ete=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Su},tte=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const s=e[n];FF(s)&&!IF(s)?s.delete(t):e[r++]=s,s.w&=~Su,s.n&=~Su}e.length=r}},Kw=new WeakMap;let fp=0,Su=1;const Xw=30;let Ao;const Pc=Symbol(""),Yw=Symbol("");class Sk{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Zee(this,n)}run(){if(!this.active)return this.fn();let e=Ao,r=pu;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ao,Ao=this,pu=!0,Su=1<<++fp,fp<=Xw?ete(this):sR(this),this.fn()}finally{fp<=Xw&&tte(this),Su=1<<--fp,Ao=this.parent,pu=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ao===this?this.deferStop=!0:this.active&&(sR(this),this.onStop&&this.onStop(),this.active=!1)}}function sR(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let pu=!0;const MF=[];function Of(){MF.push(pu),pu=!1}function Bf(){const t=MF.pop();pu=t===void 0?!0:t}function Us(t,e,r){if(pu&&Ao){let n=Kw.get(t);n||Kw.set(t,n=new Map);let s=n.get(r);s||n.set(r,s=wk()),LF(s)}}function LF(t,e){let r=!1;fp<=Xw?IF(t)||(t.n|=Su,r=!FF(t)):r=!t.has(Ao),r&&(t.add(Ao),Ao.deps.push(t))}function _l(t,e,r,n,s,i){const o=Kw.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&ir(t))o.forEach((l,u)=>{(u==="length"||u>=n)&&a.push(l)});else switch(r!==void 0&&a.push(o.get(r)),e){case"add":ir(t)?Ak(r)&&a.push(o.get("length")):(a.push(o.get(Pc)),Lp(t)&&a.push(o.get(Yw)));break;case"delete":ir(t)||(a.push(o.get(Pc)),Lp(t)&&a.push(o.get(Yw)));break;case"set":Lp(t)&&a.push(o.get(Pc));break}if(a.length===1)a[0]&&qw(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);qw(wk(l))}}function qw(t,e){const r=ir(t)?t:[...t];for(const n of r)n.computed&&oR(n);for(const n of r)n.computed||oR(n)}function oR(t,e){(t!==Ao||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const rte=mk("__proto__,__v_isRef,__isVue"),UF=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ek)),nte=bk(),ite=bk(!1,!0),ste=bk(!0),aR=ote();function ote(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=wr(this);for(let i=0,o=this.length;i<o;i++)Us(n,"get",i+"");const s=n[e](...r);return s===-1||s===!1?n[e](...r.map(wr)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Of();const n=wr(this)[e].apply(this,r);return Bf(),n}}),t}function bk(t=!1,e=!1){return function(n,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?Ate:zF:e?VF:jF).get(n))return n;const o=ir(n);if(!t&&o&&fr(aR,s))return Reflect.get(aR,s,i);const a=Reflect.get(n,s,i);return(Ek(s)?UF.has(s):rte(s))||(t||Us(n,"get",s),e)?a:Ti(a)?o&&Ak(s)?a:a.value:wn(a)?t?WF(a):R0(a):a}}const ate=GF(),lte=GF(!0);function GF(t=!1){return function(r,n,s,i){let o=r[n];if(tf(o)&&Ti(o)&&!Ti(s))return!1;if(!t&&(!Dy(s)&&!tf(s)&&(o=wr(o),s=wr(s)),!ir(r)&&Ti(o)&&!Ti(s)))return o.value=s,!0;const a=ir(r)&&Ak(n)?Number(n)<r.length:fr(r,n),l=Reflect.set(r,n,s,i);return r===wr(i)&&(a?D0(s,o)&&_l(r,"set",n,s):_l(r,"add",n,s)),l}}function ute(t,e){const r=fr(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&_l(t,"delete",e,void 0),n}function cte(t,e){const r=Reflect.has(t,e);return(!Ek(e)||!UF.has(e))&&Us(t,"has",e),r}function hte(t){return Us(t,"iterate",ir(t)?"length":Pc),Reflect.ownKeys(t)}const HF={get:nte,set:ate,deleteProperty:ute,has:cte,ownKeys:hte},dte={get:ste,set(t,e){return!0},deleteProperty(t,e){return!0}},fte=Di({},HF,{get:ite,set:lte}),kk=t=>t,Tv=t=>Reflect.getPrototypeOf(t);function bm(t,e,r=!1,n=!1){t=t.__v_raw;const s=wr(t),i=wr(e);r||(e!==i&&Us(s,"get",e),Us(s,"get",i));const{has:o}=Tv(s),a=n?kk:r?Pk:O0;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function km(t,e=!1){const r=this.__v_raw,n=wr(r),s=wr(t);return e||(t!==s&&Us(n,"has",t),Us(n,"has",s)),t===s?r.has(t):r.has(t)||r.has(s)}function Tm(t,e=!1){return t=t.__v_raw,!e&&Us(wr(t),"iterate",Pc),Reflect.get(t,"size",t)}function lR(t){t=wr(t);const e=wr(this);return Tv(e).has.call(e,t)||(e.add(t),_l(e,"add",t,t)),this}function uR(t,e){e=wr(e);const r=wr(this),{has:n,get:s}=Tv(r);let i=n.call(r,t);i||(t=wr(t),i=n.call(r,t));const o=s.call(r,t);return r.set(t,e),i?D0(e,o)&&_l(r,"set",t,e):_l(r,"add",t,e),this}function cR(t){const e=wr(this),{has:r,get:n}=Tv(e);let s=r.call(e,t);s||(t=wr(t),s=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return s&&_l(e,"delete",t,void 0),i}function hR(){const t=wr(this),e=t.size!==0,r=t.clear();return e&&_l(t,"clear",void 0,void 0),r}function Cm(t,e){return function(n,s){const i=this,o=i.__v_raw,a=wr(o),l=e?kk:t?Pk:O0;return!t&&Us(a,"iterate",Pc),o.forEach((u,d)=>n.call(s,l(u),l(d),i))}}function Pm(t,e,r){return function(...n){const s=this.__v_raw,i=wr(s),o=Lp(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...n),d=r?kk:e?Pk:O0;return!e&&Us(i,"iterate",l?Yw:Pc),{next(){const{value:f,done:g}=u.next();return g?{value:f,done:g}:{value:a?[d(f[0]),d(f[1])]:d(f),done:g}},[Symbol.iterator](){return this}}}}function Xl(t){return function(...e){return t==="delete"?!1:this}}function _te(){const t={get(i){return bm(this,i)},get size(){return Tm(this)},has:km,add:lR,set:uR,delete:cR,clear:hR,forEach:Cm(!1,!1)},e={get(i){return bm(this,i,!1,!0)},get size(){return Tm(this)},has:km,add:lR,set:uR,delete:cR,clear:hR,forEach:Cm(!1,!0)},r={get(i){return bm(this,i,!0)},get size(){return Tm(this,!0)},has(i){return km.call(this,i,!0)},add:Xl("add"),set:Xl("set"),delete:Xl("delete"),clear:Xl("clear"),forEach:Cm(!0,!1)},n={get(i){return bm(this,i,!0,!0)},get size(){return Tm(this,!0)},has(i){return km.call(this,i,!0)},add:Xl("add"),set:Xl("set"),delete:Xl("delete"),clear:Xl("clear"),forEach:Cm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Pm(i,!1,!1),r[i]=Pm(i,!0,!1),e[i]=Pm(i,!1,!0),n[i]=Pm(i,!0,!0)}),[t,r,e,n]}const[pte,gte,mte,xte]=_te();function Tk(t,e){const r=e?t?xte:mte:t?gte:pte;return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(fr(r,s)&&s in n?r:n,s,i)}const yte={get:Tk(!1,!1)},vte={get:Tk(!1,!0)},Ete={get:Tk(!0,!1)},jF=new WeakMap,VF=new WeakMap,zF=new WeakMap,Ate=new WeakMap;function wte(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ste(t){return t.__v_skip||!Object.isExtensible(t)?0:wte($ee(t))}function R0(t){return tf(t)?t:Ck(t,!1,HF,yte,jF)}function bte(t){return Ck(t,!1,fte,vte,VF)}function WF(t){return Ck(t,!0,dte,Ete,zF)}function Ck(t,e,r,n,s){if(!wn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Ste(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function bd(t){return tf(t)?bd(t.__v_raw):!!(t&&t.__v_isReactive)}function tf(t){return!!(t&&t.__v_isReadonly)}function Dy(t){return!!(t&&t.__v_isShallow)}function $F(t){return bd(t)||tf(t)}function wr(t){const e=t&&t.__v_raw;return e?wr(e):t}function KF(t){return Py(t,"__v_skip",!0),t}const O0=t=>wn(t)?R0(t):t,Pk=t=>wn(t)?WF(t):t;function XF(t){pu&&Ao&&(t=wr(t),LF(t.dep||(t.dep=wk())))}function YF(t,e){t=wr(t),t.dep&&qw(t.dep)}function Ti(t){return!!(t&&t.__v_isRef===!0)}function kte(t){return Tte(t,!1)}function Tte(t,e){return Ti(t)?t:new Cte(t,e)}class Cte{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:wr(e),this._value=r?e:O0(e)}get value(){return XF(this),this._value}set value(e){const r=this.__v_isShallow||Dy(e)||tf(e);e=r?e:wr(e),D0(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:O0(e),YF(this))}}function ws(t){return Ti(t)?t.value:t}const Pte={get:(t,e,r)=>ws(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Ti(s)&&!Ti(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function qF(t){return bd(t)?t:new Proxy(t,Pte)}var QF;class Dte{constructor(e,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[QF]=!1,this._dirty=!0,this.effect=new Sk(e,()=>{this._dirty||(this._dirty=!0,YF(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=wr(this);return XF(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}QF="__v_isReadonly";function Rte(t,e,r=!1){let n,s;const i=sr(t);return i?(n=t,s=To):(n=t.get,s=t.set),new Dte(n,s,i||!s,r)}function gu(t,e,r,n){let s;try{s=n?t(...n):t()}catch(i){Cv(i,e,r)}return s}function ao(t,e,r,n){if(sr(t)){const i=gu(t,e,r,n);return i&&BF(i)&&i.catch(o=>{Cv(o,e,r)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(ao(t[i],e,r,n));return s}function Cv(t,e,r,n=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=r;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){gu(l,null,10,[t,o,a]);return}}Ote(t,r,s,n)}function Ote(t,e,r,n=!0){console.error(t)}let B0=!1,Qw=!1;const bi=[];let oa=0;const kd=[];let Ka=null,oc=0;const JF=Promise.resolve();let Dk=null;function Bte(t){const e=Dk||JF;return t?e.then(this?t.bind(this):t):e}function Nte(t){let e=oa+1,r=bi.length;for(;e<r;){const n=e+r>>>1;N0(bi[n])<t?e=n+1:r=n}return e}function Rk(t){(!bi.length||!bi.includes(t,B0&&t.allowRecurse?oa+1:oa))&&(t.id==null?bi.push(t):bi.splice(Nte(t.id),0,t),ZF())}function ZF(){!B0&&!Qw&&(Qw=!0,Dk=JF.then(tI))}function Fte(t){const e=bi.indexOf(t);e>oa&&bi.splice(e,1)}function Ite(t){ir(t)?kd.push(...t):(!Ka||!Ka.includes(t,t.allowRecurse?oc+1:oc))&&kd.push(t),ZF()}function dR(t,e=B0?oa+1:0){for(;e<bi.length;e++){const r=bi[e];r&&r.pre&&(bi.splice(e,1),e--,r())}}function eI(t){if(kd.length){const e=[...new Set(kd)];if(kd.length=0,Ka){Ka.push(...e);return}for(Ka=e,Ka.sort((r,n)=>N0(r)-N0(n)),oc=0;oc<Ka.length;oc++)Ka[oc]();Ka=null,oc=0}}const N0=t=>t.id==null?1/0:t.id,Mte=(t,e)=>{const r=N0(t)-N0(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function tI(t){Qw=!1,B0=!0,bi.sort(Mte);const e=To;try{for(oa=0;oa<bi.length;oa++){const r=bi[oa];r&&r.active!==!1&&gu(r,null,14)}}finally{oa=0,bi.length=0,eI(),B0=!1,Dk=null,(bi.length||kd.length)&&tI()}}function Lte(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Hr;let s=r;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:g}=n[d]||Hr;g&&(s=r.map(x=>x.trim())),f&&(s=r.map(qee))}let a,l=n[a=XE(e)]||n[a=XE(ef(e))];!l&&i&&(l=n[a=XE(Rf(e))]),l&&ao(l,t,6,s);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ao(u,t,6,s)}}function rI(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!sr(t)){const l=u=>{const d=rI(u,e,!0);d&&(a=!0,Di(o,d))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(wn(t)&&n.set(t,null),null):(ir(i)?i.forEach(l=>o[l]=null):Di(o,i),wn(t)&&n.set(t,o),o)}function Pv(t,e){return!t||!Sv(e)?!1:(e=e.slice(2).replace(/Once$/,""),fr(t,e[0].toLowerCase()+e.slice(1))||fr(t,Rf(e))||fr(t,e))}let cs=null,Dv=null;function Ry(t){const e=cs;return cs=t,Dv=t&&t.type.__scopeId||null,e}function Ok(t){Dv=t}function Bk(){Dv=null}function Ch(t,e=cs,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&AR(-1);const i=Ry(e),o=t(...s);return Ry(i),n._d&&AR(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function qE(t){const{type:e,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:d,renderCache:f,data:g,setupState:x,ctx:E,inheritAttrs:D}=t;let A,R;const P=Ry(t);try{if(r.shapeFlag&4){const F=s||n;A=ea(d.call(F,F,f,i,x,g,E)),R=l}else{const F=e;A=ea(F.length>1?F(i,{attrs:l,slots:a,emit:u}):F(i,null)),R=e.props?l:Ute(l)}}catch(F){Hp.length=0,Cv(F,t,1),A=ti(ga)}let O=A;if(R&&D!==!1){const F=Object.keys(R),{shapeFlag:U}=O;F.length&&U&7&&(o&&F.some(yk)&&(R=Gte(R,o)),O=bu(O,R))}return r.dirs&&(O=bu(O),O.dirs=O.dirs?O.dirs.concat(r.dirs):r.dirs),r.transition&&(O.transition=r.transition),A=O,Ry(P),A}const Ute=t=>{let e;for(const r in t)(r==="class"||r==="style"||Sv(r))&&((e||(e={}))[r]=t[r]);return e},Gte=(t,e)=>{const r={};for(const n in t)(!yk(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Hte(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?fR(n,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const g=d[f];if(o[g]!==n[g]&&!Pv(u,g))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?fR(n,o,u):!0:!!o;return!1}function fR(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!Pv(r,i))return!0}return!1}function jte({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Vte=t=>t.__isSuspense;function zte(t,e){e&&e.pendingBranch?ir(t)?e.effects.push(...t):e.effects.push(t):Ite(t)}function Wte(t,e){if(ri){let r=ri.provides;const n=ri.parent&&ri.parent.provides;n===r&&(r=ri.provides=Object.create(n)),r[t]=e}}function Up(t,e,r=!1){const n=ri||cs;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&sr(e)?e.call(n.proxy):e}}const _R={};function QE(t,e,r){return nI(t,e,r)}function nI(t,e,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=Hr){const a=ri;let l,u=!1,d=!1;if(Ti(t)?(l=()=>t.value,u=Dy(t)):bd(t)?(l=()=>t,n=!0):ir(t)?(d=!0,u=t.some(R=>bd(R)||Dy(R)),l=()=>t.map(R=>{if(Ti(R))return R.value;if(bd(R))return nd(R);if(sr(R))return gu(R,a,2)})):sr(t)?e?l=()=>gu(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),ao(t,a,3,[g])}:l=To,e&&n){const R=l;l=()=>nd(R())}let f,g=R=>{f=A.onStop=()=>{gu(R,a,4)}};if(I0)return g=To,e?r&&ao(e,a,3,[l(),d?[]:void 0,g]):l(),To;let x=d?[]:_R;const E=()=>{if(!!A.active)if(e){const R=A.run();(n||u||(d?R.some((P,O)=>D0(P,x[O])):D0(R,x)))&&(f&&f(),ao(e,a,3,[R,x===_R?void 0:x,g]),x=R)}else A.run()};E.allowRecurse=!!e;let D;s==="sync"?D=E:s==="post"?D=()=>as(E,a&&a.suspense):(E.pre=!0,a&&(E.id=a.uid),D=()=>Rk(E));const A=new Sk(l,D);return e?r?E():x=A.run():s==="post"?as(A.run.bind(A),a&&a.suspense):A.run(),()=>{A.stop(),a&&a.scope&&vk(a.scope.effects,A)}}function $te(t,e,r){const n=this.proxy,s=Ri(t)?t.includes(".")?iI(n,t):()=>n[t]:t.bind(n,n);let i;sr(e)?i=e:(i=e.handler,r=e);const o=ri;rf(this);const a=nI(s,i.bind(n),r);return o?rf(o):Dc(),a}function iI(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function nd(t,e){if(!wn(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ti(t))nd(t.value,e);else if(ir(t))for(let r=0;r<t.length;r++)nd(t[r],e);else if(zee(t)||Lp(t))t.forEach(r=>{nd(r,e)});else if(Kee(t))for(const r in t)nd(t[r],e);return t}function Kte(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nk(()=>{t.isMounted=!0}),lI(()=>{t.isUnmounting=!0}),t}const Ks=[Function,Array],Xte={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ks,onEnter:Ks,onAfterEnter:Ks,onEnterCancelled:Ks,onBeforeLeave:Ks,onLeave:Ks,onAfterLeave:Ks,onLeaveCancelled:Ks,onBeforeAppear:Ks,onAppear:Ks,onAfterAppear:Ks,onAppearCancelled:Ks},setup(t,{slots:e}){const r=Bre(),n=Kte();let s;return()=>{const i=e.default&&oI(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const D of i)if(D.type!==ga){o=D;break}}const a=wr(t),{mode:l}=a;if(n.isLeaving)return JE(o);const u=pR(o);if(!u)return JE(o);const d=Jw(u,a,n,r);Zw(u,d);const f=r.subTree,g=f&&pR(f);let x=!1;const{getTransitionKey:E}=u.type;if(E){const D=E();s===void 0?s=D:D!==s&&(s=D,x=!0)}if(g&&g.type!==ga&&(!ac(u,g)||x)){const D=Jw(g,a,n,r);if(Zw(g,D),l==="out-in")return n.isLeaving=!0,D.afterLeave=()=>{n.isLeaving=!1,r.update()},JE(o);l==="in-out"&&u.type!==ga&&(D.delayLeave=(A,R,P)=>{const O=sI(n,g);O[String(g.key)]=g,A._leaveCb=()=>{R(),A._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=P})}return o}}},Yte=Xte;function sI(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Jw(t,e,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:g,onAfterLeave:x,onLeaveCancelled:E,onBeforeAppear:D,onAppear:A,onAfterAppear:R,onAppearCancelled:P}=e,O=String(t.key),F=sI(r,t),U=(T,M)=>{T&&ao(T,n,9,M)},B=(T,M)=>{const $=M[1];U(T,M),ir(T)?T.every(J=>J.length<=1)&&$():T.length<=1&&$()},N={mode:i,persisted:o,beforeEnter(T){let M=a;if(!r.isMounted)if(s)M=D||a;else return;T._leaveCb&&T._leaveCb(!0);const $=F[O];$&&ac(t,$)&&$.el._leaveCb&&$.el._leaveCb(),U(M,[T])},enter(T){let M=l,$=u,J=d;if(!r.isMounted)if(s)M=A||l,$=R||u,J=P||d;else return;let Z=!1;const re=T._enterCb=ge=>{Z||(Z=!0,ge?U(J,[T]):U($,[T]),N.delayedLeave&&N.delayedLeave(),T._enterCb=void 0)};M?B(M,[T,re]):re()},leave(T,M){const $=String(t.key);if(T._enterCb&&T._enterCb(!0),r.isUnmounting)return M();U(f,[T]);let J=!1;const Z=T._leaveCb=re=>{J||(J=!0,M(),re?U(E,[T]):U(x,[T]),T._leaveCb=void 0,F[$]===t&&delete F[$])};F[$]=t,g?B(g,[T,Z]):Z()},clone(T){return Jw(T,e,r,n)}};return N}function JE(t){if(Rv(t))return t=bu(t),t.children=null,t}function pR(t){return Rv(t)?t.children?t.children[0]:void 0:t}function Zw(t,e){t.shapeFlag&6&&t.component?Zw(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function oI(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===eo?(o.patchFlag&128&&s++,n=n.concat(oI(o.children,e,a))):(e||o.type!==ga)&&n.push(a!=null?bu(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function Na(t){return sr(t)?{setup:t,name:t.name}:t}const Gp=t=>!!t.type.__asyncLoader,Rv=t=>t.type.__isKeepAlive;function qte(t,e){aI(t,"a",e)}function Qte(t,e){aI(t,"da",e)}function aI(t,e,r=ri){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Ov(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Rv(s.parent.vnode)&&Jte(n,e,r,s),s=s.parent}}function Jte(t,e,r,n){const s=Ov(e,t,n,!0);uI(()=>{vk(n[e],s)},r)}function Ov(t,e,r=ri,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;Of(),rf(r);const a=ao(e,r,t,o);return Dc(),Bf(),a});return n?s.unshift(i):s.push(i),i}}const bl=t=>(e,r=ri)=>(!I0||t==="sp")&&Ov(t,e,r),Zte=bl("bm"),Nk=bl("m"),ere=bl("bu"),tre=bl("u"),lI=bl("bum"),uI=bl("um"),rre=bl("sp"),nre=bl("rtg"),ire=bl("rtc");function sre(t,e=ri){Ov("ec",t,e)}function qu(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Of(),ao(l,r,8,[t.el,a,t,e]),Bf())}}const ore=Symbol();function are(t,e,r={},n,s){if(cs.isCE||cs.parent&&Gp(cs.parent)&&cs.parent.isCE)return ti("slot",e==="default"?null:{name:e},n&&n());let i=t[e];i&&i._c&&(i._d=!1),Mo();const o=i&&cI(i(r)),a=Ph(eo,{key:r.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function cI(t){return t.some(e=>vI(e)?!(e.type===ga||e.type===eo&&!cI(e.children)):!0)?t:null}const eS=t=>t?AI(t)?Uk(t)||t.proxy:eS(t.parent):null,Oy=Di(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>eS(t.parent),$root:t=>eS(t.root),$emit:t=>t.emit,$options:t=>Fk(t),$forceUpdate:t=>t.f||(t.f=()=>Rk(t.update)),$nextTick:t=>t.n||(t.n=Bte.bind(t.proxy)),$watch:t=>$te.bind(t)}),lre={get({_:t},e){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const x=o[e];if(x!==void 0)switch(x){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(n!==Hr&&fr(n,e))return o[e]=1,n[e];if(s!==Hr&&fr(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&fr(u,e))return o[e]=3,i[e];if(r!==Hr&&fr(r,e))return o[e]=4,r[e];tS&&(o[e]=0)}}const d=Oy[e];let f,g;if(d)return e==="$attrs"&&Us(t,"get",e),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Hr&&fr(r,e))return o[e]=4,r[e];if(g=l.config.globalProperties,fr(g,e))return g[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return s!==Hr&&fr(s,e)?(s[e]=r,!0):n!==Hr&&fr(n,e)?(n[e]=r,!0):fr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==Hr&&fr(t,o)||e!==Hr&&fr(e,o)||(a=i[0])&&fr(a,o)||fr(n,o)||fr(Oy,o)||fr(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:fr(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let tS=!0;function ure(t){const e=Fk(t),r=t.proxy,n=t.ctx;tS=!1,e.beforeCreate&&gR(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:g,beforeUpdate:x,updated:E,activated:D,deactivated:A,beforeDestroy:R,beforeUnmount:P,destroyed:O,unmounted:F,render:U,renderTracked:B,renderTriggered:N,errorCaptured:T,serverPrefetch:M,expose:$,inheritAttrs:J,components:Z,directives:re,filters:ge}=e;if(u&&cre(u,n,null,t.appContext.config.unwrapInjectedRef),o)for(const ze in o){const Le=o[ze];sr(Le)&&(n[ze]=Le.bind(r))}if(s){const ze=s.call(r,r);wn(ze)&&(t.data=R0(ze))}if(tS=!0,i)for(const ze in i){const Le=i[ze],it=sr(Le)?Le.bind(r,r):sr(Le.get)?Le.get.bind(r,r):To,_t=!sr(Le)&&sr(Le.set)?Le.set.bind(r):To,st=Ure({get:it,set:_t});Object.defineProperty(n,ze,{enumerable:!0,configurable:!0,get:()=>st.value,set:Rt=>st.value=Rt})}if(a)for(const ze in a)hI(a[ze],n,r,ze);if(l){const ze=sr(l)?l.call(r):l;Reflect.ownKeys(ze).forEach(Le=>{Wte(Le,ze[Le])})}d&&gR(d,t,"c");function Ze(ze,Le){ir(Le)?Le.forEach(it=>ze(it.bind(r))):Le&&ze(Le.bind(r))}if(Ze(Zte,f),Ze(Nk,g),Ze(ere,x),Ze(tre,E),Ze(qte,D),Ze(Qte,A),Ze(sre,T),Ze(ire,B),Ze(nre,N),Ze(lI,P),Ze(uI,F),Ze(rre,M),ir($))if($.length){const ze=t.exposed||(t.exposed={});$.forEach(Le=>{Object.defineProperty(ze,Le,{get:()=>r[Le],set:it=>r[Le]=it})})}else t.exposed||(t.exposed={});U&&t.render===To&&(t.render=U),J!=null&&(t.inheritAttrs=J),Z&&(t.components=Z),re&&(t.directives=re)}function cre(t,e,r=To,n=!1){ir(t)&&(t=rS(t));for(const s in t){const i=t[s];let o;wn(i)?"default"in i?o=Up(i.from||s,i.default,!0):o=Up(i.from||s):o=Up(i),Ti(o)&&n?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[s]=o}}function gR(t,e,r){ao(ir(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function hI(t,e,r,n){const s=n.includes(".")?iI(r,n):()=>r[n];if(Ri(t)){const i=e[t];sr(i)&&QE(s,i)}else if(sr(t))QE(s,t.bind(r));else if(wn(t))if(ir(t))t.forEach(i=>hI(i,e,r,n));else{const i=sr(t.handler)?t.handler.bind(r):e[t.handler];sr(i)&&QE(s,i,t)}}function Fk(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(u=>By(l,u,o,!0)),By(l,e,o)),wn(e)&&i.set(e,l),l}function By(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&By(t,i,r,!0),s&&s.forEach(o=>By(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=hre[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const hre={data:mR,props:nc,emits:nc,methods:nc,computed:nc,beforeCreate:Hi,created:Hi,beforeMount:Hi,mounted:Hi,beforeUpdate:Hi,updated:Hi,beforeDestroy:Hi,beforeUnmount:Hi,destroyed:Hi,unmounted:Hi,activated:Hi,deactivated:Hi,errorCaptured:Hi,serverPrefetch:Hi,components:nc,directives:nc,watch:fre,provide:mR,inject:dre};function mR(t,e){return e?t?function(){return Di(sr(t)?t.call(this,this):t,sr(e)?e.call(this,this):e)}:e:t}function dre(t,e){return nc(rS(t),rS(e))}function rS(t){if(ir(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Hi(t,e){return t?[...new Set([].concat(t,e))]:e}function nc(t,e){return t?Di(Di(Object.create(null),t),e):e}function fre(t,e){if(!t)return e;if(!e)return t;const r=Di(Object.create(null),t);for(const n in e)r[n]=Hi(t[n],e[n]);return r}function _re(t,e,r,n=!1){const s={},i={};Py(i,Nv,1),t.propsDefaults=Object.create(null),dI(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:bte(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function pre(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=wr(s),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let g=d[f];if(Pv(t.emitsOptions,g))continue;const x=e[g];if(l)if(fr(i,g))x!==i[g]&&(i[g]=x,u=!0);else{const E=ef(g);s[E]=nS(l,a,E,x,t,!1)}else x!==i[g]&&(i[g]=x,u=!0)}}}else{dI(t,e,s,i)&&(u=!0);let d;for(const f in a)(!e||!fr(e,f)&&((d=Rf(f))===f||!fr(e,d)))&&(l?r&&(r[f]!==void 0||r[d]!==void 0)&&(s[f]=nS(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!fr(e,f)&&!0)&&(delete i[f],u=!0)}u&&_l(t,"set","$attrs")}function dI(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ex(l))continue;const u=e[l];let d;s&&fr(s,d=ef(l))?!i||!i.includes(d)?r[d]=u:(a||(a={}))[d]=u:Pv(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=wr(r),u=a||Hr;for(let d=0;d<i.length;d++){const f=i[d];r[f]=nS(s,l,f,u[f],t,!fr(u,f))}}return o}function nS(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=fr(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&sr(l)){const{propsDefaults:u}=s;r in u?n=u[r]:(rf(s),n=u[r]=l.call(null,e),Dc())}else n=l}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Rf(r))&&(n=!0))}return n}function fI(t,e,r=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!sr(t)){const d=f=>{l=!0;const[g,x]=fI(f,e,!0);Di(o,g),x&&a.push(...x)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!l)return wn(t)&&n.set(t,Sd),Sd;if(ir(i))for(let d=0;d<i.length;d++){const f=ef(i[d]);xR(f)&&(o[f]=Hr)}else if(i)for(const d in i){const f=ef(d);if(xR(f)){const g=i[d],x=o[f]=ir(g)||sr(g)?{type:g}:g;if(x){const E=ER(Boolean,x.type),D=ER(String,x.type);x[0]=E>-1,x[1]=D<0||E<D,(E>-1||fr(x,"default"))&&a.push(f)}}}const u=[o,a];return wn(t)&&n.set(t,u),u}function xR(t){return t[0]!=="$"}function yR(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function vR(t,e){return yR(t)===yR(e)}function ER(t,e){return ir(e)?e.findIndex(r=>vR(r,t)):sr(e)&&vR(e,t)?0:-1}const _I=t=>t[0]==="_"||t==="$stable",Ik=t=>ir(t)?t.map(ea):[ea(t)],gre=(t,e,r)=>{if(e._n)return e;const n=Ch((...s)=>Ik(e(...s)),r);return n._c=!1,n},pI=(t,e,r)=>{const n=t._ctx;for(const s in t){if(_I(s))continue;const i=t[s];if(sr(i))e[s]=gre(s,i,n);else if(i!=null){const o=Ik(i);e[s]=()=>o}}},gI=(t,e)=>{const r=Ik(e);t.slots.default=()=>r},mre=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=wr(e),Py(e,"_",r)):pI(e,t.slots={})}else t.slots={},e&&gI(t,e);Py(t.slots,Nv,1)},xre=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=Hr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:(Di(s,e),!r&&a===1&&delete s._):(i=!e.$stable,pI(e,s)),o=e}else e&&(gI(t,e),o={default:1});if(i)for(const a in s)!_I(a)&&!(a in o)&&delete s[a]};function mI(){return{app:null,config:{isNativeTag:Hee,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yre=0;function vre(t,e){return function(n,s=null){sr(n)||(n=Object.assign({},n)),s!=null&&!wn(s)&&(s=null);const i=mI(),o=new Set;let a=!1;const l=i.app={_uid:yre++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Gre,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&sr(u.install)?(o.add(u),u.install(l,...d)):sr(u)&&(o.add(u),u(l,...d))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,d){return d?(i.components[u]=d,l):i.components[u]},directive(u,d){return d?(i.directives[u]=d,l):i.directives[u]},mount(u,d,f){if(!a){const g=ti(n,s);return g.appContext=i,d&&e?e(g,u):t(g,u,f),a=!0,l._container=u,u.__vue_app__=l,Uk(g.component)||g.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return i.provides[u]=d,l}};return l}}function iS(t,e,r,n,s=!1){if(ir(t)){t.forEach((g,x)=>iS(g,e&&(ir(e)?e[x]:e),r,n,s));return}if(Gp(n)&&!s)return;const i=n.shapeFlag&4?Uk(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,d=a.refs===Hr?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Ri(u)?(d[u]=null,fr(f,u)&&(f[u]=null)):Ti(u)&&(u.value=null)),sr(l))gu(l,a,12,[o,d]);else{const g=Ri(l),x=Ti(l);if(g||x){const E=()=>{if(t.f){const D=g?d[l]:l.value;s?ir(D)&&vk(D,i):ir(D)?D.includes(i)||D.push(i):g?(d[l]=[i],fr(f,l)&&(f[l]=d[l])):(l.value=[i],t.k&&(d[t.k]=l.value))}else g?(d[l]=o,fr(f,l)&&(f[l]=o)):x&&(l.value=o,t.k&&(d[t.k]=o))};o?(E.id=-1,as(E,r)):E()}}}const as=zte;function Ere(t){return Are(t)}function Are(t,e){const r=Qee();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:g,setScopeId:x=To,cloneNode:E,insertStaticContent:D}=t,A=(I,j,W,ne=null,fe=null,Ee=null,le=!1,ue=null,be=!!j.dynamicChildren)=>{if(I===j)return;I&&!ac(I,j)&&(ne=_e(I),te(I,fe,Ee,!0),I=null),j.patchFlag===-2&&(be=!1,j.dynamicChildren=null);const{type:Re,ref:Qe,shapeFlag:Xe}=j;switch(Re){case Mk:R(I,j,W,ne);break;case ga:P(I,j,W,ne);break;case ZE:I==null&&O(j,W,ne,le);break;case eo:re(I,j,W,ne,fe,Ee,le,ue,be);break;default:Xe&1?B(I,j,W,ne,fe,Ee,le,ue,be):Xe&6?ge(I,j,W,ne,fe,Ee,le,ue,be):(Xe&64||Xe&128)&&Re.process(I,j,W,ne,fe,Ee,le,ue,be,Ve)}Qe!=null&&fe&&iS(Qe,I&&I.ref,Ee,j||I,!j)},R=(I,j,W,ne)=>{if(I==null)n(j.el=a(j.children),W,ne);else{const fe=j.el=I.el;j.children!==I.children&&u(fe,j.children)}},P=(I,j,W,ne)=>{I==null?n(j.el=l(j.children||""),W,ne):j.el=I.el},O=(I,j,W,ne)=>{[I.el,I.anchor]=D(I.children,j,W,ne,I.el,I.anchor)},F=({el:I,anchor:j},W,ne)=>{let fe;for(;I&&I!==j;)fe=g(I),n(I,W,ne),I=fe;n(j,W,ne)},U=({el:I,anchor:j})=>{let W;for(;I&&I!==j;)W=g(I),s(I),I=W;s(j)},B=(I,j,W,ne,fe,Ee,le,ue,be)=>{le=le||j.type==="svg",I==null?N(j,W,ne,fe,Ee,le,ue,be):$(I,j,fe,Ee,le,ue,be)},N=(I,j,W,ne,fe,Ee,le,ue)=>{let be,Re;const{type:Qe,props:Xe,shapeFlag:et,transition:Ye,patchFlag:nt,dirs:mt}=I;if(I.el&&E!==void 0&&nt===-1)be=I.el=E(I.el);else{if(be=I.el=o(I.type,Ee,Xe&&Xe.is,Xe),et&8?d(be,I.children):et&16&&M(I.children,be,null,ne,fe,Ee&&Qe!=="foreignObject",le,ue),mt&&qu(I,null,ne,"created"),Xe){for(const bt in Xe)bt!=="value"&&!Ex(bt)&&i(be,bt,null,Xe[bt],Ee,I.children,ne,fe,Se);"value"in Xe&&i(be,"value",null,Xe.value),(Re=Xe.onVnodeBeforeMount)&&qo(Re,ne,I)}T(be,I,I.scopeId,le,ne)}mt&&qu(I,null,ne,"beforeMount");const ot=(!fe||fe&&!fe.pendingBranch)&&Ye&&!Ye.persisted;ot&&Ye.beforeEnter(be),n(be,j,W),((Re=Xe&&Xe.onVnodeMounted)||ot||mt)&&as(()=>{Re&&qo(Re,ne,I),ot&&Ye.enter(be),mt&&qu(I,null,ne,"mounted")},fe)},T=(I,j,W,ne,fe)=>{if(W&&x(I,W),ne)for(let Ee=0;Ee<ne.length;Ee++)x(I,ne[Ee]);if(fe){let Ee=fe.subTree;if(j===Ee){const le=fe.vnode;T(I,le,le.scopeId,le.slotScopeIds,fe.parent)}}},M=(I,j,W,ne,fe,Ee,le,ue,be=0)=>{for(let Re=be;Re<I.length;Re++){const Qe=I[Re]=ue?Jl(I[Re]):ea(I[Re]);A(null,Qe,j,W,ne,fe,Ee,le,ue)}},$=(I,j,W,ne,fe,Ee,le)=>{const ue=j.el=I.el;let{patchFlag:be,dynamicChildren:Re,dirs:Qe}=j;be|=I.patchFlag&16;const Xe=I.props||Hr,et=j.props||Hr;let Ye;W&&Qu(W,!1),(Ye=et.onVnodeBeforeUpdate)&&qo(Ye,W,j,I),Qe&&qu(j,I,W,"beforeUpdate"),W&&Qu(W,!0);const nt=fe&&j.type!=="foreignObject";if(Re?J(I.dynamicChildren,Re,ue,W,ne,nt,Ee):le||it(I,j,ue,null,W,ne,nt,Ee,!1),be>0){if(be&16)Z(ue,j,Xe,et,W,ne,fe);else if(be&2&&Xe.class!==et.class&&i(ue,"class",null,et.class,fe),be&4&&i(ue,"style",Xe.style,et.style,fe),be&8){const mt=j.dynamicProps;for(let ot=0;ot<mt.length;ot++){const bt=mt[ot],Lt=Xe[bt],Ft=et[bt];(Ft!==Lt||bt==="value")&&i(ue,bt,Lt,Ft,fe,I.children,W,ne,Se)}}be&1&&I.children!==j.children&&d(ue,j.children)}else!le&&Re==null&&Z(ue,j,Xe,et,W,ne,fe);((Ye=et.onVnodeUpdated)||Qe)&&as(()=>{Ye&&qo(Ye,W,j,I),Qe&&qu(j,I,W,"updated")},ne)},J=(I,j,W,ne,fe,Ee,le)=>{for(let ue=0;ue<j.length;ue++){const be=I[ue],Re=j[ue],Qe=be.el&&(be.type===eo||!ac(be,Re)||be.shapeFlag&70)?f(be.el):W;A(be,Re,Qe,null,ne,fe,Ee,le,!0)}},Z=(I,j,W,ne,fe,Ee,le)=>{if(W!==ne){for(const ue in ne){if(Ex(ue))continue;const be=ne[ue],Re=W[ue];be!==Re&&ue!=="value"&&i(I,ue,Re,be,le,j.children,fe,Ee,Se)}if(W!==Hr)for(const ue in W)!Ex(ue)&&!(ue in ne)&&i(I,ue,W[ue],null,le,j.children,fe,Ee,Se);"value"in ne&&i(I,"value",W.value,ne.value)}},re=(I,j,W,ne,fe,Ee,le,ue,be)=>{const Re=j.el=I?I.el:a(""),Qe=j.anchor=I?I.anchor:a("");let{patchFlag:Xe,dynamicChildren:et,slotScopeIds:Ye}=j;Ye&&(ue=ue?ue.concat(Ye):Ye),I==null?(n(Re,W,ne),n(Qe,W,ne),M(j.children,W,Qe,fe,Ee,le,ue,be)):Xe>0&&Xe&64&&et&&I.dynamicChildren?(J(I.dynamicChildren,et,W,fe,Ee,le,ue),(j.key!=null||fe&&j===fe.subTree)&&xI(I,j,!0)):it(I,j,W,Qe,fe,Ee,le,ue,be)},ge=(I,j,W,ne,fe,Ee,le,ue,be)=>{j.slotScopeIds=ue,I==null?j.shapeFlag&512?fe.ctx.activate(j,W,ne,le,be):Fe(j,W,ne,fe,Ee,le,be):Ze(I,j,be)},Fe=(I,j,W,ne,fe,Ee,le)=>{const ue=I.component=Ore(I,ne,fe);if(Rv(I)&&(ue.ctx.renderer=Ve),Nre(ue),ue.asyncDep){if(fe&&fe.registerDep(ue,ze),!I.el){const be=ue.subTree=ti(ga);P(null,be,j,W)}return}ze(ue,I,j,W,fe,Ee,le)},Ze=(I,j,W)=>{const ne=j.component=I.component;if(Hte(I,j,W))if(ne.asyncDep&&!ne.asyncResolved){Le(ne,j,W);return}else ne.next=j,Fte(ne.update),ne.update();else j.el=I.el,ne.vnode=j},ze=(I,j,W,ne,fe,Ee,le)=>{const ue=()=>{if(I.isMounted){let{next:Qe,bu:Xe,u:et,parent:Ye,vnode:nt}=I,mt=Qe,ot;Qu(I,!1),Qe?(Qe.el=nt.el,Le(I,Qe,le)):Qe=nt,Xe&&YE(Xe),(ot=Qe.props&&Qe.props.onVnodeBeforeUpdate)&&qo(ot,Ye,Qe,nt),Qu(I,!0);const bt=qE(I),Lt=I.subTree;I.subTree=bt,A(Lt,bt,f(Lt.el),_e(Lt),I,fe,Ee),Qe.el=bt.el,mt===null&&jte(I,bt.el),et&&as(et,fe),(ot=Qe.props&&Qe.props.onVnodeUpdated)&&as(()=>qo(ot,Ye,Qe,nt),fe)}else{let Qe;const{el:Xe,props:et}=j,{bm:Ye,m:nt,parent:mt}=I,ot=Gp(j);if(Qu(I,!1),Ye&&YE(Ye),!ot&&(Qe=et&&et.onVnodeBeforeMount)&&qo(Qe,mt,j),Qu(I,!0),Xe&&He){const bt=()=>{I.subTree=qE(I),He(Xe,I.subTree,I,fe,null)};ot?j.type.__asyncLoader().then(()=>!I.isUnmounted&&bt()):bt()}else{const bt=I.subTree=qE(I);A(null,bt,W,ne,I,fe,Ee),j.el=bt.el}if(nt&&as(nt,fe),!ot&&(Qe=et&&et.onVnodeMounted)){const bt=j;as(()=>qo(Qe,mt,bt),fe)}(j.shapeFlag&256||mt&&Gp(mt.vnode)&&mt.vnode.shapeFlag&256)&&I.a&&as(I.a,fe),I.isMounted=!0,j=W=ne=null}},be=I.effect=new Sk(ue,()=>Rk(Re),I.scope),Re=I.update=()=>be.run();Re.id=I.uid,Qu(I,!0),Re()},Le=(I,j,W)=>{j.component=I;const ne=I.vnode.props;I.vnode=j,I.next=null,pre(I,j.props,ne,W),xre(I,j.children,W),Of(),dR(),Bf()},it=(I,j,W,ne,fe,Ee,le,ue,be=!1)=>{const Re=I&&I.children,Qe=I?I.shapeFlag:0,Xe=j.children,{patchFlag:et,shapeFlag:Ye}=j;if(et>0){if(et&128){st(Re,Xe,W,ne,fe,Ee,le,ue,be);return}else if(et&256){_t(Re,Xe,W,ne,fe,Ee,le,ue,be);return}}Ye&8?(Qe&16&&Se(Re,fe,Ee),Xe!==Re&&d(W,Xe)):Qe&16?Ye&16?st(Re,Xe,W,ne,fe,Ee,le,ue,be):Se(Re,fe,Ee,!0):(Qe&8&&d(W,""),Ye&16&&M(Xe,W,ne,fe,Ee,le,ue,be))},_t=(I,j,W,ne,fe,Ee,le,ue,be)=>{I=I||Sd,j=j||Sd;const Re=I.length,Qe=j.length,Xe=Math.min(Re,Qe);let et;for(et=0;et<Xe;et++){const Ye=j[et]=be?Jl(j[et]):ea(j[et]);A(I[et],Ye,W,null,fe,Ee,le,ue,be)}Re>Qe?Se(I,fe,Ee,!0,!1,Xe):M(j,W,ne,fe,Ee,le,ue,be,Xe)},st=(I,j,W,ne,fe,Ee,le,ue,be)=>{let Re=0;const Qe=j.length;let Xe=I.length-1,et=Qe-1;for(;Re<=Xe&&Re<=et;){const Ye=I[Re],nt=j[Re]=be?Jl(j[Re]):ea(j[Re]);if(ac(Ye,nt))A(Ye,nt,W,null,fe,Ee,le,ue,be);else break;Re++}for(;Re<=Xe&&Re<=et;){const Ye=I[Xe],nt=j[et]=be?Jl(j[et]):ea(j[et]);if(ac(Ye,nt))A(Ye,nt,W,null,fe,Ee,le,ue,be);else break;Xe--,et--}if(Re>Xe){if(Re<=et){const Ye=et+1,nt=Ye<Qe?j[Ye].el:ne;for(;Re<=et;)A(null,j[Re]=be?Jl(j[Re]):ea(j[Re]),W,nt,fe,Ee,le,ue,be),Re++}}else if(Re>et)for(;Re<=Xe;)te(I[Re],fe,Ee,!0),Re++;else{const Ye=Re,nt=Re,mt=new Map;for(Re=nt;Re<=et;Re++){const vt=j[Re]=be?Jl(j[Re]):ea(j[Re]);vt.key!=null&&mt.set(vt.key,Re)}let ot,bt=0;const Lt=et-nt+1;let Ft=!1,Vt=0;const Me=new Array(Lt);for(Re=0;Re<Lt;Re++)Me[Re]=0;for(Re=Ye;Re<=Xe;Re++){const vt=I[Re];if(bt>=Lt){te(vt,fe,Ee,!0);continue}let St;if(vt.key!=null)St=mt.get(vt.key);else for(ot=nt;ot<=et;ot++)if(Me[ot-nt]===0&&ac(vt,j[ot])){St=ot;break}St===void 0?te(vt,fe,Ee,!0):(Me[St-nt]=Re+1,St>=Vt?Vt=St:Ft=!0,A(vt,j[St],W,null,fe,Ee,le,ue,be),bt++)}const yt=Ft?wre(Me):Sd;for(ot=yt.length-1,Re=Lt-1;Re>=0;Re--){const vt=nt+Re,St=j[vt],$t=vt+1<Qe?j[vt+1].el:ne;Me[Re]===0?A(null,St,W,$t,fe,Ee,le,ue,be):Ft&&(ot<0||Re!==yt[ot]?Rt(St,W,$t,2):ot--)}}},Rt=(I,j,W,ne,fe=null)=>{const{el:Ee,type:le,transition:ue,children:be,shapeFlag:Re}=I;if(Re&6){Rt(I.component.subTree,j,W,ne);return}if(Re&128){I.suspense.move(j,W,ne);return}if(Re&64){le.move(I,j,W,Ve);return}if(le===eo){n(Ee,j,W);for(let Xe=0;Xe<be.length;Xe++)Rt(be[Xe],j,W,ne);n(I.anchor,j,W);return}if(le===ZE){F(I,j,W);return}if(ne!==2&&Re&1&&ue)if(ne===0)ue.beforeEnter(Ee),n(Ee,j,W),as(()=>ue.enter(Ee),fe);else{const{leave:Xe,delayLeave:et,afterLeave:Ye}=ue,nt=()=>n(Ee,j,W),mt=()=>{Xe(Ee,()=>{nt(),Ye&&Ye()})};et?et(Ee,nt,mt):mt()}else n(Ee,j,W)},te=(I,j,W,ne=!1,fe=!1)=>{const{type:Ee,props:le,ref:ue,children:be,dynamicChildren:Re,shapeFlag:Qe,patchFlag:Xe,dirs:et}=I;if(ue!=null&&iS(ue,null,W,I,!0),Qe&256){j.ctx.deactivate(I);return}const Ye=Qe&1&&et,nt=!Gp(I);let mt;if(nt&&(mt=le&&le.onVnodeBeforeUnmount)&&qo(mt,j,I),Qe&6)we(I.component,W,ne);else{if(Qe&128){I.suspense.unmount(W,ne);return}Ye&&qu(I,null,j,"beforeUnmount"),Qe&64?I.type.remove(I,j,W,fe,Ve,ne):Re&&(Ee!==eo||Xe>0&&Xe&64)?Se(Re,j,W,!1,!0):(Ee===eo&&Xe&384||!fe&&Qe&16)&&Se(be,j,W),ne&&oe(I)}(nt&&(mt=le&&le.onVnodeUnmounted)||Ye)&&as(()=>{mt&&qo(mt,j,I),Ye&&qu(I,null,j,"unmounted")},W)},oe=I=>{const{type:j,el:W,anchor:ne,transition:fe}=I;if(j===eo){ae(W,ne);return}if(j===ZE){U(I);return}const Ee=()=>{s(W),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(I.shapeFlag&1&&fe&&!fe.persisted){const{leave:le,delayLeave:ue}=fe,be=()=>le(W,Ee);ue?ue(I.el,Ee,be):be()}else Ee()},ae=(I,j)=>{let W;for(;I!==j;)W=g(I),s(I),I=W;s(j)},we=(I,j,W)=>{const{bum:ne,scope:fe,update:Ee,subTree:le,um:ue}=I;ne&&YE(ne),fe.stop(),Ee&&(Ee.active=!1,te(le,I,j,W)),ue&&as(ue,j),as(()=>{I.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Se=(I,j,W,ne=!1,fe=!1,Ee=0)=>{for(let le=Ee;le<I.length;le++)te(I[le],j,W,ne,fe)},_e=I=>I.shapeFlag&6?_e(I.component.subTree):I.shapeFlag&128?I.suspense.next():g(I.anchor||I.el),De=(I,j,W)=>{I==null?j._vnode&&te(j._vnode,null,null,!0):A(j._vnode||null,I,j,null,null,null,W),dR(),eI(),j._vnode=I},Ve={p:A,um:te,m:Rt,r:oe,mt:Fe,mc:M,pc:it,pbc:J,n:_e,o:t};let ee,He;return e&&([ee,He]=e(Ve)),{render:De,hydrate:ee,createApp:vre(De,ee)}}function Qu({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function xI(t,e,r=!1){const n=t.children,s=e.children;if(ir(n)&&ir(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Jl(s[i]),a.el=o.el),r||xI(o,a))}}function wre(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(s=r[r.length-1],t[s]<u){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<u?i=a+1:o=a;u<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}const Sre=t=>t.__isTeleport,eo=Symbol(void 0),Mk=Symbol(void 0),ga=Symbol(void 0),ZE=Symbol(void 0),Hp=[];let bo=null;function Mo(t=!1){Hp.push(bo=t?null:[])}function bre(){Hp.pop(),bo=Hp[Hp.length-1]||null}let F0=1;function AR(t){F0+=t}function yI(t){return t.dynamicChildren=F0>0?bo||Sd:null,bre(),F0>0&&bo&&bo.push(t),t}function Bv(t,e,r,n,s,i){return yI(an(t,e,r,n,s,i,!0))}function Ph(t,e,r,n,s){return yI(ti(t,e,r,n,s,!0))}function vI(t){return t?t.__v_isVNode===!0:!1}function ac(t,e){return t.type===e.type&&t.key===e.key}const Nv="__vInternal",EI=({key:t})=>t!=null?t:null,Ax=({ref:t,ref_key:e,ref_for:r})=>t!=null?Ri(t)||Ti(t)||sr(t)?{i:cs,r:t,k:e,f:!!r}:t:null;function an(t,e=null,r=null,n=0,s=null,i=t===eo?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&EI(e),ref:e&&Ax(e),scopeId:Dv,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Lk(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=Ri(r)?8:16),F0>0&&!o&&bo&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&bo.push(l),l}const ti=kre;function kre(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===ore)&&(t=ga),vI(t)){const a=bu(t,e,!0);return r&&Lk(a,r),F0>0&&!i&&bo&&(a.shapeFlag&6?bo[bo.indexOf(t)]=a:bo.push(a)),a.patchFlag|=-2,a}if(Lre(t)&&(t=t.__vccOpts),e){e=Tre(e);let{class:a,style:l}=e;a&&!Ri(a)&&(e.class=wv(a)),wn(l)&&($F(l)&&!ir(l)&&(l=Di({},l)),e.style=xk(l))}const o=Ri(t)?1:Vte(t)?128:Sre(t)?64:wn(t)?4:sr(t)?2:0;return an(t,e,r,n,s,o,i,!0)}function Tre(t){return t?$F(t)||Nv in t?Di({},t):t:null}function bu(t,e,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=t,a=e?Pre(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&EI(a),ref:e&&e.ref?r&&s?ir(s)?s.concat(Ax(e)):[s,Ax(e)]:Ax(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==eo?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bu(t.ssContent),ssFallback:t.ssFallback&&bu(t.ssFallback),el:t.el,anchor:t.anchor}}function Cre(t=" ",e=0){return ti(Mk,null,t,e)}function ea(t){return t==null||typeof t=="boolean"?ti(ga):ir(t)?ti(eo,null,t.slice()):typeof t=="object"?Jl(t):ti(Mk,null,String(t))}function Jl(t){return t.el===null||t.memo?t:bu(t)}function Lk(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ir(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Lk(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(Nv in e)?e._ctx=cs:s===3&&cs&&(cs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else sr(e)?(e={default:e,_ctx:cs},r=32):(e=String(e),n&64?(r=16,e=[Cre(e)]):r=8);t.children=e,t.shapeFlag|=r}function Pre(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=wv([e.class,n.class]));else if(s==="style")e.style=xk([e.style,n.style]);else if(Sv(s)){const i=e[s],o=n[s];o&&i!==o&&!(ir(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function qo(t,e,r,n=null){ao(t,e,7,[r,n])}const Dre=mI();let Rre=0;function Ore(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||Dre,i={uid:Rre++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fI(n,s),emitsOptions:rI(n,s),emit:null,emitted:null,propsDefaults:Hr,inheritAttrs:n.inheritAttrs,ctx:Hr,data:Hr,props:Hr,attrs:Hr,slots:Hr,refs:Hr,setupState:Hr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Lte.bind(null,i),t.ce&&t.ce(i),i}let ri=null;const Bre=()=>ri||cs,rf=t=>{ri=t,t.scope.on()},Dc=()=>{ri&&ri.scope.off(),ri=null};function AI(t){return t.vnode.shapeFlag&4}let I0=!1;function Nre(t,e=!1){I0=e;const{props:r,children:n}=t.vnode,s=AI(t);_re(t,r,s,e),mre(t,n);const i=s?Fre(t,e):void 0;return I0=!1,i}function Fre(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=KF(new Proxy(t.ctx,lre));const{setup:n}=r;if(n){const s=t.setupContext=n.length>1?Mre(t):null;rf(t),Of();const i=gu(n,t,0,[t.props,s]);if(Bf(),Dc(),BF(i)){if(i.then(Dc,Dc),e)return i.then(o=>{wR(t,o,e)}).catch(o=>{Cv(o,t,0)});t.asyncDep=i}else wR(t,i,e)}else wI(t,e)}function wR(t,e,r){sr(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:wn(e)&&(t.setupState=qF(e)),wI(t,r)}let SR;function wI(t,e,r){const n=t.type;if(!t.render){if(!e&&SR&&!n.render){const s=n.template||Fk(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,u=Di(Di({isCustomElement:i,delimiters:a},o),l);n.render=SR(s,u)}}t.render=n.render||To}rf(t),Of(),ure(t),Bf(),Dc()}function Ire(t){return new Proxy(t.attrs,{get(e,r){return Us(t,"get","$attrs"),e[r]}})}function Mre(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=Ire(t))},slots:t.slots,emit:t.emit,expose:e}}function Uk(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(qF(KF(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Oy)return Oy[r](t)}}))}function Lre(t){return sr(t)&&"__vccOpts"in t}const Ure=(t,e)=>Rte(t,e,I0),Gre="3.2.39",Hre="http://www.w3.org/2000/svg",lc=typeof document<"u"?document:null,bR=lc&&lc.createElement("template"),jre={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e?lc.createElementNS(Hre,t):lc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>lc.createTextNode(t),createComment:t=>lc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>lc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{bR.innerHTML=n?`<svg>${t}</svg>`:t;const a=bR.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function Vre(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function zre(t,e,r){const n=t.style,s=Ri(r);if(r&&!s){for(const i in r)sS(n,i,r[i]);if(e&&!Ri(e))for(const i in e)r[i]==null&&sS(n,i,"")}else{const i=n.display;s?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=i)}}const kR=/\s*!important$/;function sS(t,e,r){if(ir(r))r.forEach(n=>sS(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Wre(t,e);kR.test(r)?t.setProperty(Rf(n),r.replace(kR,""),"important"):t[n]=r}}const TR=["Webkit","Moz","ms"],eA={};function Wre(t,e){const r=eA[e];if(r)return r;let n=ef(e);if(n!=="filter"&&n in t)return eA[e]=n;n=NF(n);for(let s=0;s<TR.length;s++){const i=TR[s]+n;if(i in t)return eA[e]=i}return e}const CR="http://www.w3.org/1999/xlink";function $re(t,e,r,n,s){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(CR,e.slice(6,e.length)):t.setAttributeNS(CR,e,r);else{const i=Mee(e);r==null||i&&!OF(r)?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}function Kre(t,e,r,n,s,i,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,s,i),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const l=r==null?"":r;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),r==null&&t.removeAttribute(e);return}let a=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=OF(r):r==null&&l==="string"?(r="",a=!0):l==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(e)}const[SI,Xre]=(()=>{let t=Date.now,e=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(r&&Number(r[1])<=53)}return[t,e]})();let oS=0;const Yre=Promise.resolve(),qre=()=>{oS=0},Qre=()=>oS||(Yre.then(qre),oS=SI());function Jre(t,e,r,n){t.addEventListener(e,r,n)}function Zre(t,e,r,n){t.removeEventListener(e,r,n)}function ene(t,e,r,n,s=null){const i=t._vei||(t._vei={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=tne(e);if(n){const u=i[e]=rne(n,s);Jre(t,a,u,l)}else o&&(Zre(t,a,o,l),i[e]=void 0)}}const PR=/(?:Once|Passive|Capture)$/;function tne(t){let e;if(PR.test(t)){e={};let n;for(;n=t.match(PR);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rf(t.slice(2)),e]}function rne(t,e){const r=n=>{const s=n.timeStamp||SI();(Xre||s>=r.attached-1)&&ao(nne(n,r.value),e,5,[n])};return r.value=t,r.attached=Qre(),r}function nne(t,e){if(ir(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const DR=/^on[a-z]/,ine=(t,e,r,n,s=!1,i,o,a,l)=>{e==="class"?Vre(t,n,s):e==="style"?zre(t,r,n):Sv(e)?yk(e)||ene(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sne(t,e,n,s))?Kre(t,e,n,i,o,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),$re(t,e,n,s))};function sne(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&DR.test(e)&&sr(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||DR.test(e)&&Ri(r)?!1:e in t}const one={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Yte.props;const ane=Di({patchProp:ine},jre);let RR;function lne(){return RR||(RR=Ere(ane))}const une=(...t)=>{const e=lne().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=cne(n);if(!s)return;const i=e._component;!sr(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function cne(t){return Ri(t)?document.querySelector(t):t}const Gk={instantiationService:"instantiationService"},hne=Na({__name:"index",setup(t){const e=kte();return Nk(()=>{const r=Up(Gk.instantiationService);r||gt(),r.invokeFunction(n=>{const s=n.get(pk);s.create(Os(e.value)),s.whenRestored.then(()=>{document.querySelector(".loader-container").remove()})})}),(r,n)=>(Mo(),Bv("div",{ref_key:"container",ref:e,class:"editor"},null,512))}});const dne=["disabled"],Nf=Na({__name:"IconButton",props:{onClick:null,isActive:{type:Boolean},disabled:{type:Boolean}},setup(t){return(e,r)=>(Mo(),Bv("button",{class:wv({button_active:t.isActive,button:!0}),onClick:r[0]||(r[0]=(...n)=>t.onClick&&t.onClick(...n)),disabled:t.disabled},[are(e.$slots,"default")],10,dne))}});const fne=an("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none"},[an("path",{stroke:"currentColor","stroke-linejoin":"round","stroke-width":"2",d:"m17.072 28.713 4.245-1.935-4.415-9.701 8.037-.355L7.123 1.287v23.55l5.525-5.826 4.424 9.702Z"})],-1),_ne=Na({__name:"SelectionButton",props:{isActive:{type:Boolean},onClick:null},setup(t){return(e,r)=>(Mo(),Ph(Nf,{isActive:t.isActive,onClick:t.onClick},{default:Ch(()=>[fne]),_:1},8,["isActive","onClick"]))}}),pne=an("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none"},[an("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.636 16.022c-.19-.723-.38-1.618-.78-2.95-.757-2.49-2.075-4.8-2.723-7.326-.425-1.81 1.12-3.643 3.046-2.969 2.949 1.036 3.868 6.109 4.283 8.678l.152.856c-.203-3.707-.469-6.126 0-9.172.463-2.89 4.888-2.825 5.254.038.189 2.079.19 4.154.19 6.242 0 .437 0 3.082.038 2.797.114-1.256.171-6.07.647-7.498 1.04-3.19 4.893-2.028 5.083.876.157 2.1-.062 4.29-.114 6.394 0 .076-.02.57.038.342.574-1.786.076-6.736 3.187-6.119 1.027.204 2.931 1.59 1.542 6.289-1.96 6.631-4.5 9.498-4.5 16.5h-14c0-5-6.61-8.82-8.5-12.598-.418-.799-.626-1.807-.36-2.53.438-1.123 1.254-1.713 2.568-1.58 2.142.206 3.008 2.032 4.949 3.73Z"})],-1),gne=Na({__name:"PanButton",props:{isActive:{type:Boolean},onClick:null},setup(t){return(e,r)=>(Mo(),Ph(Nf,{isActive:t.isActive,onClick:t.onClick},{default:Ch(()=>[pne]),_:1},8,["isActive","onClick"]))}}),mne=an("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[an("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})],-1),xne=Na({__name:"PencilButton",props:{isActive:{type:Boolean},onClick:null},setup(t){return(e,r)=>(Mo(),Ph(Nf,{isActive:t.isActive,onClick:t.onClick},{default:Ch(()=>[mne]),_:1},8,["isActive","onClick"]))}}),yne=an("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[an("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"})],-1),vne=Na({__name:"TextButton",props:{isActive:{type:Boolean},onClick:null},setup(t){return(e,r)=>(Mo(),Ph(Nf,{isActive:t.isActive,onClick:t.onClick},{default:Ch(()=>[yne]),_:1},8,["isActive","onClick"]))}}),Ene=t=>(Ok("data-v-a96802fc"),t=t(),Bk(),t),Ane=Ene(()=>an("svg",{class:"svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[an("path",{d:"M15 16H21C22.654 16 24 17.346 24 19C24 20.654 22.654 22 21 22H18V24H21C23.757 24 26 21.757 26 19C26 16.243 23.757 14 21 14H15V11L10 15L15 19V16Z",fill:"#888888"})],-1)),wne=Na({__name:"UndoButton",props:{onClick:null,disabled:{type:Boolean}},setup(t){return(e,r)=>(Mo(),Ph(Nf,{onClick:t.onClick,disabled:t.disabled},{default:Ch(()=>[Ane]),_:1},8,["onClick","disabled"]))}});const Hk=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},Sne=Hk(wne,[["__scopeId","data-v-a96802fc"]]),bne=t=>(Ok("data-v-50b57855"),t=t(),Bk(),t),kne=bne(()=>an("svg",{class:"svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[an("g",{clipPath:"url(#clip0_18:85)"},[an("path",{d:"M15 24H18V22H15C13.346 22 12 20.654 12 19C12 17.346 13.346 16 15 16H21V19L26 15L21 11V14H15C12.243 14 10 16.243 10 19C10 21.757 12.243 24 15 24Z",fill:"#888888"})]),an("defs",null,[an("clipPath",{id:"clip0_18:85"},[an("rect",{width:"36",height:"36",fill:"white"})])])],-1)),Tne=Na({__name:"RedoButton",props:{onClick:null,disabled:{type:Boolean}},setup(t){return(e,r)=>(Mo(),Ph(Nf,{onClick:t.onClick,disabled:t.disabled},{default:Ch(()=>[kne]),_:1},8,["onClick","disabled"]))}});const Cne=Hk(Tne,[["__scopeId","data-v-50b57855"]]),Pne=t=>(Ok("data-v-ff99de38"),t=t(),Bk(),t),Dne={class:"tools_panel_container"},Rne={class:"tools_panel"},One={class:"tools_panel_section"},Bne=Pne(()=>an("div",{class:"seperator"},null,-1)),Nne={class:"tools_panel_section"},Fne=Na({__name:"index",setup(t){const e=Up(Gk.instantiationService),r=e.invokeFunction(u=>u.get(ku)),n=e.invokeFunction(u=>u.get(oh)),s=R0({[wd]:!1,[Ed]:!1,[Ad]:!1,[vv]:!1,[Av]:!1,[Ev]:!1,[wc]:!1}),i=Object.create(null);Object.keys(s).forEach(u=>{i[u]=()=>{r.switchTool(u)}}),r.onDidChangeTool(u=>{const{prev:d,next:f}=u;f&&(s[f.id]=!0),d&&(s[d.id]=!1)});const o=R0({canUndo:!1,canRedo:!1}),a=()=>{var u;(u=n.getActiveCanvas())==null||u.undo()},l=()=>{var u;(u=n.getActiveCanvas())==null||u.redo()};return n.onDidActiveCanvasChange(u=>{u.onDidChangeModelContent(d=>{o.canUndo=u.canUndo(),o.canRedo=u.canRedo()})}),(u,d)=>(Mo(),Bv("div",Dne,[an("div",Rne,[an("div",One,[ti(_ne,{"is-active":s[ws(wd)],"on-click":ws(i)[ws(wd)]},null,8,["is-active","on-click"]),ti(gne,{"is-active":s[ws(Ed)],"on-click":ws(i)[ws(Ed)]},null,8,["is-active","on-click"]),ti(xne,{"is-active":s[ws(Ad)],"on-click":ws(i)[ws(Ad)]},null,8,["is-active","on-click"]),ti(vne,{"is-active":s[ws(wc)],"on-click":ws(i)[ws(wc)]},null,8,["is-active","on-click"])]),Bne,an("div",Nne,[ti(Sne,{onClick:a,disabled:!o.canUndo},null,8,["disabled"]),ti(Cne,{onClick:l,disabled:!o.canRedo},null,8,["disabled"])])])]))}});const Ine=Hk(Fne,[["__scopeId","data-v-ff99de38"]]),Mne=Na({__name:"index",setup(t){return(e,r)=>(Mo(),Bv("div",null,[ti(hne),ti(Ine)]))}});class Lne extends Nee{constructor(r,n,s,i){super(r);c(this,"_onWillShutdown",this._register(new Mt));c(this,"onWillShutdown",this._onWillShutdown.event);c(this,"_onDidShutdown",this._register(new Mt));c(this,"onDidShutdown",this._onDidShutdown.event);this.options=n,this.serviceCollection=s}startup(){try{mM(175);const r=this.initServices(this.serviceCollection);return r.invokeFunction(n=>{const s=n.get(u0);this.initLayout(n),Bc.as(RF).start(n),this.renderWorkbench(r),this.restore(s),s.phase=Ps.Ready}),r}catch(r){throw Nx(r),r}}initServices(r){r.set(CF,this);const n=wM();for(const[i,o]of n)r.set(i,o);return new gk(r)}renderWorkbench(r){this.parent.appendChild(this.container);const n=une(Mne);n.provide(Gk.instantiationService,r),n.mount(this.container),this._register(zn(()=>n.unmount()))}restore(r){try{this.restoreParts()}catch(n){Nx(n)}this.whenReady.finally(()=>Promise.race([this.whenRestored]).finally(()=>{r.phase=Ps.Restored,this._register(new Yx(()=>{this._register(yu(()=>r.phase=Ps.Eventually,2500))},2500)).schedule();function s(){Id("code/didStartWorkbench"),performance.measure("perf: workbench create & restore","code/didLoadWorkbenchMain","code/didStartWorkbench")}this.isRestored()?s():this.whenRestored.finally(()=>s())}))}}function OR(t,e){switch(e){case Ds.Trace:return t.trace;case Ds.Debug:return t.debug;case Ds.Info:return t.info;case Ds.Warning:return t.warn;case Ds.Error:return t.error;case Ds.Critical:return t.critical;default:throw new Error("Invalid log level")}}class Une extends e5{constructor(r=LS){super();c(this,"buffer",[]);c(this,"_logger");this.setLevel(r),this._register(this.onDidChangeLogLevel(n=>{this._logger&&this._logger.setLevel(n)}))}set logger(r){this._logger=r;for(const{level:n,args:s}of this.buffer)OR(r,n).apply(r,s);this.buffer=[]}_log(r,...n){this._logger?OR(this._logger,r).apply(this._logger,n):this.getLevel()<=r&&this.buffer.push({level:r,args:n})}trace(r,...n){this._log(Ds.Trace,r,...n)}debug(r,...n){this._log(Ds.Debug,r,...n)}info(r,...n){this._log(Ds.Info,r,...n)}warn(r,...n){this._log(Ds.Warning,r,...n)}error(r,...n){this._log(Ds.Error,r,...n)}critical(r,...n){this._log(Ds.Critical,r,...n)}dispose(){this._logger&&this._logger.dispose()}flush(){this._logger&&this._logger.flush()}}class BR extends Error{constructor(e){super("Missing stores"),this.db=e}}class uc{constructor(e,r){c(this,"database",null);c(this,"pendingTransactions",[]);this.name=r,this.database=e}static async create(e,r,n){const s=await uc.openDatabase(e,r,n);return new uc(s,e)}static async openDatabase(e,r,n){Id(`code/willOpenDatabase/${e}`);try{return await uc.doOpenDatabase(e,r,n)}catch(s){if(s instanceof BR){console.info("Attempting to recreate the IndexedDB once.",e);try{await uc.deleteDatabase(s.db)}catch(i){throw console.error("Error while deleting the IndexedDB",pM(i)),i}return await uc.doOpenDatabase(e,r,n)}throw s}finally{Id(`code/didOpenDatabase/${e}`)}}static doOpenDatabase(e,r,n){return new Promise((s,i)=>{const o=window.indexedDB.open(e,r);o.onerror=()=>i(o.error),o.onsuccess=()=>{const a=o.result;for(const l of n)if(!a.objectStoreNames.contains(l)){console.error(`Error while opening IndexedDB. Could not find '${l}'' object store`),i(new BR(a));return}s(a)},o.onupgradeneeded=()=>{const a=o.result;for(const l of n)a.objectStoreNames.contains(l)||a.createObjectStore(l)}})}static deleteDatabase(e){return new Promise((r,n)=>{e.close();const s=window.indexedDB.deleteDatabase(e.name);s.onerror=i=>n(s.error),s.onsuccess=()=>r()})}hasPendingTransactions(){return this.pendingTransactions.length>0}close(){this.pendingTransactions.length&&this.pendingTransactions.splice(0,this.pendingTransactions.length).forEach(e=>e.abort()),this.database&&this.database.close(),this.database=null}async runInTransaction(e,r,n){if(!this.database)throw new Error(`IndexedDB database '${this.name}' is not opened.`);const s=this.database.transaction(e,r);return this.pendingTransactions.push(s),new Promise((i,o)=>{s.oncomplete=()=>{CI(a)?i(a.map(l=>l.result)):i(a.result)},s.onerror=()=>o(s.error);const a=n(s.objectStore(e))}).finally(()=>this.pendingTransactions.splice(this.pendingTransactions.indexOf(s),1))}async getKeyValues(e,r){if(!this.database)throw new Error(`IndexedDB database '${this.name}' is not opened.`);const n=this.database.transaction(e,"readonly");return this.pendingTransactions.push(n),new Promise(s=>{const i=new Map,a=n.objectStore(e).openCursor();if(!a)return s(i);a.onsuccess=()=>{a.result?(r(a.result.value)&&i.set(a.result.key.toString(),a.result.value),a.result.continue()):s(i)};const l=u=>{console.error(`IndexedDB getKeyValues(): ${Kx(u,!0)}`),s(i)};a.onerror=()=>l(a.error),n.onerror=()=>l(n.error)}).finally(()=>this.pendingTransactions.splice(this.pendingTransactions.indexOf(n),1))}}var Gne=Object.defineProperty,Hne=Object.getOwnPropertyDescriptor,jne=(t,e,r,n)=>{for(var s=n>1?void 0:n?Hne(e,r):e,i=t.length-1,o;i>=0;i--)(o=t[i])&&(s=(n?o(e,r,s):o(s))||s);return n&&s&&Gne(e,r,s),s},Vne=(t,e)=>(r,n)=>e(r,n,t),nA;let Ny=(nA=class extends Wm{constructor(e,r){super({flushInterval:Ny.BROWSER_DEFAULT_FLUSH_INTERVAL});c(this,"globalStorage");c(this,"workspaceStorage");c(this,"globalStorageDatabase");c(this,"workspaceStorageDatabase");this.payload=e,this.logService=r}get hasPendingUpdate(){var e,r;return Boolean(((e=this.globalStorageDatabase)==null?void 0:e.hasPendingUpdate)||((r=this.workspaceStorageDatabase)==null?void 0:r.hasPendingUpdate))}getId(e){return e===Js.GLOBAL?"global":this.payload.id}async doInitialize(){const[e,r]=await il.settled([cc.create({id:this.getId(Js.WORKSPACE)},this.logService),cc.create({id:this.getId(Js.GLOBAL),broadcastChanges:!0},this.logService)]);this.workspaceStorageDatabase=this._register(e),this.workspaceStorage=this._register(new Sp(this.workspaceStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(i=>this.emitDidChangeValue(Js.WORKSPACE,i))),this.globalStorageDatabase=this._register(r),this.globalStorage=this._register(new Sp(this.globalStorageDatabase)),this._register(this.globalStorage.onDidChangeStorage(i=>this.emitDidChangeValue(Js.GLOBAL,i))),await il.settled([this.workspaceStorage.init(),this.globalStorage.init()]);const n=this.globalStorage.getBoolean(Zu);n===void 0?this.globalStorage.set(Zu,!0):n&&this.globalStorage.set(Zu,!1);const s=this.workspaceStorage.getBoolean(Zu);s===void 0?this.workspaceStorage.set(Zu,!0):s&&this.workspaceStorage.set(Zu,!1)}getStorage(e){return e===Js.GLOBAL?this.globalStorage:this.workspaceStorage}getLogDetails(e){return this.getId(e)}async migrate(e){throw new Error("Migrating storage is currently unsupported in Web")}shouldFlushWhenIdle(){return document.hasFocus()&&!this.hasPendingUpdate}close(){var e,r;Hb&&((e=this.globalStorageDatabase)==null||e.close(),(r=this.workspaceStorageDatabase)==null||r.close()),this.dispose()}async clear(){var e,r,n,s,i;for(const o of[Js.GLOBAL,Js.WORKSPACE]){for(const a of[qx.USER,qx.MACHINE])for(const l of this.keys(o,a))this.remove(l,o);await((e=this.getStorage(o))==null?void 0:e.whenFlushed())}await il.settled([(n=(r=this.globalStorageDatabase)==null?void 0:r.clear())!=null?n:Promise.resolve(),(i=(s=this.workspaceStorageDatabase)==null?void 0:s.clear())!=null?i:Promise.resolve()])}},c(nA,"BROWSER_DEFAULT_FLUSH_INTERVAL",5*1e3),nA);Ny=jne([Vne(1,$0)],Ny);class zne extends c5{constructor(){super(...arguments);c(this,"hasPendingUpdate",!1)}async clear(){(await this.getItems()).clear()}dispose(){}}const Xa=class extends Kt{constructor(r,n){super();c(this,"_onDidChangeItemsExternal",this._register(new Mt));c(this,"onDidChangeItemsExternal",this._onDidChangeItemsExternal.event);c(this,"broadcastChannel");c(this,"pendingUpdate");c(this,"name");c(this,"whenConnected");this.logService=n,this.name=`${Xa.STORAGE_DATABASE_PREFIX}${r.id}`,this.broadcastChannel=r.broadcastChanges&&"BroadcastChannel"in window?new BroadcastChannel(Xa.STORAGE_BROADCAST_CHANNEL):void 0,this.whenConnected=this.connect(),this.registerListeners()}static async create(r,n){try{const s=new Xa(r,n);return await s.whenConnected,s}catch(s){return n.error(`[IndexedDB Storage ${r.id}] create(): ${Kx(s,!0)}`),new zne}}get hasPendingUpdate(){return!!this.pendingUpdate}registerListeners(){if(this.broadcastChannel){const r=n=>{u5(n.data)&&this._onDidChangeItemsExternal.fire(n.data)};this.broadcastChannel.addEventListener("message",r),this._register(zn(()=>{var n,s;(n=this.broadcastChannel)==null||n.removeEventListener("message",r),(s=this.broadcastChannel)==null||s.close()}))}}async connect(){try{return await uc.create(this.name,void 0,[Xa.STORAGE_OBJECT_STORE])}catch(r){throw this.logService.error(`[IndexedDB Storage ${this.name}] connect() error: ${Kx(r)}`),r}}async getItems(){const r=await this.whenConnected;function n(s){return typeof s=="string"}return r.getKeyValues(Xa.STORAGE_OBJECT_STORE,n)}async updateItems(r){let n=!1;this.pendingUpdate=this.doUpdateItems(r);try{n=await this.pendingUpdate}finally{this.pendingUpdate=void 0}if(this.broadcastChannel&&n){const s={changed:r.insert,deleted:r.delete};this.broadcastChannel.postMessage(s)}}async doUpdateItems(r){const n=r.insert,s=r.delete;return!n&&!s||(n==null?void 0:n.size)===0&&(s==null?void 0:s.size)===0?!1:(await(await this.whenConnected).runInTransaction(Xa.STORAGE_OBJECT_STORE,"readwrite",o=>{const a=[];if(n)for(const[l,u]of n)a.push(o.put(u,l));if(s)for(const l of s)a.push(o.delete(l));return a}),!0)}async close(){const r=await this.whenConnected;return await this.pendingUpdate,r.close()}async clear(){await(await this.whenConnected).runInTransaction(Xa.STORAGE_OBJECT_STORE,"readwrite",n=>n.clear())}};let cc=Xa;c(cc,"STORAGE_DATABASE_PREFIX","vscode-web-state-db-"),c(cc,"STORAGE_OBJECT_STORE","ItemTable"),c(cc,"STORAGE_BROADCAST_CHANNEL","vscode.web.state.changes");class Rc{constructor(e={},r=[],n=[]){c(this,"isFrozen",!1);this._contents=e,this._keys=r,this._overrides=n}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?sC(this.contents,e):this.contents}getOverrideValue(e,r){const n=this.getContentsForOverrideIdentifer(r);return n?e?sC(n,e):n:void 0}getKeysForOverrideIdentifier(e){for(const r of this.overrides)if(r.identifiers.indexOf(e)!==-1)return r.keys;return[]}override(e){const r=this.getContentsForOverrideIdentifer(e);if(!r||typeof r!="object"||!Object.keys(r).length)return this;const n={};for(const s of RI([...Object.keys(this.contents),...Object.keys(r)])){let i=this.contents[s];const o=r[s];o&&(typeof i=="object"&&typeof o=="object"?(i=to(i),this.mergeContents(i,o)):i=o),n[s]=i}return new Rc(n,this.keys,this.overrides)}merge(...e){const r=to(this.contents),n=to(this.overrides),s=[...this.keys];for(const i of e){this.mergeContents(r,i.contents);for(const o of i.overrides){const[a]=n.filter(l=>lS(l.identifiers,o.identifiers));a?this.mergeContents(a.contents,o.contents):n.push(to(o))}for(const o of i.keys)s.indexOf(o)===-1&&s.push(o)}return new Rc(r,s,n)}freeze(){return this.isFrozen=!0,this}mergeContents(e,r){for(const n of Object.keys(r)){if(n in e&&Wp(e[n])&&Wp(r[n])){this.mergeContents(e[n],r[n]);continue}e[n]=to(r[n])}}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?V4(e):e}getContentsForOverrideIdentifer(e){for(const r of this.overrides)if(r.identifiers.indexOf(e)!==-1)return r.contents;return null}setValue(e,r){this.addKey(e),FS(this.contents,e,r,n=>{throw new Error(n)})}removeValue(e){this.removeKey(e)&&N8(this.contents,e)}addKey(e){let r=this.keys.length;for(let n=0;n<r;n++)e.indexOf(this.keys[n])===0&&(r=n);this.keys.splice(r,1,e)}removeKey(e){const r=this.keys.indexOf(e);return r!==-1?(this.keys.splice(r,1),!0):!1}}class Wne{constructor(e,r=new Rc,n=new Rc,s=!0){c(this,"_workspaceConsolidatedConfiguration",null);this._defaultConfiguration=e,this._workspaceConfiguration=r,this._memoryConfiguration=n,this._freeze=s}getValue(e){return this.getConsolidateConfigurationModel().getValue(e)}updateValue(e,r){const n=this._memoryConfiguration;r===void 0?n.removeValue(e):n.setValue(e,r)}inspect(e){return{value:this.getConsolidateConfigurationModel().getValue(e)}}get defaults(){return this._defaultConfiguration}getConsolidateConfigurationModel(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys}}}static parseConfigurationModel(e){return new Rc(e.contents,e.keys,e.overrides).freeze()}}class $ne extends Rc{constructor(){const e=I8(),r=F8(),n=[];for(const s of Object.keys(e))IS.test(s)&&n.push({identifiers:[L8(s).trim()],keys:Object.keys(e[s]),contents:B8(e[s],i=>console.error(`Conflict in default settings file: ${i}`))});super(e,r,n)}}class Kne extends Kt{constructor(){super();c(this,"_onDidChangeConfiguration",this._register(new Mt));c(this,"onDidChangeConfiguration",this._onDidChangeConfiguration.event);c(this,"configuration");this.configuration=new Wne(new $ne)}getValue(r){const n=typeof r=="string"?r:void 0;return this.configuration.getValue(n)}async updateValue(r,n){const s=this.deriveConfigurationTarget(r,n);return s?this.writeConfigurationValue(r,n,s):Promise.resolve()}inspect(r){return this.configuration.inspect(r)}deriveConfigurationTarget(r,n){if(n===void 0)return;const s=this.inspect(r);if(!vp(n,s.value))return Ap.USER}writeConfigurationValue(r,n,s){if(s===Ap.DEFAULT)return Promise.reject(new Error("Invalid configuration target"));if(s===Ap.MEMORY)return this.configuration.updateValue(r,n),Promise.resolve();throw new Error("500")}}class Xne extends Kt{constructor(r,n){super();c(this,"onWillShutdownDisposables",this._register(new ua));this.domElement=r,this.configuration=n}async open(){const[r]=await Promise.all([this.initServices(),T5()]),n=new Lne(this.domElement,void 0,r.serviceCollection,r.logService);this.registerListeners(n);const s=n.startup(),i=s.invokeFunction(o=>o.get(u0));return i.when(Ps.Restored).then(()=>{i.phase=Ps.ExtensionActivated}),s.invokeFunction(o=>{const a=o.get(u0);return{shutdown:()=>a.shutdown()}})}registerListeners(r){this._register(r.onWillShutdown(()=>this.onWillShutdownDisposables.clear())),this._register(r.onDidShutdown(()=>this.dispose()))}async initServices(){const r=new uv,n=this.resolveWorkspaceInitializationPayload(),s=new Kne;r.set(XO,s);const i=new Une(LS);return r.set($0,i),await this.createStorageService(n,i).then(o=>(r.set(US,o),o)),{serviceCollection:r,logService:i}}async createStorageService(r,n){const s=new Ny(r,n);try{return await s.initialize(),this.onWillShutdownDisposables.add(zn(()=>s.close())),s}catch(i){return Nx(i),PI(i),n.error(i),s}}resolveWorkspaceInitializationPayload(){return{id:"empty-window"}}}let NR=!1;const FR=new Xx;function Yne(t,e){if(Id("code/didLoadWorkbenchMain"),NR)throw new Error("Unable to create the VSCode workbench more than once.");NR=!0;let r;return new Xne(t,e).open().then(n=>{r=n,FR.open(n)}),zn(()=>{r?r.shutdown():FR.wait().then(n=>n.shutdown())})}Yne(document.body,{});
